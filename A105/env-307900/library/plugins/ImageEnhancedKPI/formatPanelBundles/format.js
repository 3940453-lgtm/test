!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var a=t();for(var n in a)("object"==typeof exports?exports:e)[n]=a[n]}}(self,()=>(()=>{"use strict";var e={d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{mstrImageEnhancedKPI:()=>ot}),mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var a={HORIZONTAL_ALIGN_OPTIONS:["align-left","align-center","align-right"],HORIZONTAL_ALIGN_STYLE:"toggle-button-radio _3item"},n="nameSelect",o="style";mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var r,l,E={POSITION_AND_SIZE_SECTION:"positionAndSizeSection",TITLEBAR_SHOW:"title_tbShw",TITLEBAR_FONTSTYLE:"title_fontStyle",TITLEBAR_TEXT_ALIGNMENT:"title_alh",TITLEBAR_FONT_COLOR:"title_fc",TITLEBAR_BACKGROUND_COLOR:"title_bc",TITLEBAR_BACKGROUND_OPACITY:"title_fill_opacity",TITLEBAR_FONT_SIZE:"title_fsz",TITLEBAR_FONT_FAMILY:"title_ff",TITLEBAR_TITLES_SHOW:"title_titleShw",TITLEBAR_TITLE_LINES:"title_lines",TITLEBAR_TITLE_INDEX:"title_index",CONTAINER_FILL_COLOR:"containerFill",CONTAINER_BORDER_OPACITY:"container_bo",CONTAINER_BORDER_STYLE:"container_borderStyle",CONTAINER_BORDER_COLOR:"container_borderColor",CONTAINER_RADIUS:"container_radius",CONTAINER_LEFT_POSITION:"container_left",CONTAINER_TOP_POSITION:"container_top",CONTAINER_HEIGHT:"container_height",CONTAINER_WIDTH:"container_width",ENABLE_TITLE_BUTTON:"enableButton",BUTTON_RADIUS:"btnrd",BUTTON_SIZE:"btnsz",TRANSACTION_VISIBLE:"txnVisible",TRANSACTION_LABEL_TYPE:"txnLabelType",TRANSACTION_BUTTON_ALIAS:"txnButtonAlias",TRANSACTION_FONT_NAME:"txnFontName",TRANSACTION_FONT_STYLE:"txnFontStyle",TRANSACTION_FONT_COLOR:"txnFontColor",TRANSACTION_BUTTON_FILL_COLOR:"txnButtonFillColor",TRANSACTION_BUTTON_BORDER_COLOR:"txnButtonBorderColor",TRANSACTION_BUTTON_FILL_OPACITY:"txnButtonFillOpacity",TRANSACTION_BUTTON_BORDER_STYLE:"txnButtonBorderStyle",EXPORT_VISIBLE:"exportVisible",EXPORT_LABEL_TYPE:"exportLabelType",EXPORT_BUTTON_ALIAS:"exportButtonAlias",EXPORT_OPTIONS:"exportOptions",EXPORT_FONT_NAME:"exportFontName",EXPORT_FONT_STYLE:"exportFontStyle",EXPORT_FONT_COLOR:"exportFontColor",EXPORT_BUTTON_FILL_COLOR:"exportButtonFillColor",EXPORT_BUTTON_BORDER_COLOR:"exportButtonBorderColor",EXPORT_BUTTON_FILL_OPACITY:"exportButtonFillOpacity",EXPORT_BUTTON_BORDER_STYLE:"exportButtonBorderStyle",MAXIMIZE_VISIBLE:"maximizeVisible",MAXIMIZE_FONT_COLOR:"maximizeFontColor",MAXIMIZE_BUTTON_FILL_COLOR:"maximizeButtonFillColor",MAXIMIZE_BUTTON_BORDER_COLOR:"maximizeButtonBorderColor",MAXIMIZE_BUTTON_FILL_OPACITY:"maximizeButtonFillOpacity",MAXIMIZE_BUTTON_BORDER_STYLE:"maximizeButtonBorderStyle",CONTEXTMENU_VISIBLE:"contextMenuVisible",CONTEXTMENU_FONT_COLOR:"contextMenuFontColor",CONTEXTMENU_BUTTON_FILL_COLOR:"contextMenuButtonFillColor",CONTEXTMENU_BUTTON_BORDER_COLOR:"contextMenuButtonBorderColor",CONTEXTMENU_BUTTON_FILL_OPACITY:"contextMenuButtonFillOpacity",CONTEXTMENU_BUTTON_BORDER_STYLE:"contextMenuButtonBorderStyle",FONT_CONFIG:"fontConfig"},i="fontLayout",s="FontColor";mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var c=function(){return{tagName:"FontConfig",key:E.FONT_CONFIG,keyIDs:{fontName:E.TITLEBAR_FONT_FAMILY,fontStyle:E.TITLEBAR_FONTSTYLE,fontSize:E.TITLEBAR_FONT_SIZE,fontColor:E.TITLEBAR_FONT_COLOR,textAlignment:E.TITLEBAR_TEXT_ALIGNMENT},displayOptions:[n,o,"sizeAndColor","horizontalAlign"],horizontalAlignmentOptions:a.HORIZONTAL_ALIGN_OPTIONS,textAlignmentStyle:a.HORIZONTAL_ALIGN_STYLE}},_=function(){var e,t,a={tagName:"VerticalLayout",className:"container-radius-section",children:[{tagName:"Text",text:{desc:14447,name:"Radius"}},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-2vs1-stretch",children:[{tagName:"Slider",className:"new-style-slider",min:0,max:40,value:0,key:E.CONTAINER_RADIUS},{tagName:"InputNumber",className:"radius-input",format:"",min:0,max:40,value:0,showStepper:!1,key:E.CONTAINER_RADIUS}]}]};return null!==(e=mstrApp)&&void 0!==e&&null!==(t=e.supportFeature)&&void 0!==t&&t.call(e,mstrmojo.vi.enums.EnumFeatures.SUPPORT_RADIUS_AND_SPACING)?a:null},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{tagName:"FontConfig",keyIDs:{fontLayout:"".concat(e.propPrefix).concat(i),fontName:"".concat(e.propPrefix).concat("FontName"),fontStyle:"".concat(e.propPrefix).concat("FontStyle"),fontColor:"".concat(e.propPrefix).concat(s)},fontColorStyle:"horizontal-flex-space-between _2item-1vs2-stretch",displayOptions:[n,o,"color"]}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{tagName:"HorizontalLayout",key:e.buttonTitle,className:"horizontal-flex-space-between title-button-layout no-bottom-margin ".concat("txn"===e.propPrefix?"txn-button":""),children:[{tagName:"Text",text:e.buttonTitle},{tagName:"ToggleIconButton",key:"".concat(e.propPrefix).concat("Visible"),icon:"button-invisible",alterIcon:"button-visible",func:{type:"disable",targets:["".concat(e.propPrefix,"-button-popover")]}},{tagName:"ToggleIconButton",key:"".concat(e.propPrefix,"-button-popover"),icon:"format",alterIcon:"format-highlight",popoverConfig:{placement:"rightTop",overlayClassName:"action-btn-popover",overlayInnerStyle:{width:184},offsetX:6,offsetY:0,content:[{tagName:"VerticalLayout",className:"".concat(e.propPrefix,"-button-popover-content"),children:[{tagName:"Text",className:"section-header-text",text:e.popoverTitle},{tagName:"Select",className:"title-button-label-type",key:"".concat(e.propPrefix).concat("LabelType"),options:[{desc:29037,name:"Text only",value:0},{desc:9867,name:"Icon only",value:1},{desc:28927,name:"Icon and text",value:2}],funcs:[{type:"hide",targets:["".concat(e.propPrefix,"-button-alias"),"".concat(e.propPrefix).concat(i)],valueMap:e.iconOnly?function(e){return!1}:function(e){return"1"===e}},{type:"hide",targets:["".concat(e.propPrefix,"IconColorSetting")],valueMap:e.iconOnly?function(e){return!1}:function(e){return"1"!==e}}]},{tagName:"Select",className:"export-button-options",key:"".concat(e.propPrefix).concat("Options"),options:[{desc:28928,name:"All options",value:0},{desc:5212,name:"Export to PDF",value:1},{desc:5213,name:"Export to Excel",value:2},{desc:28929,name:"Export to Data",value:3}]},{tagName:"HorizontalLayout",key:"".concat(e.propPrefix,"-button-alias"),className:"horizontal-flex-space-between _2item-stretch button-alias",children:[{tagName:"Text",text:{desc:11916,name:"Alias"}},{tagName:"Input",key:"".concat(e.propPrefix).concat("ButtonAlias"),applyChangeOnFocusOut:!0}]},T(e),{tagName:"HorizontalLayout",key:"".concat(e.propPrefix,"IconColorSetting"),className:"horizontal-flex-space-between _2item-1vs2-stretch",children:[{tagName:"Text",text:{desc:7809,name:"Icon"}},{tagName:"ColorPicker",key:"".concat(e.propPrefix).concat(s)}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-1vs2-stretch",children:[{tagName:"Text",text:{desc:13601,name:"Fill"}},{tagName:"ColorPickerWithOpacity",keyIDs:{color:"".concat(e.propPrefix).concat("ButtonFillColor"),opacity:"".concat(e.propPrefix).concat("ButtonFillOpacity")},format:"%",min:0,max:100}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _3item-stretch",children:[{tagName:"Text",text:{desc:18345,name:"Border"}},{tagName:"Select",key:"".concat(e.propPrefix).concat("ButtonBorderStyle"),ariaLabel:{desc:18345,name:"Border"},innerClassName:"lines",showOptionTooltip:!1,options:[{desc:2057,name:"None",value:"none"},{desc:19532,name:"1 point dotted",value:"1pt dotted"},{desc:19530,name:"1 point dashed",value:"1pt dashed"},{desc:19531,name:"1 point solid",value:"1pt solid"},{desc:19533,name:"2 point solid",value:"2pt solid"}],icons:["none","dot","dash","solid","solid-thick"]},{tagName:"ColorPicker",key:"".concat(e.propPrefix).concat("ButtonBorderColor")}]}]}]}}]}},m=function(){var e,t,a={tagName:"VerticalLayout",className:"title-button-section",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between no-bottom-margin",children:[{tagName:"Text",text:{desc:28920,name:"Title buttons"}},{tagName:"Switch",key:E.ENABLE_TITLE_BUTTON,func:{type:"hide",targets:["titleButtonContent"]}}]},{tagName:"VerticalLayout",key:"titleButtonContent",children:[{tagName:"Text",text:{desc:28921,name:"Button radius"}},{tagName:"Radio",key:E.BUTTON_RADIUS,className:"toggle-button-radio _4item",innerClassName:"rectangle-icons",useIcons:!0,useButtons:!0,horizontal:!0,useTooltips:!0,options:[{name:"no-radius",ariaLabel:{desc:19516,name:"No Radius"},value:0},{name:"small-radius",ariaLabel:{desc:19519,name:"Small Radius"},value:10},{name:"medium-radius",ariaLabel:{desc:19517,name:"Medium Radius"},value:30},{name:"large-radius",ariaLabel:{desc:19526,name:"Large Radius"},value:50}]},{tagName:"Text",text:{desc:28922,name:"Button size"}},{tagName:"Radio",key:E.BUTTON_SIZE,useButtons:!0,horizontal:!0,useIcons:!0,useTooltips:!0,className:"toggle-button-radio _3item title-button-size",innerClassName:"title-button-size-icons",options:[{name:"small",ariaLabel:{desc:11446,name:"Small"},value:0},{name:"medium",ariaLabel:{desc:2263,name:"Medium"},value:1},{name:"large",ariaLabel:{desc:11447,name:"Large"},value:2}]},N({buttonTitle:{desc:246,name:"Export"},popoverTitle:{desc:28924,name:"Export Button"},propPrefix:"export"}),N({buttonTitle:{desc:4541,name:"Maximize"},popoverTitle:{desc:28925,name:"Maximize Button"},propPrefix:"maximize",iconOnly:!0}),N({buttonTitle:{desc:28926,name:"Context menu"},popoverTitle:{desc:25843,name:"Context Menu"},propPrefix:"contextMenu",iconOnly:!0})]}]};return null!==(e=mstrApp)&&void 0!==e&&null!==(t=e.supportFeature)&&void 0!==t&&t.call(e,mstrmojo.vi.enums.EnumFeatures.SUPPORT_SUBTITLE_AND_TITLE_BUTTONS)?a:null},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{tagName:"BorderAndColorFillConfig",keyIDs:{fillColor:E.CONTAINER_FILL_COLOR,fillOpacity:E.CONTAINER_BORDER_OPACITY,borderStyle:E.CONTAINER_BORDER_STYLE,borderColor:E.CONTAINER_BORDER_COLOR},useFillGradient:e.useFillGradient}},I={tagName:"PositionSizeConfig",min:0,max:100,format:"%",keyIDs:{section:E.POSITION_AND_SIZE_SECTION,leftPosition:E.CONTAINER_LEFT_POSITION,topPosition:E.CONTAINER_TOP_POSITION,width:E.CONTAINER_WIDTH,height:E.CONTAINER_HEIGHT}},O={tagName:"VerticalLayout",className:"title-and-container-layout",key:"graphFont",children:[{tagName:"VerticalLayout",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between title-bar-container",children:[{tagName:"Text",className:"section-header-text title-bar-text",text:{desc:7806,name:"Title Bar"}},{tagName:"Switch",key:E.TITLEBAR_SHOW,func:{type:"hide",targets:["titleFontContent"]}}]},{tagName:"VerticalLayout",key:"titleFontContent",children:[c(),{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _3item-stretch",children:[{tagName:"Text",text:{desc:13601,name:"Fill"}},{tagName:"ColorPicker",key:E.TITLEBAR_BACKGROUND_COLOR},{tagName:"InputNumber",key:E.TITLEBAR_BACKGROUND_OPACITY,format:"%",min:0,max:100,value:100}]}]}]},u(),_(),I].filter(function(e){return!!e})};function d(){return{tagName:"VerticalLayout",key:"fontContent",children:[c()]}}var R={tagName:"VerticalLayout",className:"title-and-container-layout",key:"graphFont",children:[{tagName:"VerticalLayout",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between title-bar-container",children:[{tagName:"Text",className:"section-header-text title-bar-text",text:{desc:7806,name:"Title Bar"}},{tagName:"Switch",key:E.TITLEBAR_SHOW,func:{type:"hide",targets:["fillAndTitlesContent"]}}]},{tagName:"VerticalLayout",key:"fillAndTitlesContent",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _3item-stretch",children:[{tagName:"Text",text:{desc:13601,name:"Fill"}},{tagName:"ColorPicker",key:E.TITLEBAR_BACKGROUND_COLOR},{tagName:"InputNumber",key:E.TITLEBAR_BACKGROUND_OPACITY,format:"%",min:0,max:100,value:100}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between title-bar-container",children:[{tagName:"Text",text:{desc:3449,name:"Titles"}},{tagName:"Switch",key:E.TITLEBAR_TITLES_SHOW,func:{type:"hide",targets:["titleFontContent"]}}]},{tagName:"VerticalLayout",key:"titleFontContent",children:[{tagName:"Radio",key:E.TITLEBAR_TITLE_LINES,className:"toggle-button-radio _2item title-font-content",horizontal:!0,useButtons:!0,options:[{desc:28908,name:"1 Line",value:1},{desc:28909,name:"2 Lines",value:2}]},{tagName:"SegmentControlDropdownMenu",className:"title-font-content",key:E.TITLEBAR_TITLE_INDEX,ariaLabel:{desc:28944,name:"Title index"},optionDisplayNames:[{desc:28910,name:"Top line"},{desc:28911,name:"Bottom line"}],func:{type:"query",targets:[E.TITLEBAR_FONT_FAMILY,E.TITLEBAR_FONTSTYLE,E.TITLEBAR_FONT_SIZE,E.TITLEBAR_FONT_COLOR,E.TITLEBAR_TEXT_ALIGNMENT]},children:[d(),d()]}].filter(function(e){return!!e})},m()].filter(function(e){return!!e})}]},u(),_(),I].filter(function(e){return!!e})},A=null!==(r=mstrApp)&&void 0!==r&&null!==(l=r.supportFeature)&&void 0!==l&&l.call(r,mstrmojo.vi.enums.EnumFeatures.SUPPORT_SUBTITLE_AND_TITLE_BUTTONS)?R:O;[{tagName:"VerticalLayout",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between title-bar-container",children:[{tagName:"Text",className:"section-header-text title-bar-text",text:{desc:7806,name:"Title Bar"}},{tagName:"Switch",key:E.TITLEBAR_SHOW,func:{type:"hide",targets:["titleFontContent"]}}]},{tagName:"VerticalLayout",children:[c(),{tagName:"Text",text:{desc:3905,name:"Background"}},{tagName:"HorizontalLayout",className:"background-color-container",children:[{tagName:"ColorPicker",key:E.TITLEBAR_BACKGROUND_COLOR},{tagName:"InputNumber",format:"%",min:0,max:100,value:100}]},m()].filter(function(e){return!!e})}]},u(),_(),I].filter(function(e){return!!e}),[u(),_(),I].filter(function(e){return!!e}),mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});const L={CARD_STYLES:{LIGHT:{AREA:"AUTO",TREND:"AUTO",TREND_OPACITY:"40",FONT:"#35383A",AREA_FILL_OPACITY:10,IMG_FILL_COLOR:"AUTO",IMG_FILL_OPACITY:100,SECONDARY_VALUE_FONT_COLOR:"#5D5D66"},NIGHT:{AREA:"#313855",TREND:"#539CAE",TREND_OPACITY:"100",FONT:"#FFFFFF"},DESERT:{AREA:"#606060",TREND:"#FFD333",TREND_OPACITY:"100",FONT:"#FFFFFF"},OCEAN:{AREA:"#5181D7",TREND:"#83C8F4",TREND_OPACITY:"100",FONT:"#FFFFFF"}},TREND_INDICATOR_VALUE_TYPE:{INCREASE:"#83C962",DECREASE:"#DB6657",CONSTANT:"#606060"},SLIDER_CONTROL_INDICATORS:{LIGHT:"#FFFFFF",NIGHT:"#4D4D4D"},TREND_TOOLTIP_MARKER:"#CA3D40",PLACEHOLDER_ICON_COLOR:"#A9ADB1"};function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach(function(t){p(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function p(e,t,a){return(t=function(e){var t=function(e){if("object"!=C(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=C(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==C(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var g={TEXT_CONTENT_TYPE:{ALL:"all",LABEL:"label",PRIMARY_VALUE:"primaryValue",SECONDARY_VALUE:"secondaryValue",INDICATOR:"indicator"},TREND_SHAPE:{AREA:"area",BAR:"bar",LINE:"line"},AXIS_SCALE:{GLOBAL:"global",SYNCED_METRIC:"synced",SYNCED_ALL:"syncedAll"},CARD_ALIGNMENT:{LEFT:"left",MIDDLE:"middle",RIGHT:"right"},TREND_INDICATOR_SHAPE:{BADGE:"badge",ARROW:"arrow"},TREND_INDICATOR_VALUE_TYPE:{PERCENT:"percentValue",NUMERIC:"numericValue"},SELECTED_REFERENCE_LINE_SHAPE:{DOTTED_LINE_TYPE:"1pt dotted",DASHED_LINE_TYPE:"1pt dashed",THIN_LINE_TYPE:"1pt solid",THICK_LINE_TYPE:"2pt solid"},REFERENCE_LINE_DEFAULT_VALUES:{font:{fontFamily:"Open Sans",style:[!1,!1,!1,!1],size:9,color:"#35383A"},line:{shape:"1pt dashed",color:"#4D4D4D"}},LAYOUT_TYPES:{GRID:0,STACKED:1,HORIZONTAL:2,VERTICAL:3},TEXT_SIZE_TYPE:{UNIFIED:0,FIT_TO_CONTAINER:1,FIXED:2},FIRST_CARD_INDEX:1},y={fontFamily:"Open Sans",fontStyle:[!1,!1,!1,!1],fontSteps:0,fontSize:""},D={HIDEABLE_SECTION_TEMPLATE:{name:"hideableSectionTemplate",defaultValue:null},CARD_STYLE:{name:"cardStyle",defaultValue:0},HIDEABLE_SECTION_LAYOUT:{name:"hideableSectionLayout",defaultValue:null},LAYOUT_TYPE:{name:"layoutType",defaultValue:g.LAYOUT_TYPES.GRID},GRID_LAYOUT_PROPERTIES:{name:"gridLayoutProperties",defaultValue:null},GRID_COLUMN_COUNT:{name:"gridColumnCount",defaultValue:4},GRID_FIX_CARD_HEIGHT:{name:"gridFixCardHeight",defaultValue:null},GRID_FIX_CARD_HEIGHT_ENABLED:{name:"gridFixCardHeightEnabled",defaultValue:!1},STACKED_LAYOUT_PROPERTIES:{name:"stackedLayoutProperties",defaultValue:null},STACKED_AUTO_PLAY:{name:"stackedAutoPlay",defaultValue:!0},SHOW_METRIC_NAME:{name:"showMetricName",defaultValue:null},SECONDARY_VALUE_LAYOUT:{name:"secondaryValueLayout",defaultValue:null},SECONDARY_METRIC_NAME:{name:"secondaryMetricName",defaultValue:""},TREND_INDICATOR_LAYOUT:{name:"trendIndicatorLayout",defaultValue:null},TREND_INDICATOR_ENABLED:{name:"trendIndicatorEnabled",defaultValue:!0},TREND_INDICATOR_ENABLED_LABEL:{name:"trendIndicatorEnabledLabel",defaultValue:""},COMPARISON_INDICATOR_ENABLED:{name:"comparisonIndicatorEnabled",defaultValue:!0},COMPARISON_INDICATOR_ENABLED_LABEL:{name:"comparisonIndicatorEnabledLabel",defaultValue:""},TREND_INDICATOR_VALUE_TYPE:{name:"trendIndicatorValueType",defaultValue:g.TREND_INDICATOR_VALUE_TYPE.PERCENT},ENTIRE_CHART_SECTION:{name:"entireKPIChartSection",defaultValue:null},TEXT_SIZE_TYPE:{name:"textSizeType",defaultValue:g.TEXT_SIZE_TYPE.UNIFIED},SHAPE_SECTION:{name:"shapeSection",defaultValue:null},SHAPE_TYPE:{name:"shapeType",defaultValue:0},SHAPE_TYPE_COMPARISON:{name:"shapeTypeComparison",defaultValue:0},SHAPE_TYPE_COMPARISON_NO_TREND:{name:"shapeTypeComparisonNoTrend",defaultValue:0},BACKGROUND_SHAPE_AREA_SECTION:{name:"backgroundShapeAreaSection",defaultValue:null},THRESHOLDS_SECTION:{name:"colorThresholdsSection",defaultValue:{thresholds:[]}},TEXT_CONTENT_TYPE:{name:"textContentType",defaultValue:g.TEXT_CONTENT_TYPE.ALL},TEXT_CONTENT_TYPE_COMPARISON:{name:"textContentTypeComparison",defaultValue:g.TEXT_CONTENT_TYPE.ALL},FONT_FAMILY:{name:"fontFamily",defaultValue:y.fontFamily},FONT_STYLE:{name:"fontStyle",defaultValue:[!1,!1,!1,!1]},FONT_STEPS:{name:"fontSteps",defaultValue:0},FONT_SIZE:{name:"fontSize",defaultValue:""},FONT_COLOR:{name:"fontColor",defaultValue:L.CARD_STYLES.LIGHT.FONT},TEXT_ALL_FONT_OPTIONS:{name:"allFontOptions",defaultValue:f(f({},y),{},{fontColor:"INDETERMINATE"})},TEXT_LABEL_FONT_OPTIONS:{name:"labelFontOptions",defaultValue:f(f({},y),{},{fontColor:L.CARD_STYLES.LIGHT.FONT,fontWeight:500})},TEXT_PRIMARY_VALUE_FONT_OPTIONS:{name:"primaryValueFontOptions",defaultValue:f(f({},y),{},{fontColor:L.CARD_STYLES.LIGHT.FONT,fontWeight:500})},TEXT_SECONDARY_VALUE_FONT_OPTIONS:{name:"secondaryValueFontOptions",defaultValue:f(f({},y),{},{fontStyle:[!1,!1,!1,!1],fontColor:L.CARD_STYLES.LIGHT.SECONDARY_VALUE_FONT_COLOR})},TEXT_INDICATOR_FONT_OPTIONS:{name:"indicatorFontOptions",defaultValue:f({},y)},AREA_FILL_COLOR:{name:"areaFillColor",defaultValue:L.CARD_STYLES.LIGHT.AREA},AREA_FILL_COLOR_WITH_TREND:{name:"areaFillColorWithTrend",defaultValue:L.CARD_STYLES.LIGHT.AREA},AREA_FILL_COLOR_WITH_NO_TREND:{name:"areaFillColorWithNoTrend",defaultValue:L.CARD_STYLES.LIGHT.AREA},AREA_FILL_OPACITY:{name:"areaFillOpacity",defaultValue:L.CARD_STYLES.LIGHT.AREA_FILL_OPACITY},TREND_FILL_COLOR:{name:"trendFillColor",defaultValue:L.CARD_STYLES.LIGHT.TREND},TREND_FILL_OPACITY:{name:"trendFillOpacity",defaultValue:L.CARD_STYLES.LIGHT.TREND_OPACITY},TREND_INCREASE_BACKGROUND_COLOR:{name:"trendIncreaseBackgroundColor",defaultValue:L.TREND_INDICATOR_VALUE_TYPE.INCREASE},TREND_DECREASE_BACKGROUND_COLOR:{name:"trendDecreaseBackgroundColor",defaultValue:L.TREND_INDICATOR_VALUE_TYPE.DECREASE},HIDEABLE_SECTION_TREND_SHAPE:{name:"hideableSectionTrendShape",defaultValue:null},TREND_SHAPE:{name:"trendShape",defaultValue:g.TREND_SHAPE.AREA},AXIS_SCALE:{name:"axisScale",defaultValue:g.AXIS_SCALE.GLOBAL},AXIS_SCALE_COMPARISON:{name:"axisScaleComparison",defaultValue:g.AXIS_SCALE.GLOBAL},EMPTY_VIZ_WARNING_MESSAGE:{name:"emptyVizWarningMessage",defaultValue:null},VIZ_FIRST_TAB_SECTION:{name:"vizFirstTabSection",defaultValue:null},VIZ_SECOND_TAB_SECTION:{name:"vizSecondTabSection",defaultValue:null},CARD_ALIGNMENT:{name:"cardAlignment",defaultValue:""},TREND_INDICATOR_SHAPE_LAYOUT:{name:"trendIndicatorShapeLayout",defaultValue:""},TREND_INDICATOR_SHAPE:{name:"trendIndicatorShape",defaultValue:g.TREND_INDICATOR_SHAPE.BADGE},TREND_CONSTANT_BACKGROUND_COLOR:{name:"trendConstantBackgroundColor",defaultValue:L.TREND_INDICATOR_VALUE_TYPE.CONSTANT},DOSSIER_FONT:{name:"dossierFont",defaultValue:""},HIDEABLE_SECTION_REFERENCE_LINES:{name:"hideableSectionReferenceLines",defaultValue:null},SELECTED_REFERENCE_LINE:{name:"selectedReferenceLine",defaultValue:""},REFERENCE_LINE_CONSTANT_VALUE:{name:"referenceLineConstantValue",defaultValue:""},REFERENCE_LINE_LABEL:{name:"referenceLineLabel",defaultValue:""},CREATED_REFERENCE_LINES:{name:"createdReferenceLines",defaultValue:{}},REFERENCE_LINE_CONSTANT_VALUE_WARNING:{name:"referenceLineConstantValueWarning",defaultValue:null},REFERENCE_LINES_SECTION:{name:"referenceLinesSection",defaultValue:null},TEXT_AND_FORM_DROPDOWN_WITH_REFERENCE_LINES:{name:"textAndFormDropdownWithReferenceLines",defaultValue:0},TEXT_AND_FORM_DROPDOWN_WITHOUT_REFERENCE_LINES:{name:"textAndFormDropdownWithoutReferenceLines",defaultValue:0},SELECTED_REFERENCE_LINE_TEXT_AND_FORM:{name:"selectedReferenceLineTextAndForm",defaultValue:""},SELECTED_REFERENCE_LINE_FONT_NAME:{name:"selectedReferenceLineFontName",defaultValue:g.REFERENCE_LINE_DEFAULT_VALUES.font.fontFamily},SELECTED_REFERENCE_LINE_FONT_STYLE:{name:"selectedReferenceLineFontStyle",defaultValue:g.REFERENCE_LINE_DEFAULT_VALUES.font.style},SELECTED_REFERENCE_LINE_FONT_SIZE:{name:"selectedReferenceLineFontSize",defaultValue:g.REFERENCE_LINE_DEFAULT_VALUES.font.size},SELECTED_REFERENCE_LINE_FONT_COLOR:{name:"selectedReferenceLineFontColor",defaultValue:g.REFERENCE_LINE_DEFAULT_VALUES.font.color},SELECTED_REFERENCE_LINE_COLOR:{name:"selectedReferenceLineColor",defaultValue:g.REFERENCE_LINE_DEFAULT_VALUES.line.color},SELECTED_REFERENCE_LINE_SHAPE:{name:"selectedReferenceLineShape",defaultValue:g.REFERENCE_LINE_DEFAULT_VALUES.line.shape},ACTIVE_CARD_INDEX:{name:"activeCardIndex",defaultValue:g.FIRST_CARD_INDEX},SECONDARY_METRIC_NAME_LABEL:{name:"secondaryMetricNameLabel",defaultValue:null},SECONDARY_METRIC_NAME_LABEL_COMPARISON:{name:"secondaryMetricNameLabelComparison",defaultValue:null},TREND_INCREASE_BACKGROUND_COLOR_LABEL:{name:"trendIncreaseBackgroundColorLabel",defaultValue:null},TREND_INCREASE_BACKGROUND_COLOR_LABEL_COMPARISON:{name:"trendIncreaseBackgroundColorLabelComparison",defaultValue:null},TREND_DECREASE_BACKGROUND_COLOR_LABEL:{name:"trendDecreaseBackgroundColorLabel",defaultValue:null},TREND_DECREASE_BACKGROUND_COLOR_LABEL_COMPARISON:{name:"trendDecreaseBackgroundColorLabelComparison",defaultValue:null},HIDEABLE_SECTION_IMAGE:{name:"hideableSectionImage",defaultValue:null},IMAGE_PROP_GALLERY:{name:"gallery",defaultValue:null},IMAGE_PROP_BROWSE:{name:"browse",defaultValue:null},IMAGE_PROP_BROWSE_DISABLED:{name:"browseDisabled",defaultValue:null},IMAGE_PROP_NAME:{name:"imageName",defaultValue:""},IMAGE_PROP_URL:{name:"imageSrc",defaultValue:""},IMAGE_FILL_COLOR:{name:"imgFillColor",defaultValue:L.CARD_STYLES.LIGHT.IMG_FILL_COLOR},IMAGE_FILL_OPACITY:{name:"imgFillOpacity",defaultValue:L.CARD_STYLES.LIGHT.IMG_FILL_OPACITY},IMAGE_SEARCH_ICON:{name:"searchIcon",defaultValue:null}};function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var b={};Object.entries(D).forEach(function(e){var t,a,n=(a=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,o,r,l,E=[],i=!0,s=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(n=r.call(a)).done)&&(E.push(n.value),E.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(s)throw o}}return E}}(t,a)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?P(e,t):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],r=n[1].name;b[o]=r}),mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var v=[{title:{desc:8970,name:"Expand All"},itemIndex:"expand"},{title:{desc:8971,name:"Collapse All"},itemIndex:"collapse"}],h={type:"set",targets:[b.HIDEABLE_SECTION_TEMPLATE,b.HIDEABLE_SECTION_IMAGE,b.HIDEABLE_SECTION_LAYOUT,b.HIDEABLE_SECTION_TREND_SHAPE,b.HIDEABLE_SECTION_REFERENCE_LINES]};mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});const F={tagName:"HideableLayout",title:{desc:2922,name:"Image"},key:b.HIDEABLE_SECTION_IMAGE,func:h,contextMenuItems:v,children:[{tagName:"VerticalLayout",children:[{tagName:"Input",key:b.IMAGE_PROP_URL,placeholder:mstrmojo.descP("IMGKPI.","50","Enter image URL"),applyChangeOnFocusOut:!0},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch mstr-kpi-image-section-layout",children:[{tagName:"IconPicker",key:b.IMAGE_PROP_GALLERY,type:"primary",text:mstrmojo.descP("IMGKPI.","51","Gallery"),imageList:["insert_chart-fill.svg","chart_data-fill.svg","arrow_circle_up-fill.svg","arrow_circle_down-fill.svg","my_location-fill.svg","flag_2-fill.svg","universal_currency_alt-fill.svg","paid-fill.svg","currency_pound-fill.svg","euro_symbol-fill.svg","percent_discount-fill.svg","check_circle-fill.svg","garden_cart-fill.svg","storefront-fill.svg","bucket_check-fill.svg","sell-fill.svg","calendar_month-fill.svg","receipt_long-fill.svg","notifications-fill.svg","alarm-fill.svg","rewarded_ads-fill.svg","military_tech-fill.svg","star_shine-fill.svg","favorite-fill.svg","account_balance-fill.svg","apartment-fill.svg","sms-fill.svg","call_log-fill.svg","mail-fill.svg","error-fill.svg","browse_activity-fill.svg","emoji_objects-fill.svg","globe_uk-fill.svg","person-fill.svg","group-fill.svg","settings-fill.svg","restaurant-fill.svg","thumb_up-fill.svg","medical_information-fill.svg","cardiology-fill.svg","security-fill.svg","sentiment_satisfied-fill.svg","inventory_2-fill.svg","school-fill.svg","location_on-fill.svg","travel-fill.svg","delivery_truck_speed-fill.svg","rocket_launch-fill.svg"].map(function(e){return{imageName:e,imageURL:"".concat(mstrmojo.getStyleRoot(),"/../images/material-symbols/400/rounded/").concat(e)}}),icon:"mstr-kpi-image-gallery-icon",className:"mstr-kpi-image-gallery"},{tagName:"HorizontalLayout",key:b.IMAGE_PROP_BROWSE,children:[{tagName:"FileUpload",key:b.IMAGE_PROP_BROWSE,text:{desc:13052,name:"Upload"},fileTypes:".png, .jpg, .jpeg, .gif, .bmp",maxSize:1,icon:"mstr-kpi-image-uploader-icon",className:"mstr-kpi-image-uploader"}]},{tagName:"ButtonWithAffix",key:b.IMAGE_PROP_BROWSE_DISABLED,text:{desc:13052,name:"Upload"},className:"mstr-kpi-image-uploader-disabled",disabled:!0,tooltipPlacement:"bottomLeft",tooltipClassName:"mstr-kpi-image-uploader-disabled-tooltip",tooltipTitle:mstrmojo.descP("IMGKPI.","57","Image uploads have been disabled by your administrator.")}]}]},{tagName:"Divider"}]};mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={}),mstrmojo.descP("IMGKPI.","24","Axis scale"),b.AXIS_SCALE,mstrmojo.descP("IMGKPI.","25","By each card"),g.AXIS_SCALE.GLOBAL,mstrmojo.descP("IMGKPI.","26","Synchronize by metric"),g.AXIS_SCALE.SYNCED_METRIC,mstrmojo.descP("IMGKPI.","27","Synchronize all metrics"),g.AXIS_SCALE.SYNCED_ALL,b.AXIS_SCALE_COMPARISON,mstrmojo.descP("IMGKPI.","25","By each card"),g.AXIS_SCALE.GLOBAL,mstrmojo.descP("IMGKPI.","26","Synchronize by metric"),g.AXIS_SCALE.SYNCED_METRIC;var x={tagName:"VerticalLayout",children:[{tagName:"Select",className:"imageenhancedkpi-trend-shape-dropdown",innerClassName:"imageenhancedkpi-trend-shape-icons",key:b.TREND_SHAPE,options:[{name:mstrmojo.descP("IMGKPI.","28","Area"),value:g.TREND_SHAPE.AREA},{name:mstrmojo.descP("IMGKPI.","29","Bar"),value:g.TREND_SHAPE.BAR},{name:mstrmojo.descP("IMGKPI.","30","Line"),value:g.TREND_SHAPE.LINE}],icons:["area","bar","line"]}]};const B={tagName:"HideableLayout",title:mstrmojo.descP("IMGKPI.","42","Trend Shape"),key:b.HIDEABLE_SECTION_TREND_SHAPE,func:h,contextMenuItems:v,children:[x,{tagName:"Divider"}]};mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var M={tagName:"VerticalLayout",key:b.GRID_LAYOUT_PROPERTIES,children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"Text",text:{desc:6052,name:"Column"}},{tagName:"InputNumber",key:b.GRID_COLUMN_COUNT,showStepper:!0,min:1}]},{tagName:"Checkbox",key:b.GRID_FIX_CARD_HEIGHT_ENABLED,text:{desc:16027,name:"Fix card height"}},{tagName:"InputNumber",key:b.GRID_FIX_CARD_HEIGHT,className:"imageenhancedkpi-fix-card-height-input",format:"px",min:1}]},Y={tagName:"VerticalLayout",key:b.STACKED_LAYOUT_PROPERTIES,children:[{tagName:"Checkbox",key:b.STACKED_AUTO_PLAY,text:{desc:15869,name:"Auto play"}}]},V=[{tagName:"Checkbox",key:b.SHOW_METRIC_NAME,text:{desc:15915,name:"Show metric name"}},{tagName:"VerticalLayout",key:b.SECONDARY_VALUE_LAYOUT,children:[{tagName:"Text",key:b.SECONDARY_METRIC_NAME_LABEL,text:{desc:15872,name:"Previous value label"}},{tagName:"Text",key:b.SECONDARY_METRIC_NAME_LABEL_COMPARISON,text:mstrmojo.descP("IMGKPI.","35","Comparison value label")},{tagName:"Input",key:b.SECONDARY_METRIC_NAME,applyChangeOnFocusOut:!0}]},{tagName:"VerticalLayout",key:b.TREND_INDICATOR_LAYOUT,children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between",children:[{tagName:"Text",text:mstrmojo.descP("IMGKPI.","37","Trend Indicator"),key:b.TREND_INDICATOR_ENABLED_LABEL},{tagName:"Text",text:mstrmojo.descP("IMGKPI.","38","Comparison Indicator"),key:b.COMPARISON_INDICATOR_ENABLED_LABEL},{tagName:"Switch",key:b.TREND_INDICATOR_ENABLED},{tagName:"Switch",key:b.COMPARISON_INDICATOR_ENABLED}]},{tagName:"HorizontalLayout",key:b.TREND_INDICATOR_SHAPE_LAYOUT,className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"Text",text:mstrmojo.descP("IMGKPI.","16","Display")},{tagName:"Select",key:b.TREND_INDICATOR_SHAPE,className:"imageenhancedkpi-trend-indicator-shape",options:[{name:mstrmojo.descP("IMGKPI.","17","Badge"),value:g.TREND_INDICATOR_SHAPE.BADGE},{name:mstrmojo.descP("IMGKPI.","18","Arrow"),value:g.TREND_INDICATOR_SHAPE.ARROW}]}]},{tagName:"Radio",key:b.TREND_INDICATOR_VALUE_TYPE,horizontal:!0,className:"toggle-button-radio _2item",options:[{name:"%",value:g.TREND_INDICATOR_VALUE_TYPE.PERCENT},{name:"123",value:g.TREND_INDICATOR_VALUE_TYPE.NUMERIC}],useButtons:!0}]}];const k={tagName:"HideableLayout",title:{desc:3437,name:"Layout"},key:b.HIDEABLE_SECTION_LAYOUT,func:h,contextMenuItems:v,children:[{tagName:"SegmentControlDropdownMenu",key:b.LAYOUT_TYPE,optionDisplayNames:[{desc:3478,name:"Grid"},{desc:12145,name:"Stacked"},{desc:12286,name:"Horizontal"},{desc:2069,name:"Vertical"}],children:[M,Y]}].concat(V,[{tagName:"Divider"}])};mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var H={METRICS:0,TREND:1},j={METRICS:0,COMPARE_WITH:1,BREAK_BY:2,TREND:3},U=function(e){return 0===e?H:j};mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var G={LIGHT:0,NIGHT:1,DESERT:2,OCEAN:3};mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={}),mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={}),mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var K="properties",z=[K],X=function(e){"object"===w(e)?Object.values(e).forEach(function(e){X(e)}):Array.isArray(e)?e.forEach(function(e){X(e)}):z.push(e)};X(b),mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var W=function(e,t){return e.zonesModel.getDropZoneObjectsByIndex(t).length>0},Z=function(e){var t,a=null===(t=e.controller.model)||void 0===t?void 0:t.defmts.find(function(e){return"Text"===e.n});return(null==a?void 0:a.props.FormattingFont.Name)||e.getProperty(D.FONT_FAMILY.name)},J=/images\/material-symbols\/400\/rounded\//,q=function(e){return J.test(e)};function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach(function(t){ae(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function ae(e,t,a){return(t=function(e){var t=function(e){if("object"!=$(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=$(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var ne={tagName:"VerticalLayout",key:b.EMPTY_VIZ_WARNING_MESSAGE,children:[{tagName:"Text",text:{desc:19565,name:"Add objects to the container to start formatting."}}]},oe=function(e,t){var a=t[b.TREND_SHAPE],n=function(e,a){return te(te({},t[e]),{},{fontColor:a})},o=b.AREA_FILL_COLOR,r=b.AREA_FILL_OPACITY,l=b.TREND_FILL_COLOR,E=b.TEXT_LABEL_FONT_OPTIONS,i=b.TEXT_PRIMARY_VALUE_FONT_OPTIONS,s=b.TEXT_SECONDARY_VALUE_FONT_OPTIONS,c=b.TEXT_INDICATOR_FONT_OPTIONS,_=b.TREND_FILL_OPACITY,T=b.CREATED_REFERENCE_LINES;return{0:ae(ae(ae(ae(ae(ae(ae(ae(ae({},o,L.CARD_STYLES.LIGHT.AREA),r,100),l,L.CARD_STYLES.LIGHT.TREND),E,n(E,L.CARD_STYLES.LIGHT.FONT)),i,n(i,L.CARD_STYLES.LIGHT.FONT)),s,n(s,L.CARD_STYLES.LIGHT.FONT)),c,n(c,L.CARD_STYLES.NIGHT.FONT)),_,a===g.TREND_SHAPE.LINE?100:L.CARD_STYLES.LIGHT.TREND_OPACITY),T,Ee(t[T],L.CARD_STYLES.LIGHT.FONT)),1:ae(ae(ae(ae(ae(ae(ae(ae(ae({},o,L.CARD_STYLES.NIGHT.AREA),r,100),l,L.CARD_STYLES.NIGHT.TREND),E,n(E,L.CARD_STYLES.NIGHT.FONT)),i,n(i,L.CARD_STYLES.NIGHT.FONT)),s,n(s,L.CARD_STYLES.NIGHT.FONT)),c,n(c,L.CARD_STYLES.NIGHT.FONT)),_,L.CARD_STYLES.NIGHT.TREND_OPACITY),T,Ee(t[T],L.CARD_STYLES.NIGHT.FONT)),2:ae(ae(ae(ae(ae(ae(ae(ae(ae({},o,L.CARD_STYLES.DESERT.AREA),r,100),l,L.CARD_STYLES.DESERT.TREND),E,n(E,L.CARD_STYLES.DESERT.FONT)),i,n(i,L.CARD_STYLES.DESERT.FONT)),s,n(s,L.CARD_STYLES.DESERT.FONT)),c,n(c,L.CARD_STYLES.DESERT.FONT)),_,L.CARD_STYLES.DESERT.TREND_OPACITY),T,Ee(t[T],L.CARD_STYLES.DESERT.FONT)),3:ae(ae(ae(ae(ae(ae(ae(ae(ae({},o,L.CARD_STYLES.OCEAN.AREA),r,100),l,L.CARD_STYLES.OCEAN.TREND),E,n(E,L.CARD_STYLES.OCEAN.FONT)),i,n(i,L.CARD_STYLES.OCEAN.FONT)),s,n(s,L.CARD_STYLES.OCEAN.FONT)),c,n(c,L.CARD_STYLES.OCEAN.FONT)),_,L.CARD_STYLES.OCEAN.TREND_OPACITY),T,Ee(t[T],L.CARD_STYLES.OCEAN.FONT))}[e]},re=function(e){try{return JSON.parse(e)}catch(t){return e}},le=function(e,t){var a=t[b.SELECTED_REFERENCE_LINE];if(!a){var n,o,r=null===(n=e.dataInterface.getColTitles().titles[0])||void 0===n?void 0:n.es.map(function(e){return{n:e.n,dssid:e.oid}});null!=r&&r.find(function(e){return e.dssid===a})&&!e.isComparisonKPI||(a=null==r||null===(o=r[0])||void 0===o?void 0:o.dssid)}return a},Ee=function(e,t){var a=JSON.parse(JSON.stringify(e));return Object.keys(a).forEach(function(e){a[e].font.color=t,a[e].line.color=t}),a},ie=function(e){var t=U(e.KPIType);return e.isComparisonKPI&&W(e,t.COMPARE_WITH)};mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});const se={tagName:"HideableLayout",title:mstrmojo.descP("IMGKPI.","19","Reference Lines"),key:b.HIDEABLE_SECTION_REFERENCE_LINES,func:h,contextMenuItems:v,children:[{tagName:"Select",key:b.SELECTED_REFERENCE_LINE,options:[]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"Text",text:mstrmojo.descP("IMGKPI.","20","Label")},{tagName:"Input",className:"imageenhancedkpi-reference-line-input",key:b.REFERENCE_LINE_LABEL,applyChangeOnFocusOut:!0}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"Text",text:mstrmojo.descP("IMGKPI.","21","Value")},{tagName:"Input",key:b.REFERENCE_LINE_CONSTANT_VALUE,className:"imageenhancedkpi-reference-line-input",applyChangeOnFocusOut:!0}]},{tagName:"Text",text:mstrmojo.descP("IMGKPI.","22","The value has to be a number"),key:b.REFERENCE_LINE_CONSTANT_VALUE_WARNING,className:"imageenhancedkpi-reference-line-value-warning"},{tagName:"Divider"}]};mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});const ce={tagName:"VerticalLayout",children:[ne,{tagName:"VerticalLayout",key:b.VIZ_FIRST_TAB_SECTION,children:[F,B,k,se]}]};function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function Te(e,t,a){return(t=function(e){var t=function(e){if("object"!=_e(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=_e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var Ne="nameSelect",me="style",ue="sizeAndColor",Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={tagName:"VerticalLayout",className:"font-layout",children:[]},r=Te(Te(Te(Te(Te(Te(Te(Te({},"title",{tagName:"Text",className:"section-header-text",text:{desc:3433,name:"Font"}}),Ne,{tagName:"FontSelect",key:e.fontName||"fontName",ariaLabel:{desc:2027,name:"Font"},className:"select-font-name",disabled:a.fontName}),me,{tagName:"MultiSelectBarLogic",key:e.fontStyle||"fontStyle",disabled:a.fontStyle,className:"dossier-font-style",checked:[!1,!1,!1,!1],innerClassName:"font-style-icons",options:["bold","italic","underline","underscore"]}),ue,{tagName:"HorizontalLayout",className:"size-and-color",children:[{tagName:"InputNumber",key:e.fontSize||"fontSize",disabled:a.fontSize,format:"pt",min:1,value:12,isValueString:n.isFontSizeString,showStepper:!0},{tagName:"ColorPicker",key:e.fontColor||"fontColor",disabled:a.fontColor}]}),"horizontalAlign",{tagName:"Radio",key:e.textAlignment||"textAlignment",className:e.textAlignmentStyle||"toggle-button-radio _4item",innerClassName:"font-style-icons",horizontal:!0,useIcons:!0,useButtons:!0,options:e.textAlignmentOptions||["align-left","align-center","align-right","justify"]}),"verticalAlign",{tagName:"Radio",key:e.verticalAlign||"verticalAlign",className:"toggle-button-radio _3item",innerClassName:"vertical-align-icons",horizontal:!0,useIcons:!0,useButtons:!0,options:["top","middle","bottom"]}),"rotation",{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"Text",text:{desc:12283,name:"Rotation"}},{tagName:"Select",key:e.rotation||"rotation",ariaLabel:{desc:12283,name:"Rotation"},className:"select-font-name",options:a.NGM_ROTATION?[{desc:2066,name:"Horizontal",value:0},{desc:2069,name:"Vertical",value:270}]:[{desc:4604,name:"Auto"},{desc:2066,name:"Horizontal"},{desc:2069,name:"Vertical"},{desc:2056,name:"Custom"}]}]}),"wrapText",{tagName:"Checkbox",key:e.wrapText||"wrapText",text:{desc:19360,name:"Wrap texts"}});return t.length>0&&Object.keys(r).forEach(function(e){return t.includes(e)||delete r[e]}),Object.keys(r).forEach(function(e){return o.children.push(r[e])}),o};mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var Oe={tagName:"Select",key:b.TEXT_CONTENT_TYPE,ariaLabel:{desc:19529,name:"Text Content"},options:[{desc:2058,name:"All",value:g.TEXT_CONTENT_TYPE.ALL},{desc:8263,name:"Label",value:g.TEXT_CONTENT_TYPE.LABEL},{desc:16260,name:"Primary Value",value:g.TEXT_CONTENT_TYPE.PRIMARY_VALUE},{desc:16261,name:"Previous Value",value:g.TEXT_CONTENT_TYPE.SECONDARY_VALUE},{desc:16262,name:"Trend Identity",value:g.TEXT_CONTENT_TYPE.INDICATOR}]},de={tagName:"Select",key:b.TEXT_CONTENT_TYPE_COMPARISON,ariaLabel:{desc:19529,name:"Text Content"},options:[{desc:2058,name:"All",value:g.TEXT_CONTENT_TYPE.ALL},{desc:8263,name:"Label",value:g.TEXT_CONTENT_TYPE.LABEL},{desc:16260,name:"Primary Value",value:g.TEXT_CONTENT_TYPE.PRIMARY_VALUE},{name:mstrmojo.descP("IMGKPI.","32","Comparison Value"),value:g.TEXT_CONTENT_TYPE.SECONDARY_VALUE},{name:mstrmojo.descP("IMGKPI.","38","Comparison Indicator"),value:g.TEXT_CONTENT_TYPE.INDICATOR}]},Re={tagName:"VerticalLayout",children:[Oe,de,Ie({fontName:b.FONT_FAMILY,fontStyle:b.FONT_STYLE},[Ne,me]),{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"FontSizer",key:b.FONT_STEPS,stepSize:1,defaultValue:0,minValue:-34,showResetIcon:!0},{tagName:"ColorPicker",key:b.FONT_COLOR}]}]},Ae=Re,Le=Re,Ce={tagName:"VerticalLayout",children:[Oe,de,Ie({fontName:b.FONT_FAMILY,fontStyle:b.FONT_STYLE,fontSize:b.FONT_SIZE,fontColor:b.FONT_COLOR},[Ne,me,ue])]},Se={tagName:"HorizontalLayout",className:"horizontal-flex-space-between _3item-stretch",children:[{tagName:"Text",text:{desc:2885,name:"Fill"}},{tagName:"ColorPicker",key:b.IMAGE_FILL_COLOR,allowAutoColor:!0,className:"mstr-kpi-image-fill-color"},{tagName:"InputNumber",key:b.IMAGE_FILL_OPACITY,value:100,min:0,max:100,format:"%"}]},fe={tagName:"HorizontalLayout",className:"horizontal-flex-space-between _3item-stretch",children:[{tagName:"Text",text:{desc:9738,name:"Area"}},{tagName:"ColorPicker",key:b.AREA_FILL_COLOR,allowAutoColor:!0,className:"mstr-kpi-area-fill-color"},{tagName:"InputNumber",key:b.AREA_FILL_OPACITY,value:100,min:0,max:100,format:"%"}]},pe={tagName:"VerticalLayout",children:[fe,{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _3item-stretch",children:[{tagName:"Text",text:{desc:15863,name:"Trend"}},{tagName:"ColorPicker",key:b.TREND_FILL_COLOR,allowAutoColor:!0,className:"mstr-kpi-trend-fill-color"},{tagName:"InputNumber",key:b.TREND_FILL_OPACITY,value:100,min:0,max:100,format:"%"}]}]},ge={tagName:"VerticalLayout",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",key:b.TREND_INCREASE_BACKGROUND_COLOR_LABEL,children:[{tagName:"Text",text:{desc:8314,name:"Increase"}},{tagName:"ColorPicker",key:b.TREND_INCREASE_BACKGROUND_COLOR,allowResetDefault:!0}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",key:b.TREND_INCREASE_BACKGROUND_COLOR_LABEL_COMPARISON,children:[{tagName:"Text",text:mstrmojo.descP("IMGKPI.","33","Positive")},{tagName:"ColorPicker",key:b.TREND_INCREASE_BACKGROUND_COLOR,allowResetDefault:!0}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",key:b.TREND_DECREASE_BACKGROUND_COLOR_LABEL,children:[{tagName:"Text",text:{desc:8315,name:"Decrease"}},{tagName:"ColorPicker",key:b.TREND_DECREASE_BACKGROUND_COLOR,allowResetDefault:!0}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",key:b.TREND_DECREASE_BACKGROUND_COLOR_LABEL_COMPARISON,children:[{tagName:"Text",text:mstrmojo.descP("IMGKPI.","34","Negative")},{tagName:"ColorPicker",key:b.TREND_DECREASE_BACKGROUND_COLOR,allowResetDefault:!0}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"Text",text:mstrmojo.descP("IMGKPI.","13","Constant")},{tagName:"ColorPicker",key:b.TREND_CONSTANT_BACKGROUND_COLOR,allowResetDefault:!0}]}]};const ye={tagName:"VerticalLayout",key:b.ENTIRE_CHART_SECTION,children:[{tagName:"VerticalLayout",children:[{tagName:"Text",className:"section-header-text",text:{desc:3433,name:"Font"}},{tagName:"Text",text:{desc:16258,name:"Text size"}},{tagName:"SegmentControlDropdownMenu",key:b.TEXT_SIZE_TYPE,needUpdateChildren:!0,optionDisplayNames:[{desc:16296,name:"Unified"},{desc:12058,name:"Fit to Container"},{desc:2050,name:"Fixed"}],children:[Ae,Le,Ce]}]},{tagName:"VerticalLayout",children:[{tagName:"Text",className:"section-header-text",text:{desc:7809,name:"Icon"}},Se]},{tagName:"VerticalLayout",children:[{tagName:"Text",className:"section-header-text",text:{desc:2923,name:"Shape"}},{tagName:"VerticalLayout",key:b.SHAPE_SECTION,children:[{tagName:"SegmentControlDropdownMenu",key:b.SHAPE_TYPE,needUpdateChildren:!0,optionDisplayNames:[{desc:3905,name:"Background"},{desc:15870,name:"Trend Indicator"}],children:[pe,ge]},{tagName:"SegmentControlDropdownMenu",key:b.SHAPE_TYPE_COMPARISON,needUpdateChildren:!0,optionDisplayNames:[{desc:3905,name:"Background"},mstrmojo.descP("IMGKPI.","38","Comparison Indicator")],children:[pe,ge]},{tagName:"SegmentControlDropdownMenu",key:b.SHAPE_TYPE_COMPARISON_NO_TREND,needUpdateChildren:!0,optionDisplayNames:[{desc:3905,name:"Background"},mstrmojo.descP("IMGKPI.","38","Comparison Indicator")],children:[fe,ge]},{tagName:"VerticalLayout",key:b.BACKGROUND_SHAPE_AREA_SECTION,children:[fe]}]}]},{tagName:"ThresholdList",key:b.THRESHOLDS_SECTION,title:{desc:3647,name:"Thresholds"},defaultColorHexValue:"#35383A",isAdvancedThreshold:!0,thresholdListStrings:{threshold:{desc:19528,name:"Threshold"},from:{desc:9305,name:"From"},to:{desc:15877,name:"To"},color:{desc:6242,name:"Color"},invalidInput:{desc:13819,name:"Invalid input"},trendIndicator:{desc:15870,name:"Trend Indicator"},fromErrorMessage:{desc:15875,name:"Value should be less than"},toErrorMessage:{desc:15876,name:"Value should be greater than"},label:{desc:8263,name:"Label"},primaryValue:{desc:16260,name:"Primary Value"},previousValue:{desc:16261,name:"Previous Value"},trendIdentity:{desc:16262,name:"Trend Identity"},shape:{desc:2923,name:"Shape"},text:{desc:1013,name:"Text"},comparisonValue:{desc:27036,name:"Comparison Value"},comparisonIndicator:{desc:27037,name:"Comparison Indicator"},trendShape:{desc:27038,name:"Trend Shape"},allTexts:{desc:27039,name:"All Texts"},backgroundArea:{desc:27040,name:"Background Area"},baseOnValue:{desc:27041,name:"Base on value"},baseOnRank:{desc:27042,name:"Base on rank"},baseOnIncreaseDecrease:{desc:27043,name:"Base on increase / decrease"},highest:{desc:27044,name:"Highest"},lowest:{desc:27045,name:"Lowest"},rank:{desc:27046,name:"Rank"}}}]};mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});const De={tagName:"VerticalLayout",key:b.REFERENCE_LINES_SECTION,children:[{tagName:"Select",key:b.SELECTED_REFERENCE_LINE_TEXT_AND_FORM,options:[]},{tagName:"Text",className:"section-header-text",text:mstrmojo.descP("IMGKPI.","14","Font")},{tagName:"FontConfig",keyIDs:{fontName:b.SELECTED_REFERENCE_LINE_FONT_NAME,fontStyle:b.SELECTED_REFERENCE_LINE_FONT_STYLE,fontSize:b.SELECTED_REFERENCE_LINE_FONT_SIZE,fontColor:b.SELECTED_REFERENCE_LINE_FONT_COLOR},displayOptions:["nameSelect","style","sizeAndColor"]},{tagName:"Text",className:"section-header-text",text:mstrmojo.descP("IMGKPI.","15","Line")},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch color-by ",children:[{tagName:"Select",key:b.SELECTED_REFERENCE_LINE_SHAPE,innerClassName:"lines",options:[{name:"1pt dotted",value:g.SELECTED_REFERENCE_LINE_SHAPE.DOTTED_LINE_TYPE},{name:"1pt dashed",value:g.SELECTED_REFERENCE_LINE_SHAPE.DASHED_LINE_TYPE},{name:"1pt solid",value:g.SELECTED_REFERENCE_LINE_SHAPE.THIN_LINE_TYPE},{name:"2pt solid",value:g.SELECTED_REFERENCE_LINE_SHAPE.THICK_LINE_TYPE}],icons:["dot","dash","solid","solid-thick"]},{tagName:"ColorPicker",key:b.SELECTED_REFERENCE_LINE_COLOR}]}]};mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});const Pe={tagName:"VerticalLayout",children:[ne,{tagName:"SegmentControlDropdownMenu",optionDisplayNames:[mstrmojo.descP("IMGKPI.","31","Entire Chart"),mstrmojo.descP("IMGKPI.","19","Reference Lines")],key:b.TEXT_AND_FORM_DROPDOWN_WITH_REFERENCE_LINES,children:[ye,De]},{tagName:"SegmentControlDropdownMenu",optionDisplayNames:[mstrmojo.descP("IMGKPI.","31","Entire Chart")],key:b.TEXT_AND_FORM_DROPDOWN_WITHOUT_REFERENCE_LINES,children:[ye]}]};mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var be=function(e,t,a,n){var o=[{act:"setWidgetString",nodeKey:e.k,skey:t,wdgs:a}];n&&(o[0].objectId=n,o[0].objectType=4),ve(e,o)},ve=function(e,t){var a={taskId:"mojoRWManipulation",params:JSON.stringify({actions:t,style:{params:{treesToRender:2},name:"RWIVEMojoStyle"}}),nodeKey:e.k,suppressData:!0,messageId:mstrApp.getMsgID(),styleName:"RWIVEMojoStyle",rwb:mstrApp.rootCtrl.docCtrl.model.bs};mstrApp.serverRequest(a)};function he(e){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},he(e)}function Fe(e,t,a){return(t=function(e){var t=function(e){if("object"!=he(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=he(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==he(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var xe="cardLabels",Be="cardPrimaryValues",Me="cardSecondaryValues",Ye="cardIndicators",Ve=(Fe(Fe(Fe(Fe({},xe,"labelFontOptions"),Be,"primaryValueFontOptions"),Me,"secondaryValueFontOptions"),Ye,"indicatorFontOptions"),{labelFontOptions:xe,primaryValueFontOptions:Be,secondaryValueFontOptions:Me,indicatorFontOptions:Ye});function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?He(Object(a),!0).forEach(function(t){Ue(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Ue(e,t,a){return(t=function(e){var t=function(e){if("object"!=ke(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=ke(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ke(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ge(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return we(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?we(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,E=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){E=!0,r=e},f:function(){try{l||null==a.return||a.return()}finally{if(E)throw r}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var Ke=[b.TEXT_ALL_FONT_OPTIONS,b.TEXT_LABEL_FONT_OPTIONS,b.TEXT_PRIMARY_VALUE_FONT_OPTIONS,b.TEXT_SECONDARY_VALUE_FONT_OPTIONS,b.TEXT_INDICATOR_FONT_OPTIONS],ze=function(e,t,a){var n=t.prop,o=t.value;a[e][n]=o},Xe=function(e,t,a){var n=t.prop,o=t.value,r=a[e][b.FONT_STEPS]+o;ze(e,{prop:n,value:r},a)},We=function(e){return"".concat(e,"FontOptions")},Ze=function(e,t,a){var n=e.prop,o=e.value,r=Ke.filter(function(e){return e!==b.TEXT_ALL_FONT_OPTIONS});if(n!==b.FONT_STYLE)Je(t,r,n)?ze(b.TEXT_ALL_FONT_OPTIONS,{prop:n,value:o},t):ze(b.TEXT_ALL_FONT_OPTIONS,{prop:n,value:a},t);else{var l=qe(r,t);ze(b.TEXT_ALL_FONT_OPTIONS,{prop:b.FONT_STYLE,value:l},t)}},Je=function(e,t,a){var n,o=[],r=Ge(t);try{for(r.s();!(n=r.n()).done;){var l=e[n.value];o.push(l[a])}}catch(e){r.e(e)}finally{r.f()}return 1===new Set(o).size},qe=function(e,t){var a,n=[!0,!0,!0,!0],o=Ge(e);try{for(o.s();!(a=o.n()).done;)for(var r=t[a.value].fontStyle,l=0;l<4;l++)r[l]||(n[l]=!1)}catch(e){o.e(e)}finally{o.f()}return n};function $e(e){return $e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(e)}function Qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function et(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(a),!0).forEach(function(t){tt(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qe(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function tt(e,t,a){return(t=function(e){var t=function(e){if("object"!=$e(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=$e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}function nt(e,t,a){return(t=function(e){var t=function(e){if("object"!=at(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=at(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==at(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var ot={config:{tagName:"SegmentControl",key:"tabSelector",options:[{icon:"image-enhanced-kpi",ariaLabel:{desc:19962,name:"Visualization Options"}},{icon:"text-format",ariaLabel:{desc:19961,name:"Text and Form"}},{icon:"title-container",ariaLabel:{desc:12049,name:"Title and Container"}}],children:[ce,Pe,A]},properties:z,apply:function(e,t,a){if(!(z.indexOf(t)<0)){var n=JSON.parse(e.getProperty(K)),o=ie(e),r=[b.FONT_STEPS];if(n[t]!==a||r.includes(t)){var l,E={callback:function(){}},i=!0;switch(function(e,t){var a=Z(e),n=t[b.DOSSIER_FONT];if(n||(t[b.DOSSIER_FONT]=a),n!==a){for(var o=0,r=Ke;o<r.length;o++){var l=r[o];ze(l,{prop:b.FONT_FAMILY,value:a},t)}t[b.DOSSIER_FONT]=a}}(e,n),function(e,t){if(e.componentsUnifiedFontSizesInPt)for(var a=0,n=Ke;a<n.length;a++){var o=n[a];if(o!==b.TEXT_ALL_FONT_OPTIONS){if(""!==t[o].fontSize)break;var r=Ve[o],l=e.componentsUnifiedFontSizesInPt[r];ze(o,{prop:b.FONT_SIZE,value:l},t)}}}(e,n),t){case b.THRESHOLDS_SECTION:n=et(et({},n),{},tt({},b.THRESHOLDS_SECTION,{thresholds:a.thresholds})),e.savePropertyAndUpdateWidgetAsync(K,JSON.stringify(n),E),i=!1;break;case b.CARD_STYLE:var s=oe(a,n);n=et(et({},n),s);break;case b.FONT_STYLE:case b.FONT_FAMILY:case b.FONT_SIZE:case b.FONT_COLOR:case b.FONT_STEPS:!function(e,t,a){var n=t.prop,o=t.value;if(e===g.TEXT_CONTENT_TYPE.ALL)for(var r=0,l=Ke;r<l.length;r++){var E=l[r];n===b.FONT_STEPS&&0!==o?Xe(E,{prop:n,value:o},a):ze(E,{prop:n,value:o},a)}else{var i=We(e);n===b.FONT_STEPS&&0!==o?Xe(i,{prop:n,value:o},a):ze(i,{prop:n,value:o},a),n===b.FONT_FAMILY?Ze({prop:n,value:o},a,"?"):n===b.FONT_COLOR?Ze({prop:n,value:o},a,"INDETERMINATE"):n===b.FONT_STYLE&&Ze({prop:n,value:o},a)}}(n[o?b.TEXT_CONTENT_TYPE_COMPARISON:b.TEXT_CONTENT_TYPE],{prop:t,value:a},n),t===b.FONT_STYLE&&(n[t]=a);break;case b.TEXT_SIZE_TYPE:a!==n[b.TEXT_SIZE_TYPE]&&function(e){for(var t=0,a=Ke;t<a.length;t++){var n=a[t],o=e[n];e[n]=je(je({},o),{},{fontSteps:0,fontSize:""})}}(n);break;case b.REFERENCE_LINE_CONSTANT_VALUE:case b.REFERENCE_LINE_LABEL:var c=t===b.REFERENCE_LINE_CONSTANT_VALUE?{modified:"value",remained:"label"}:{modified:"label",remained:"value"},_=le(e,n),T=n[b.CREATED_REFERENCE_LINES],N=T[_];if(N)N[c.modified]=a,a||N[c.remained]||delete T[_];else{var m=(A=parseInt(n[b.CARD_STYLE]),C=Object.entries(G).find(function(e){var t,a,n=(a=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,o,r,l,E=[],i=!0,s=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(n=r.call(a)).done)&&(E.push(n.value),E.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(s)throw o}}return E}}(t,a)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Q(e,t):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=(n[0],n[1]);return A===o})[0],L.CARD_STYLES[C].FONT);T[_]=tt(tt(tt(tt({},c.remained,""),c.modified,a),"font",{fontFamily:g.REFERENCE_LINE_DEFAULT_VALUES.font.fontFamily,style:g.REFERENCE_LINE_DEFAULT_VALUES.font.style,size:g.REFERENCE_LINE_DEFAULT_VALUES.font.size,color:m}),"line",{shape:g.REFERENCE_LINE_DEFAULT_VALUES.line.shape,color:m})}e.labelsEditState[_]=!0,e.isWSLocalMode||t!==b.REFERENCE_LINE_LABEL||be(e,"referenceLineLabel",a,_),n[b.CREATED_REFERENCE_LINES]=T;break;case b.SELECTED_REFERENCE_LINE_FONT_NAME:case b.SELECTED_REFERENCE_LINE_FONT_STYLE:case b.SELECTED_REFERENCE_LINE_FONT_SIZE:case b.SELECTED_REFERENCE_LINE_FONT_COLOR:case b.SELECTED_REFERENCE_LINE_COLOR:case b.SELECTED_REFERENCE_LINE_SHAPE:var u=n[b.SELECTED_REFERENCE_LINE_TEXT_AND_FORM],I=n[b.CREATED_REFERENCE_LINES],O=I[u]||Object.values(I)[0];switch(t){case b.SELECTED_REFERENCE_LINE_FONT_NAME:O.font.fontFamily=a;break;case b.SELECTED_REFERENCE_LINE_FONT_STYLE:O.font.style=a;break;case b.SELECTED_REFERENCE_LINE_FONT_SIZE:O.font.size=a;break;case b.SELECTED_REFERENCE_LINE_FONT_COLOR:O.font.color=a;break;case b.SELECTED_REFERENCE_LINE_COLOR:O.line.color=a;break;case b.SELECTED_REFERENCE_LINE_SHAPE:O.line.shape=a}n=et(et({},n),{},tt({},b.CREATED_REFERENCE_LINES,I));break;case b.TREND_SHAPE:var d=parseInt(n[b.CARD_STYLE]);n[t]=a,n=et(et({},n),{},tt({},b.TREND_FILL_OPACITY,parseInt(oe(d,n)[b.TREND_FILL_OPACITY]))),e.animationDuration=1500;break;case b.GRID_FIX_CARD_HEIGHT_ENABLED:n[b.GRID_FIX_CARD_HEIGHT]=e.gridFixCardHeight;break;case b.STACKED_AUTO_PLAY:e.activeCardIndex=e.activeCardIndex||n[b.ACTIVE_CARD_INDEX],n[b.ACTIVE_CARD_INDEX]=a?g.FIRST_CARD_INDEX:e.activeCardIndex;break;case b.AXIS_SCALE:case b.AXIS_SCALE_COMPARISON:case b.GRID_COLUMN_COUNT:case b.LAYOUT_TYPE:e.animationDuration=1500;break;case b.SECONDARY_METRIC_NAME:if(e.secondaryMetricName===a)return;e.labelsEditState[t]=!0,e.isWSLocalMode||be(e,"previousValueLabel",a);break;case b.IMAGE_PROP_URL:var R=n[b.IMAGE_PROP_URL];if((l=R)&&(l.startsWith("data:image/svg+xml;base64,")||l.startsWith("data:image/png;base64,")||l.startsWith("data:image/jpeg;base64,")||l.startsWith("data:image/gif;base64,")||l.startsWith("data:image/webp;base64,")||l.startsWith("data:image/bmp;base64,"))?R=n[b.IMAGE_PROP_NAME]:(R=R||n[b.IMAGE_SEARCH_ICON],q(R)&&(R=R.split("/").pop())),R===a)return;return void e.urlImageAdded(a);case b.IMAGE_PROP_GALLERY:n[b.IMAGE_PROP_NAME]=a,n[b.IMAGE_PROP_URL]=a;break;case b.IMAGE_PROP_BROWSE:return mstrmojo.vi.ui.rw._ValidInputLocalImage.imageBox=e,void mstrmojo.vi.ui.rw._ValidInputLocalImage.fileSelected(a)}i&&(n=et(et({},n),{},tt({},t,a)),e.savePropertyAndUpdateWidgetAsync(K,JSON.stringify(n),E)),e.plot(n)}}var A,C},query:function(e,t){if(Object.values(b).indexOf(t)<0)return{};var a;try{a=JSON.parse(e.getProperty(K))}catch(e){return}var n=a[t],o=U(e.KPIType),r=W(e,o.METRICS),l=function(e,t){return e.zonesModel.getDropZoneObjectsByIndex(t).length}(e,o.METRICS)>1,E=W(e,o.BREAK_BY),i=W(e,o.TREND),s=e.isComparisonKPI,c=e.isRealTime,_=ie(e);switch(t){case b.EMPTY_VIZ_WARNING_MESSAGE:return{visible:!r};case b.VIZ_FIRST_TAB_SECTION:case b.VIZ_SECOND_TAB_SECTION:return{visible:r};case b.SHAPE_TYPE:return{visible:i&&!_};case b.SHAPE_TYPE_COMPARISON:return{visible:i&&_};case b.SHAPE_TYPE_COMPARISON_NO_TREND:return{visible:!i&&_};case b.BACKGROUND_SHAPE_AREA_SECTION:return{visible:!i&&!_};case b.SECONDARY_VALUE_LAYOUT:return{visible:!c&&i||_};case b.TREND_INDICATOR_LAYOUT:return{visible:i||_};case b.HIDEABLE_SECTION_TREND_SHAPE:case b.HIDEABLE_SECTION_REFERENCE_LINES:return{visible:i};case b.GRID_FIX_CARD_HEIGHT:return{value:n||e.gridFixCardHeight,visible:a[b.GRID_FIX_CARD_HEIGHT_ENABLED]};case b.LAYOUT_TYPE:return{value:n,visible:E||l};case b.TREND_INDICATOR_SHAPE:case b.TREND_INDICATOR_VALUE_TYPE:return{value:n,enable:_?a[b.COMPARISON_INDICATOR_ENABLED]:a[b.TREND_INDICATOR_ENABLED]};case b.FONT_STYLE:case b.FONT_FAMILY:case b.FONT_SIZE:case b.FONT_COLOR:case b.FONT_STEPS:if(t===b.FONT_COLOR&&_&&a[b.TEXT_CONTENT_TYPE_COMPARISON]===g.TEXT_CONTENT_TYPE.INDICATOR)return{visible:!1};if(t===b.FONT_FAMILY){var T=Z(e);if(T!==a[b.DOSSIER_FONT])return{value:T}}var N=a[_?b.TEXT_CONTENT_TYPE_COMPARISON:b.TEXT_CONTENT_TYPE],m=We(N),u=Ve[m],I=a[m],O=a[b.TEXT_SIZE_TYPE];if(t===b.FONT_SIZE&&O===g.TEXT_SIZE_TYPE.FIXED&&N!==g.TEXT_CONTENT_TYPE.ALL&&""===I[t]&&e.componentsUnifiedFontSizesInPt)return{value:e.componentsUnifiedFontSizesInPt[u]};var d=e.components[u];return t===b.FONT_STEPS&&null!=d&&d.length&&!d.some(function(e){return parseInt(e.style.fontSize)>0})?{value:-34}:{value:re(I[t]),visible:!0};case b.SELECTED_REFERENCE_LINE:var R,A,L=e.dataInterface.getColTitles(),C=L.titles.length?null===(R=L.titles[0])||void 0===R?void 0:R.es.map(function(e){return{n:e.n,dssid:e.oid}}):[];return{value:{value:(null==C?void 0:C.find(function(e){return e.dssid===n}))&&!s?n:null==C||null===(A=C[0])||void 0===A?void 0:A.dssid,items:s?[null==C?void 0:C[0]]:C}};case b.REFERENCE_LINE_CONSTANT_VALUE_WARNING:case b.REFERENCE_LINE_LABEL:case b.REFERENCE_LINE_CONSTANT_VALUE:var S=le(e,a),f=a[b.CREATED_REFERENCE_LINES][S];return nt(nt(nt({},b.REFERENCE_LINE_CONSTANT_VALUE_WARNING,{visible:!(null==f||!f.value||!isNaN(f.value))}),b.REFERENCE_LINE_LABEL,{value:(null==f?void 0:f.label)||""}),b.REFERENCE_LINE_CONSTANT_VALUE,{value:(null==f?void 0:f.value)||""})[t];case b.TEXT_AND_FORM_DROPDOWN_WITH_REFERENCE_LINES:case b.TEXT_AND_FORM_DROPDOWN_WITHOUT_REFERENCE_LINES:var p=a[b.CREATED_REFERENCE_LINES],y=!!Object.keys(p).length;return nt(nt({},b.TEXT_AND_FORM_DROPDOWN_WITH_REFERENCE_LINES,{value:n,visible:r&&y&&i}),b.TEXT_AND_FORM_DROPDOWN_WITHOUT_REFERENCE_LINES,{value:n,visible:r&&(!y||!i)})[t];case b.SELECTED_REFERENCE_LINE_TEXT_AND_FORM:var D,P,v=e.dataInterface.getColTitles(),h=v.titles.length?null===(D=v.titles[0])||void 0===D?void 0:D.es.map(function(e){return{n:e.n,dssid:e.oid}}):[],F=a[b.CREATED_REFERENCE_LINES],x=null==h?void 0:h.filter(function(e){return Object.keys(F).includes(e.dssid)});return{value:{value:(null==x?void 0:x.find(function(e){return e.dssid===n}))&&!s?n:null==x||null===(P=x[0])||void 0===P?void 0:P.dssid,items:s?[null==x?void 0:x[0]]:x}};case b.SELECTED_REFERENCE_LINE_FONT_NAME:case b.SELECTED_REFERENCE_LINE_FONT_STYLE:case b.SELECTED_REFERENCE_LINE_FONT_SIZE:case b.SELECTED_REFERENCE_LINE_FONT_COLOR:case b.SELECTED_REFERENCE_LINE_COLOR:case b.SELECTED_REFERENCE_LINE_SHAPE:var B=a[b.SELECTED_REFERENCE_LINE_TEXT_AND_FORM],M=a[b.CREATED_REFERENCE_LINES],Y=M[B]&&!s?M[B]:Object.values(M)[0];return nt(nt(nt(nt(nt(nt({},b.SELECTED_REFERENCE_LINE_FONT_NAME,{value:null==Y?void 0:Y.font.fontFamily,enable:null==Y?void 0:Y.label}),b.SELECTED_REFERENCE_LINE_FONT_STYLE,{value:null==Y?void 0:Y.font.style,enable:null==Y?void 0:Y.label}),b.SELECTED_REFERENCE_LINE_FONT_SIZE,{value:null==Y?void 0:Y.font.size,enable:null==Y?void 0:Y.label}),b.SELECTED_REFERENCE_LINE_FONT_COLOR,{value:null==Y?void 0:Y.font.color,enable:null==Y?void 0:Y.label}),b.SELECTED_REFERENCE_LINE_COLOR,{value:null==Y?void 0:Y.line.color,enable:null==Y?void 0:Y.value}),b.SELECTED_REFERENCE_LINE_SHAPE,{value:null==Y?void 0:Y.line.shape,enable:null==Y?void 0:Y.value})[t];case b.SHOW_METRIC_NAME:return{value:null!==n?n:e.showMetricName};case b.CARD_ALIGNMENT:return{value:n||e.cardAlignment};case b.SECONDARY_METRIC_NAME:return c&&!_?{disabled:!0}:{value:n||e.secondaryMetricName};case b.SECONDARY_METRIC_NAME_LABEL:case b.TREND_INCREASE_BACKGROUND_COLOR_LABEL:case b.TREND_DECREASE_BACKGROUND_COLOR_LABEL:case b.TEXT_CONTENT_TYPE:case b.TREND_INDICATOR_ENABLED:case b.TREND_INDICATOR_ENABLED_LABEL:case b.TREND_INDICATOR_SHAPE_LAYOUT:return{value:n,visible:!_};case b.SECONDARY_METRIC_NAME_LABEL_COMPARISON:case b.TREND_INCREASE_BACKGROUND_COLOR_LABEL_COMPARISON:case b.TREND_DECREASE_BACKGROUND_COLOR_LABEL_COMPARISON:case b.TEXT_CONTENT_TYPE_COMPARISON:case b.COMPARISON_INDICATOR_ENABLED:case b.COMPARISON_INDICATOR_ENABLED_LABEL:return{value:n,visible:_};case b.AXIS_SCALE:return{value:n,visible:!s};case b.AXIS_SCALE_COMPARISON:return{value:n,visible:s};case b.THRESHOLDS_SECTION:return{value:{thresholds:n,isComparisonMetricAdded:_,isTrendAttributeAdded:i}};case b.IMAGE_PROP_GALLERY:return{value:a[b.IMAGE_PROP_URL]};case b.IMAGE_PROP_URL:var V=a[b.IMAGE_PROP_NAME];return V||(V=n||a[b.IMAGE_SEARCH_ICON],q(V)&&(V=V.split("/").pop())),{value:V};case b.IMAGE_PROP_BROWSE:return{visible:!mstrmojo.imageUtils.isInStrictImageMode()};case b.IMAGE_PROP_BROWSE_DISABLED:return{visible:mstrmojo.imageUtils.isInStrictImageMode()};default:return{value:n}}}};return t})());