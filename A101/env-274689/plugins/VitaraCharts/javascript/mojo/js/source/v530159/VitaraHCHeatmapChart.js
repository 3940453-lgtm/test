mstrmojo.requiresCls("mstrmojo.plugins.VitaraCharts.v530159.VitaraHCHeatmapChartInitializer"),(()=>{var t,e={8840:()=>{function t(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var a,i,n,o,s=[],l=!0,u=!1;try{if(n=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(a=n.call(r)).done)&&(s.push(a.value),s.length!==e);l=!0);}catch(t){u=!0,i=t}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(t,r)||function(t,r){if(!t)return;if("string"==typeof t)return e(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return e(t,r)}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,o(a.key),a)}}function n(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var i=a.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:String(e)}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var a=l(t,e);if(a){var i=Object.getOwnPropertyDescriptor(a,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function l(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,a=h(t);if(e){var i=h(this).constructor;r=Reflect.construct(a,arguments,i)}else r=a.apply(this,arguments);return p(this,r)}}function p(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(){"use strict";var e,i={518:function(t,e,r){r.r(e),r.d(e,{default:function(){return s}});var a=r(475),i=r(519),n=r(520),o=function(){};vitaraJQ.extend(o.prototype,a.default.prototype,{COMPATIBLE_VERSIONS:["4.4.0.609","4.3.0.559"],getVersionDefaultForv4_3_0_559:function(){return i.default.getVersionDefaults()},getVersionDefaultForv4_4_0_609:function(){return n.default.getVersionDefaults()}});var s=o},519:function(t,e,r){r.r(e),r.d(e,{default:function(){return a}});var a={VERSION_DEFAULTS:{includeAttributeFormID:!1},getVersionDefaults:function(){return this.VERSION_DEFAULTS}}},520:function(t,e,r){r.r(e),r.d(e,{default:function(){return a}});var a={VERSION_DEFAULTS:{includeAttributeFormID:!0},getVersionDefaults:function(){return this.VERSION_DEFAULTS}}},535:function(t,e,r){r.r(e),r.d(e,{default:function(){return a}});var a={VERSION_DEFAULTS:{seriesBorderWidth:"",seriesBorderColor:""},getVersionDefaults:function(){return this.VERSION_DEFAULTS}}},536:function(t,e,r){r.r(e),r.d(e,{default:function(){return a}});var a={VERSION_DEFAULTS:{labelsAlign:"",labelsVAlign:""},getVersionDefaults:function(){return this.VERSION_DEFAULTS}}},534:function(t,e,r){r.r(e),r.d(e,{default:function(){return s}});var a=r(475),i=r(535),n=r(536),o=function(){};vitaraJQ.extend(o.prototype,a.default.prototype,{COMPATIBLE_VERSIONS:["4.5.0.673","4.5.2.697"],getVersionDefaultForv4_5_0_673:function(){return i.default.getVersionDefaults()},getVersionDefaultForv4_5_2_697:function(){return n.default.getVersionDefaults()}});var s=o},531:function(t,e,r){r.r(e),r.d(e,{VitaraHCHeatmapChartMixin:function(){return m}}),r(1);var i=r(477),o=r(468),l=r(518),c=r(532),p=r(533),f=r(534),v=r(4),m=function(t){u(r,t);var e=d(r);function r(t){var i;return a(this,r),(i=e.call(this,t)).scriptClass="mstrmojo.plugins.VitaraCharts.v530159.VitaraHCHeatmapChart",i.cssClass="VitaraHCHeatmapChart",i.NAME="Vitara Heatmap Chart",i.COLOR_PALETTE="heatmapColors",i.logEnvironmentInfo(),i}return n(r,[{key:"getDefaultColors",value:function(){return v.cloneDeep(this.defaultChartColors.heatmapColors)}},{key:"getDefaultPropertyValues",value:function(){var t=v.clone(s(h(r.prototype),"getDefaultPropertyValues",this).call(this));return t.legendEnable="true",t.legendLayout="vertical",t.legendHAlignment="right",t.legendVAlignment="top",t}},{key:"addVersionCompatibleDefaults",value:function(t){t=s(h(r.prototype),"addVersionCompatibleDefaults",this).call(this,t);var e=new l.default;return t=(new f.default).addVersionDefaults(t),e.addVersionDefaults(t)}},{key:"getPropMenuDefaults",value:function(){var t;return{includeAttributeFormID:"1",legendEnable:"1",legendCompact:"1",legendLayout:"vertical",legendHAlignment:"right",legendVAlignment:"top",heatMapDefaultColor:this.defaultChartColors.heatmapColors[0],labelsAlign:"center",labelsVAlign:"middle",sharedValueAxis:"1",seriesBorderWidth:"1",seriesBorderColor:"#e6e6e6",labelsStackTotal:(null===(t=this.vizProps)||void 0===t?void 0:t.labelsStackTotal)||"0"}}},{key:"getThresholdMapper",value:function(){return this.thresholdMapper||(this.thresholdMapper=new p.HeatMapThresholdMapper({context:this})),this.thresholdMapper}},{key:"getEditorName",value:function(){return"HeatMap"}},{key:"getDataLabelTypes",value:function(){return["labelsMin","labelsMax","labelsFirst","labelsLast"]}},{key:"getCustomLabelEditorOptions",value:function(){return[{value:"customLabel",text:"Data Label"},{value:"stackTotalLabel",text:"Total Labels"}]}},{key:"getXAxisAttribute",value:function(){if(this.getRenderedChartInstance){var t=this.getRenderedChartInstance();if(t&&t[0]&&t[0].getChartDataMapper){var e=t[0].getChartDataMapper();if(e&&e.yCategories){var r=e.yCategories;if(r&&r.length){var a=r[r.length-1];if(a&&a.name)return a.name}}}}return null}},{key:"getZoneReader",value:function(){}},{key:"getUnitRenderer",value:function(){return c.renderHCHeatmap}}]),r}(VitaraMix(i.default).with(o.default));window.VitaraHCHeatmapChartMixin=m},532:function(t,e,a){a.r(e),a.d(e,{renderHCHeatmap:function(){return l}});var i=a(45),n=a(435),o=a(399),s=a(4),l=function(t,e,r,a,i,s){this.colors=o.default.heatmapColors,this.heatmapOptions={chart:{type:"heatmap"},plotOptions:{series:{showInLegend:!1},heatmap:{marker:{enabled:!0,symbol:"rect"}}},xAxis:{labels:{overflow:"justify",enabled:!0,rotation:-45},gridLineWidth:0,minorGridLineWidth:0,tickLength:0},yAxis:{min:0,labels:{overflow:"justify",enabled:!0},gridLineWidth:0,minorGridLineWidth:0,tickLength:0},legend:{enabled:!0,align:"right",layout:"vertical",verticalAlign:"top",symbolWidth:null,labelFormatter:this.getLegendFormatter()},series:[{data:[],dataLabels:{format:"{point.fv}"}}]},n.renderGenericSeriesChart.call(this,t,e,r,this.heatmapOptions,i,s)};vitaraJQ.extend(l.prototype,n.renderGenericSeriesChart.prototype,{COLOR_PALETTE:"heatmapColors",valueMarker:"value",getLegendFormatter:function(){var t=this;return function(){return t.context.utils.formatLabel(Number(this.from),t.context.metricFormat,t.vizProps.dataLabelDisplayFormat)+" - "+t.context.utils.formatLabel(Number(this.to),t.context.metricFormat,t.vizProps.dataLabelDisplayFormat)+this.sourceLabel}},formDataElement:function(t,e){var r={};return r.name=t.xName.concat(t.yName),r.mName=t.mName,r.x=t.x,r.y=t.y,r.z=t.z,r.fv=t.fv,r.value=t.value,0===t.rawVal&&(r.className=t.className?t.className+" vitara-point-zero-visible":"vitara-point-zero-visible"),r},getHeatmapDefaultColor:function(){return void 0===this.getVizProps().heatMapDefaultColor?this.context.getDefaultColors()?this.context.getDefaultColors()[0]:"transparent":this.getVizProps().heatMapDefaultColor||"transparent"},preRenderProcessChartOptions:function(t){return this.context.metricFormat=this.chartDataMapper.dataRows.metaInfo[this.chartDataMapper.getNumAttributes()],t.colors=[this.getHeatmapDefaultColor()],t.series&&t.series[0]&&(t.series[0].color=t.colors[0]),t.series=this.setThresholds(this.context.vizProps,t.series,t),this.context.addDelayToTooltip(t),this.setTotalForAxisHeat(t),t},setTotalForAxisHeat:function(t){var e,r,a,n,o,l=i.utils.isLowerVersion("4.9.2.927",(null===(r=null===(e=this.vizProps)||void 0===e?void 0:e.lastSaveInfo)||void 0===r?void 0:r.version)||(null===(a=this.vizProps)||void 0===a?void 0:a.version));if(0!=+this.vizProps.labelsStackTotal){if(void 0===(null===(n=this.vizProps)||void 0===n?void 0:n.labelsStackTotal)&&l)return void(this.vizProps.labelsStackTotal="0");this.chartDataMapper.groupByAttributes(this.chartDataMapper.titles[0]);var u=this.chartDataMapper.getAggregatedGroupElements("",{metric:this.chartDataMapper.titles[this.chartDataMapper.numAttributes]},{format:this.vizProps.dataLabelDisplayFormat});t.xAxis=[null==t?void 0:t.xAxis],t.xAxis.push({className:"vitara-heatmap-total",linkedTo:0,opposite:!t.xAxis[0].opposite,categories:s.map(t.xAxis[0].categories,(function(t){var e=null==u?void 0:u[t];return{totalV:null==e?void 0:e.v,totalFV:null==e?void 0:e.fv}})),labels:{formatter:this.getTotalLabelFormatter(),useHTML:!0}}),this.chartDataMapper.groupByAttributes(this.chartDataMapper.titles[1]),u=this.chartDataMapper.getAggregatedGroupElements("",{metric:this.chartDataMapper.titles[this.chartDataMapper.numAttributes]},{format:this.vizProps.dataLabelDisplayFormat}),t.yAxis=[null==t?void 0:t.yAxis],t.yAxis.push({className:"vitara-heatmap-total",linkedTo:0,opposite:!t.yAxis[0].opposite,categories:s.map(t.yAxis[0].categories,(function(t){var e=null==u?void 0:u[t];return{totalV:null==e?void 0:e.v,totalFV:null==e?void 0:e.fv}})),labels:{formatter:this.getTotalLabelFormatter(),useHTML:!0}}),this.vizProps.labelsStackTotal=(null===(o=this.vizProps)||void 0===o?void 0:o.labelsStackTotal)||"1"}},getTotalLabelFormatter:function(){var t=this;return function(){return t.getDataLabel(this)}},getCustomDataLabelMentions:function(t){var e,r,a;return(null===(r=null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.name)||void 0===r?void 0:r.totalV)||(null===(a=null==t?void 0:t.value)||void 0===a?void 0:a.totalV)?this.vizProps.stackTotalLabelcolstate:this.vizProps.customLabelcolstate},getDataLabelCustomFormat:function(t){var e,r,a;return(null===(r=null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.name)||void 0===r?void 0:r.totalV)||(null===(a=null==t?void 0:t.value)||void 0===a?void 0:a.totalV)?this.vizProps.stackTotalLabel:this.vizProps.customLabel},getMetricLabel:function(t,e){var r,a,n,o=(null===(a=null===(r=null==t?void 0:t.value)||void 0===r?void 0:r.name)||void 0===a?void 0:a.totalV)||(null===(n=null==t?void 0:t.value)||void 0===n?void 0:n.totalV);return o?i.utils.formatLabel(o,this.chartDataMapper.getMetricFormatObject(this.chartDataMapper.numAttributes),e):this.shortenNumber(t,e)},isLabelRequired:function(t){return n.renderGenericSeriesChart.prototype.isLabelRequired.call(this,t)||0!=+this.vizProps.labelsStackTotal&&"object"==r(t.value)||void 0},getLabelClassName:function(t){var e,r,a,i="";return(null===(r=null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.name)||void 0===r?void 0:r.totalV)||(null===(a=null==t?void 0:t.value)||void 0===a?void 0:a.totalV)?i+="vitara-stacklabel":i+="vitara-datalabel",1==+this.vizProps.labelsWrapText&&(i+=" vitara-wrap-content"),i},shortenNumber:function(t,e){var r;return(null===(r=null==t?void 0:t.value)||void 0===r?void 0:r.totalFV)?t.value.totalFV:this.context.utils.shortenNumber(t,e)},applyColorZonesToChart:function(t,e){t&&(t.colorAxis=e)},setThresholdProperties:function(t,e){return e},setThresholds:function(t,e,r){return this.context.vizParser.processColorStopsSupport(t,e[0].name,this.getChartDataMapper()),this.context.vizParser.setDefaultThresholds(t,e,this.vizProps.colors||this.colors),t.thresholds&&(e=this.context.getThresholdHelper().processGenericThreshold(t.thresholds,e,this.getChartDataMapper(),r)),e},setLegendItemWidth:function(t){var e=this;if(t.legend&&t.legend.enabled&&"vertical"===t.legend.layout)return t;if(t.colorAxis&&t.colorAxis.dataClasses){var r=[];try{t.colorAxis.dataClasses.forEach((function(a){var i=e.getLegendFormatter().call(a);r.push(e.context.utils.getTextDimensions(i,t.legend.itemStyle.fontSize||"13px",t.legend.itemStyle.fontFamily||void 0).width)})),r.sort((function(t,e){return e-t})),r[0]&&(t.legend.itemWidth=r[0]+10)}catch(t){console.log("failed to set legend element width")}}return t},getDataPointElementType:function(){return"path"},setSeriesBorderProperties:function(t){var e=this.getVizProps().seriesBorderWidth,r=this.getVizProps().seriesBorderColor;if(void 0!==e||void 0!==r)return n.renderGenericSeriesChart.prototype.setSeriesBorderProperties.call(this,t);this.insertRule(this.getUniqueChartStyle()+" "+this.getDataPointElementType()+".vitara-point {stroke-width:1px;stroke:#e6e6e6;}")}})},533:function(t,e,r){r.r(e),r.d(e,{HeatMapThresholdMapper:function(){return i}});var i=function(t){u(r,t);var e=d(r);function r(t){return a(this,r),e.call(this,t)}return n(r,[{key:"setThreshold",value:function(t,e,a,i,n){if(e.length>0){var o=this,l=a.condition;if("between"===l||"betweenpercentage"===l||"toppercentage"===l||"bottompercentage"===l){if(e.sort((function(t,e){return t-e})),a.color){n.colorAxis||(n.colorAxis={},n.colorAxis.dataClasses=[]);var u=o.context.getChartDataMapper().isMetricOfPercentageData(i);n.colorAxis.dataClasses.push({from:"between"===l?u?a.values[0]/100:a.values[0]:e[0],to:"between"===l?u?a.values[1]/100:a.values[1]:e[e.length-1],color:a.color,colorIndex:o.context.getRenderedChartInstance()[0].getColorSpaceAllocation(1).startIndex,sourceLabel:o.getSourceLabel(o.context.getRenderedChartInstance()[0].chartDataMapper,i,a)})}var c=t.data.map((function(t){return-1!==vitaraJQ.inArray(t.datarow[i].v,e)&&(a.enableDataLabel&&(t.dataLabels||(t.dataLabels={}),t.dataLabels.enabled=!0,t.dataLabels.style=a.dataLabelStyle,o.setCustomDataLabel(t,a.customLabel)),o.setCssStyles(t,a)),t}));return t.data=c,t}return s(h(r.prototype),"setThreshold",this).call(this,t,e,a,i,n)}}}]),r}(r(509).ThresholdMapperBase)}},o={};function l(t){var e=o[t];if(void 0!==e)return e.exports;var r=o[t]={id:t,loaded:!1,exports:{}};return i[t].call(r.exports,r,r.exports,l),r.loaded=!0,r.exports}l.m=i,e=[],l.O=function(r,a,i,n){if(!a){var o=1/0;for(p=0;p<e.length;p++){for(var s=t(e[p],3),u=(a=s[0],i=s[1],n=s[2],!0),c=0;c<a.length;c++)(!1&n||o>=n)&&Object.keys(l.O).every((function(t){return l.O[t](a[c])}))?a.splice(c--,1):(u=!1,n<o&&(o=n));if(u){e.splice(p--,1);var d=i();void 0!==d&&(r=d)}}return r}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[a,i,n]},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,{a:e}),e},l.d=function(t,e){for(var r in e)l.o(e,r)&&!l.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},l.g=function(){if("object"==("undefined"==typeof globalThis?"undefined":r(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==("undefined"==typeof window?"undefined":r(window)))return window}}(),l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){var e={15:0};l.O.j=function(t){return 0===e[t]};var r=function(r,a){var i,n,o=t(a,3),s=o[0],u=o[1],c=o[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(i in u)l.o(u,i)&&(l.m[i]=u[i]);if(c)var p=c(l)}for(r&&r(a);d<s.length;d++)n=s[d],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(p)},a=self.webpackChunkwebpack_latest=self.webpackChunkwebpack_latest||[];a.forEach(r.bind(null,0)),a.push=r.bind(null,a.push.bind(a))}();var c=l.O(void 0,[34,42,33,35,38,41,36,43],(function(){return l(531)}));c=l.O(c)}()},9906:(t,e,r)=>{"use strict";var a=r(6486),i=(r(764),r(8840),r(1095));const n={PLAY_AXIS:"Play Axis",CATEGORY:"Category Axis",CATEGORY_ZONE:"Category",COLOR_BY:"Color By",SLICE_BY:"Slice By",VALUE:"Value",HORIZONTAL_VALUES:"Horizontal Axis",VERTICAL:"Vertical Axis",BUBBLE_SIZE:"Bubble Size",START_VALUE:"Start Value",END_VALUE:"End Value",TOOLTIP:"Tooltip",SMALL_MULTIPLE:"Small Multiples",ATTRIBUTES:"Attributes",METRICS:"Metrics",BREAK_BY:"Break By",DRILL_TARGET:"Drill Target",INTER_VALUE:"Intermediate Value(s)",LAST_VALUE:"Last Value",GROUP_BY:"Group By",NUMERATOR:"Ratio - Numerator Value",DENOMINATOR:"Ratio - Denominator Value",RING_1:"Ring 1 Value",RING_2:"Ring 2 Value",RING_3:"Ring 3 Value",TIME:"Time",TREND_BY:"Trend By",BAR:"Bar",MARKERS:"Markers",DATE:"Date",TOP_LABEL:"Main Label",SUB_LABEL:"Sub Label",THRESHOLD_METRICS:"Threshold Metrics",STACK_BY:"Stack By"};var o=r(6486),s=mstrmojo.declare(null,null,{MSTR_TYPE:{ATTRIBUTE:"attribute",METRIC:"metric",ATTRIBUTE_OR_METRIC:"attributeOrMetric"},ENUM_ZONES:n,isDZSupport:function(){return isMSTRDashBoard()||isMSTRDesktop()},getZoneElements:function(t,e){for(var r=[],a=0;a<t.length;a++)r.push({name:t[a].n,type:e});return r},getZoneAttributes:function(t){return this.getZoneElements(t.items,this.MSTR_TYPE.ATTRIBUTE)},getZoneMetrics:function(t){return this.getZoneElements(t.items,this.MSTR_TYPE.METRIC)},getAttributeNameByID:function(t){for(var e=this.dataHelper.data.data.gsi.rows,r=0;r<e.length;r++)if(e[r].did==t)return this.dataHelper.parseMSTRText(e[r].n)},getMetricNameByID:function(t){for(var e=this.dataHelper.data.data.gsi.mx,r=0;r<e.length;r++)if(e[r].did==t)return this.dataHelper.parseMSTRText(e[r].n);if(isMSTRMobile()&&isMSTRDashBoard()){var a=this.dataHelper.data.getColTitles();if(a&&a.titles&&a.titles[0]){var i=a.titles[0].es||[];for(r=0;r<i.length;r++)if(i[r].oid===t)return this.dataHelper.parseMSTRText(i[r].n)}}},getZoneElementId:function(t,e){var r=t&&t.id;return this.dataHelper&&e===this.MSTR_TYPE.ATTRIBUTE?this.dataHelper.getCompatibleAttrId(r):r},createZoneElements:function(t,e,r){t=o.uniqWith(t,o.isEqual);for(var a=[],i=0;i<t.length;i++)a.push({name:r.call(this,t[i].id),type:e,id:this.getZoneElementId(t[i],e)});return a},getElementType:function(t){var e=t&&t[0]?t[0]:void 0;return e&&e.t&&4===e.t?this.MSTR_TYPE.METRIC:this.MSTR_TYPE.ATTRIBUTE},formAttributeOrMetricZoneData:function(t){return this.getElementType(t)===this.MSTR_TYPE.ATTRIBUTE?this.formAttributeZoneData(t):this.formMetricZoneData(t)},formAttributeZoneData:function(t){return this.createZoneElements(t,this.MSTR_TYPE.ATTRIBUTE,this.getAttributeNameByID)},formMetricZoneData:function(t){return this.createZoneElements(t,this.MSTR_TYPE.METRIC,this.getMetricNameByID)},getElementsFromZoneByName:function(t,e,r){if(t&&t.getDropZoneObjectsByName){var a=t.getDropZoneObjectsByName(e);if(a.length>0)return r==this.MSTR_TYPE.ATTRIBUTE_OR_METRIC?this.formAttributeOrMetricZoneData(a):r==this.MSTR_TYPE.ATTRIBUTE?this.formAttributeZoneData(a):this.formMetricZoneData(a)}},getZoneData:function(t,e,r){return{}},getDropZoneElements:function(t,e){if(this.dataHelper||(this.dataHelper=e),!this.dataHelper)return"";var r=this;try{if(!this.isDZSupport())return this.dataHelper.getTitles();if(!t)return"";var a={};return o.each(this.ZONES,(function(e,i){o.each(r.MSTR_TYPE,(function(i,n){if(!a[e]){var s=o.filter(r.getElementsFromZoneByName(t,e,i),(function(t){return t&&void 0!==t.name}));s&&s.length>0&&(a[e]=s)}}))})),a}catch(t){return"unable to retrieve drop zone data: "+t.message}}}),l=mstrmojo.declare(s,null,{scriptClass:"mstrmojo.plugins.VitaraCharts.v530159.VitaraHCHeatMapDropZoneReader",getZoneData:function(t,e,r,a){var i={},n=this.MSTR_TYPE;if(this.dataHelper=a,this.isDZSupport()){var o=t.getZones();for(var s in i.xaxis=this.getElementsFromZoneByName(t,o.CATEGORY,n.ATTRIBUTE),i.yaxis=this.getElementsFromZoneByName(t,o.VERTICAL,n.ATTRIBUTE),i.smallMultiple=this.getElementsFromZoneByName(t,o.SMALL_MULTIPLE,n.ATTRIBUTE),i.values=this.getElementsFromZoneByName(t,o.VALUE,n.METRIC),i)void 0!==i[s]&&0!=i[s].length||delete i[s]}else{if(1==+r.enableTrellis){i.smallMultiple=e.getAttributeAtIndexAsZones(0),i.yaxis=e.getLastAttributeAsZones();var l=e.getAllAttributesAsZones();i.xaxis=l.slice(1,l.length-1)}else i.yaxis=e.getLastAttributeAsZones(),i.xaxis=e.getAllButLastAttributeAsZones();i.values=e.getFirstMetricAsZones()}return i}}),u=r(4089);function c(t){t&&this.setContext(t)}Object.assign(c.prototype,u.Z.prototype,{getCustomFields:function(){return{seriesColors:{id:"seriesColors",type:"select",name:"seriesColors",class:"seriesColors",options:this.getFieldDefs().getOptions().heatMapColorOptions}}},getCustomProperty:function(){return[this.HeatMapAppearanceProperties(),this.AxisProperties({excludeYAxisMinMax:!0,excludeYAxisMetricFormat:!0,includeYAxisLabelTruc:!0}),this.BackgroundProperties(),this.modifyFields(this.DataLabelsProperties(),["dataLabelsDisplayStyle"]),this.LegendProperties(),this.TooltipProperties(),this.ThresholdsPropertiesType2(),this.getHeatMapProperties(),this.SecurityProperties(),this.getAboutChartMenu()]},getExtraDataLabelsProperties:function(){return[{label:"Total Labels",fields:["labelsStackTotal"]},{fields:["labelsMin","dl_label_min","labelsMax","dl_label_max"]},{fields:["labelsFirst","dl_label_first","labelsLast","dl_label_last"]}]},getExtraDataLabelsFormatProperties:function(){return[{label:"",fields:["stackTotalLabelEditor"]},{label:"",fields:["applystackTotalLabel"]}]},addTickIntervalProperties:function(t){return t},getHeatMapProperties:function(){return{label:"Heatmap",id:"heatmap",containers:[{title:"Cell Border Properties",data:this.BorderProperties()}]}}}),r.g.vitaraLD||(r.g.vitaraLD=a),mstrmojo.plugins.VitaraCharts.v530159.VitaraHCHeatmapChart=mstrmojo.declare(i.Z,[],{scriptClass:"mstrmojo.plugins.VitaraCharts.v530159.VitaraHCHeatmapChart",cssClass:"VitaraHCHeatmapChart",getVisualInstance:function(){return this.visualInstance||(this.visualInstance=new VitaraHCHeatmapChartMixin(this),this.visualInstance.updateVisualProps=this.updateVisualProps),this.visualInstance},getEditorName:function(){return"HeatMap"},getEditor:function(t){return this.propsEditor||(this.propsEditor=new c(t)),this.propsEditor},getZoneReader:function(){return this.zoneReader||(this.zoneReader=new l),this.zoneReader},validateMinCriteria:function(t,e){if(this.getZoneReader().isDZSupport()){var r={valid:!0,message:""},a=this.zonesModel.getZones();if(0==this.zonesModel.getDropZoneObjectsByName(a.CATEGORY).length||0==this.zonesModel.getDropZoneObjectsByName(a.VERTICAL).length||0==this.zonesModel.getDropZoneObjectsByName(a.VALUE).length)return r.valid=!1,r.message="Include at least one metric and two attributes to see the chart. Include additional metrics in tooltip",r}return{valid:e>0&&t>1,message:"Include at least one metric and two attributes to see the chart."}},getChartSpecificConfigProperties:function(t){return a.includes(t,"vitara-chart-container")?["catAxis","valAxis"]:this._super(t)},getPropertyDisplayName:function(t){switch(t){default:return this._super(t);case"catAxis":return"X Axis";case"valAxis":return"Y Axis"}}})}},r={};function a(t){var i=r[t];if(void 0!==i)return i.exports;var n=r[t]={id:t,loaded:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=e,t=[],a.O=(e,r,i,n)=>{if(!r){var o=1/0;for(c=0;c<t.length;c++){for(var[r,i,n]=t[c],s=!0,l=0;l<r.length;l++)(!1&n||o>=n)&&Object.keys(a.O).every(t=>a.O[t](r[l]))?r.splice(l--,1):(s=!1,n<o&&(o=n));if(s){t.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[r,i,n]},a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t={263:0};a.O.j=e=>0===t[e];var e=(e,r)=>{var i,n,[o,s,l]=r,u=0;if(o.some(e=>0!==t[e])){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(l)var c=l(a)}for(e&&e(r);u<o.length;u++)n=o[u],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(c)},r=self.webpackChunkVitaraCharts_MicroStrategy=self.webpackChunkVitaraCharts_MicroStrategy||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var i=a.O(void 0,[445,915,89],()=>a(9906));i=a.O(i)})();
