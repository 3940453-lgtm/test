 mstrmojo.plugins.VitaraCharts||(mstrmojo.plugins.VitaraCharts={}),(()=>{"use strict";var e,t={263:(e,t,o)=>{o.d(t,{o:()=>r});void 0===mstrmojo.plugins.VitaraCharts.v530159&&(mstrmojo.plugins.VitaraCharts.v530159={}),void 0===mstrmojo.plugins.VitaraCharts.v530159.dropZones&&(mstrmojo.plugins.VitaraCharts.v530159.dropZones={}),mstrmojo.requiresCls("mstrmojo.vi.models.CustomVisDropZones");var r=mstrmojo.declare(mstrmojo.vi.models.CustomVisDropZones,null,{ENUM_ZONES:{PLAY_AXIS:"Play Axis",CATEGORY:"Category Axis",CATEGORY_ZONE:"Category",COLOR_BY:"Color By",SLICE_BY:"Slice By",VALUE:"Value",HORIZONTAL_VALUES:"Horizontal Axis",VERTICAL:"Vertical Axis",BUBBLE_SIZE:"Bubble Size",START_VALUE:"Start Value",END_VALUE:"End Value",TOOLTIP:"Tooltip",SMALL_MULTIPLE:"Small Multiples",ATTRIBUTES:"Attributes",METRICS:"Metrics",BREAK_BY:"Break By",DRILL_TARGET:"Drill Target",INTER_VALUE:"Intermediate Value(s)",LAST_VALUE:"Last Value",GROUP_BY:"Group By",NUMERATOR:"Ratio - Numerator Value",DENOMINATOR:"Ratio - Denominator Value",RING_1:"Ring 1 Value",RING_2:"Ring 2 Value",RING_3:"Ring 3 Value",TIME:"Time",TREND_BY:"Trend By",BAR:"Bar",MARKERS:"Markers",DATE:"Date",TOP_LABEL:"Main Label",SUB_LABEL:"Sub Label",THRESHOLD_METRICS:"Threshold Metrics",STACK_BY:"Stack By"},DROPZONES:null,scriptClass:"mstrmojo.plugins.VitaraCharts.v530159.dropZones.VitaraDropZonesBase",getCustomDropZones:function(){var e=mstrmojo.vi.models.CustomVisDropZones.ENUM_ALLOW_DROP_TYPE,t=this.getZones();return[{name:t.ATTRIBUTES,title:mstrmojo.desc(13828,"Drag attributes here"),allowObjectType:e.ATTRIBUTE,disabled:!1},{name:t.METRICS,title:mstrmojo.desc(13827,"Drag metrics here"),allowObjectType:e.METRIC,disabled:!1}]},getZones:function(){var e=this;return this.DROPZONES||(this.DROPZONES={},this.ZONES.forEach((function(t){var o;e.DROPZONES[t]=(null==e||null===(o=e.getConvertedLangString)||void 0===o?void 0:o.call(e,e.ENUM_ZONES[t]))||e.ENUM_ZONES[t]}))),this.DROPZONES},getIndex:function(e,t,o){return vitaraLD.findIndex(e,(function(e){return e[t]==o}))},getRemoveAttrfrmOptions:function(e){try{var t=this.getIndex(e.contents,"scriptClass","mstrmojo.ui.Pulldown"),o=-1!==t?this.getIndex(e.contents[t].items,"n","Automatic"):-1;if(-1===o)throw new Error("failed to remove attr forms options");return e.contents[t].items=[e.contents[t].items[o]],e.contents[t].selectedIndex=0,e}catch(t){return console.error(t),e}},getDropZoneContextMenuItems:function(e,t,o,r){var s=this;this.shouldShowDisplayFormsMenu(o)&&e.addEditorMenuItem(mstrmojo.desc(11908,"Display Attribute Forms"),this.id,(function(){return s.getRemoveAttrfrmOptions(s.getDisplayFormsMenu(o))}))},getConvertedLangString:function(e){var t,o;if("undefined"!=typeof VitaraGlobal)return null===(t=VitaraGlobal)||void 0===t||null===(t=t.globalUtils)||void 0===t||t.getLanguageMap(getBaseFilePath()),null===(o=VitaraGlobal)||void 0===o||null===(o=o.globalUtils)||void 0===o?void 0:o.convertStringLanguage(e)},shouldAllowObjectsInDropZone:function(e,t,o,r,s){return{allowedItems:vitaraLD.filter(t,(function(e){return!0}))}},removeItemsFromZone:function(e,t,o){var r=this;vitaraLD.forEach(e,(function(e){r.isObjectInZone(e,o)&&r.getRemoveDropZoneObjectsActions(t,o,e)}))}})}},o={};function r(e){var s=o[e];if(void 0!==s)return s.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=r(263),mstrmojo.plugins.VitaraCharts.v530159.dropZones.VitaraHCBulletDropZones=mstrmojo.declare(e.o,null,{ZONES:["PLAY_AXIS","CATEGORY","SMALL_MULTIPLE","BAR","TOOLTIP","MARKERS"],scriptClass:"mstrmojo.plugins.VitaraCharts.v530159.dropZones.VitaraHCBulletDropZones",getCustomDropZones:function(){var e=mstrmojo.vi.models.CustomVisDropZones.ENUM_ALLOW_DROP_TYPE,t=this.getZones();return[{name:t.CATEGORY,maxCapacity:1,title:mstrmojo.desc(13828,"Drag attributes here"),allowObjectType:e.ATTRIBUTE,disabled:!1},{name:t.BAR,title:mstrmojo.desc(13827,"Drag metric here"),maxCapacity:1,allowObjectType:e.METRIC,disabled:!1},{name:t.MARKERS,title:mstrmojo.desc(13827,"Drag metrics here"),allowObjectType:e.METRIC,disabled:!1},{name:t.TOOLTIP,title:mstrmojo.desc(13827,"Drag metrics here"),allowObjectType:e.METRIC,disabled:!1},{name:t.PLAY_AXIS,title:mstrmojo.desc(13828,"Drag attribute here"),maxCapacity:1,allowObjectType:e.ATTRIBUTE,disabled:this.getDropZoneObjectsByIndex(5).length>0},{name:t.SMALL_MULTIPLE,title:mstrmojo.desc(13828,"Drag attributes here"),maxCapacity:1,allowObjectType:e.ATTRIBUTE,disabled:this.getDropZoneObjectsByIndex(4).length>0}]},shouldAllowObjectsInDropZone:function(e,t,o,r,s){var n=[];return e.enabled&&(n=mstrmojo.array.filter(t,(function(e){return!0}))),{allowedItems:n}},getActionsForObjectsDropped:function(e,t,o,r,s){var n=this,a=[],i=n.getZones();switch(n.getDropZoneName(e)){case i.BAR:n.getAddDropZoneObjectsActions(a,i.TOOLTIP,t,o,s),vitaraLD.forEach(t,(function(e){n.isObjectInZone(e,i.MARKERS)&&n.getRemoveDropZoneObjectsActions(a,i.MARKERS,e)}));break;case i.MARKERS:n.getAddDropZoneObjectsActions(a,i.TOOLTIP,t,o,s),vitaraLD.forEach(t,(function(e){n.isObjectInZone(e,i.BAR)&&n.getRemoveDropZoneObjectsActions(a,i.BAR,e)}));break;case i.PLAY_AXIS:n.removeItemsFromZone(t,a,i.SMALL_MULTIPLE),vitaraLD.forEach(t,(function(e){n.isObjectInZone(e,i.CATEGORY)&&n.getRemoveDropZoneObjectsActions(a,i.CATEGORY,e)}));break;case i.CATEGORY:n.removeItemsFromZone(t,a,i.SMALL_MULTIPLE),vitaraLD.forEach(t,(function(e){n.isObjectInZone(e,i.PLAY_AXIS)&&n.getRemoveDropZoneObjectsActions(a,i.PLAY_AXIS,e)}));break;case i.SMALL_MULTIPLE:n.removeItemsFromZone(t,a,i.CATEGORY),n.removeItemsFromZone(t,a,i.PLAY_AXIS)}return a},getActionsForObjectsRemoved:function(e,t){var o=this,r=[],s=o.getZones();switch(o.getDropZoneName(e)){case s.BAR:case s.MARKERS:o.getRemoveDropZoneObjectsActions(r,s.TOOLTIP,t)}return r}})})();
