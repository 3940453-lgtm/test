"use strict";(self.webpackChunkwebpack_latest=self.webpackChunkwebpack_latest||[]).push([[47],{634:(t,e,i)=>{i.r(e),i.d(e,{renderBubbleChart:()=>n});var s=i(45),r=i(635),a=i(399),o=i(4),n=function(t,e,i,s,o,n){this.isSizeByExists(t)&&(this.bubbleOptions={chart:{type:"bubble",zoomType:"xy"},colors:a.default.bubbleColors,plotOptions:{bubble:{grouping:!0,minSize:4,maxSize:40},series:{dataLabels:{},marker:{enabled:!0},animation:!1}},seriesSetup:{}}),this.bubbleOptions=Highcharts.merge(this.bubbleOptions||{},s||{}),r.renderHCScatterChart.call(this,t,e,i,this.bubbleOptions,o,n)};vitaraJQ.extend(n.prototype,r.renderHCScatterChart.prototype,{COLOR_PALETTE:"bubbleColors",VALUE_MARKER:"y",CHART_TYPE:"Bubble",getZoneData:function(t){return this.context.getZoneData(t)},setThresholdProperties:function(t,e){return this.context.getThresholdHelper().pickFromSource=!0,r.renderHCScatterChart.prototype.setThresholdProperties.call(this,t,e)},isSizeByExists:function(t){if(!isMSTRDashBoard()&&!isMSTRDesktop()||isMSTRMobile())this.sizeByLength=t.numMetrics>2?1:0;else{let e=t.context.zonesModel;e&&e.getDropZoneObjectsByName&&(this.sizeByLength=e.getDropZoneObjectsByName(e.getZones().BUBBLE_SIZE).length)}return!!(this.sizeByLength&&this.sizeByLength>0)},getSequencePoints:function(t,e){for(var i=[],s=0;s<t.length;s++)t[s].slc==e&&i.push(t[s]);return i},setSequencePoints:function(t,e,i){for(var s=0;s<t.length;s++)e[s].sequence[i]=t[s];return e},mapSeriesElemsInSequence:function(t,e,i,s,r,a){for(var o=0;o<e.length;o++){var n=t[o].name,l=vitaraJQ.inArray(n,i);e[l]=this.getSeriesObject(t[o],e[l]);for(var h=0;h<a;h++){var x=this.getSequencePoints(t[o].data,h);e[o].data=this.setSequencePoints(x,e[o].data,h)}}return e},getNumSequences:function(t){for(var e=[],i=0;i<t.series.length;i++)e.push(t.series[i].data.length);return e.sort((function(t,e){return t-e})),e[e.length-1]},getFixedScaleValueAxis:function(t,e){let i=this.getHorzAxisColumnIndex(),s=this.getVerticalAxisColumnIndex();var r=this.getChartDataMapper(),a=r.numColumns-r.numAttributes,o={xAxis:{min:r.stats().getMinValue(i),max:r.stats().getMaxValue(i)},yAxis:{min:r.stats().getMinValue(s),max:r.stats().getMaxValue(s)}};if(a>2){var n=20*o.yAxis.max/100,l=20*o.xAxis.max/100;o.xAxis.min-=l,o.xAxis.max+=l,o.yAxis.min-=n,o.yAxis.max+=n,o=vitaraJQ.extend(o,{plotOptions:{bubble:{minSize:"8%",maxSize:"20%"}}})}return vitaraJQ.extend(t,o)},addCustomPlotLine:function(t){var e,i,s;if(null===(i=null===(e=this.vizProps)||void 0===e?void 0:e.plotLines)||void 0===i?void 0:i.length){var r,a,n,l,h,x=t.plotLeft,c=t.plotHeight,u=t.yAxis[0].max/t.xAxis[0].max;if(null===(s=null==this?void 0:this.vizProps)||void 0===s?void 0:s.plotLines.length){var p=function(t,e){return e?"highcharts-plot-line "+t.label.className:"highcharts-plot-line "+t.className};o.each(this.vizProps.plotLines,(function(e,i){if((r=+e.slopeValue)||r===Math.round(u)){r<0&&(x=t.xAxis[0].toPixels(0),c=t.yAxis[0].toPixels(0)),l=r>u?t.xAxis[0].toPixels(t.yAxis[0].max/r):t.xAxis[0].toPixels(t.xAxis[0].max),h=r>u?t.yAxis[0].toPixels(t.yAxis[0].max):t.yAxis[0].toPixels(r*t.xAxis[0].max),n=Math.atan((x-c)/(l-h)),a=180*n/Math.PI;let i=t.renderer.g("highcharts-plot-line").add();if(t.renderer.path(["M",x,c,"L",l,h,"Z"]).attr({class:p(e.formatting)}).add(i),+e.lblEnable){let s="bottom"===e.formatting.label.verticalAlign?x:l-40,r="bottom"===e.formatting.label.verticalAlign?c+10:x;t.renderer.text(e.label,s,r,!0).attr({class:p(e.formatting,!0),rotation:a}).css({padding:"5px"}).add(i)}}}))}}},setPlotLines:function(t){t.xAxis&&t.yAxis&&this.vizProps.plotLines&&this.vizProps.plotLines.length>0&&(this.getPlotLineHelper().cleanUpPlotLines(this.vizProps.plotLines),t.xAxis.plotLines=this.getPlotLineHelper().getHCPlotLines(this.vizProps.plotLines.filter((function(t){return 2==t.target}))),t.yAxis.plotLines=this.getPlotLineHelper().getHCPlotLines(this.vizProps.plotLines.filter((function(t){return 0==t.target}))))},addPlotLineLabelClass:function(){var t=this;this.vizProps.plotLines&&this.vizProps.plotLines.length>0&&o.each(this.vizProps.plotLines,(function(e){3==e.target&&e.slopeValue&&t.getPlotLineHelper().processPlotLine(e)}))},processChartSpecificStyledModeOptions:function(t){var e,i=this,s=(null===(e=null==this?void 0:this.getVizProps())||void 0===e?void 0:e.plotLines)||(null==t?void 0:t.plotLines);s&&o.each(s,(function(t){var e,s,r;if(t.formatting.label&&t.slopeValue){var a=i.getUniqueChartStyle()+" ."+t.formatting.label.className;let o=(null===(s=null===(e=vitaraJQ.parseHTML(t.formatting.label.text))||void 0===e?void 0:e.children)||void 0===s?void 0:s[0].style)||(null===(r=vitaraJQ.parseHTML(t.formatting.label.text))||void 0===r?void 0:r[0].style);t.formatting.label.style={color:o.color,fontFamily:o.fontFamily||"Arial",fontWeight:o.fontWeight,fontSize:o.fontSize,"text-decoration":o.textDecorationLine,fontStyle:o.fontStyle},i.insertRule(a+" "+i.getStringCss(["fontSize","fontWeight","fontStyle","fontFamily","text-decoration","color"],t.formatting.label.style,"plotline"))}}))},plotThresholdBackground:function(){if(this.vizProps.thresholds&&this.vizProps.thresholds["Chart Background"]){var t=this.vizProps.thresholds["Chart Background"];if(t&&t.length)for(var e=0;e<t.length;e++){var i=this.context.getThresholdHelper().getPlotLineByLabel(t[e].source,this.vizProps.plotLines),s="abovetheline"===t[e].condition;i&&(2==i.target?this.getPlotLineHelper().drawHCPlotBackgroundVertical(this.renderedChart,i,s,{fill:t[e].color,zIndex:1}):this.getPlotLineHelper().drawHCPlotBackground(this.renderedChart,i,s,{fill:t[e].color,zIndex:1}))}}},isTypeCatgeoryAxis:function(t){return t&&t.type&&"category"===t.type||t&&void 0!==t.categories},preRenderProcessChartOptions:function(t){return this.isTypeCatgeoryAxis(t.xAxis)||this.context.vizParser.processXAxisMinMax(t,this.vizProps,this.chartDataMapper),this.isTypeCatgeoryAxis(t.yAxis)||this.context.vizParser.processYAxisMinMax(t,this.vizProps,this.chartDataMapper),t.plotOptions.series.dataLabels.enabled&&(t.textStyleColor&&""!==t.textStyleColor||(t.textStyleColor="black",t.plotOptions.series.dataLabels.style.color="black")),this.setYAxisLabelFormatter(t),this.setPlotLines(t),this.addPlotLineLabelClass(),this.setBubbleMinMax(t),this.updateSeriesType(t),t},updateSeriesType:function(t){o.each(t.series,e=>{e.type=t.chart.type})},setBubbleMinMax:function(t){if(void 0===t.plotOptions.bubble)return;let e=this.vizProps.minBubbleSize,i=this.vizProps.maxBubbleSize;null!=e&&""!==e||(e=4),null!=i&&""!==i||(i=40),t.plotOptions.bubble.minSize=e,t.plotOptions.bubble.maxSize=i},setYAxisLabelFormatter:function(t){let e=this.getHorzAxisColumnIndex(),i=this.getVerticalAxisColumnIndex();var s=this.isYAxisFormatsInPercentOnly(t),r=this.getAxisDurationFormat();this.isTypeCatgeoryAxis(t.xAxis)||(r&&r.xAxis?(t.xAxis.labels.durationFormat=r.xAxis,t.xAxis.labels.formatter=this.getYAxisDurationFormatter()):1==+this.getVizProps().useXAxisMetricFormat?(t.xAxis.labels.mIndex=e,t.xAxis.labels.formatter=this.getYAxisMetricFormatter()):s.xAxis.isPercent&&(t.xAxis.labels.formatter=this.yAxisPercentFormatter,t.xAxis.labels.precision=s.xAxis.precision)),this.isTypeCatgeoryAxis(t.yAxis)||(r&&r.yAxis?(t.yAxis.labels.durationFormat=r.yAxis,t.yAxis.labels.formatter=this.getYAxisDurationFormatter()):1==+this.getVizProps().useYAxisMetricFormat?(t.yAxis.labels.mIndex=i,t.yAxis.labels.formatter=this.getYAxisMetricFormatter()):s.yAxis.isPercent&&(t.yAxis.labels.formatter=this.yAxisPercentFormatter,t.yAxis.labels.precision=s.yAxis.precision))},isYAxisFormatsInPercentOnly:function(t){let e=this.getHorzAxisColumnIndex(),i=this.getVerticalAxisColumnIndex();var r={xAxis:{isPercent:!1,precision:0},yAxis:{isPercent:!1,precision:0}};return!this.isTypeCatgeoryAxis(t.xAxis)&&this.chartDataMapper.isMetricOfPercentageData(e)&&(r.xAxis.isPercent=!0,r.xAxis.precision=s.utils.getPrecision(this.chartDataMapper.getMetricFormat(e))),!this.isTypeCatgeoryAxis(t.yAxis)&&this.chartDataMapper.isMetricOfPercentageData(i)&&(r.yAxis.isPercent=!0,r.yAxis.precision=s.utils.getPrecision(this.chartDataMapper.getMetricFormat(i))),r},getAxisDurationFormat:function(){let t=this.getChartDataMapper(),e={};if(t){let i=this.getHorzAxisColumnIndex(),s=t.getMetricFormatObject(i);e.xAxis=s&&s.durationFormat;let r=this.getVerticalAxisColumnIndex(),a=t.getMetricFormatObject(r);e.yAxis=a&&a.durationFormat}return e},isPercentageMetric:function(t){if(t){var e=this.chartDataMapper.getMetricFormatObject(t);return e?s.utils.isPercentageFormat(e.formattedValue,e.maxValue):s.utils.isPercent(this.chartDataMapper.getMetricFormat(t))}},valueMarkerOnPlayBy:"x",sliceMarkerOnPlayBy:"slc",markMinMaxOnPlayBy:function(t,e,i){for(var s=[],r=0;r<t.length;r++)for(var a=0;a<t[r].data.length;a++)s[t[r].data[a][i]]||(s[t[r].data[a][i]]=[]),s[t[r].data[a][i]].push(t[r].data[a][e]);for(r=0;r<s.length;r++)s[r].sort((function(t,e){return t-e}));for(r=0;r<t.length;r++)for(a=0;a<t[r].data.length;a++)s[t[r].data[a][i]]&&(t[r].data[a][e]==s[t[r].data[a][i]][0]&&(t[r].data[a].isMinVal=!0),t[r].data[a][e]==s[t[r].data[a][i]][s[t[r].data[a][i]].length-1]&&(t[r].data[a].isMaxVal=!0));return t},getHorzAxisColumnIndex:function(){let t=this.context.getZoneData(this.getChartDataMapper());return this.getChartDataMapper().getColumnIndexById(t.xaxis[0].id)},getVerticalAxisColumnIndex:function(){let t=this.context.getZoneData(this.getChartDataMapper());return this.getChartDataMapper().getColumnIndexById(t.yaxis[0].id)}})},635:(t,e,i)=>{i.r(e),i.d(e,{renderHCScatterChart:()=>a});var s=i(435),r=i(4),a=function(t,e,i,r,a,o){this.PERF_ROW_LIMIT=4e3,this.PERF_SERIES_LIMIT=10,this.scatterOptions={chart:{type:"scatter",zoomType:"xy"},xAxis:{dateTimeLabelFormats:{month:"%b'%y"},isValueAxis:!0,valueMarker:"x"},plotOptions:{series:{marker:{enabled:!0}}},seriesSetup:{}},t.numRows>this.PERF_ROW_LIMIT&&(this.scatterOptions.plotOptions.series.marker.radius=1,this.scatterOptions.plotOptions.series.marker.symbol="square"),vitaraJQ.extend(this.scatterOptions,r||{}),s.renderGenericSeriesChart.call(this,t,e,i,this.scatterOptions,a,o)};vitaraJQ.extend(a.prototype,s.renderGenericSeriesChart.prototype,{getZoneData:function(t){var e={};return 1==this.vizProps.playByAttribute?(e.sliceby=t.getAttributeAtIndexAsZones(0),e.groupby=t.getAttributeAtIndexAsZones(1),e.xaxis=t.getMetricAtIndexAsZones(0),e.yaxis=t.getMetricAtIndexAsZones(1)):(e.groupby=t.getAttributeAtIndexAsZones(0),e.xaxis=t.getMetricAtIndexAsZones(0),e.yaxis=t.getMetricAtIndexAsZones(1)),e},isNotNumber:function(t){return"number"!=typeof t},setSvgMarkerOptions:function(t){let e=this.getVizProps();t&&e&&"vitaraCustomSVGFile"===e.markerType&&e.svgMarkerOptions&&(t.marker||(t.marker={}),t.marker.svgOptions=vitaraJQ.extend(e.svgMarkerOptions.markerType,this.context.getCustomSVGFilePaths()))},setCategories:function(t,e,i){return e&&i?(i[t]=vitaraJQ.extend({},i[t],{categories:e,type:"category",isValueAxis:!1,min:"yAxis"===t?0:i[t].min}),i):i},setXCategories:function(t,e){return this.setCategories("xAxis",t,e)},setYCatgeories:function(t,e){return this.setCategories("yAxis",t,e)},hasCatgeoryAxis:function(){let t=this.getDropZoneChartConfig();return t&&void 0!==t.categories},getDropZoneChartConfig:function(){if(this.dzChartConfig)return this.dzChartConfig;if(!this.context.getZoneData)return;let t=this.context.getZoneData(this.getChartDataMapper());if(!t)return;let e=t.yaxis&&t.yaxis[0]?t.yaxis[0]:void 0,i=t.xaxis&&t.xaxis[0]?t.xaxis[0]:void 0;return e&&i?(this.dzChartConfig={categories:void 0},"attribute"===e.type&&"attribute"===i.type?this.dzChartConfig.categories="xy":"attribute"===e.type?this.dzChartConfig.categories="x":"attribute"===i.type&&(this.dzChartConfig.categories="y"),this.dzChartConfig):void 0},formDataElement:function(t,e,i){let s=this.getDropZoneChartConfig();var a={};return"x"===s.categories?(a.x=t.y,a.y=t.x):"xy"===s.categories?(a.x=t.x,a.y=r.findIndex(this.chartDataMapper.uniqueYArray,e=>e[0]===r.get(t,"yName[0]"))):(a.x=t.x,a.y=t.y),a.z=t.z,a.xfv=t.xfv,a.yfv=t.yfv,a.zfv=t.zfv,a.fv=t.fv,a.slc=i[i.length-1].slc,a.name=[t.sName],a.mName=[t.mName],0===t.rawVal&&(a.className=t.className?t.className+" vitara-point-zero-visible":"vitara-point-zero-visible"),this.numAttributes>1&&a.name.push(i[1].t),(this.isNotNumber(a.x)||this.isNotNumber(a.y))&&(a.x=void 0,a.y=void 0),this.setSvgMarkerOptions(a),a},switchedGroupingtoBreakBy:function(){},getCreateDefaultLabel:function(t,e,i){var s="";if(t.dName?s+=t.dName:t.sName&&(s+=t.sName),this.chartDataMapper.numAttributes>1)for(var r=1;r<this.chartDataMapper.numAttributes;r++)s+=", ",s+=i[r].t;return s+="<br/>",t.mName&&(s+=t.mName+" : <b>"+this.getFormattedValueForMetric({v:t.rawVal,fv:t.fv})+"</b>"),s},getMetricLabel:function(t,e){return this.context.utils.isOlderVersion(this.getVizProps(),"4.1.0.442")?this.context.utils.shortenNumber({rawVal:t.x,fv:t.xfv},e):isNaN(t.z)?this.context.utils.shortenNumber({rawVal:t.x,fv:t.xfv},e)+", "+this.context.utils.shortenNumber({rawVal:t.y,fv:t.yfv},e):this.context.utils.shortenNumber({rawVal:t.z,fv:t.zfv},e)},formChartOptions:function(){this.dzChartConfig=void 0,s.renderGenericSeriesChart.prototype.formChartOptions.call(this)}})}}]);mstrmojo.plugins.VitaraCharts.v530159[47] = mstrmojo.plugins.VitaraCharts.v530159[47] || {};
