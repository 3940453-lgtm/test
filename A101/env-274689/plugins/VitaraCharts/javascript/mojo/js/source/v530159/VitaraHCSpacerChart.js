mstrmojo.requiresCls("mstrmojo.plugins.VitaraCharts.v530159.VitaraHCSpacerChartInitializer"),(()=>{var t,e={9094:()=>{function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,l=[],u=!0,s=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(t){s=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:String(r)}function o(){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=a(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function a(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=c(t);if(e){var i=c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,r){if(r&&("object"===t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(){"use strict";var r,i={654:function(t,e,r){r.r(e),r.d(e,{VitaraHCSpacerChartMixin:function(){return h}}),r(1);var i=r(477),a=r(283),s=r(234),f=r(4),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(p,t);var e,r,i,h=u(p);function p(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(e=h.call(this,t)).scriptClass="mstrmojo.plugins.VitaraCharts.v530159.VitaraHCSpacerChart",e.cssClass="VitaraHCSpacerChart",e.NAME="Vitara Text",e.logEnvironmentInfo(),e}return e=p,(r=[{key:"getChartSpecificMentions",value:function(){return this.isTypeOfIBCSChart(this.findLink())?["chart.count","chart.list","chart.dataTypes","chart.sortBy","category.range"]:[]}},{key:"getChartDataMapper",value:function(t){return this.chartDataMapper&&!t||(this.chartDataMapper=new s.chartDataMapperBase(this.dataHelper.getDataAsArray(),this.dataHelper.getTitles(),this.dataHelper.numAttributes,this)),this.chartDataMapper}},{key:"freshPlot",value:function(){var t;this.getEventHelper().destroyEvents(),this.setEventHandlers(),this.hasTitle()?this.handleTextRender():vitaraD3.selectAll(this.domNode).append("svg").append("rect").attr("width",this.position.width).attr("height",this.position.height).attr("fill","rgba(255,255,255,0)"),this.utils.setBackgroundImage(this.chartNode,vitaraJQ.extend({basePath:this.getBackgroundImagePath()},this.getVizProps())),this.endChartRendering(),(null===(t=this.platformContext)||void 0===t?void 0:t.initContextMenu)&&this.platformContext.initContextMenu()}},{key:"hasTitle",value:function(){return!!this.getVizProps().ibcsTitle}},{key:"renderText",value:function(t){vitaraD3.select(this.chartNode).selectAll("*").remove(),vitaraD3.select(this.chartNode).append("div").html(t).attr("class","ibcs-title-container").attr("width",this.position.width).attr("height",this.position.height)}},{key:"isTypeOfIBCSChart",value:function(t){try{return t.getRenderer()&&(t.getRenderer().getIBCSOptions&&t.getRenderer().getIBCSOptions()||t.getRenderer().context&&t.getRenderer().context.enableIbcsTitle)}catch(t){console.warn("invalid chart model")}}},{key:"getPropMenuDefaults",value:function(){return f.extend(o(c(p.prototype),"getPropMenuDefaults",this).call(this),{ibcsShowTopXCats:2})}},{key:"findLink",value:function(){var t=this,e=this.getGlobalController().getChartsCol().getCharts();if(e&&!(e.length<2))return e[t.getVizProps().ibcsTitleLink?f.findIndex(e,(function(e){return e.getId()===t.getVizProps().ibcsTitleLink})):f.findIndex(e,(function(e){return t.chartNode.id!==e.getId()&&t.isTypeOfIBCSChart(e)}))]}},{key:"isEmptyGrid",value:function(t){return!t||t.data&&!(void 0===t.data.egt&&(void 0===t.data.eg||null===t.data.eg))&&!window.mobilecheck()}},{key:"resolveAttributeMacro",value:function(t){if(this.isEmptyGrid(this.platformContext.dataInterface))return t;if(!t||!this.platformContext.dataInterface||!this.dataHelper)return t;var e=this.getMacros(t);if(!e||!e.length)return t;for(var r=this.dataHelper.numAttributes,n=this.dataHelper.getTitles().slice(0,r),i=this.dataHelper.getDataAsArray(),o=+this.getVizProps().ibcsShowTopXCats,a=n.map((function(t){return"&amp;["+t+"]"})),l={},u={},s=0;s<i.length&&Object.keys(l).length!==r;s++)for(var c=function(t){if(l[t]||!i[s][t].forms)return 1;var e={};f.each(i[s][t].forms,(function(r,i){""!==i&&(e[i]="&amp;["+n[t]+"@"+i+"]")})),l[t]=e},h=0;h<r;h++)c(h);return f.each(e,(function(t){var e,r=a.indexOf(t);if(-1===r&&(r=f.find(Object.keys(l),(function(r){return void 0!==(e=f.find(Object.keys(l[r]),(function(e){return l[r][e]===t})))}))),void 0!==r&&-1!==r){var n={},s=f.map(i,(function(t){var i;return i=void 0===e?t[r].t:t[r].forms[e].t,t[r].id&&void 0===n[t[r].id]&&(n[t[r].id]=i||""),i})),c=f.values(n);if(c.length>0)s=c;else if(!s.length)return;var h=s.slice(0,null!=o?o:2);u[t]=s.length>1?function(t,e){return f.join(t,2===s.length?" and ":", ")+(s.length-e>=1?" and "+(s.length-e)+" more.":"")}(h,null!=o?o:2):s[0]}})),this.compileText(t,u,!1)}},{key:"getLabelProvider",value:function(){return this.labelProvider||(this.labelProvider=new a.labelProvider),this.labelProvider}},{key:"getStrTextContent",value:function(t){var e;if(null===(e=null==t?void 0:t.target)||void 0===e?void 0:e.textContent)return t.target.textContent.split(", ")[0]}},{key:"handleTextRender",value:function(t){var e;try{var r=this.findLink(),n=this.getVizProps().ibcsTitle,i=this.getChartDataMapper();this.hasTitle()&&(n=r&&r.getRenderer()&&r.getRenderer().context?r.getRenderer().context.resolveTitle(this.resolveAttributeMacro(n)):this.resolveAttributeMacro(n),n=this.getLabelProvider().removeUnusedMacrosFromLabel(n,null===(e=this.getVizProps())||void 0===e?void 0:e.ibcsTitlecolstate,i),this.renderText(this.utils.addMarkersIconsInTooltip(n)))}catch(t){console.error(t)}}},{key:"setEventHandlers",value:function(){this.getEventHelper().setEventHandler(this.getGlobalController().GLOBAL_CHART_EVENTS.RENDER_COMPLETE,this.handleTextRender.bind(this))}}])&&n(e.prototype,r),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),p}(VitaraMix(i.default).with());window.VitaraHCSpacerChartMixin=h}},a={};function s(t){var e=a[t];if(void 0!==e)return e.exports;var r=a[t]={id:t,loaded:!1,exports:{}};return i[t].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.m=i,r=[],s.O=function(t,n,i,o){if(!n){var a=1/0;for(h=0;h<r.length;h++){for(var l=e(r[h],3),u=(n=l[0],i=l[1],o=l[2],!0),c=0;c<n.length;c++)(!1&o||a>=o)&&Object.keys(s.O).every((function(t){return s.O[t](n[c])}))?n.splice(c--,1):(u=!1,o<a&&(a=o));if(u){r.splice(h--,1);var f=i();void 0!==f&&(t=f)}}return t}o=o||0;for(var h=r.length;h>0&&r[h-1][2]>o;h--)r[h]=r[h-1];r[h]=[n,i,o]},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,{a:e}),e},s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},s.g=function(){if("object"==("undefined"==typeof globalThis?"undefined":t(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==("undefined"==typeof window?"undefined":t(window)))return window}}(),s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){var t={23:0};s.O.j=function(e){return 0===t[e]};var r=function(r,n){var i,o,a=e(n,3),l=a[0],u=a[1],c=a[2],f=0;if(l.some((function(e){return 0!==t[e]}))){for(i in u)s.o(u,i)&&(s.m[i]=u[i]);if(c)var h=c(s)}for(r&&r(n);f<l.length;f++)o=l[f],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(h)},n=self.webpackChunkwebpack_latest=self.webpackChunkwebpack_latest||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))}();var f=s.O(void 0,[34,42,33,35,38,41],(function(){return s(654)}));f=s.O(f)}()},3010:(t,e,r)=>{"use strict";var n=r(6486),i=(r(764),r(9094),r(1095)),o=r(4089),a=r(9153),l=r(8397);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function c(t){var e=function(t,e){if("object"!=u(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u(e)?e:String(e)}function f(){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=h(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}}).apply(this,arguments)}function h(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}function p(t,e){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=g(t);if(e){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v(this,r)}}function v(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(o,t);var e,r,n,i=d(o);function o(t,e){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),r=i.call(this,t,e);var n=Object.getOwnPropertyNames(Object.getPrototypeOf(a.Z.prototype)),l={};return n.forEach((function(t){"function"==typeof a.Z.prototype[t]&&"constructor"!==t&&(l[t]=a.Z.prototype[t])})),Object.assign(o.prototype,l),r.setBaseContext(t),r.setEditorInterface(e),r}return e=o,(r=[{key:"getChartTitles",value:function(){var t=this,e=l.map(l.filter(this.getBaseContext().chartContext.getGlobalController().getChartsCol().getCharts(),(function(t){return t.getRenderer()&&(t.getRenderer().getIBCSOptions&&t.getRenderer().getIBCSOptions()||t.getRenderer().context&&t.getRenderer().context.enableIbcsTitle)})),(function(t){return{id:t.getId(),name:t.getName()}})),r=l.findIndex(e,(function(e){return e.id===t.getBaseContext().chartContext.getUniqueChartNodeID()}));return-1!==r&&e.splice(r,1),e=l.map(e,(function(t,r){var n=l.filter(e.slice(0,r),(function(e){return e.name===t.name}));return n.length>0&&(t.fName=t.name+" "+n.length),t}))}},{key:"setIBCSTitleLinkOptions",value:function(){var t=this.getBaseContext().getMenuElement("#popupibcsTitleLink"),e=this.getChartTitles();this.getAppContext().setDropdownOptions(t,e,(function(t){return{value:t.id,text:t.fName||t.name,selected:t.selected}})),t.val(this.getBaseContext().propMenuHelper.getState().ibcsTitleLink),t.attr("size",e.length),e.length<1?t.attr("disabled",!0):t.attr("disabled",!1);var r=this;function n(t,e){try{e?vitaraJQ(r.getBaseContext().chartContext.getGlobalController().getChartsCol().getChart(t).getRenderer().context.domNode).addClass("container-highlight"):vitaraJQ(r.getBaseContext().chartContext.getGlobalController().getChartsCol().getChart(t).getRenderer().context.domNode).removeClass("container-highlight")}catch(t){console.log(t)}}vitaraJQ(t).off("mouseenter").on("mouseenter","option",(function(t){n(this.value,!0)})),vitaraJQ(t).off("mouseleave").on("mouseleave","option",(function(t){n(this.value,!1)}))}},{key:"onEditorViewCreated",value:function(t){f(g(o.prototype),"onEditorViewCreated",this).call(this,t),this.setIBCSTitleLinkOptions()}}])&&s(e.prototype,r),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(a.Z),b=r(8397);function m(t){t&&this.setContext(t)}Object.assign(m.prototype,o.Z.prototype,{getCustomProperty:function(){return b.filter([this.BackgroundProperties(),this.textProperties(),this.SecurityProperties(),this.getAboutChartMenu()],(function(t){return null!==t}))},getCustomEventHandler:function(t,e){return new y(t,e)},textProperties:function(){return{label:"Text Properties",id:"textFeatures",containers:[{title:"Text / Title",data:[{label:"",fields:["ibcsTitleEditor"]},{label:"",fields:["applyibcsTitle"]}]},{title:"",data:[{label:"Show Top Categories",fields:["ibcsShowTopXCats"]}]},{title:"",data:[{label:"Select Chart",fields:["ibcsTitleLink"]}]}]}}});var C=r(6486),O={getTargetDataFromEvent:function(t){var e=this,r=null!=t&&t.target?this._super(t):t;if(r||(r=this._super(this.getpointEvent(t))),r){var n,i,o,a,l,u=(null==this||null===(n=this.getRenderer())||void 0===n||null===(i=n.getChartDataMapper)||void 0===i||null===(i=i.call(n))||void 0===i?void 0:i.dataRows)||(null==this||null===(o=this.getRenderer())||void 0===o||null===(o=o.renderedChartInstance)||void 0===o||null===(a=o.getChartDataMapper)||void 0===a||null===(a=a.call(o))||void 0===a?void 0:a.dataRows)||this.dataHelper.getDataAsArray();r.dataRow=C.find(u,(function(t){if(C.forEach(t,(function(t){if(e.checkRowDataOption(r,t))return r.selectorFunc=t.selector,l=t.row,!1})),void 0!==l)return l}))}return r},checkRowDataOption:function(t,e){if(e)return t.mName===e.t||(null==t?void 0:t.fv)===(null==e?void 0:e.fv)||!1},getpointEvent:function(t){window.event||vitaraD3.event;var e={fv:this.getStrTextContent(t)||t.target.textContent,mName:this.getStrTextContent(t)||t.target.textContent};return t?(t.target.point=e,t):e},getGraphicModel:function(t){if(this.getDataHelper().getNumMetrics()&&this.getDataHelper().getNumAttributes())return this._super(t);if(!this.getGraphicModels||!t||!t.dataRow)return null;var e=this.getContextMenuSelector(t);return(e=t.dataRow.filter((function(e){if(t.fv===e.fv||t.mName===e.t)return e})))?this.getGraphicModels().children.filter((function(t){var r;if(C.isEqual(null==t?void 0:t.formattedValue,null===(r=e[0])||void 0===r?void 0:r.v))return t.getSelector()}))[0]:null},getStrTextContent:function(t){}};r.g.vitaraLD||(r.g.vitaraLD=n),mstrmojo.plugins.VitaraCharts.v530159.VitaraHCSpacerChart=mstrmojo.declare(i.Z,[O],{scriptClass:"mstrmojo.plugins.VitaraCharts.v530159.VitaraHCSpacerChart",cssClass:"VitaraHCSpacerChart",getVisualInstance:function(){return this.visualInstance||(this.visualInstance=new VitaraHCSpacerChartMixin(this),this.visualInstance.updateVisualProps=this.updateVisualProps),this.visualInstance},getEditorName:function(){return"SpacerChartEditor"},getEditor:function(t){return this.propsEditor||(this.propsEditor=new m(t)),this.propsEditor},validateMinCriteria:function(t,e){return{valid:!0,message:""}},getCustomContextMenuItems:function(){return["format"]},setTargetDataObject:function(t){if(vitaraJQ.isPlainObject(t))return""},getContextMenuCommonConfig:function(){return[{type:mstrmojo.DEFAULT_CONTEXT_MENU.GO_TO_TARGETS}]},getGraphicModel:function(t){return this.getGraphicModels?this.getGraphicModels().children[0]:null}})}},r={};function n(t){var i=r[t];if(void 0!==i)return i.exports;var o=r[t]={id:t,loaded:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,t=[],n.O=(e,r,i,o)=>{if(!r){var a=1/0;for(c=0;c<t.length;c++){for(var[r,i,o]=t[c],l=!0,u=0;u<r.length;u++)(!1&o||a>=o)&&Object.keys(n.O).every(t=>n.O[t](r[u]))?r.splice(u--,1):(l=!1,o<a&&(a=o));if(l){t.splice(c--,1);var s=i();void 0!==s&&(e=s)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[r,i,o]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t={291:0};n.O.j=e=>0===t[e];var e=(e,r)=>{var i,o,[a,l,u]=r,s=0;if(a.some(e=>0!==t[e])){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(u)var c=u(n)}for(e&&e(r);s<a.length;s++)o=a[s],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(c)},r=self.webpackChunkVitaraCharts_MicroStrategy=self.webpackChunkVitaraCharts_MicroStrategy||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var i=n.O(void 0,[445,915,89],()=>n(3010));i=n.O(i)})();
