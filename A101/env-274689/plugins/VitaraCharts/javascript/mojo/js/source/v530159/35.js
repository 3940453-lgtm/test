"use strict";(self.webpackChunkwebpack_latest=self.webpackChunkwebpack_latest||[]).push([[35],{509:(e,t,a)=>{a.r(t),a.d(t,{ThresholdMapperBase:()=>s});var r=a(4);mstrmojo.plugins.VitaraCharts.v530159||(mstrmojo.plugins.VitaraCharts.v530159={}),mstrmojo.plugins.VitaraCharts.v530159.helper||(mstrmojo.plugins.VitaraCharts.v530159.helper={}),mstrmojo.plugins.VitaraCharts.v530159.helper.thresholds||(mstrmojo.plugins.VitaraCharts.v530159.helper.thresholds={});class s{constructor(e){this.CZ_CON_TYPES=["between","betweenpercentage","aboveaverage","belowaverage","toppercentage","bottompercentage","greaterthan","lessthan","greaterthanequalto","lessthanequalto","abovetheline","belowtheline"],this.CZ_TARGET_TYPES=["line","area"],this.CZ_VIZ_COL=["VitaraHCLineChart","VitaraHCAreaChart","VitaraHCSparklineChart","VitaraHCTrellisChart","VitaraHCSlopeChart"],e&&e.context&&(this.context=e.context)}cleanObj(e){for(var t in e)void 0===e[t]||""===e[t]||null===e[t]?delete e[t]:"object"==typeof e[t]&&this.cleanObj(e[t])}hasProps(e){return Object.keys(e).length>0}setColor(e,t){t&&e&&(e.color=t)}setMarker(e,t){this.cleanObj(t),this.hasProps(t)&&(e.marker=vitaraJQ.extend(!0,{enabled:!0},t))}setDataLabel(e,t){this.cleanObj(t),this.hasProps(t)&&(e.dataLabels=vitaraJQ.extend(!0,{enabled:!0},t))}setCssStyles(e,t){this.appendClassName(e,"className",this.getThresholdClassName("point",t)),this.appendClassName(e.dataLabels,"className",this.getThresholdClassName("datalabel",t)),this.appendClassName(e.marker,"className",this.getThresholdClassName("marker",t))}appendClassName(e,t,a){e&&(e[t]?e[t]+=" "+a:e[t]=a)}getThresholdClassName(e,t){var a="vitara-threshold-"+t.id;switch(e){case"datalabel":return a+" vitara-datalabel";case"marker":return a+" vitara-marker";default:return a}}customSort(e,t,a){if(!(e&&e.length<=t))for(var r=0;r<e.length;r+=t)for(var s=0;s<e.length&&!(s+t>=e.length);s+=t)if(a(e[s],e[s+t])>0){var o=e[s+t];e[s+t]=e[s],e[s]=o,o=e[s+t+1],e[s+t+1]=e[s+1],e[s+1]=o,s-=t}}isVizInCZ_VIZ_COL(){if(this.context&&this.context.scriptClass)return-1!==this.CZ_VIZ_COL.indexOf(r.takeRight(this.context.scriptClass.split("."),1)[0])}isCZRequiredForChartType(e,t){return e?-1!==this.CZ_TARGET_TYPES.indexOf(e):this.isVizInCZ_VIZ_COL()}isCZRequired(e,t,a){var r=this.isCZRequiredForChartType(t,a),s=e?-1!==this.CZ_CON_TYPES.indexOf(e):null;return r&&s}getChartDataMapper(){return this.context.getChartDataMapper?this.context.getChartDataMapper():this.context.getChartDataMapperFromRenderedInstance()}setColorZones(e,t,a){e.zones||(e.zones=[]),t.sort((function(e,t){return e-t}));var r="abovetheline"===a.condition?a.plValue:t[0],s="belowtheline"===a.condition?a.plValue:t[t.length-1];return this.addColorZone(e,a,r,s),e}addColorZone(e,t,a,r){const s=this.getChartDataMapper().getColumnIndex(t.target,this.getChartDataMapper().titles),o=this.getChartDataMapper().stats().getMinValue(s),l=this.getChartDataMapper().stats().getMaxValue(s);for(var n=0;n<e.zones.length&&!(e.zones[n].value>=a);)n+=1;if(0===e.zones.length)e.zones.push({value:a},{value:r,className:this.getThresholdClassName("zone",t)});else{for(e.zones.splice(n,0,{value:a,className:e.zones[n]?e.zones[n].className:"undefined"}),n++;n<e.zones.length&&r>=e.zones[n].value;)e.zones.splice(n,1);e.zones.splice(n,0,{value:r,className:this.getThresholdClassName("zone",t)})}a===o&&(e.zones[0].className=this.getThresholdClassName("zone",t)),r===l&&(e.zones[e.zones.length-1].hasOwnProperty("value")?e.zones.push({className:this.getThresholdClassName("zone",t)}):e.zones[e.zones.length-1].className=this.getThresholdClassName("zone",t))}getAttributeValueMarker(e){if(e&&"attribute"===e.type)return"t"}setThreshold(e,t,a,r,s){var o=this,l=s&&s.valueMarker?s.valueMarker:"rawVal",n=[],i=function(e){o.setColor(e,a.color),a.markerType&&o.setMarker(e,{fillColor:a.color,symbol:a.markerType,svgOptions:vitaraJQ.extend(a.svgOptions,o.context.getCustomSVGFilePaths()),radius:a.markerSize,inverted:o.context.isMarkerInverted()}),o.setCustomDataLabel(e,a.customLabel),o.setDataLabel(e,{enabled:a.enableDataLabel,style:a.dataLabelStyle}),o.setPointBorder(e,a),o.setCssStyles(e,a),n.push(e[l])};if(-1===r)e.data=e.data.map((function(e){return-1!==vitaraJQ.inArray(e[l],t)&&i(e),e}));else{let s=this.getAttributeValueMarker(a)||"v";e.data=e.data.map((function(e){return e.datarow&&-1!==vitaraJQ.inArray(e.datarow[r][s],t)&&i(e),e}))}return this.isCZRequired(a.condition,e.type,s)&&(e=this.setColorZones(e,n,a)),e}getPlotLineTargetPoints(e,t,a){var r=a&&a.valueMarker?a.valueMarker:"rawVal",s=[];return"plotLine"===t.type&&("abovetheline"===t.condition?e.data.forEach((function(e){e[r]>t.plValue&&s.push(e[r])})):"belowtheline"===t.condition&&e.data.forEach((function(e){e[r]<=t.plValue&&s.push(e[r])}))),s}setPointColor(e,t,a){return e.data=e.data.map((function(e){return-1!==vitaraJQ.inArray(e.y,t)&&(e.color=a),e})),e}setCustomDataLabel(e,t){t&&(e.customLabel=t)}setPointBorder(e,t){t.borderColor&&(e.borderColor=t.borderColor,e.borderWidth="1px")}getSourceLabel(e,t,a){return e.numAttributes!==t?" ("+a.source+")":""}}}}]);mstrmojo.plugins.VitaraCharts.v530159[35] = mstrmojo.plugins.VitaraCharts.v530159[35] || {};
