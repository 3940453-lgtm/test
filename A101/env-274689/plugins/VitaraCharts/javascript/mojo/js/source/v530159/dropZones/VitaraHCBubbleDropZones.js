 mstrmojo.plugins.VitaraCharts||(mstrmojo.plugins.VitaraCharts={}),(()=>{"use strict";var e,t={263:(e,t,o)=>{o.d(t,{o:()=>n});void 0===mstrmojo.plugins.VitaraCharts.v530159&&(mstrmojo.plugins.VitaraCharts.v530159={}),void 0===mstrmojo.plugins.VitaraCharts.v530159.dropZones&&(mstrmojo.plugins.VitaraCharts.v530159.dropZones={}),mstrmojo.requiresCls("mstrmojo.vi.models.CustomVisDropZones");var n=mstrmojo.declare(mstrmojo.vi.models.CustomVisDropZones,null,{ENUM_ZONES:{PLAY_AXIS:"Play Axis",CATEGORY:"Category Axis",CATEGORY_ZONE:"Category",COLOR_BY:"Color By",SLICE_BY:"Slice By",VALUE:"Value",HORIZONTAL_VALUES:"Horizontal Axis",VERTICAL:"Vertical Axis",BUBBLE_SIZE:"Bubble Size",START_VALUE:"Start Value",END_VALUE:"End Value",TOOLTIP:"Tooltip",SMALL_MULTIPLE:"Small Multiples",ATTRIBUTES:"Attributes",METRICS:"Metrics",BREAK_BY:"Break By",DRILL_TARGET:"Drill Target",INTER_VALUE:"Intermediate Value(s)",LAST_VALUE:"Last Value",GROUP_BY:"Group By",NUMERATOR:"Ratio - Numerator Value",DENOMINATOR:"Ratio - Denominator Value",RING_1:"Ring 1 Value",RING_2:"Ring 2 Value",RING_3:"Ring 3 Value",TIME:"Time",TREND_BY:"Trend By",BAR:"Bar",MARKERS:"Markers",DATE:"Date",TOP_LABEL:"Main Label",SUB_LABEL:"Sub Label",THRESHOLD_METRICS:"Threshold Metrics",STACK_BY:"Stack By"},DROPZONES:null,scriptClass:"mstrmojo.plugins.VitaraCharts.v530159.dropZones.VitaraDropZonesBase",getCustomDropZones:function(){var e=mstrmojo.vi.models.CustomVisDropZones.ENUM_ALLOW_DROP_TYPE,t=this.getZones();return[{name:t.ATTRIBUTES,title:mstrmojo.desc(13828,"Drag attributes here"),allowObjectType:e.ATTRIBUTE,disabled:!1},{name:t.METRICS,title:mstrmojo.desc(13827,"Drag metrics here"),allowObjectType:e.METRIC,disabled:!1}]},getZones:function(){var e=this;return this.DROPZONES||(this.DROPZONES={},this.ZONES.forEach((function(t){var o;e.DROPZONES[t]=(null==e||null===(o=e.getConvertedLangString)||void 0===o?void 0:o.call(e,e.ENUM_ZONES[t]))||e.ENUM_ZONES[t]}))),this.DROPZONES},getIndex:function(e,t,o){return vitaraLD.findIndex(e,(function(e){return e[t]==o}))},getRemoveAttrfrmOptions:function(e){try{var t=this.getIndex(e.contents,"scriptClass","mstrmojo.ui.Pulldown"),o=-1!==t?this.getIndex(e.contents[t].items,"n","Automatic"):-1;if(-1===o)throw new Error("failed to remove attr forms options");return e.contents[t].items=[e.contents[t].items[o]],e.contents[t].selectedIndex=0,e}catch(t){return console.error(t),e}},getDropZoneContextMenuItems:function(e,t,o,n){var r=this;this.shouldShowDisplayFormsMenu(o)&&e.addEditorMenuItem(mstrmojo.desc(11908,"Display Attribute Forms"),this.id,(function(){return r.getRemoveAttrfrmOptions(r.getDisplayFormsMenu(o))}))},getConvertedLangString:function(e){var t,o;if("undefined"!=typeof VitaraGlobal)return null===(t=VitaraGlobal)||void 0===t||null===(t=t.globalUtils)||void 0===t||t.getLanguageMap(getBaseFilePath()),null===(o=VitaraGlobal)||void 0===o||null===(o=o.globalUtils)||void 0===o?void 0:o.convertStringLanguage(e)},shouldAllowObjectsInDropZone:function(e,t,o,n,r){return{allowedItems:vitaraLD.filter(t,(function(e){return!0}))}},removeItemsFromZone:function(e,t,o){var n=this;vitaraLD.forEach(e,(function(e){n.isObjectInZone(e,o)&&n.getRemoveDropZoneObjectsActions(t,o,e)}))}})}},o={};function n(e){var r=o[e];if(void 0!==r)return r.exports;var s=o[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=n(263),mstrmojo.plugins.VitaraCharts.v530159.dropZones.VitaraHCBubbleDropZones=mstrmojo.declare(e.o,null,{ZONES:["CATEGORY_ZONE","TOOLTIP","COLOR_BY","PLAY_AXIS","HORIZONTAL_VALUES","VERTICAL","SMALL_MULTIPLE","BUBBLE_SIZE"],scriptClass:"mstrmojo.plugins.VitaraCharts.v530159.dropZones.VitaraHCBubbleDropZones",getCustomDropZones:function(){var e=mstrmojo.vi.models.CustomVisDropZones.ENUM_ALLOW_DROP_TYPE,t=this.getZones();return[{name:t.COLOR_BY,maxCapacity:1,title:mstrmojo.desc(13828,"Drag attribute here"),allowObjectType:e.ATTRIBUTE,disabled:!1},{name:t.CATEGORY_ZONE,title:mstrmojo.desc(13828,"Drag attribute here"),allowObjectType:e.ATTRIBUTE,disabled:!1},{name:t.HORIZONTAL_VALUES,maxCapacity:1,title:mstrmojo.desc(13827,"Drag metric here"),allowObjectType:e.ATTRIBUTE_OR_METRIC,disabled:!1},{name:t.VERTICAL,title:mstrmojo.desc(13827,"Drag metric here"),maxCapacity:1,allowObjectType:e.ATTRIBUTE_OR_METRIC,disabled:!1},{name:t.BUBBLE_SIZE,title:mstrmojo.desc(13827,"Drag metric here"),maxCapacity:1,allowObjectType:e.METRIC,disabled:!1},{name:t.TOOLTIP,title:mstrmojo.desc(13827,"Drag metrics here"),allowObjectType:e.METRIC,disabled:!1},{name:t.PLAY_AXIS,title:mstrmojo.desc(13828,"Drag attribute here"),maxCapacity:1,allowObjectType:e.ATTRIBUTE,disabled:this.getDropZoneObjectsByIndex(7).length>0},{name:t.SMALL_MULTIPLE,title:mstrmojo.desc(13828,"Drag attributes here"),maxCapacity:1,allowObjectType:e.ATTRIBUTE,disabled:this.getDropZoneObjectsByIndex(6).length>0}]},shouldAllowObjectsInDropZone:function(e,t,o,n,r){return{allowedItems:mstrmojo.array.filter(t,(function(e){return!0}))}},getAddDropZoneObjectsActions:function(e,t,o,n,r){o&&o.length&&12!==o[0].t&&this._super(e,t,o,n,r)},getActionsForObjectsDropped:function(e,t,o,n,r){var s=this,i=[],a=this.getZones();switch(s.getDropZoneName(e)){case a.HORIZONTAL_VALUES:s.getAddDropZoneObjectsActions(i,a.TOOLTIP,t,o,r),vitaraLD.forEach(t,(function(e){s.isObjectInZone(e,a.VERTICAL)&&s.getRemoveDropZoneObjectsActions(i,a.VERTICAL,e),s.isObjectInZone(e,a.BUBBLE_SIZE)&&s.getRemoveDropZoneObjectsActions(i,a.BUBBLE_SIZE,e),s.isObjectInZone(e,a.CATEGORY_ZONE)&&s.getRemoveDropZoneObjectsActions(i,a.CATEGORY_ZONE,e),s.isObjectInZone(e,a.COLOR_BY)&&s.getRemoveDropZoneObjectsActions(i,a.COLOR_BY,e)}));break;case a.VERTICAL:s.getAddDropZoneObjectsActions(i,a.TOOLTIP,t,o,r),vitaraLD.forEach(t,(function(e){s.isObjectInZone(e,a.HORIZONTAL_VALUES)&&s.getRemoveDropZoneObjectsActions(i,a.HORIZONTAL_VALUES,e),s.isObjectInZone(e,a.BUBBLE_SIZE)&&s.getRemoveDropZoneObjectsActions(i,a.BUBBLE_SIZE,e),s.isObjectInZone(e,a.CATEGORY_ZONE)&&s.getRemoveDropZoneObjectsActions(i,a.CATEGORY_ZONE,e),s.isObjectInZone(e,a.COLOR_BY)&&s.getRemoveDropZoneObjectsActions(i,a.COLOR_BY,e)}));break;case a.BUBBLE_SIZE:s.getAddDropZoneObjectsActions(i,a.TOOLTIP,t,o,r),vitaraLD.forEach(t,(function(e){s.isObjectInZone(e,a.HORIZONTAL_VALUES)&&s.getRemoveDropZoneObjectsActions(i,a.HORIZONTAL_VALUES,e),s.isObjectInZone(e,a.VERTICAL)&&s.getRemoveDropZoneObjectsActions(i,a.VERTICAL,e)}));break;case a.PLAY_AXIS:vitaraLD.forEach(t,(function(e){s.isObjectInZone(e,a.COLOR_BY)&&s.getRemoveDropZoneObjectsActions(i,a.COLOR_BY,e),s.isObjectInZone(e,a.CATEGORY_ZONE)&&s.getRemoveDropZoneObjectsActions(i,a.CATEGORY_ZONE,e)})),s.removeItemsFromZone(t,i,a.SMALL_MULTIPLE);break;case a.COLOR_BY:vitaraLD.forEach(t,(function(e){s.isObjectInZone(e,a.PLAY_AXIS)&&s.getRemoveDropZoneObjectsActions(i,a.PLAY_AXIS,e),s.isObjectInZone(e,a.CATEGORY_ZONE)&&s.getRemoveDropZoneObjectsActions(i,a.CATEGORY_ZONE,e),s.isObjectInZone(e,a.HORIZONTAL_VALUES)&&s.getRemoveDropZoneObjectsActions(i,a.HORIZONTAL_VALUES,e),s.isObjectInZone(e,a.VERTICAL)&&s.getRemoveDropZoneObjectsActions(i,a.VERTICAL,e)})),s.removeItemsFromZone(t,i,a.SMALL_MULTIPLE);break;case a.CATEGORY_ZONE:vitaraLD.forEach(t,(function(e){s.isObjectInZone(e,a.PLAY_AXIS)&&s.getRemoveDropZoneObjectsActions(i,a.PLAY_AXIS,e),s.isObjectInZone(e,a.COLOR_BY)&&s.getRemoveDropZoneObjectsActions(i,a.COLOR_BY,e),s.isObjectInZone(e,a.HORIZONTAL_VALUES)&&s.getRemoveDropZoneObjectsActions(i,a.HORIZONTAL_VALUES,e),s.isObjectInZone(e,a.VERTICAL)&&s.getRemoveDropZoneObjectsActions(i,a.VERTICAL,e)})),s.removeItemsFromZone(t,i,a.SMALL_MULTIPLE);break;case a.SMALL_MULTIPLE:s.removeItemsFromZone(t,i,a.PLAY_AXIS),s.removeItemsFromZone(t,i,a.COLOR_BY),s.removeItemsFromZone(t,i,a.CATEGORY_ZONE)}return i},getActionsForObjectsRemoved:function(e,t){var o=[],n=this.getZones();switch(this.getDropZoneName(e)){case n.HORIZONTAL_VALUES:case n.VERTICAL:case n.BUBBLE_SIZE:this.getRemoveDropZoneObjectsActions(o,n.TOOLTIP,t)}return o}})})();
