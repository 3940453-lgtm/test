"use strict";(self.webpackChunkwebpack_latest=self.webpackChunkwebpack_latest||[]).push([[45],{529:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});var r=i(4);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,a=function(e,t){if("object"!==s(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===s(a)?a:String(a)),r)}var a}const n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props||(this.props=t),this.breaks=[]}var t,i;return t=e,(i=[{key:"legendItemClick",value:function(){var e=this;return function(t,i){var s,a,n,o=this||t,l=null===(s=e.props.zonesModel)||void 0===s?void 0:s.getZones(),h=null===(a=e.props.zonesModel)||void 0===a?void 0:a.getDropZoneObjectsByName(null==l?void 0:l.BREAK_BY).length,d=null===(n=e.props.zonesModel)||void 0===n?void 0:n.getDropZoneObjectsByName(null==l?void 0:l.COLOR_BY).length;if(!+e.props.vizProps.enablePolarAxis&&(0!==h||0!==d)){o.options.animation=!0;var u=e.breaks;if(o.chart.series.forEach((function(e){u.push({})})),o.visible){var g,p,c;if(null===(g=o.xAxis)||void 0===g||null===(g=g.categoriesTree)||void 0===g||!g.includes(o.name)){var C=!0,f=o.xData;if(r.each(o.chart.series,(function(e,r){var s,a,n,l,h,d=[];if(o.points.length>1&&o.data.length&&e.visible&&null!=e&&null!==(s=e.data)&&void 0!==s&&s.length?e.points.forEach((function(e){d.push(e.x)})):e.visible&&null!=e&&null!==(a=e.data)&&void 0!==a&&a.length&&d.push(null===(n=e.points)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.x),null!=d&&d.some((function(e){return f.includes(e)}))&&e.visible&&e.name!==(null!==(l=null===(h=t.target)||void 0===h?void 0:h.name)&&void 0!==l?l:i))return C=!1,!1})),!C)return}var S=o.xData.length,D=(null===(p=e.props)||void 0===p||null===(c=p.getEndClipPathValue)||void 0===c?void 0:c.call(p))||e.getEndClipPathValue();u[o.index]={from:o.xData[0]-.5,to:o.xData[S-1]+D,breakSize:.1},o.chart.xAxis[0].update({breaks:u})}else u[o.index]={},o.chart.xAxis[0].update({breaks:u})}}}},{key:"getEndClipPathValue",value:function(){return.5}}])&&a(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},525:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});var r=i(476),s=i(526),a=function(){};vitaraJQ.extend(a.prototype,r.default.prototype,{COMPATIBLE_VERSIONS:["5.1.0.997"],getVersionDefaultForv5_1_0_997:function(){return s.default.getVersionDefaults()}});const n=a},522:(e,t,i)=>{i.r(t),i.d(t,{default:()=>o});var r=i(476),s=i(523),a=i(524);const n=function(){};vitaraJQ.extend(n.prototype,r.default.prototype,{COMPATIBLE_VERSIONS:["4.1.0.439","4.6.5.785"],getVersionDefaultForv4_1_0_439:function(){return s.default.getVersionDefaults()},getVersionDefaultForv4_6_5_785:function(){return a.default.getVersionDefaults()}});const o=n},523:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});const r={VERSION_DEFAULTS:{barColumnLabelPosition:0},getVersionDefaults:function(){return this.VERSION_DEFAULTS}}},526:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});const r={VERSION_DEFAULTS:{alignYAxis:0},getVersionDefaults:function(){return this.VERSION_DEFAULTS}}},514:(e,t,i)=>{i.r(t),i.d(t,{default:()=>s});var r=i(4);const s=e=>class extends e{constructor(e){super(e),this._mixinName="mstrmojo.plugins.VitaraCharts.v533169.MultiTierBarColumnDeltaViewDataHelper",this.PRIMARY_SERIES_INDICATORS=["AC","FC"],this.PRIMARY_DATA_TYPE_FORMAT_PRIORITY_ORDER=["FC","AC"]}getResolvePrimaryIbcsDataTypeFormat(e,t){if(!e.ibcsDataType)return e.ibcsDataType=t,e;if(e.ibcsDataType===t)return e;var i=-1!==this.PRIMARY_DATA_TYPE_FORMAT_PRIORITY_ORDER.indexOf(e.ibcsDataType)&&-1!==this.PRIMARY_DATA_TYPE_FORMAT_PRIORITY_ORDER.indexOf(t);return e.ibcsDataType=i?this.PRIMARY_DATA_TYPE_FORMAT_PRIORITY_ORDER[0]:e.ibcsDataType,e}getDataFromAggregateSeries(e,t,i){var s=this,a=r.filter(e,(function(e){return-1!==t.indexOf(e.ibcsDataType)})),n=r.filter(e,(function(e){return-1!==i.indexOf(e.ibcsDataType)})),o=[];return r.each(a,(function(e){var t=e.isOutlier?"actualVal":"y",i=s.parseSeriesData(e.data,t)[0];o[0]?o[0].v+=i.v:o[0]=i,o[0].point=s.getResolvePrimaryIbcsDataTypeFormat(o[0].point,e.ibcsDataType)})),r.each(n,(function(e){var t=e.isOutlier?"actualVal":"y";o[1]=s.parseSeriesData(e.data,t)[0]})),o}getGroupedSeriesCol(e,t){var i=this,s=r.filter(t,(function(e){return!e.isAggregate})),a=r.filter(t,(function(e){return e.isAggregate})),n=[],o=[];return r.each(e,(function(e,t){if(e){var a=r.findIndex(s,(function(t){return t.name===e}));-1!==a&&(-1!==i.PRIMARY_SERIES_INDICATORS.indexOf(t)?n.push(s[a]):o.push(s[a]))}})),{seriesCol:s,aggSeriesCol:a,primarySeriesCol:n,secondarySeriesCol:o}}getActualDataEndIndex(e){var t;if(e)return void 0!==this.getVizProps().actualDataEndMarker&&(t=this.getRenderedChartInstance()[0].getRenderOptions().xAxis.categories.indexOf(this.getVizProps().actualDataEndMarker)),void 0!==t&&-1!==t||(t=r.findLastIndex(e,(function(e){return null!==e.v&&0!==e.v}))),t}getSecondaryDeltaSeriesIndex(e,t){if(e){var i=this,s=0;return t&&t.isPrimaryDelta&&(s=r.findIndex(e,(function(e){return!1!==e.visible}))),t&&!t.isPrimaryDelta&&void 0!==this.getVizProps().ibcsSecondaryDeltaMetric&&(s=r.findIndex(e,(function(e){return e.name===i.getVizProps().ibcsSecondaryDeltaMetric}))),-1===s?0:s}}getColumnDeltaPairs(e,t){var i,s=this.getGroupedSeriesCol(e,this.getRenderedChartInstance()[0].getRenderOptions().series);if(s.primarySeriesCol.length<1&&s.secondarySeriesCol.length<1)throw new Error("Invalid Data");var a,n,o,l={};if(a=this.parseSeriesData(s.primarySeriesCol[0].data),l[1]=this.getSeriesMetaInfo(s.primarySeriesCol[0]),s.primarySeriesCol.length>1){var h=this.getActualDataEndIndex(a),d=this.parseSeriesData(s.primarySeriesCol[1].data);l[1]=vitaraJQ.extend(!0,l[1],this.getSeriesMetaInfo(s.primarySeriesCol[1])),r.each(a,(function(e,t){t>h&&(a[t]=d[t],a[t].point&&(a[t].point.ibcsDataType=l[1].dataType))}))}var u=this.getSecondaryDeltaSeriesIndex(s.secondarySeriesCol,t);return n=this.parseSeriesData(s.secondarySeriesCol[u].data),l[0]=this.getSeriesMetaInfo(s.secondarySeriesCol[u]),(o=this.getDataFromAggregateSeries(s.aggSeriesCol,this.PRIMARY_SERIES_INDICATORS,[s.secondarySeriesCol[u].ibcsDataType]))&&2===o.length&&(a.push(o[0]),n.push(o[1]),l[0].hasAggData=!0),(i=[n,a]).metaInfo=l,i}getSeriesMetaInfo(e,t){return{dataType:t||e.ibcsDataType,metricFormat:e&&e.name?this.getChartDataMapper().getMetricFormatObject(this.getChartDataMapper().getMetricIndex(e.name)):null}}getDataForDeltaView(e,t){if(this.getRenderedChartInstance){if(this.getRenderedChartInstance()[0].getRenderOptions().series.length<2)throw new Error("Cannot render delta view, required two series");return this.getColumnDeltaPairs(this.getDataMarkerStates(this.getIBCSDataMarkerOptionsByMetric()),t)}}}},515:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});var r=i(516),s=i(4);const a=e=>class extends e{constructor(e){super(e),this._mixinName="mstrmojo.plugins.VitaraCharts.v533169.MultiTierBarIBCSViewConfig",this.REST_CATEGORY="Rest",this.DEF_AGG_POINT_LEN=1,this.DEF_AGG_POINT_SEP_LEN=1}getIBCSViewExtraOptions(){let e={yAxis:{gridLineWidth:0}};return this.hasPartialIBCSFeatureSupport()||(e=Highcharts.merge(e,{chart:{zoomType:void 0},plotOptions:{bar:{grouping:!1},series:{grouping:!1,maxPointWidth:20,dataLabels:{enabled:void 0===this.getVizProps().labelsEnable||+this.getVizProps().labelsEnable,align:void 0,verticalAlign:void 0,inside:!1,crop:!1,overflow:"allow"}}},yAxis:{visible:this.getVizProps().yAxisLabelHide||!1,gridLineWidth:0,lineWidth:0,plotLines:[{dashStyle:"solid",color:"#808080",width:1.5,value:0,className:"vitara-delta-axis-line"}]},xAxis:{gridLineWidth:0,lineWidth:0,labels:{groupedOptions:[{reserveSpace:!0}],align:"left",reserveSpace:!0,useHTML:!0}}})),e}getIBCSDeltaViewExtraOptions(){return{yAxis:{gridLineWidth:0},xAxis:{gridLineWidth:0,lineWidth:0}}}getPropShowTopXCats(){return void 0!==this.getVizProps().ibcsShowTopXCats&&null!==this.getVizProps().ibcsShowTopXCats&&""!==this.getVizProps().ibcsShowTopXCats?+this.getVizProps().ibcsShowTopXCats+1:void 0}getPrimaryViewIBCSOptions(){return{dataTypeIndicators:this.getDataMarkerStates(this.getIBCSDataMarkerOptionsByMetric()),colors:[this.getTColor(this.getVizProps().pColorV1||"#bfbfbf"),this.getTColor(this.getVizProps().nColorV1||"#808080")],extraOptions:this.getIBCSViewExtraOptions(),dataRows:this.getDataRowsWithRest()}}getDeltaViewOptions(){return{colors:[this.getTColor(this.getVizProps().pColorDelta),this.getTColor(this.getVizProps().nColorDelta)],hasPlannedview:this.isPlannedTypeEnabled(),extraOptions:this.getIBCSDeltaViewExtraOptions()}}isPlannedTypeEnabled(){return!1}isValidDeltaViewCriteria(e){return this.hasRequiredAllocation(this.getPrimaryallocationCount(e),this.getSecondaryAllocationCount(e))}getDeltaViewTrellisConfig(e){var t=s.merge(e,{recurse:!1,units:[],length:1});return t.units[0]={opts:this.getPrimaryViewIBCSOptions()},this.isValidDeltaViewCriteria(t.units[0].opts.dataTypeIndicators)?(t=s.merge(t,{isDeltaView:!0,length:t.length+this.getDeltaUnitsCount()}),+this.hasPrimaryDelta()&&t.units.push({renderer:r.renderHCDeltaView,opts:vitaraJQ.extend(this.getDeltaViewOptions(),{isPrimaryDelta:!0,chartType:this.getPrimaryDeltaViewType()})}),+this.hasSecondaryDelta()&&t.units.push({renderer:r.renderHCDeltaView,opts:vitaraJQ.extend(this.getDeltaViewOptions(),{isPrimaryDelta:!1,chartType:this.getSecondaryDeltaViewType()})}),t):t}markRestAvailability(e){this.hasRestData=e}hasRestDataPoint(){return this.hasRestData}getDataRowsWithRest(){var e;if(!(null===(e=this.getPropShowTopXCats)||void 0===e?void 0:e.call(this)))return null;var t=this.getZoneData(this.getChartDataMapper()).xaxis,i=this.getChartDataMapper().condenseGroupElementsToDataRows({title:this.REST_CATEGORY,attribute:[t&&t[0]?t[0].name:""],chartLimit:this.getPropShowTopXCats(),rankFunction:"sum",aggFunction:"sum",allMetrics:!0});return this.markRestAvailability(i?1:0),i}getCreateRendererInstance(e,t,i,r,s,a,n,o){return new e(t,i,r,s,a,o&&o.dataRows?o.dataRows:null,o)}getCompositeViewConfig(e){if(!this[this.CACHE_KEYS.VIEW_CONFIG]||e){var t={recurse:!0,renderer:this.getUnitRenderer()};this.isTypeIBCS()?this[this.CACHE_KEYS.VIEW_CONFIG]=this.getDeltaViewTrellisConfig(t):this[this.CACHE_KEYS.VIEW_CONFIG]=t}return this[this.CACHE_KEYS.VIEW_CONFIG]}parseSeriesData(e,t){return t=t||"y",s.map(e,(function(e){return e&&void 0!==e[t]?{v:e[t],point:e}:null}))}getIBCSSortOptions(){var e={sortBy:this.getVizProps().ibcsSortByView,sortType:this.getVizProps().ibcsSortType||"descending",isSortByDeltaview:!1,baseView:null};if(e.sortBy&&e.sortType){var t,i=e.sortBy===this.ENUM_VIEW_MARKERS.DELTA_VIEW?0:e.sortBy===this.ENUM_VIEW_MARKERS.PERCENTAGE_DELTA_VIEW?1:null;return null!==i&&(e.isSortByDeltaview=!0,t=s.filter(this.getRenderedChartInstance(),(function(e){return!!e.getViewType&&e.getViewType()===i}))[0]),t||(t=-1!==s.findIndex(this.getRenderedChartInstance()[0].getRenderOptions().series,(function(t){return t.name===e.sortBy}))?this.getRenderedChartInstance()[0]:null),e.baseView=t,e}}sortSeriesData(e,t,i,r){if(e&&e.data){var a;if(void 0!==r&&(a=e.data.splice(r,e.data.length)),!i&&t&&(s.each(e.data,(function(t,i){e.data[i].pos=i})),"ascending"===t?e.data.sort((function(e,t){return e.y-t.y})):"descending"===t&&e.data.sort((function(e,t){return t.y-e.y})),e.isSorted=!0),i&&!t){if(i.length!==e.data.length)return e;var n=e.data;e.data=[],s.each(i,(function(t,i){e.data[i]=n[t]})),e.isSorted=!0}return a&&(e.data=s.concat(e.data,a)),e}}updateCategoryPosBySortOrder(e,t,i){s.each(e.series,(function(t,r){t.isAggregate||s.each(t.data,(function(t,s){if(s>i)return!1;e.series[r].data[s]&&(e.series[r].data[s].x=s)}))}));var r=s.cloneDeep(e.xAxis.categories),a=r.splice(i,r.length);return e.xAxis.categories=[],s.each(t,(function(t,i){e.xAxis.categories[i]=r[t]})),e.xAxis.categories=s.concat(e.xAxis.categories,a),e}getUnSortableSeriesLength(){return(this.getVizProps().ibcsAggDataBy?2:0)+(this.hasRestDataPoint?+this.hasRestDataPoint():0)}getSortableSeriesLength(e){if(e)return e.getRenderOptions().xAxis.categories.length-this.getUnSortableSeriesLength()}processIBCSSort(){var e=this,t=this.getIBCSSortOptions();if(t&&t.baseView){var i=t.isSortByDeltaview?s.findIndex(t.baseView.getRenderOptions().series,(function(e){return!e.isSecondary})):s.findIndex(t.baseView.getRenderOptions().series,(function(e){return e.name===t.sortBy}));t.baseView.getRenderOptions().series[i].sortBy=!0;var r=this.getSortableSeriesLength(t.baseView);this.sortSeriesData(t.baseView.getRenderOptions().series[i],t.sortType,null,r);var a=[];s.each(t.baseView.getRenderOptions().series[i].data,(function(e){void 0!==e.pos&&a.push(e.pos)})),s.each(this.getRenderedChartInstance(),(function(t,i){s.each(t.getRenderOptions().series,(function(t,s){t.isSorted||t.isAggregate||(e.getRenderedChartInstance()[i].getRenderOptions().series[s]=e.sortSeriesData(t,null,a,r))})),e.updateCategoryPosBySortOrder(t.getRenderOptions(),a,r)}))}}preRenderTrellisNodes(){super.preRenderTrellisNodes(),this.processIBCSSort(),this.setChartLegendLabels(),this.setLayoutWeights()}getAssignedChartTitle(e,t){if(!this.isCompositeMode()||this.isIBCSEnabledWithSmallMultiples())return super.getAssignedChartTitle(e,t)}setChartLegendLabels(){this.setLegendLabelsIBCSStyle(this.getRenderedChartInstance()[0].getRenderOptions()),this.setDeltaViewLegendLabels()}setDeltaViewLegendLabels(){var e=s.filter(this.getRenderedChartInstance(),(function(e){return e.scriptClass&&"renderHCDeltaView"===e.scriptClass}));if(e&&!(e.length<1)){var t=this;s.each(e,(function(i,r){delete e[r].getRenderOptions().title,t.setLegendLabelsIBCSStyle(e[r].getRenderOptions())}))}}getScaleRefChartInstance(){return this.getRenderedChartInstance()[0]}setLayoutWeights(){var e,t,i,r,s=this.getRenderedChartInstance()[0],a=this.getRenderedChartInstance()[1],n=this.getRenderedChartInstance()[2],o=[],l=1-.2*this.getPercentageDeltaViewCount();return e=this.getAbsValueRange(this.getPrimarySeriesLimits(s))+this.getChartMargin(this.getPrimarySeriesLimits(s)),t=a&&a.isDeltaView()?this.getAbsValueRange(this.getAbsDeltaSeriesLimits(a))+this.getChartMargin(this.getAbsDeltaSeriesLimits(a)):0,i=n&&n.isDeltaView()?this.getAbsValueRange(this.getAbsDeltaSeriesLimits(n))+this.getChartMargin(this.getAbsDeltaSeriesLimits(n)):0,r=e+(a&&a.isDeltaView()?t:0)+(n&&n.isDeltaView()?i:0),o[0]=this.roundVal(e/r)*l,o[1]=a?a.isDeltaView()?Math.ceil(this.roundVal(t/r)*l*10)/10:.2:null,o[2]=n?n.isDeltaView()?Math.ceil(this.roundVal(i/r)*l*10)/10:.2:null,o[1]&&o[1]<.2&&(o[1]=.2),o[2]&&o[2]<.2&&(o[2]=.2),o[0]+(o[1]?o[1]:0)+(o[2]?o[2]:0)>1&&(o[0]=1-(o[1]?o[1]:0)-(o[2]?o[2]:0)),this[this.CACHE_KEYS.IBCS_LAYOUT_WEIGHTS]=o,this[this.CACHE_KEYS.IBCS_LAYOUT_WEIGHTS]}getLayoutWeights(){return this[this.CACHE_KEYS.IBCS_LAYOUT_WEIGHTS]}getPrimarySeriesCategoryRanges(){var e,t=this.getActualDataEndMarkerOptions(),i=s.reverse(s.filter(this.getPrimaryChartInstance().getRenderOptions().series,(function(e){return e.isPrimary&&!1!==typeof e.visible}))),r={};if(t.length&&i.length){var a=this.getActualDataEndIndex(this.parseSeriesData(i[0].data));return-1!==(a=a>=t.length-1?t.length-1:a)&&(r.p=[t[0],t[a]],r.p.ibcsDataType=i[0].ibcsDataType),i[1]&&a<Math.min(this.getPropShowTopXCats(),t.length)&&(r.s=[t[a+1],t[t.length-1]],r.s.ibcsDataType=i[1].ibcsDataType),r.p&&(e=this.getRangeText(r.p)),r.s&&(e+=" "+this.getRangeText(r.s)),e}}}},527:(e,t,i)=>{i.r(t),i.d(t,{default:()=>s});var r=i(4);const s=e=>class extends e{constructor(e){super(e),this._mixinName="mstrmojo.plugins.VitaraCharts.v533169.ThresholdMarkerViewHelper"}getThresholdFieldsToHide(e,t){if(t&&t.series){let i=r.filter(t.series,(function(t){return t.name===e.target}));if(i&&i[0]&&("line"===i[0].type||"area"===i[0].type))return[]}return["thresholdEnableMarker","thresholdMarkerType","thresholdMarkerSize"]}}},512:(e,t,i)=>{i.r(t),i.d(t,{default:()=>s});var r=i(4);const s=e=>class extends e{constructor(e){super(e),this._mixinName="mstrmojo.plugins.VitaraCharts.v533169.VitaraCompositeVizBase",this.IBCS_DATA_TYPE_SEQUENCE=["PY","PL","FC","AC"]}isCompositeMode(){return!0}isLegendEnabled(){return!this.isCompositeMode()&&super.isLegendEnabled()}getCompositeViewConfig(e){if(!this[this.CACHE_KEYS.VIEW_CONFIG]||e){var t={recurse:!0,renderer:this.getUnitRenderer()};this[this.CACHE_KEYS.VIEW_CONFIG]=this.isDeltaViewsEnabled()?this.getDeltaViewTrellisConfig(t):t}return this[this.CACHE_KEYS.VIEW_CONFIG]}preProcessViewConfigOptions(e,t){return e}getCreateRendererInstance(e,t,i,r,s,a,n,o){return new e(t,i,r,s,a,null,o)}formChartRendererInstances(){if(!this.isCompositeMode())return super.formChartRendererInstances();var e=this,t=this.getCompositeViewConfig(!0),i=this.getTrellisData();t&&(!t||t.recurse||t.units)&&r.times(t.length||i.length,(function(s){var a=t.units&&t.units[s]&&t.units[s].renderer?t.units[s].renderer:t.renderer;if(!a)return!1;var n=t.units&&t.units[s]?t.units[s].opts:t.opts?t.opts:null;n=e.preProcessViewConfigOptions(n,i[s]);var o=e.getCreateRendererInstance(a,e.getVizDataInterface(),e.getNodePosition(),null,e.getExtraOptions(),r.cloneDeep(e.getVizProps()),i[s],n);e.setInstanceID(o,s),e.setRenderedChartInstance(o),o.formChartOptions()}))}}}}]);mstrmojo.plugins.VitaraCharts.v533169[45] = mstrmojo.plugins.VitaraCharts.v533169[45] || {};
