 mstrmojo.plugins.VitaraCharts||(mstrmojo.plugins.VitaraCharts={}),(()=>{"use strict";var e,t={263:(e,t,o)=>{o.d(t,{o:()=>r});void 0===mstrmojo.plugins.VitaraCharts.v533169&&(mstrmojo.plugins.VitaraCharts.v533169={}),void 0===mstrmojo.plugins.VitaraCharts.v533169.dropZones&&(mstrmojo.plugins.VitaraCharts.v533169.dropZones={}),mstrmojo.requiresCls("mstrmojo.vi.models.CustomVisDropZones");var r=mstrmojo.declare(mstrmojo.vi.models.CustomVisDropZones,null,{ENUM_ZONES:{PLAY_AXIS:"Play Axis",CATEGORY:"Category Axis",CATEGORY_ZONE:"Category",COLOR_BY:"Color By",SLICE_BY:"Slice By",VALUE:"Value",HORIZONTAL_VALUES:"Horizontal Axis",VERTICAL:"Vertical Axis",BUBBLE_SIZE:"Bubble Size",START_VALUE:"Start Value",END_VALUE:"End Value",TOOLTIP:"Tooltip",SMALL_MULTIPLE:"Small Multiples",ATTRIBUTES:"Attributes",METRICS:"Metrics",BREAK_BY:"Break By",DRILL_TARGET:"Drill Target",INTER_VALUE:"Intermediate Value(s)",LAST_VALUE:"Last Value",GROUP_BY:"Group By",NUMERATOR:"Ratio - Numerator Value",DENOMINATOR:"Ratio - Denominator Value",RING_1:"Ring 1 Value",RING_2:"Ring 2 Value",RING_3:"Ring 3 Value",TIME:"Time",TREND_BY:"Trend By",BAR:"Bar",MARKERS:"Markers",DATE:"Date",TOP_LABEL:"Main Label",SUB_LABEL:"Sub Label",THRESHOLD_METRICS:"Threshold Metrics",STACK_BY:"Stack By"},DROPZONES:null,scriptClass:"mstrmojo.plugins.VitaraCharts.v533169.dropZones.VitaraDropZonesBase",getCustomDropZones:function(){var e=mstrmojo.vi.models.CustomVisDropZones.ENUM_ALLOW_DROP_TYPE,t=this.getZones();return[{name:t.ATTRIBUTES,title:mstrmojo.desc(13828,"Drag attributes here"),allowObjectType:e.ATTRIBUTE,disabled:!1},{name:t.METRICS,title:mstrmojo.desc(13827,"Drag metrics here"),allowObjectType:e.METRIC,disabled:!1}]},getZones:function(){var e=this;return this.DROPZONES||(this.DROPZONES={},this.ZONES.forEach((function(t){var o;e.DROPZONES[t]=(null==e||null===(o=e.getConvertedLangString)||void 0===o?void 0:o.call(e,e.ENUM_ZONES[t]))||e.ENUM_ZONES[t]}))),this.DROPZONES},getIndex:function(e,t,o){return vitaraLD.findIndex(e,(function(e){return e[t]==o}))},getRemoveAttrfrmOptions:function(e){try{var t=this.getIndex(e.contents,"scriptClass","mstrmojo.ui.Pulldown"),o=-1!==t?this.getIndex(e.contents[t].items,"n","Automatic"):-1;if(-1===o)throw new Error("failed to remove attr forms options");return e.contents[t].items=[e.contents[t].items[o]],e.contents[t].selectedIndex=0,e}catch(t){return console.error(t),e}},getDropZoneContextMenuItems:function(e,t,o,r){var n=this;this.shouldShowDisplayFormsMenu(o)&&e.addEditorMenuItem(mstrmojo.desc(11908,"Display Attribute Forms"),this.id,(function(){return n.getRemoveAttrfrmOptions(n.getDisplayFormsMenu(o))}))},getConvertedLangString:function(e){var t,o;if("undefined"!=typeof VitaraGlobal)return null===(t=VitaraGlobal)||void 0===t||null===(t=t.globalUtils)||void 0===t||t.getLanguageMap(getBaseFilePath()),null===(o=VitaraGlobal)||void 0===o||null===(o=o.globalUtils)||void 0===o?void 0:o.convertStringLanguage(e)},shouldAllowObjectsInDropZone:function(e,t,o,r,n){return{allowedItems:vitaraLD.filter(t,(function(e){return!0}))}},removeItemsFromZone:function(e,t,o){var r=this;vitaraLD.forEach(e,(function(e){r.isObjectInZone(e,o)&&r.getRemoveDropZoneObjectsActions(t,o,e)}))}})}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var s=o[e]={exports:{}};return t[e](s,s.exports,r),s.exports}r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=r(263),mstrmojo.plugins.VitaraCharts.v533169.dropZones.VitaraHCColumnRangeDropZones=mstrmojo.declare(e.o,null,{ZONES:["PLAY_AXIS","CATEGORY","START_VALUE","END_VALUE","COLOR_BY","TOOLTIP"],scriptClass:"mstrmojo.plugins.VitaraCharts.v533169.dropZones.VitaraHCColumnRangeDropZones",getCustomDropZones:function(){var e=mstrmojo.vi.models.CustomVisDropZones.ENUM_ALLOW_DROP_TYPE,t=this.getZones();return[{name:t.CATEGORY,title:mstrmojo.desc(13828,"Drag attributes here"),allowObjectType:e.ATTRIBUTE,disabled:!1},{name:t.COLOR_BY,title:mstrmojo.desc(13828,"Drag attribute here"),maxCapacity:1,allowObjectType:e.ATTRIBUTE,disabled:!1},{name:t.START_VALUE,title:"Drag an attribute/metric here",maxCapacity:1,allowObjectType:e.ATTRIBUTE_OR_METRIC,disabled:!1},{name:t.END_VALUE,title:"Drag an attribute/metric here",maxCapacity:1,allowObjectType:e.ATTRIBUTE_OR_METRIC,disabled:!1},{name:t.TOOLTIP,title:mstrmojo.desc(13827,"Drag metrics here"),allowObjectType:e.METRIC,disabled:!1},{name:t.PLAY_AXIS,title:mstrmojo.desc(13828,"Drag attribute here"),maxCapacity:1,allowObjectType:e.ATTRIBUTE,disabled:!1}]},shouldAllowObjectsInDropZone:function(e,t,o,r,n){var s=this.getZones();if(t&&t.length>0)switch(this.getDropZoneName(e)){case s.START_VALUE:var i=this.getDropZoneObjectsByName(s.END_VALUE);if(i&&i.length>0&&this.isMetric(i[0])!==this.isMetric(t[0]))return{allowedItems:[]};break;case s.END_VALUE:var a=this.getDropZoneObjectsByName(s.START_VALUE);if(a&&a.length>0&&this.isMetric(a[0])!==this.isMetric(t[0]))return{allowedItems:[]}}return{allowedItems:mstrmojo.array.filter(t,(function(e){return!0}))}},getActionsForObjectsDropped:function(e,t,o,r,n){var s=this,i=[],a=s.getZones();switch(s.getDropZoneName(e)){case a.START_VALUE:this.isMetric(t[0])&&s.getAddDropZoneObjectsActions(i,a.TOOLTIP,t,o,n),vitaraLD.forEach(t,(function(e){s.isObjectInZone(e,a.END_VALUE)&&s.getRemoveDropZoneObjectsActions(i,a.END_VALUE,e),s.isObjectInZone(e,a.CATEGORY)&&s.getRemoveDropZoneObjectsActions(i,a.CATEGORY,e),s.isObjectInZone(e,a.COLOR_BY)&&s.getRemoveDropZoneObjectsActions(i,a.COLOR_BY,e),s.isObjectInZone(e,a.PLAY_AXIS)&&s.getRemoveDropZoneObjectsActions(i,a.PLAY_AXIS,e)}));break;case a.END_VALUE:this.isMetric(t[0])&&s.getAddDropZoneObjectsActions(i,a.TOOLTIP,t,o,n),vitaraLD.forEach(t,(function(e){s.isObjectInZone(e,a.START_VALUE)&&s.getRemoveDropZoneObjectsActions(i,a.START_VALUE,e),s.isObjectInZone(e,a.CATEGORY)&&s.getRemoveDropZoneObjectsActions(i,a.CATEGORY,e),s.isObjectInZone(e,a.COLOR_BY)&&s.getRemoveDropZoneObjectsActions(i,a.COLOR_BY,e),s.isObjectInZone(e,a.PLAY_AXIS)&&s.getRemoveDropZoneObjectsActions(i,a.PLAY_AXIS,e)}));break;case a.PLAY_AXIS:vitaraLD.forEach(t,(function(e){s.isObjectInZone(e,a.CATEGORY)&&s.getRemoveDropZoneObjectsActions(i,a.CATEGORY,e),s.isObjectInZone(e,a.COLOR_BY)&&s.getRemoveDropZoneObjectsActions(i,a.COLOR_BY,e)}));break;case a.COLOR_BY:vitaraLD.forEach(t,(function(e){s.isObjectInZone(e,a.CATEGORY)&&s.getRemoveDropZoneObjectsActions(i,a.CATEGORY,e),s.isObjectInZone(e,a.PLAY_AXIS)&&s.getRemoveDropZoneObjectsActions(i,a.PLAY_AXIS,e),s.isObjectInZone(e,a.START_VALUE)&&s.getRemoveDropZoneObjectsActions(i,a.START_VALUE,e),s.isObjectInZone(e,a.END_VALUE)&&s.getRemoveDropZoneObjectsActions(i,a.END_VALUE,e)}));break;case a.CATEGORY:vitaraLD.forEach(t,(function(e){s.isObjectInZone(e,a.PLAY_AXIS)&&s.getRemoveDropZoneObjectsActions(i,a.PLAY_AXIS,e),s.isObjectInZone(e,a.COLOR_BY)&&s.getRemoveDropZoneObjectsActions(i,a.COLOR_BY,e),s.isObjectInZone(e,a.START_VALUE)&&s.getRemoveDropZoneObjectsActions(i,a.START_VALUE,e),s.isObjectInZone(e,a.END_VALUE)&&s.getRemoveDropZoneObjectsActions(i,a.END_VALUE,e)}))}return i},getActionsForObjectsRemoved:function(e,t){var o=this,r=[],n=o.getZones();switch(o.getDropZoneName(e)){case n.START_VALUE:case n.END_VALUE:o.getRemoveDropZoneObjectsActions(r,n.TOOLTIP,t)}return r}})})();
