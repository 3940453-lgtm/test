(self.webpackChunkVitaraCharts_MicroStrategy=self.webpackChunkVitaraCharts_MicroStrategy||[]).push([[272],{9153:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var i=a(8397);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function r(e,t,a){return(t=s(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:String(t)}var l=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,"DEF_OPTION_TEXT","Auto"),r(this,"GLOBAL_EVENT_NS","vitara-global-event"),this.setBaseContext(t),this.setEditorInterface(a)}var t,a,n;return t=e,(a=[{key:"setBaseContext",value:function(e){this.context=e}},{key:"setEditorInterface",value:function(e){this.eInterface=e}},{key:"getTargetNode",value:function(){return this.getEditorInterface().getPopup()}},{key:"getEditorInterface",value:function(){return this.eInterface}},{key:"getBaseContext",value:function(){return this.context}},{key:"getAppContext",value:function(){return this.context?this.context.context:null}},{key:"isUpdateReq",value:function(e){return!e||!e.action||"none"!==e.action}},{key:"setElementAttr",value:function(e,t,a){if(e&&void 0!==t&&a){var n=this,o=i.isArray(e)?e:[e];i.each(o,(function(e){n.context.getMenuElement("#popup".concat(e)).attr(a,t)}))}}},{key:"changeCallback",value:function(e,t,a){var i=this.getBaseContext().menuOptions.changeCallback(e,t,a)||"{}";if(void 0!==i){if(void 0!==i.disable&&i.disable.length>0)for(var n=0;n<i.disable.length;n++){var o=i.disable[n];vitaraJQ("#"+o).prop("disabled",!0)}if(void 0!==i.hide&&i.hide.length>0)for(n=0;n<i.hide.length;n++)o=i.hide[n],vitaraJQ("#"+o).closest(".field_container").hide()}}},{key:"saveFormData",value:function(e,t){var a=this.getBaseContext(),i=this;if(void 0!==e){var n,o,r;if("customSeriesColors"===e)return a.propMenuHelper.state.colors=a.propMenuHelper.paletteColors,void this.saveCallback();"seriesByAttribute"===e?void 0!==a.propMenuHelper.state.series&&delete a.propMenuHelper.state.series:"bgOpacitySlider"===e?(a.propMenuHelper.state.chartAreaBGColor&&(a.propMenuHelper.state.chartAreaBGColor=a.propMenuHelper.hexToRGBA(a.propMenuHelper.convertToHex(a.propMenuHelper.state.chartAreaBGColor),t/100)),a.propMenuHelper.state.plotAreaBGColor&&(a.propMenuHelper.state.plotAreaBGColor=a.propMenuHelper.hexToRGBA(a.propMenuHelper.convertToHex(a.propMenuHelper.state.plotAreaBGColor),t/100))):"chartAreaBGColor"!==e&&"plotAreaBGColor"!==e||a.propMenuHelper.state.bgOpacitySlider&&t&&(t=a.propMenuHelper.hexToRGBA(a.propMenuHelper.convertToHex(t),a.propMenuHelper.state.bgOpacitySlider/100));var s=[{name:e,value:t}];r={},vitaraJQ.each(s,(function(){var e=this.value,t=this.name.split("["),a=i.buildInputObject(t,e);vitaraJQ.extend(!0,r,a)})),vitaraJQ.extend(!0,a.propMenuHelper.state,r),(null!==(n=a.propMenuHelper.propertyEditorProperties)&&void 0!==n&&n.drillChart||null!==(o=a.chartContext)&&void 0!==o&&o.drillingEnabled)&&(a.propMenuHelper.state.drillChart={},vitaraJQ.extend(!0,a.propMenuHelper.state.drillChart,r)),this.saveCallback()}}},{key:"saveCallback",value:function(){var e=this.getBaseContext();e.menuOptions.saveCallback.saveDrillWrapper(JSON.stringify(e.propMenuHelper.state))}},{key:"buildInputObject",value:function(e,t){if(e.length<1)return t;var a=e[0];"]"===a.slice(-1)&&(a=a.slice(0,-1));var i={};if(1===e.length)i[a]=t;else{e.shift();var n=this.buildInputObject(e,t);i[a]=n}return i}},{key:"updateToChart",value:function(e,t,a){this.changeCallback(e,a,t),this.saveFormData(e,t)}},{key:"onSeriesColorsChange",value:function(e){var t=this.getBaseContext();e.detail&&"custom"===e.detail.value?t.propMenuHelper.processCustomColorOptionSelect():t.propMenuHelper.setSeriesColorsCustomizedFlag(!1),t.propMenuHelper.processCustomizeColorPaletteSetup(e.detail.value)}},{key:"onlabelsEnableMnMxChange",value:function(e){e.detail&&e.detail.name&&this.getBaseContext().propMenuHelper.toogleLblsAndMnMxLblsCheckState(e.detail.name,e.detail.value)}},{key:"onInvertColorsChange",value:function(e){var t=this.getBaseContext(),a=t.propMenuHelper.getState();t.propMenuHelper.isTrue(a.seriesColorsCustomized)&&t.propMenuHelper.paletteColors.length>1&&t.propMenuHelper.invertPaletteColors(),t.propMenuHelper.processCustomizeColorPaletteSetup(void 0,e.detail.value)}},{key:"onSeriesChange",value:function(e){this.getBaseContext().setSeriesElementOptions(e.detail.value)}},{key:"onSeriesTypeChange",value:function(e){this.getBaseContext().propMenuHelper.getSeriesUIManager().updateOnSeriesViewTypeChange(e.detail.value)}},{key:"onInfographicFillPercentageMetricChange",value:function(e){this.getBaseContext().propMenuHelper.getSeriesUIManager().onInfographicFillPercentageMetricChange(e.detail.value)}},{key:"onErrorBarsEnabled",value:function(e){var t=this.getBaseContext();t.propMenuHelper.getSeriesUIManager().setErrorBarsViewElements(e.detail.value),t.propMenuHelper.getSeriesUIManager().toggleDeltaErrorBarOptions("errorBar")}},{key:"onDeltaBarsEnabled",value:function(e){var t=this.getBaseContext();t.propMenuHelper.getSeriesUIManager().setDeltaBarsViewElements(e.detail.value),t.propMenuHelper.getSeriesUIManager().toggleDeltaErrorBarOptions("deltaBar")}},{key:"onErrorBarMetricChanged",value:function(e){this.getBaseContext().propMenuHelper.getSeriesUIManager().updateErrorBarOptions(e.detail.name,e.detail.value)}},{key:"onBarColumnVariwideChange",value:function(e){this.getBaseContext().propMenuHelper.setFieldAvailabiltyForVariWide()}},{key:"onSeriesYAxisChange",value:function(e){var t=this.getBaseContext();t.propMenuHelper.setSeriesElementsProperties(t.propMenuHelper.getSeriesName(),t.propMenuHelper.getSeriesType(),e.detail.value,t.propMenuHelper.getSeriesColor())}},{key:"onseriesColorChange",value:function(e){var t=this.getBaseContext();t.propMenuHelper.setSeriesElementsProperties(t.propMenuHelper.getSeriesName(),t.propMenuHelper.getSeriesType(),t.propMenuHelper.getSeriesYAxis(),e.detail.value)}},{key:"onChartAxisChange",value:function(e){this.getBaseContext().setAxisLayout(e.detail.value)}},{key:"toggleAxisLabelOptions",value:function(){var e=this.context;e.menuOptions.fetchCallback.fetchTrellisEnabled()?(e.getMenuElement("#popupxAxisLabelTruncate").parent().hide(),e.getMenuElement("#popupyAxisLabelTruncate").parent().hide()):(e.getMenuElement("#popupxAxisLabelTruncate").parent().show(),e.getMenuElement("#popupyAxisLabelTruncate").parent().show())}},{key:"onKpiRingMaxSelectionChange",value:function(e){"Fixed Value"===e.detail.value?vitaraJQ(e.target).parent().parent().find("#popup"+e.detail.name.replace("Selection","Value")).parent().show():vitaraJQ(e.target).parent().parent().find("#popup"+e.detail.name.replace("Selection","Value")).parent().hide()}},{key:"onAggregationSelectChange",value:function(e){var t=this.getBaseContext();t.propMenuHelper.getState(),t.propMenuHelper.setAGGuageXPercentValField(e.detail.name,e.detail.value,e)}},{key:"onBandMetricSelectChange",value:function(e){var t=this.getBaseContext();t.propMenuHelper.getState(),t.propMenuHelper.setBulletPlotBandFields(e.detail.name,e.detail.value,e)}},{key:"saveOnBandMetricSelectChange",value:function(e){var t=this.getBaseContext(),a=t.getField(e.detail.name),i=t.propMenuHelper.getState();if(this.isUpdateReq(a)){if("xpercent"===e.detail.value||"xpercentage"===e.detail.value||"fixed"===e.detail.value||"percentage"===e.detail.value)return void(i[e.detail.name]=e.detail.value);this.updateToChart(e.detail.name,e.detail.value,e.detail.prevValue)}}},{key:"onCustomFormatChange",value:function(e){var t=this.getBaseContext(),a=e.target.id.replace("apply",""),i=t.propMenuHelper.getState()[a];t.propMenuHelper.resetLabelStyle(a),this.updateToChart(a,t.propMenuHelper.getCustomFormatFromEditor(a),i),t.propMenuHelper.setDataLabelFormatSelection()}},{key:"onCalendarTypeChange",value:function(e){this.getBaseContext().propMenuHelper.setCalendarMenuOptions("hijri"===e.detail.value),this.updateToChart(e.detail.name,e.detail.value,e.detail.prevValue)}},{key:"onSankeyLinkColorOptionChange",value:function(e){var t=e.target.id.replace("Select","");this.getBaseContext().propMenuHelper.setSankeyLinkColorFields(t,e.detail.value),this.updateToChart(e.detail.name,e.detail.value,e.detail.prevValue)}},{key:"onEditorSelectionChange",value:function(e){this.getBaseContext().propMenuHelper.setCustomEditorFields(e.detail.value)}},{key:"onRTLLayoutChange",value:function(e){vitaraJQ(e.target).prop("checked")?vitaraJQ(".propertymenu").addClass("rtl"):vitaraJQ(".propertymenu").removeClass("rtl"),this.saveAndEndBroadcast(e)}},{key:"onCopyErrorToClipBoard",value:function(e){this.getBaseContext().propMenuHelper.copyErrorLogToClipBoard()}},{key:"onThresholdMarkerChecked",value:function(e){this.getBaseContext().propMenuHelper.getThresholdsUIManager().setThresholdMarkerPropVisibility()}},{key:"onSeriesMarkerChecked",value:function(e){this.getBaseContext().getSeriesUIManager().setSeriesMarkerPropVisibility()}},{key:"onEnableGradientPicker",value:function(e){var t=1===e.detail.value;this.getBaseContext().getSeriesUIManager().updateGradientColor(t)}},{key:"onEnableSeriesTooltip",value:function(e){var t=e.detail.value;this.getBaseContext().getSeriesUIManager().showHideSeriesCustomEditor(t,"seriesTooltipEditor")}},{key:"onEnableSeriesDatalabel",value:function(e){var t=e.detail.value;this.getBaseContext().getSeriesUIManager().showHideSeriesCustomEditor(t,"customSeriesLabelEditor")}},{key:"updateThresholdGradientStops",value:function(e){var t=this.getAppContext().getThresholdsUIManager().getGradientOptionsFromUI();"popupthresholdCount"===e.target.id&&(t.stops=e.detail.value||2,t.csr=this.getAppContext().context.utils.getColorScalesAndRanges(t.startColor,t.endColor,t.stops)),!t.csr||"popupthresholdStartColor"!==e.target.id&&"popupthresholdEndColor"!==e.target.id||(t.csr.colorScales=this.getAppContext().context.utils.getColorScalesAndRanges(t.startColor,t.endColor,t.stops).colorScales),"popupinvertGradientColors"===e.target.id&&t.csr&&(this.getAppContext().getThresholdsUIManager().invertGradientThresholdColors(),t.csr.colorScales.reverse()),this.getAppContext().setCutomGradientStopsSelection(t,t.csr)}},{key:"onCustomStopsSelectionChange",value:function(e){this.getBaseContext().propMenuHelper.getThresholdsUIManager().setGradientCustomStopsLayout(e.detail.value)}},{key:"onTooltipVisibiltyChange",value:function(e){this.saveAndEndBroadcast(e)}},{key:"onTooltipBackgroundChange",value:function(e){this.saveAndEndBroadcast(e)}},{key:"onEnableDrill",value:function(e){var t,a,i;this.context,e.detail.value?(t=this.getEditorInterface().getElementRef("#popupdrillChartTarget").val(),a=this.getEditorInterface().getElementRef("#popupdrillChartType").val(),i={source:this.getBaseContext().getDataHelper().getTitles()[0],chartType:a,target:t},this.getBaseContext().propMenuHelper.onEnableDrill(i)):this.getBaseContext().propMenuHelper.onResetDrill(),this.updateToChart("drillingEnable",e.detail.value,e.detail.prevValue),this.updateToChart("drillChartTarget",t,null),this.updateToChart("drillChartType",a,null)}},{key:"onDrillTargetChange",value:function(e){var t=e.detail.value;this.updateToChart("drillChartTarget",t,e.detail.prevValue),this.getBaseContext().propMenuHelper.modifyDrillState(t,null)}},{key:"onDrillChartTypeChange",value:function(e){var t=e.detail.value;this.updateToChart("drillChartType",t,e.detail.prevValue),this.getBaseContext().propMenuHelper.modifyDrillState(null,t)}},{key:"onMenuSelected",value:function(e){var t=this.getBaseContext(),a=t.propMenuHelper.getState();if("Thresholds"===e.detail.name){t.thresholds=a.thresholds=t.menuOptions.fetchCallback.fetchThresholds(),t.propMenuHelper.getThresholdsUIManager().manageThresholdClick(),this.getEditorInterface().setFieldValue("#colId",""),this.getEditorInterface().setFieldValue("#thresholdId","");var i=function(e){return e},n=t.propMenuHelper.getThresholdsUIManager().getThresholdColumns(t.menuOptions.fetchCallback.hasAttributeThresholdSupport());"AnimatedGauge"===t.menuOptions.chartType&&n.push({text:"Ratio",value:"Ratio"}),t.propMenuHelper.setDropdownOptions(this.getEditorInterface().getElementRef("#popupthresholdColSelect"),n,i);var o=t.propMenuHelper.getThresholdsUIManager().getThresholdSeriesElems();t.propMenuHelper.setDropdownOptions(this.getEditorInterface().getElementRef("#popupthresholdSeriesSelect"),o,i),t.propMenuHelper.getThresholdsUIManager().thresholdSelectorOptions().setThresholdConditions(),t.propMenuHelper.getPlotLinesUIManager().addPlSpecificThresholdSourceAndTargetOptions(this.getEditorInterface().getElementRef("#popupthresholdColSelect"),this.getEditorInterface().getElementRef("#popupthresholdSeriesSelect")),t.propMenuHelper.getThresholdsUIManager().refreshManageThreshold(),t.propMenuHelper.getThresholdsUIManager().checkThresholds(),vitaraJQ(".thresholdColorpicker").spectrum({showAlpha:!0,showInitial:!0,showInput:!0,showButtons:!1,allowEmpty:!0,preferredFormat:"hex"})}else if("Series"===e.detail.name)t.propMenuHelper.getSeriesUIManager().setSeriesOptionsTableView(),t.propMenuHelper.getSeriesUIManager().getSeriesOptions(!0);else if("Axes"===e.detail.name)t.propMenuHelper.fetchSeriesElements(),t.propMenuHelper.toogleSecondaryValueAxisVisibilityBySeriesElems(),t.propMenuHelper.toggleSecondaryCategoryAxisVisibilityByVariwide(),this.toggleAxisLabelOptions(),this.toggleUseYAxisMetricFormat(null,"useYAxisMetricFormat","formatYAxisMetricSelect"),this.toggleUseYAxisMetricFormat(null,"useSYAxisMetricFormat","formatSYAxisMetricSelect"),t.propMenuHelper.toggleStartAndEndValueOption(t.propMenuHelper.getState().alignYAxis);else if("PlotLines"===e.detail.name)t.propMenuHelper.getPlotLinesUIManager().setPlotLinesTableView(),t.propMenuHelper.getPlotLinesUIManager().setOptionsForSourceAndTargetFields();else if("Small Multiples"===e.detail.name)this.setPlayAxisEnableTrellisView();else if("Appearance"===e.detail.name)this.setPlayAxisEnableTrellisView();else if("Drilling"===e.detail.name){this.setDrillEnableView();for(var r=t.propMenuHelper.getDataHelper().getTitles().splice(0,t.propMenuHelper.getDataHelper().getNumAttributes()),s="",l=0;l<r.length;l++){var u="",c="";0==l&&(u="disabled"),r[l]==a.drillChartTarget&&(c="selected"),s+='<option value="'+r[l]+'"'+c+" "+u+">",s+=r[l],s+="</option>"}this.getEditorInterface().setElementHTML("#popupdrillChartTarget",s)}else"Data Labels"===e.detail.name?t.propMenuHelper.addAndProcessCustomEditor():"IBCS Features"===e.detail.name?this.refreshIBCSOptionsMenu(e):"Marker"===e.detail.name?t.propMenuHelper.getMarkerGrid().setMarkerSelectionSvg(this.getMarkerKey(),this.getMarkerTypeSvgProps(this.getMarkerKey())):"Dumbbell"===e.detail.name?(t.propMenuHelper.getMarkerGrid().setMarkerSelectionSvg("startValMarkerType",this.getMarkerTypeSvgProps("startValMarkerType")),t.propMenuHelper.getMarkerGrid().setMarkerSelectionSvg("endValMarkerType",this.getMarkerTypeSvgProps("endValMarkerType"))):"Bullet"===e.detail.name&&t.propMenuHelper.getPlotBandsUIManager().managePlotBandClick()}},{key:"getMarkerKey",value:function(){return"markerType"}},{key:"getMarkerTypeSvgProps",value:function(e){var t=this.getBaseContext().propMenuHelper.getState(),a={"selected-icon":t[e]};return t.svgMarkerOptions&&t.svgMarkerOptions[e]&&(a["custom-path"]=t.svgMarkerOptions[e]["custom-path"],a["infographic-path"]=t.svgMarkerOptions[e]["infographic-path"]),a}},{key:"setColorPalettes",value:function(){var e=this.getBaseContext(),t=e.chartRef.utils.getCustomProperties(),a=e.chartRef.getCustomPaletteList().reverse(),n=e.getElementRef("#popupseriesColors");i.forEach(a,(function(a){var i="palette."+a,o=a,r=t["palette.defaultPalette"]?t["palette.defaultPalette"].trim():t["palette.defaultPalette"],s=!1,l=!1;void 0===t[i]&&(s=!0,o=a+" {Misconfigured}"),s||a!==e.chartRef.vizProps.seriesColors&&(void 0!==e.chartRef.vizProps.seriesColors||r!==a)||(l=!0),n.prepend(vitaraJQ("<option></option>").attr("value",a).text(o).prop("disabled",s).prop("selected",l))}))}},{key:"createAxisAccordionLayout",value:function(e){vitaraJQ(".vitara-accordion-field",vitaraJQ(".panel-collapse.axes")).accordion({collapsible:!0,active:!1,animate:!1,heightStyle:"content",classes:{"ui-accordion-header-active":"accordion-active","ui-accordion-content":"accordion-content"}}),vitaraJQ(".vitara-accordion-field",vitaraJQ(".panel-collapse.series")).accordion({collapsible:!0,active:!1,animate:!1,heightStyle:"content",classes:{"ui-accordion-header-active":"accordion-active","ui-accordion-content":"accordion-content"}})}},{key:"setChartAboutData",value:function(){var e=this.eInterface.menuOptions.fetchCallback.fetchHelpMenuProperties(),t=vitaraJQ(".panel-collapse.aboutChart"),a=this.eInterface.editorRef.getDefaultValues("MODULE");i.each(Object.keys(e),(function(i){vitaraJQ("#"+a+i,t).text(e[i])}))}},{key:"refreshIBCSOptionsMenu",value:function(e){if(this.getBaseContext().menuOptions.fetchCallback.chartSpecificFetch().updateIBCSOptionsMenu){var t=this.getBaseContext().getActiveMenu();this.getBaseContext().menuOptions.fetchCallback.chartSpecificFetch().updateIBCSOptionsMenu(t)&&this.getBaseContext().refreshMenuByLabel(t.label,this.getBaseContext().editorRef.getDefaultValues("OPEN_CLASS"))}}},{key:"onIBCSOptionUpdate",value:function(e){this.saveAndEndBroadcast(e),this.refreshIBCSOptionsMenu(e),this.setIBCSDataIndicatorOptions(e),this.setIBCSDataIndicatorState(e)}},{key:"getValidateSelection",value:function(e,t){if(e&&e.length)return-1!==e.indexOf(t)?t:""}},{key:"displayDefaultSelection",value:function(e,t,a){!a&&e&&vitaraJQ("option:selected",e).text(this.DEF_OPTION_TEXT+(t?" ("+t+")":""))}},{key:"setIBCSDataIndicatorOptions",value:function(e){var t=this.getBaseContext(),a=t.menuOptions.fetchCallback.fetchIBCSDataTypeInfo();a&&(t.propMenuHelper.setDropdownOptions(t.getElementRef("#popupdataMarkerActual"),t.propMenuHelper.getAsDropDownOptionsCustom(a.markerOptions,this.DEF_OPTION_TEXT)),t.propMenuHelper.setDropdownOptions(t.getElementRef("#popupdataMarkerPlanned"),t.propMenuHelper.getAsDropDownOptionsCustom(a.markerOptions,this.DEF_OPTION_TEXT)),t.propMenuHelper.setDropdownOptions(t.getElementRef("#popupdataMarkerForecast"),t.propMenuHelper.getAsDropDownOptionsCustom(a.markerOptions,this.DEF_OPTION_TEXT)),t.propMenuHelper.setDropdownOptions(t.getElementRef("#popupdataMarkerPreviousYear"),t.propMenuHelper.getAsDropDownOptionsCustom(a.markerOptions,this.DEF_OPTION_TEXT)),t.propMenuHelper.setDropdownOptions(t.getElementRef("#popupactualDataEndMarker"),t.propMenuHelper.getAsDropDownOptionsCustom(a.actualDataEndMarkerOptions)),t.propMenuHelper.setDropdownOptions(t.getElementRef("#popupibcsSortByView"),t.propMenuHelper.getAsDropDownOptionsCustom(a.sortByViewOptions)),t.propMenuHelper.setDropdownOptions(t.getElementRef("#popupibcsSecondaryDeltaMetric"),t.propMenuHelper.getAsDropDownOptionsCustom(a.secondaryDeltaMetricOptions)))}},{key:"setIBCSDataIndicatorState",value:function(e){var t=this.getBaseContext(),a=t.menuOptions.fetchCallback.fetchIBCSDataTypeInfo();a&&(t.getElementRef("#popupibcsGroupBy").val(a.selectionState.dataIndicator),t.getElementRef("#popupdataMarkerActual").val(a.selectionState.usrOpts.AC),t.getElementRef("#popupdataMarkerPlanned").val(a.selectionState.usrOpts.PL),t.getElementRef("#popupdataMarkerForecast").val(a.selectionState.usrOpts.FC),t.getElementRef("#popupdataMarkerPreviousYear").val(a.selectionState.usrOpts.PY),this.displayDefaultSelection(t.getElementRef("#popupdataMarkerActual"),a.selectionState.AC,a.selectionState.usrOpts.AC),this.displayDefaultSelection(t.getElementRef("#popupdataMarkerPlanned"),a.selectionState.PL,a.selectionState.usrOpts.PL),this.displayDefaultSelection(t.getElementRef("#popupdataMarkerForecast"),a.selectionState.FC,a.selectionState.usrOpts.FC),this.displayDefaultSelection(t.getElementRef("#popupdataMarkerPreviousYear"),a.selectionState.PY,a.selectionState.usrOpts.PY),t.getElementRef("#popupactualDataEndMarker").val(a.selectionState.actualDataMarker),t.getElementRef("#popupibcsSecondaryDeltaMetric").val(a.selectionState.secondaryDeltaMetric),t.getElementRef("#popupibcsSortByView").val(this.getValidateSelection(a.sortByViewOptions,a.selectionState.ibcsSortByView)),a.selectionState.ibcsSortType&&t.getElementRef("#popupibcsSortType").val(a.selectionState.ibcsSortType))}},{key:"onEditorViewCreated",value:function(e){try{this.setPlayAxisEnableTrellisView(),this.createAxisAccordionLayout(e),this.setDrillEnableView(),this.setColorPalettes(),this.tooglePolarPaneProperties(),this.toggleLegendSetWidthProperties()}catch(e){console.log(e)}}},{key:"onClickExportToCSV",value:function(e){this.getAppContext().renderedChart.getExportToCSV().exportToCsv()}},{key:"onClickClearGen",value:function(e){vitaraJQ(e.target).hasClass("active")&&vitaraJQ(e.target).removeClass("active"),this.saveFormData(e.detail.name,"123")}},{key:"onThresholdTargetChange",value:function(e){this.getBaseContext().getGridUIManager().onThresholdTargetChange()}},{key:"checkForCountOfAttributeLessThanOne",value:function(){return this.getBaseContext().getDataHelper().getNumAttributes()<=1}},{key:"setPlayAxisEnableTrellisView",value:function(){if(!isMSTRDesktop()||!isMSTRDashBoard()){var e=this.getBaseContext(),t=e.propMenuHelper.getState();this.checkForCountOfAttributeLessThanOne()?(e.getElementRef("#popupenableTrellis").attr("title","Include another attribute to enable Small Multiples"),e.getElementRef("#popupplayByAttribute").attr("title","Include another attribute to enable Play By First Attribute")):e.propMenuHelper.isTrue(t.playByAttribute)?(e.getElementRef("#popupenableTrellis").attr("disabled",!0),e.getElementRef("#popupenableTrellis").attr("title",'Un-Check "Play By First Attribute" to enable.'),e.getElementRef("#popupplayByAttribute").attr("disabled",!1),e.getElementRef("#popupplayByAttribute").attr("title","")):e.propMenuHelper.isTrue(t.enableTrellis)?(e.getElementRef("#popupplayByAttribute").attr("disabled",!0),e.getElementRef("#popupplayByAttribute").attr("title",'Un-Check "Enable Small Multiples" to enable.'),e.getElementRef("#popupenableTrellis").attr("disabled",!1),e.getElementRef("#popupenableTrellis").attr("title","")):e.propMenuHelper.state.drillChart?(e.getElementRef("#popupenableTrellis").attr("disabled",!0),e.getElementRef("#popupenableTrellis").attr("title",'Un-check "Enable Drilling" to enable'),e.getElementRef("#popupplayByAttribute").attr("disabled",!0),e.getElementRef("#popupplayByAttribute").attr("title",'Un-check "Enable Drilling" to enable')):(e.getElementRef("#popupplayByAttribute").attr("disabled",!1),e.getElementRef("#popupenableTrellis").attr("disabled",!1),e.getElementRef("#popupplayByAttribute").attr("title",""),e.getElementRef("#popupenableTrellis").attr("title",""))}}},{key:"setDrillEnableView",value:function(){var e=this.getBaseContext(),t=e.propMenuHelper.getState();isMSTRDesktop()||isMSTRDashBoard()?(e.chartContext.getZoneReader&&e.chartContext.getZoneData().drillTarget?e.chartContext.getZoneData().drillTarget[0].name:void 0)?(e.getElementRef("#popupdrillingEnable").prop("checked",!0),e.getElementRef("#popupdrillingEnable").prop("disabled",!0),e.getElementRef("#popupdrillChartTarget").prop("disabled",!0),e.getElementRef("#popupdrillChartPreviewTooltip").prop("disabled",!1)):e.getElementRef("#DrillChartProperties").parent().parent().parent().css("display","none"):e.propMenuHelper.isTrue(t.playByAttribute)||e.propMenuHelper.isTrue(t.enableTrellis)?(e.getElementRef("#popupdrillingEnable").prop("checked",!1),e.getElementRef("#popupdrillingEnable").prop("disabled",!0),e.getElementRef("#popupdrillChartTarget").prop("disabled",!0),e.getElementRef("#popupdrillChartType").prop("disabled",!0),e.getElementRef("#drillPropertyEditor").prop("disabled",!0),e.getElementRef("#popupdrillChartPreviewTooltip").prop("disabled",!0),e.getElementRef("#popupdrillingEnable").attr("title",'Un-Check: "Play By First Attribute" and "Enable Small Multiples"')):this.checkForCountOfAttributeLessThanOne()?(e.getElementRef("#popupdrillingEnable").prop("disabled",!0),e.getElementRef("#popupdrillChartTarget").prop("disabled",!0),e.getElementRef("#popupdrillChartPreviewTooltip").prop("disabled",!0),e.getElementRef("#popupdrillingEnable").attr("title","Include another attribute to enable drilling")):(e.getElementRef("#popupdrillingEnable").prop("disabled",!1),e.getElementRef("#popupdrillChartPreviewTooltip").prop("disabled",!1),e.getElementRef("#popupdrillingEnable").attr("title",""))}},{key:"onEnableTrellisChange",value:function(e){}},{key:"onTileShapeChange",value:function(e){var t=this.getBaseContext(),a=e.detail.value;t.propMenuHelper.setTileShape(a),this.updateToChart(e.detail.name,e.detail.value,e.detail.prevValue)}},{key:"onEnableScalingGroup",value:function(e){}},{key:"onScalingGroupChange",value:function(e){this.broadcastEvent(this.getEvent("scaling-group-selection-completed",this.GLOBAL_EVENT_NS,document.body,{id:this.getBaseContext().menuOptions.context.chartNode.id,scalingGroup:e.detail.value||void 0}))}},{key:"saveAndEndBroadcast",value:function(e){var t=this.getBaseContext().getField(e.detail.name);this.isUpdateReq(t)&&this.updateToChart(e.detail.name,e.detail.value,e.detail.prevValue)}},{key:"onRepeatMarkerStateChange",value:function(e){this.getBaseContext().propMenuHelper.getSeriesUIManager().onRepeatMarkerStateChange(e.detail.value)}},{key:"onInfographicFillChange",value:function(e){this.getBaseContext().propMenuHelper.getSeriesUIManager().onInfographicFillChange(e.detail.value)}},{key:"onMarkerAsDataShapeStateChange",value:function(e){this.getBaseContext().propMenuHelper.getSeriesUIManager().onMarkerAsDataShapeStateChange(e.detail.value)}},{key:"onEnableInfrographicStateChange",value:function(e){this.getBaseContext().propMenuHelper.getSeriesUIManager().onEnableInfrographicStateChange(e.detail.value)}},{key:"tooglePolarProperty",value:function(e){this.getBaseContext().getElementRef("#popupenablePolarAxis").prop("disabled",e)}},{key:"toogleVariWideProperty",value:function(e){this.getBaseContext().getElementRef("#popupbarColumnVariwide").prop("disabled",e)}},{key:"tooglePolarPaneProperties",value:function(e){var t=this.getBaseContext(),a=e&&e.detail?e.detail.value:t.propMenuHelper.getState().enablePolarAxis,i=e&&e.target?e.target:t.getElementRef("#popupenablePolarAxis")[0],n=t.getElementRef("#popupseriesBorderRadius")[0];+a?vitaraJQ(n).spinner("disable"):vitaraJQ(n).spinner("enable"),i&&(+a?vitaraJQ(i).parent().parent().next().next().show():vitaraJQ(i).parent().parent().next().next().hide(),this.toogleVariWideProperty(!!+a))}},{key:"tooglebarFillWithPercentageChange",value:function(e){var t=this.getBaseContext(),a=e&&e.detail?e.detail.value:t.propMenuHelper.getState().barFillWithPercentage,i=e&&e.target?e.target:t.getMenuElement("#popupbarFillWithPercentage")[0],n=t.getMenuElement("#popupBarFillMaxSelection").val(),o=t.menuOptions.fetchCallback.fetchMetricMaxValue(),r=t.getMenuElement("#popupbarColumnGrouping");i&&(+a?("Fixed Value"===n?(vitaraJQ(i).parent().parent().children().eq(2).show(),vitaraJQ(i).parent().parent().children().eq(3).show(),vitaraJQ(i).parent().parent().children().eq(3).children().eq(1).val(o),vitaraJQ(i).parent().parent().children().eq(4).show()):(vitaraJQ(i).parent().parent().children().eq(2).show(),vitaraJQ(i).parent().parent().children().eq(3).hide(),vitaraJQ(i).parent().parent().children().eq(4).show()),vitaraJQ(r).attr("disabled",!0),this.toogleVariWideProperty(!0)):(vitaraJQ(i).parent().parent().children().eq(1).show(),vitaraJQ(i).parent().parent().children().eq(2).hide(),vitaraJQ(i).parent().parent().children().eq(3).hide(),vitaraJQ(i).parent().parent().children().eq(4).hide(),vitaraJQ(r).attr("disabled",!1),this.toogleVariWideProperty(!1)))}},{key:"toogleDataLabelFields",value:function(){var e=this.getBaseContext().propMenuHelper.getState().barColumnLabelPosition;void 0!==e&&this.onBarColumnLabelPositionChanged({detail:{value:e}})}},{key:"onBarColumnLabelPositionChanged",value:function(e){void 0!==(e&&e.detail&&e.detail.value)&&this.getBaseContext().getElementRef("#popupforceOutlierLabelsOutside").attr("disabled",0==e.detail.value)}},{key:"onBarFillMaxSelectionChange",value:function(e){var t,a=(null===(t=this.context.propMenuHelper)||void 0===t||null===(t=t.getState())||void 0===t?void 0:t.BarFillMaxValue)||this.context.menuOptions.fetchCallback.fetchMetricMaxValue();"Fixed Value"===e.detail.value?(vitaraJQ(e.target).parent().parent().find("#popup"+e.detail.name.replace("Selection","Value")).parent().show(),vitaraJQ(e.target).parent().parent().find("#popup"+e.detail.name.replace("Selection","Value"))[0].value=a):vitaraJQ(e.target).parent().parent().find("#popup"+e.detail.name.replace("Selection","Value")).parent().hide()}},{key:"onAlignYAxisChange",value:function(e){var t=this.getBaseContext(),a=t.propMenuHelper.getState(),i=e&&e.detail?e.detail.value:null==a?void 0:a.alignYAxis;t.propMenuHelper.toggleStartAndEndValueOption(i)}},{key:"onSeriesTypeWidthValChange",value:function(e){}},{key:"onPlayAxisChangeSequence",value:function(e){if(void 0!==(e&&e.detail&&e.detail.value)){var t=this.getBaseContext().propMenuHelper.getState();t&&(t.motion=t.motion||{},t.motion.trailSequence=e.detail.value)}}},{key:"onPlayAxisTrailLinesChecked",value:function(e){if(void 0!==(e&&e.detail&&e.detail.value)){var t=this.getBaseContext().propMenuHelper.getState();t&&(t.motion=t.motion||{},t.motion.transitionLines=e.detail.value)}}},{key:"toggleUseYAxisMetricFormat",value:function(e,t,a){var i=this.getBaseContext(),n=e&&e.detail?e.detail.value:i.propMenuHelper.getState()[t],o=e&&e.target?e.target:i.getMenuElement("#popup"+t);o&&0!==o.length&&(a||(a=o.name.replace("Format","Select").replace("use","format")),+n?i.getMenuElement("#popup"+a).parent().show():i.getMenuElement("#popup"+a).parent().hide())}},{key:"toggleLegendSetWidthProperties",value:function(e){var t=this.getBaseContext(),a=e&&e.detail?e.detail.value:t.propMenuHelper.getState().legendSetWidth;(e&&e.target?e.target:this.getEditorInterface().getElementRef("#popuplegendSetWidth"))&&(+a?(this.getEditorInterface().getElementRef("#popuplegendItemWidth").parent().parent().show(),this.getEditorInterface().getElementRef("#popuplegendTrim").parent().show()):(this.getEditorInterface().getElementRef("#popuplegendItemWidth").parent().parent().hide(),this.getEditorInterface().getElementRef("#popuplegendTrim").parent().hide()))}},{key:"onAllowUrlsToVisualStateChange",value:function(e){this.saveAndEndBroadcast(e)}},{key:"sanitizeAndUpdate",value:function(e){this.updateToChart(e.detail.name,this.getAppContext().sanitizeContent(e.detail.value),e.detail.prevValue)}},{key:"setEventHandler",value:function(e,t,a){var i=this;vitaraJQ(this.getTargetNode()).off(e).on(e+this.getEventNS(),(function(e){t.call(i,e),"function"==typeof a&&a.call(i,e),e.stopPropagation()}))}},{key:"getEvent",value:function(e,t,a,i){return vitaraJQ.Event(e,{namespace:t,target:a,detail:i})}},{key:"getEventNS",value:function(){return".vitara-propmenu-custom"}},{key:"broadcastEvent",value:function(e){vitaraJQ(e.target).trigger(e)}},{key:"setCustomEventHandlers",value:function(){this.setEventHandler("onSeriesColorsChange",this.onSeriesColorsChange,this.saveAndEndBroadcast),this.setEventHandler("onlabelsEnableChange",this.onlabelsEnableMnMxChange,this.saveAndEndBroadcast),this.setEventHandler("onlabelsEnableMnMxChange",this.onlabelsEnableMnMxChange,this.saveAndEndBroadcast),this.setEventHandler("onInvertColorsChange",this.onInvertColorsChange,this.saveAndEndBroadcast),this.setEventHandler("onSeriesTypeChange",this.onSeriesTypeChange),this.setEventHandler("onChartAxisChange",this.onChartAxisChange,this.saveAndEndBroadcast),this.setEventHandler("onKpiRingMaxSelectionChange",this.onKpiRingMaxSelectionChange,this.saveAndEndBroadcast),this.setEventHandler("onAggregationSelectChange",this.onAggregationSelectChange,this.saveOnBandMetricSelectChange),this.setEventHandler("onBandMetricSelectChange",this.onBandMetricSelectChange,this.saveOnBandMetricSelectChange),this.setEventHandler("onEnableTrellisChange",this.onEnableTrellisChange,this.saveOnBandMetricSelectChange),this.setEventHandler("onClickClearThresholds",this.onClickClearThresholds),this.setEventHandler("onClickClearFilters",this.onClickClearFilters),this.setEventHandler("onClickClearAllColumnFormatting",this.onClickClearAllColumnFormatting),this.setEventHandler("onClickClearSorting",this.onClickClearSorting),this.setEventHandler("onClickShowHideGroupedChildren",this.onClickShowHideGroupedChildren),this.setEventHandler("onClickClearPinnedColumns",this.onClickClearPinnedColumns),this.setEventHandler("onClickClearGrouping",this.onClickClearGrouping),this.setEventHandler("onClickClearColumnGrouping",this.onClickClearColumnGrouping),this.setEventHandler("onClickExportToCSV",this.onClickExportToCSV),this.setEventHandler("onClickClearGen",this.onClickClearGen),this.setEventHandler("onCustomFormatChange",this.onCustomFormatChange),this.setEventHandler("onThresholdTargetChange",this.onThresholdTargetChange),this.setEventHandler("onMenuSelected",this.onMenuSelected),this.setEventHandler("onCalendarTypeChange",this.onCalendarTypeChange),this.setEventHandler("onSankeyLinkColorOptionChange",this.onSankeyLinkColorOptionChange),this.setEventHandler("onEditorSelectionChange",this.onEditorSelectionChange),this.setEventHandler("onRTLLayoutChange",this.onRTLLayoutChange),this.setEventHandler("onCopyErrorToClipBoard",this.onCopyErrorToClipBoard),this.setEventHandler("onThresholdMarkerChecked",this.onThresholdMarkerChecked),this.setEventHandler("onSeriesMarkerChecked",this.onSeriesMarkerChecked),this.setEventHandler("onEditorViewCreated",this.onEditorViewCreated),this.setEventHandler("onTileShapeChange",this.onTileShapeChange),this.setEventHandler("onEnableDrill",this.onEnableDrill),this.setEventHandler("onDrillTargetChange",this.onDrillTargetChange),this.setEventHandler("onDrillChartTypeChange",this.onDrillChartTypeChange),this.setEventHandler("updateThresholdGradientStops",this.updateThresholdGradientStops),this.setEventHandler("onCustomStopsSelectionChange",this.onCustomStopsSelectionChange),this.setEventHandler("onTooltipVisibiltyChange",this.onTooltipVisibiltyChange),this.setEventHandler("onTooltipBackgroundChange",this.onTooltipBackgroundChange),this.setEventHandler("toggleLegendSetWidthProperties",this.toggleLegendSetWidthProperties,this.saveAndEndBroadcast),this.setEventHandler("toggleUseYAxisMetricFormat",this.toggleUseYAxisMetricFormat,this.saveAndEndBroadcast),this.setEventHandler("onScalingGroupChange",this.onScalingGroupChange),this.setEventHandler("onIBCSOptionUpdate",this.onIBCSOptionUpdate),this.setEventHandler("onibcsSyncApplyChange",this.onibcsSyncApplyChange),this.setEventHandler("onErrorBarsEnabled",this.onErrorBarsEnabled),this.setEventHandler("onDeltaBarsEnabled",this.onDeltaBarsEnabled),this.setEventHandler("onEnableGradientPicker",this.onEnableGradientPicker),this.setEventHandler("onEnableSeriesTooltip",this.onEnableSeriesTooltip),this.setEventHandler("onEnableSeriesDatalabel",this.onEnableSeriesDatalabel),this.setEventHandler("onRepeatMarkerStateChange",this.onRepeatMarkerStateChange),this.setEventHandler("onInfographicFillChange",this.onInfographicFillChange),this.setEventHandler("onInfographicFillPercentageMetricChange",this.onInfographicFillPercentageMetricChange),this.setEventHandler("onErrorBarMetricChanged",this.onErrorBarMetricChanged),this.setEventHandler("onEnablePolarAxisChange",this.tooglePolarPaneProperties,this.saveAndEndBroadcast),this.setEventHandler("onBarColumnVariwideChange",this.onBarColumnVariwideChange,this.saveAndEndBroadcast),this.setEventHandler("onBarColumnLabelPositionChanged",this.onBarColumnLabelPositionChanged,this.saveAndEndBroadcast),this.setEventHandler("onBarFillMaxSelectionChange",this.onBarFillMaxSelectionChange,this.saveAndEndBroadcast),this.setEventHandler("onSeriesTypeWidthValChange",this.onSeriesTypeWidthValChange,this.saveAndEndBroadcast),this.setEventHandler("onbarFillWithPercentageChange",this.tooglebarFillWithPercentageChange,this.saveAndEndBroadcast),this.setEventHandler("onPlayAxisChangeSequence",this.onPlayAxisChangeSequence,this.saveAndEndBroadcast),this.setEventHandler("onPlayAxisTrailLinesChecked",this.onPlayAxisTrailLinesChecked,this.saveAndEndBroadcast),this.setEventHandler("onAlignYAxisChange",this.onAlignYAxisChange,this.saveAndEndBroadcast),this.setEventHandler("onAllowUrlsToVisualStateChange",this.onAllowUrlsToVisualStateChange),this.setEventHandler("sanitizeAndUpdate",this.sanitizeAndUpdate)}},{key:"destroy",value:function(){vitaraJQ(this.getTargetNode()).off(this.getEventNS()),this.setBaseContext(null)}},{key:"onibcsSyncApplyChange",value:function(e){this.getBaseContext().menuOptions.fetchCallback.sendScalingBroadcast()}}])&&o(t.prototype,a),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},9348:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var i=a(8397);const n={Fonts:[{value:"Arial",text:"Arial"},{value:"Arial Black",text:"Arial Black"},{value:"Arial Narrow",text:"Arial Narrow"},{value:"Arial Unicode MS",text:"Arial Unicode MS"},{value:"Batang",text:"Batang"},{value:"Book Antiqua",text:"Book Antiqua"},{value:"Bookman Old Style",text:"Bookman Old Style"},{value:"Bookshelf Symbol 1",text:"Bookshelf Symbol 1"},{value:"Bookshelf Symbol 2",text:"Bookshelf Symbol 2"},{value:"Bookshelf Symbol 3",text:"Bookshelf Symbol 3"},{value:"Comic Sans MS",text:"Comic Sans MS"},{value:"Courier New",text:"Courier New"},{value:"Garamond",text:"Garamond"},{value:"Haettenschweiler",text:"Haettenschweiler"},{value:"Helvetica",text:"Helvetica"},{value:"Impact",text:"Impact"},{value:"Lucida Console",text:"Lucida Console"},{value:"Lucida Sans Unicode",text:"Lucida Sans Unicode"},{value:"Map Symbols",text:"Map Symbols"},{value:"Marlett",text:"Marlett"},{value:"Monotype Corsiva",text:"Monotype Corsiva"},{value:"Monotype Sorts",text:"Monotype Sorts"},{value:"MS Gothic",text:"MS Gothic"},{value:"MS Outlook",text:"MS Outlook"},{value:"Microsoft Sans Serif",text:"Microsoft Sans Serif"},{value:"MT Extra",text:"MT Extra"},{value:"Symbol",text:"Symbol"},{value:"Tahoma",text:"Tahoma"},{value:"Times New Roman",text:"Times New Roman"},{value:"Trebuchet MS",text:"Trebuchet MS"},{value:"Verdana",text:"Verdana"},{value:"Webdings",text:"Webdings"},{value:"Wingdings",text:"Wingdings"},{value:"Wingdings 2",text:"Wingdings 2"},{value:"Wingdings 3",text:"Wingdings 3"}],getCustomFonts:function(){var e=VitaraGlobal.globalUtils.customProperties,t=e["font.customFonts"]?e["font.customFonts"].split(","):[],a=[];return i.each(t,(function(t){var i={value:t=e.getStringValue(t),text:t};a.push(i)})),a},setCustomFonts:function(){var e=this.getCustomFonts();this.Fonts=[{value:"",text:"Select"}].concat(e.concat(this.Fonts))},getLegacyFields:function(){this.setCustomFonts();var e=[{value:"default",text:"Auto"},{value:"0",text:"0"},{value:"10",text:"10"},{value:"20",text:"20"},{value:"30",text:"30"},{value:"40",text:"40"},{value:"45",text:"45"},{value:"50",text:"50"},{value:"60",text:"60"},{value:"70",text:"70"},{value:"80",text:"80"},{value:"90",text:"90"},{value:"-10",text:"-10"},{value:"-20",text:"-20"},{value:"-30",text:"-30"},{value:"-40",text:"-40"},{value:"-45",text:"-45"},{value:"-50",text:"-50"},{value:"-60",text:"-60"},{value:"-70",text:"-70"},{value:"-80",text:"-80"},{value:"-90",text:"-90"}];[{value:"",text:"Select"},{value:"8",text:"8"},{value:"9",text:"9"},{value:"10",text:"10"},{value:"11",text:"11"},{value:"12",text:"12"},{value:"14",text:"14"},{value:"16",text:"16"},{value:"18",text:"18"},{value:"20",text:"20"},{value:"22",text:"22"},{value:"24",text:"24"},{value:"36",text:"36"},{value:"48",text:"48"},{value:"56",text:"56"},{value:"64",text:"64"},{value:"72",text:"72"},{value:"80",text:"80"},{value:"100",text:"100"}][0].value="9";var t=[{value:"line",text:"Line"},{value:"bar",text:"Bar"},{value:"column",text:"Column"},{value:"area",text:"Area"},{value:"dataMarkers",text:"Data Markers"}],a=[{value:0,text:"Primary"},{value:1,text:"Secondary"}],i=[{value:"middle",text:"Select"},{value:"low",text:"Low"},{value:"middle",text:"Middle"},{value:"high",text:"High"}],n=[{value:"nofill",text:"No Fill"},{value:"grid",text:"Grid"},{value:"square",text:"Square"},{value:"doubleSquare",text:"Double Square"},{value:"slashline",text:"Slash Pattern"}],o=[{text:"Circle",value:"circle"},{text:"Diamond",value:"diamond"},{text:"Square",value:"square"},{text:"arrowcircledown",value:"arrowcircledown"},{text:"arrowcircleleft",value:"arrowcircleleft"},{text:"arrowcircleodown",value:"arrowcircleodown"},{text:"arrowcircleoleft",value:"arrowcircleoleft"},{text:"arrowcircleoright",value:"arrowcircleoright"},{text:"arrowcircleoup",value:"arrowcircleoup"},{text:"arrowcircleright",value:"arrowcircleright"},{text:"arrowcircleup",value:"arrowcircleup"},{text:"arrowdown",value:"arrowdown"},{text:"arrowleft",value:"arrowleft"},{text:"arrowright",value:"arrowright"},{text:"arrowup",value:"arrowup"},{text:"arrows",value:"arrows"},{text:"arrowsalt",value:"arrowsalt"},{text:"arrowsh",value:"arrowsh"},{text:"arrowsv",value:"arrowsv"},{text:"frowno",value:"frowno"},{text:"smileo",value:"smileo"},{text:"meho",value:"meho"},{text:"thumbsdown",value:"thumbsdown"},{text:"thumbsodown",value:"thumbsodown"},{text:"thumbsup",value:"thumbsup"},{text:"thumbsoup",value:"thumbsoup"},{text:"check",value:"check"},{text:"checkcircle",value:"checkcircle"},{text:"checkcircleo",value:"checkcircleo"},{text:"checksquare",value:"checksquare"},{text:"checksquareo",value:"checksquareo"},{text:"male",value:"male"},{text:"female",value:"female"},{text:"child",value:"child"},{text:"star",value:"star"},{text:"staro",value:"staro"},{text:"heart",value:"heart"},{text:"hearto",value:"hearto"},{text:"exclamation",value:"exclamation"},{text:"exclamationcircle",value:"exclamationcircle"},{text:"exclamationtriangle",value:"exclamationtriangle"},{text:"bullseye",value:"bullseye"},{text:"minus",value:"minus"}],r=[{text:"Select",value:""},{text:"Solid",value:"solid"},{text:"ShortDash",value:"ShortDash"},{text:"ShortDot",value:"ShortDot"},{text:"ShortDashDot",value:"ShortDashDot"},{text:"ShortDashDotDot",value:"ShortDashDotDot"},{text:"Dot",value:"Dot"},{text:"Dash",value:"Dash"},{text:"LongDash",value:"LongDash"},{text:"DashDot",value:"DashDot"},{text:"LongDashDot",value:"LongDashDot"},{text:"LongDashDotDot",value:"LongDashDotDot"}],s=[{value:"select",text:"Select"},{value:"sum",text:"Sum"},{value:"avg",text:"Avg"},{value:"count",text:"Count"},{value:"max",text:"Max"},{value:"min",text:"Min"},{value:"first",text:"First"},{value:"last",text:"Last"},{value:"xpercent",text:"Percentile"},{value:"fixed",text:"Fixed Value"}],l=[{value:"rowValue",text:"Row Value"},{value:"sum",text:"Sum"},{value:"avg",text:"Avg"},{value:"count",text:"Count"},{value:"max",text:"Max"},{value:"min",text:"Min"},{value:"first",text:"First"},{value:"last",text:"Last"},{value:"xpercent",text:"Percentile"},{value:"percentage",text:"Percentage"}],u=[{value:"select",text:"Select"},{value:"min",text:"Min"},{value:"max",text:"Max"},{value:"xpercent",text:"Percentile"}];return[{type:"select",name:"chartType",id:"chartType",class:"chartType",options:[{value:"",text:"Select"},{value:"columnrange",text:"Columns"},{value:"arearange",text:"Shadded Area"}]},{type:"markergrid",name:"markerType",id:"markerType",class:"markerType",default:[0],options:o},{type:"spinner",name:"markerSize",id:"markerSize",class:"markerSize",value:""},{type:"checkbox",name:"markerEnable",id:"markerEnable",class:"markerEnable",default:"0",value:"1"},{type:"checkbox",name:"endValMarkerEnable",id:"endValMarkerEnable",class:"endValMarkerEnable",default:"0",value:"1"},{type:"markergrid",name:"endValMarkerType",id:"endValMarkerType",class:"endValMarkerType",default:[0],options:o},{type:"spinner",name:"endValMarkerSize",id:"endValMarkerSize",class:"endValMarkerSize",value:""},{type:"checkbox",name:"startValMarkerEnable",id:"startValMarkerEnable",class:"startValMarkerEnable",default:"0",value:"1"},{type:"markergrid",name:"startValMarkerType",id:"startValMarkerType",class:"startValmarkerType",default:[0],options:o},{type:"spinner",name:"startValMarkerSize",id:"startValMarkerSize",class:"startValMarkerSize",value:""},{type:"spinner",name:"minBubbleSize",id:"minBubbleSize",class:"minBubbleSize",value:""},{type:"spinner",name:"maxBubbleSize",id:"maxBubbleSize",class:"maxBubbleSize",value:""},{type:"spinner",name:"lineWidth",id:"lineWidth",class:"lineWidth",value:""},{type:"select",name:"dashStyle",id:"dashStyle",class:"dashStyle",default:[0],options:r},{type:"colorpicker",name:"lineColor",id:"lineColor",class:"lineColor"},{type:"textbox",name:"xAxisTitleText",id:"xAxisTitleText",class:"xAxisTitleText",value:"1"},{type:"textbox",name:"sXAxisTitleText",id:"sXAxisTitleText",class:"sXAxisTitleText",value:"1"},{type:"colorpicker",name:"xAxisTitleColor",id:"xAxisTitleColor",class:"xAxisTitleColor"},{type:"colorpicker",name:"sXAxisTitleColor",id:"sXAxisTitleColor",class:"sXAxisTitleColor"},{type:"button",name:"xAxisTitleBold",id:"xAxisTitleBold",class:"xAxisTitleBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"sXAxisTitleBold",id:"sXAxisTitleBold",class:"sXAxisTitleBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"xAxisTitleItalic",id:"xAxisTitleItalic",class:"xAxisTitleItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"sXAxisTitleItalic",id:"sXAxisTitleItalic",class:"sXAxisTitleItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"xAxisTitleUnderline",id:"xAxisTitleUnderline",class:"xAxisTitleUnderline",options:[{value:"underline",text:"U"}]},{type:"button",name:"sXAxisTitleUnderline",id:"sXAxisTitleUnderline",class:"sXAxisTitleUnderline",options:[{value:"underline",text:"U"}]},{type:"select",name:"xAxisTitleFontName",id:"xAxisTitleFontName",class:"xAxisTitleFontName autoWidth",default:"",options:this.Fonts},{type:"select",name:"sXAxisTitleFontName",id:"sXAxisTitleFontName",class:"sXAxisTitleFontName autoWidth",default:"",options:this.Fonts},{type:"spinner",name:"xAxisTitleFontSize",id:"xAxisTitleFontSize",class:"xAxisTitleFontSize",value:""},{type:"spinner",name:"sXAxisTitleFontSize",id:"sXAxisTitleFontSize",class:"sXAxisTitleFontSize",value:""},{type:"spinner",name:"minFontSize",id:"minFontSize",class:"minFontSize",value:""},{type:"spinner",name:"maxFontSize",id:"maxFontSize",class:"maxFontSize",value:""},{type:"select",name:"wordFontFamily",id:"wordFontFamily",class:"wordFontFamily",options:this.Fonts},{type:"select",name:"fontRotation",id:"fontRotation",class:"fontRotation",options:e},{type:"select",name:"xAxisTitleAlignment",id:"xAxisTitleAlignment",class:"xAxisTitleAlignment",options:i},{type:"select",name:"sXAxisTitleAlignment",id:"sXAxisTitleAlignment",class:"sXAxisTitleAlignment",options:i},{type:"checkbox",name:"xAxisOppSide",id:"xAxisOppSide",class:"xAxisOppSide",value:"1"},{type:"checkbox",name:"xAxisRevDir",id:"xAxisRevDir",class:"xAxisRevDir",value:"1"},{type:"checkbox",name:"xAxisLabelHide",id:"xAxisLabelHide",class:"xAxisLabelHide",value:"1"},{type:"checkbox",name:"xAxisGridLines",id:"xAxisGridLines",class:"xAxisGridLines",value:"1"},{type:"textbox",name:"yAxisTitleText",id:"yAxisTitleText",class:"yAxisTitleText",value:"1"},{type:"colorpicker",name:"yAxisTitleColor",id:"yAxisTitleColor",class:"yAxisTitleColor"},{type:"button",name:"yAxisTitleBold",id:"yAxisTitleBold",class:"yAxisTitleBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"yAxisTitleItalic",id:"yAxisTitleItalic",class:"yAxisTitleItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"yAxisTitleUnderline",id:"yAxisTitleUnderline",class:"yAxisTitleUnderline",options:[{value:"underline",text:"U"}]},{type:"select",name:"yAxisTitleFontName",id:"yAxisTitleFontName",class:"yAxisTitleFontName autoWidth",default:"",options:this.Fonts},{type:"spinner",name:"yAxisTitleFontSize",id:"yAxisTitleFontSize",class:"yAxisTitleFontSize",value:""},{type:"select",name:"yAxisTitleAlignment",id:"yAxisTitleAlignment",class:"yAxisTitleAlignment",options:i},{type:"checkbox",name:"yAxisOppSide",id:"yAxisOppSide",class:"yAxisOppSide",value:"1"},{type:"checkbox",name:"yAxisLeftSide",id:"yAxisLeftSide",class:"yAxisLeftSide",value:"1"},{type:"checkbox",name:"yAxisRevDir",id:"yAxisRevDir",class:"yAxisRevDir",value:"1"},{type:"checkbox",name:"yAxisLabelHide",id:"yAxisLabelHide",class:"yAxisLabelHide",value:"1"},{type:"checkbox",name:"xAxisGridLines",id:"xAxisGridLines",class:"xAxisGridLines",value:"1"},{type:"checkbox",name:"yAxisGridLines",id:"yAxisGridLines",class:"yAxisGridLines",value:"1"},{type:"checkbox",name:"sYAxisGridLines",id:"sYAxisGridLines",class:"sYAxisGridLines",value:"1"},{type:"button",name:"xAxisBold",id:"xAxisBold",class:"xAxisBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"sXAxisBold",id:"sXAxisBold",class:"sXAxisBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"xAxisItalic",id:"xAxisItalic",class:"xAxisItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"sXAxisItalic",id:"sXAxisItalic",class:"sXAxisItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"xAxisUnderline",id:"xAxisUnderline",class:"xAxisUnderline",options:[{value:"underline",text:"U"}]},{type:"button",name:"sXAxisUnderline",id:"sXAxisUnderline",class:"sXAxisUnderline",options:[{value:"underline",text:"U"}]},{type:"button",name:"xAxisStrikeThrough",id:"xAxisStrikeThrough",class:"strikethrough",default:"1",options:[{value:"underline",text:"U"}]},{type:"colorpicker",name:"xAxisColor",id:"xAxisColor",class:"xAxisColor"},{type:"colorpicker",name:"sXAxisColor",id:"sXAxisColor",class:"sXAxisColor"},{type:"select",name:"fillPattern",id:"fillPattern",class:"fillPattern",action:"none",options:n},{type:"select",name:"xAxisFontName",id:"xAxisFontName",class:"xAxisFontName autoWidth",default:"",options:this.Fonts},{type:"select",name:"sXAxisFontName",id:"sXAxisFontName",class:"sXAxisFontName autoWidth",default:"",options:this.Fonts},{type:"button",name:"yAxisBold",id:"yAxisBold",class:"yAxisBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"yAxisItalic",id:"yAxisItalic",class:"yAxisItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"yAxisUnderline",id:"yAxisUnderline",class:"yAxisUnderline",options:[{value:"underline",text:"U"}]},{type:"button",name:"yAxisStrikeThrough",id:"yAxisStrikeThrough",class:"strikethrough",default:"1",options:[{value:"underline",text:"U"}]},{type:"colorpicker",name:"yAxisColor",id:"yAxisColor",class:"yAxisColor"},{type:"select",name:"yAxisFontName",id:"yAxisFontName",class:"yAxisFontName autoWidth",default:"",options:this.Fonts},{type:"select",name:"xAxisLabelRotation",id:"xAxisLabelRotation",class:"xAxisLabelRotation",options:e},{type:"select",name:"xAxisL1LabelRotation",id:"xAxisL1LabelRotation",class:"xAxisL1LabelRotation",options:e},{type:"select",name:"xAxisL2LabelRotation",id:"xAxisL2LabelRotation",class:"xAxisL2LabelRotation",options:e},{type:"select",name:"sXAxisLabelRotation",id:"sXAxisLabelRotation",class:"sXAxisLabelRotation",options:e},{type:"select",name:"yAxisLabelRotation",id:"yAxisLabelRotation",class:"yAxisLabelRotation",options:e},{type:"spinner",name:"xAxisFontSize",id:"xAxisFontSize",class:"xAxisFontSize",value:""},{type:"spinner",name:"sXAxisFontSize",id:"sXAxisFontSize",class:"sXAxisFontSize",value:""},{type:"spinner",name:"yAxisFontSize",id:"yAxisFontSize",class:"yAxisFontSize",value:""},{type:"checkbox",name:"labelsEnable",id:"labelsEnable",class:"labelsEnable minfieldwidthCheckbox",value:"1",publish:"onlabelsEnableChange"},{type:"checkbox",name:"labelsEnableMnMx",id:"labelsEnableMnMx",class:"labelsEnableMnMx",value:"1",publish:"onlabelsEnableMnMxChange"},{type:"select",name:"labelsAlign",id:"labelsAlign",class:"labelsAlign",options:[{value:"",text:"Select"},{value:"center",text:"Center"},{value:"left",text:"Left"},{value:"right",text:"Right"}]},{type:"select",name:"labelsVAlign",id:"labelsVAlign",class:"labelsVAlign",options:[{value:"",text:"Select"},{value:"middle",text:"Middle"},{value:"bottom",text:"Bottom"},{value:"top",text:"Top"}]},{type:"button",name:"textStyleBold",id:"textStyleBold",class:"textStyleBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"textStyleItalic",id:"textStyleItalic",class:"textStyleItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"textStyleUnderline",id:"textStyleUnderline",class:"textStyleUnderline",options:[{value:"underline",text:"U"}]},{type:"button",name:"textStyleStrikeThrough",id:"textStyleStrikeThrough",class:"strikethrough",default:"1",options:[{value:"underline",text:"U"}]},{type:"colorpicker",name:"textStyleColor",id:"textStyleColor",class:"textStyleColor"},{type:"select",name:"textStyleFontName",id:"textStyleFontName",class:"textStyleFontName autoWidth",default:"",options:this.Fonts},{type:"spinner",name:"textStyleFontSize",id:"textStyleFontSize",class:"textStyleFontSize",value:""},{type:"select",name:"textStyleLabelRotation",id:"textStyleLabelRotation",class:"textStyleLabelRotation",options:e},{type:"colorpalette",name:"customSeriesColors",id:"customSeriesColors",class:"customSeriesColors"},{type:"select",name:"seriesColors",id:"seriesColors",class:"seriesColors",publish:"onSeriesColorsChange",options:[{text:"Default",value:"default"},{text:"Accent",value:"Accent"},{text:"Paired",value:"Paired"},{text:"Pastel 1",value:"Pastel1"},{text:"Pastel 2",value:"Pastel2"},{text:"Set 1",value:"Set1"},{text:"Set 2",value:"Set2"},{text:"Set 3",value:"Set3"},{text:"Blues",value:"Blues"},{text:"Greens",value:"Greens"},{text:"Greys",value:"Greys"},{text:"Oranges",value:"Oranges"},{text:"Purples",value:"Purples"},{text:"Reds",value:"Reds"},{text:"Custom",value:"custom"}]},{type:"spinner",name:"seriesWidth",id:"seriesWidth",class:"seriesWidth",value:"",action:"none"},{type:"select",name:"seriesMapColors",id:"seriesMapColors",class:"seriesMapColors",publish:"onSeriesColorsChange",options:[{text:"Default",value:"default"},{text:"Blues",value:"Blues"},{text:"Blue Green",value:"BuGn"},{text:"Dark 2",value:"Dark2"},{text:"Green Blue",value:"GnBu"},{text:"Greens",value:"Greens"},{text:"Greys",value:"Greys"},{text:"Oranges",value:"Oranges"},{text:"Orange Red",value:"OrRd"},{text:"Purples",value:"Purples"},{text:"Purple Blue",value:"PuBu"},{text:"Purple Blue Green",value:"PuBuGn"},{text:"Purple Orange",value:"PuOr"},{text:"Reds",value:"Reds"},{text:"Red Blue",value:"RdBu"},{text:"Red Grey",value:"RdGy"},{text:"Red Purple",value:"RdPu"},{text:"Red Yellow Blue",value:"RdYlBu"},{text:"Red Yellow Green",value:"RdYlGn"},{text:"Spectral",value:"Spectral"},{text:"Yellow Green",value:"YlGn"},{text:"Yellow Green Blue",value:"YlGnBu"},{text:"Yellow Orange Brown",value:"YlOrBr"},{text:"Custom",value:"custom"}]},{type:"checkbox",name:"invertedAxis",id:"invertedAxis",class:"invertedAxis",value:"1"},{type:"checkbox",name:"invertColors",id:"invertColors",class:"invertColors",value:"1",publish:"onInvertColorsChange"},{type:"colorpicker",name:"chartAreaBGColor",id:"chartAreaBGColor",class:"chartAreaBGColor"},{type:"colorpicker",name:"plotAreaBGColor",id:"plotAreaBGColor",class:"plotAreaBGColor"},{type:"colorpicker",name:"SimpleKPIFontColor",id:"SimpleKPIFontColor",class:"SimpleKPIFontColor"},{type:"colorpicker",name:"SimpleKPI2FontColor",id:"SimpleKPI2FontColor",class:"SimpleKPI2FontColor"},{type:"checkbox",publish:"onTooltipVisibiltyChange",name:"tooltipEnable",id:"tooltipEnable",class:"tooltipEnable",default:"1",value:"1"},{type:"colorpicker",name:"toolTipStyleColor",id:"toolTipStyleColor",class:"toolTipStyleColor"},{type:"colorpicker",publish:"onTooltipBackgroundChange",name:"toolTipBgColor",id:"toolTipBgColor",class:"toolTipBgColor",default:"#ffffff"},{type:"button",name:"toolTipStyleBold",id:"toolTipStyleBold",class:"toolTipStyleBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"toolTipStyleItalic",id:"toolTipStyleItalic",class:"toolTipStyleItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"toolTipStyleUnderline",id:"toolTipStyleUnderline",class:"toolTipStyleUnderline",options:[{value:"underline",text:"U"}]},{type:"select",name:"toolTipStyleFontName",id:"toolTipStyleFontName",class:"toolTipStyleFontName autoWidth",default:"",options:this.Fonts},{type:"spinner",name:"toolTipStyleFontSize",id:"toolTipStyleFontSize",class:"toolTipStyleFontSize",value:""},{type:"checkbox",name:"colorByAttribute",id:"colorByAttribute",class:"colorByAttribute",value:"1"},{type:"checkbox",name:"showAllCategoryLabels",id:"showAllCategoryLabels",class:"showAllCategoryLabels",value:"1"},{type:"select",name:"trellisChartType",id:"trellisChartType",class:"trellisChartType",options:[{value:"",text:"Select"},{value:"line",text:"line"},{value:"column",text:"column"},{value:"bar",text:"bar"},{value:"scatter",text:"scatter"}]},{type:"select",name:"trellisNumColumns",id:"trellisNumColumns",class:"trellisNumColumns",options:[{value:"",text:"auto"},{value:"1",text:"1"},{value:"2",text:"2"},{value:"3",text:"3"},{value:"4",text:"4"},{value:"5",text:"5"},{value:"6",text:"6"},{value:"7",text:"7"},{value:"8",text:"8"},{value:"9",text:"9"},{value:"10",text:"10"},{value:"11",text:"11"},{value:"12",text:"12"}]},{type:"select",name:"titleAlignment",id:"titleAlignment",class:"titleAlignment",options:[{value:"",text:"Select"},{value:"left",text:"Left"},{value:"center",text:"Center"},{value:"right",text:"Right"}]},{type:"colorpicker",name:"chartTitleColor",id:"chartTitleColor",class:"chartTitleColor"},{type:"button",name:"chartTitleBold",id:"chartTitleBold",class:"chartTitleBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"chartTitleItalic",id:"chartTitleItalic",class:"chartTitleItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"chartTitleUnderline",id:"chartTitleUnderline",class:"chartTitleUnderline",options:[{value:"underline",text:"U"}]},{type:"button",name:"chartTitleStrikeThrough",id:"chartTitleStrikeThrough",class:"strikethrough",default:"1",options:[{value:"underline",text:"U"}]},{type:"select",name:"chartTitleFontName",id:"chartTitleFontName",class:"chartTitleFontName autoWidth",default:"",options:this.Fonts},{type:"spinner",name:"chartTitleFontSize",id:"chartTitleFontSize",class:"chartTitleFontSize",value:""},{type:"checkbox",name:"legendEnable",id:"legendEnable",class:"legendEnable",value:"1"},{type:"select",name:"legendLayout",id:"legendLayout",class:"legendLayout",options:[{value:"",text:"Select"},{value:"horizontal",text:"Horizontal"},{value:"vertical",text:"Vertical"}]},{type:"select",name:"legendHAlignment",id:"legendHAlignment",class:"legendHAlignment",options:[{value:"",text:"Select"},{value:"left",text:"Left"},{value:"center",text:"Center"},{value:"right",text:"Right"}]},{type:"select",name:"legendVAlignment",id:"legendVAlignment",class:"legendVAlignment",options:[{value:"",text:"Select"},{value:"top",text:"Top"},{value:"middle",text:"Middle"},{value:"bottom",text:"Bottom"}]},{type:"colorpicker",name:"legendItemStyleColor",id:"legendItemStyleColor",class:"legendItemStyleColor"},{type:"button",name:"legendItemStyleBold",id:"legendItemStyleBold",class:"legendItemStyleBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"legendItemStyleItalic",id:"legendItemStyleItalic",class:"legendItemStyleItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"legendItemStyleUnderline",id:"legendItemStyleUnderline",class:"legendItemStyleUnderline",options:[{value:"underline",text:"U"}]},{type:"button",name:"legendItemStyleStrikeThrough",id:"legendItemStyleStrikeThrough",class:"strikethrough",default:"1",options:[{value:"underline",text:"U"}]},{type:"select",name:"legendItemStyleFontName",id:"legendItemStyleFontName",class:"legendItemStyleFontName autoWidth",default:"",options:this.Fonts},{type:"spinner",name:"legendItemStyleFontSize",id:"legendItemStyleFontSize",class:"legendItemStyleFontSize",value:""},{type:"select",name:"kpiAnimTextVAlignment",id:"kpiAnimTextVAlignment",class:"kpiAnimTextVAlignment",options:[{value:"",text:"Select"},{value:"top",text:"Top"},{value:"middle",text:"Middle"},{value:"bottom",text:"Bottom"}]},{type:"select",name:"kpiAnimTextPercentSign",id:"kpiAnimTextPercentSign",class:"kpiAnimTextPercentSign",options:[{value:"default",text:"Default"},{value:"show",text:"Show"},{value:"hide",text:"Hide"}]},{type:"spinner",name:"kpiAnimTextFontSize",id:"kpiAnimTextFontSize",class:"kpiAnimTextFontSize",value:""},{type:"select",name:"kpiAnimTextFontName",id:"kpiAnimTextFontName",class:"kpiAnimTextFontName autoWidth",default:"",options:this.Fonts},{type:"button",name:"kpiAnimTextStyleBold",id:"kpiAnimTextStyleBold",class:"kpiAnimTextStyleBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"kpiAnimTextStyleItalic",id:"kpiAnimTextStyleItalic",class:"kpiAnimTextStyleItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"kpiAnimTextStyleUnderline",id:"kpiAnimTextStyleUnderline",class:"kpiAnimTextStyleUnderline",options:[{value:"underline",text:"U"}]},{type:"checkbox",name:"placeBarsTogether",id:"placeBarsTogether",class:"placeBarsTogether",value:"1"},{type:"checkbox",name:"seriesbyMetric",id:"seriesbyMetric",class:"seriesbyMetric",value:"1"},{type:"checkbox",name:"stackByMetric",id:"stackByMetric",class:"stackByMetric",value:"0"},{type:"checkbox",name:"seriesByAttribute",id:"seriesByAttribute",class:"seriesByAttribute",value:"0"},{type:"checkbox",name:"playByAttribute",id:"playByAttribute",class:"playByAttribute",value:"0"},{type:"checkbox",name:"breakByAttribute",id:"breakByAttribute",class:"breakByAttribute",value:"0"},{type:"select",name:"Input_Date_Format",id:"Input_Date_Format",class:"Input_Date_Format",options:[{value:"",text:"Auto"},{value:"D-M-YYYY",text:"22-09-2016"},{value:"M-D-YYYY",text:"04-22-2016"},{value:"D/M/YYYY",text:"10/08/2016(10th Aug)"},{value:"M/D/YYYY",text:"01/20/2016"},{value:"MMM YYYY",text:"Jan 2016"},{value:"YYYYMMDD",text:"20160922(Sep 22nd)"},{value:"DDMMYYYY",text:"30012016(Jan 30th)"},{value:"MMDDYYYY",text:"02252016"},{value:"YYYY-M-D HH:mm:s",text:"2016-09-13 05:40:39"},{value:"YYYY-M-D HH:mm",text:"2016-09-13 05:40"},{value:"D-M-YYYY HH:mm",text:"22-09-2016 10:40"},{value:"D-M-YYYY HH:mm:s",text:"22-09-2016 10:40:39"},{value:"M-D-YYYY HH:mm",text:"04-22-2016 10:40"},{value:"M-D-YYYY HH:mm:s",text:"04-22-2016 10:40:59"},{value:"D/M/YYYY HH:mm",text:"10/08/2016(Oct 8th) 09:45"},{value:"01/20/2016 10:30:12",text:"M/D/YYYY HH:mm:s"},{value:"MMMM",text:"March"},{value:"MMM",text:"Mar"},{value:"dddd",text:"Tuesday"},{value:"ddd",text:"Tue"}]},{type:"textbox",name:"customDateFormat",id:"customDateFormat",class:"customDateFormat",value:"customDateFormat"},{type:"select",name:"cellsize",id:"cellsize",class:"cellsize",options:[{value:"",text:"Auto"},{value:"40",text:"Large"},{value:"30",text:"Medium"},{value:"17",text:"Small"}]},{type:"select",name:"Week_Start_Day",id:"Week_Start_Day",class:"Week_Start_Day",options:[{value:"",text:"Select"},{value:"1",text:"Monday"},{value:"0",text:"Sunday"}]},{type:"select",name:"calDomain",id:"calDomain",class:"calDomain",options:[{value:"",text:"Select"},{value:"x_day month",text:"Day in a Month"},{value:"x_day year",text:"Day in a Year"},{value:"week month",text:"Week in a Month"},{value:"week year",text:"Week in a Year"},{value:"month year",text:"Month in a Year"},{value:"x_hour day",text:"Hour in a Day"},{value:"x_hour week",text:"Hour in a Week"}]},{type:"textbox",name:"colorStopStart0",id:"colorStopStart0",class:"colorStopStart0",value:"colorStopStart0"},{type:"textbox",name:"colorStopEnd0",id:"colorStopEnd0",class:"colorStopEnd0",value:"colorStopEnd0"},{type:"textbox",name:"colorStopStart1",id:"colorStopStart1",class:"colorStopStart1",value:"colorStopStart1"},{type:"textbox",name:"colorStopEnd1",id:"colorStopEnd1",class:"colorStopEnd1",value:"colorStopEnd1"},{type:"textbox",name:"colorStopStart2",id:"colorStopStart2",class:"colorStopStart2",value:"colorStopStart2"},{type:"textbox",name:"colorStopEnd2",id:"colorStopEnd2",class:"colorStopEnd2",value:"colorStopEnd2"},{type:"textbox",name:"colorStopStart3",id:"colorStopStart3",class:"colorStopStart3",value:"colorStopStart3"},{type:"textbox",name:"colorStopEnd3",id:"colorStopEnd3",class:"colorStopEnd3",value:"colorStopEnd3"},{type:"textbox",name:"colorStopStart4",id:"colorStopStart4",class:"colorStopStart4",value:"colorStopStart4"},{type:"textbox",name:"colorStopEnd4",id:"colorStopEnd4",class:"colorStopEnd4",value:"colorStopEnd4"},{type:"textbox",name:"colorStopStart5",id:"colorStopStart5",class:"colorStopStart5",value:"colorStopStart5"},{type:"textbox",name:"colorStopEnd5",id:"colorStopEnd5",class:"colorStopEnd5",value:"colorStopEnd5"},{type:"textbox",name:"colorStopStart6",id:"colorStopStart6",class:"colorStopStart6",value:"colorStopStart6"},{type:"textbox",name:"colorStopEnd6",id:"colorStopEnd6",class:"colorStopEnd6",value:"colorStopEnd6"},{type:"colorpicker",name:"colorStopFillColor0",id:"colorStopFillColor0",class:"colorStopFillColor0"},{type:"colorpicker",name:"colorStopFillColor1",id:"colorStopFillColor1",class:"colorStopFillColor1"},{type:"colorpicker",name:"colorStopFillColor2",id:"colorStopFillColor2",class:"colorStopFillColor2"},{type:"colorpicker",name:"colorStopFillColor3",id:"colorStopFillColor3",class:"colorStopFillColor3"},{type:"colorpicker",name:"colorStopFillColor4",id:"colorStopFillColor4",class:"colorStopFillColor4"},{type:"colorpicker",name:"colorStopFillColor5",id:"colorStopFillColor5",class:"colorStopFillColor5"},{type:"colorpicker",name:"colorStopFillColor6",id:"colorStopFillColor6",class:"colorStopFillColor6"},{type:"button",name:"simpleKPIBold",id:"simpleKPIBold",class:"simpleKPIBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"simpleKPIItalic",id:"simpleKPIItalic",class:"simpleKPIItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"simpleKPIUnderline",id:"simpleKPIUnderline",class:"simpleKPIUnderline",options:[{value:"underline",text:"U"}]},{type:"button",name:"simpleKPIStrikeThrough",id:"simpleKPIStrikeThrough",class:"strikethrough",default:"1",options:[{value:"underline",text:"U"}]},{type:"select",name:"simpleKPIFontName",id:"simpleKPIFontName",class:"simpleKPIFontName autoWidth",default:"",options:this.Fonts},{type:"spinner",name:"simpleKPIFontSize",id:"simpleKPIFontSize",class:"simpleKPIFontSize",publish:"onSKPIFontSizeChange",value:""},{type:"select",name:"simpleKPILabelRotation",id:"simpleKPILabelRotation",class:"simpleKPILabelRotation",options:e},{type:"button",name:"simpleKPI2Bold",id:"simpleKPI2Bold",class:"simpleKPI2Bold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"simpleKPI2Italic",id:"simpleKPI2Italic",class:"simpleKPI2Italic",options:[{value:"italic",text:"I"}]},{type:"button",name:"simpleKPI2Underline",id:"simpleKPI2Underline",class:"simpleKPI2Underline",options:[{value:"underline",text:"U"}]},{type:"button",name:"simpleKPI2StrikeThrough",id:"simpleKPI2StrikeThrough",class:"strikethrough",default:"1",options:[{value:"underline",text:"U"}]},{type:"select",name:"simpleKPI2FontName",id:"simpleKPI2FontName",class:"simpleKPI2FontName autoWidth",default:"",options:this.Fonts},{type:"spinner",name:"simpleKPI2FontSize",id:"simpleKPI2FontSize",class:"simpleKPI2FontSize",publish:"onSKPIFontSizeChange",value:""},{type:"select",name:"simpleKPI2LabelRotation",id:"simpleKPI2LabelRotation",class:"simpleKPI2LabelRotation",options:e},{type:"colorpicker",name:"waterfallUpColor",id:"waterfallUpColor",class:"waterfallUpColor"},{type:"colorpicker",name:"waterfallDownColor",id:"waterfallDownColor",class:"waterfallDownColor"},{type:"colorpicker",name:"waterfallTotalColor",id:"waterfallTotalColor",class:"waterfallTotalColor"},{type:"colorpicker",name:"animKPICircleColor",id:"animKPICircleColor",class:"animKPICircleColor"},{type:"colorpicker",name:"animKPIWaveColor",id:"animKPIWaveColor",class:"animKPIWaveColor"},{type:"colorpicker",name:"animKPITextColor",id:"animKPITextColor",class:"animKPITextColor"},{type:"select",name:"mainlabel_horizontal",id:"mainlabel_horizontal",class:"mainlabel_horizontal",options:[{value:"",text:"Select"},{value:"center",text:"Center"},{value:"left",text:"Left"},{value:"right",text:"Right"}]},{type:"select",name:"mainlabel_vertical",id:"mainlabel_vertical",class:"mainlabel_vertical",options:[{value:"",text:"Select"},{value:"top",text:"Top"},{value:"middle",text:"Middle"},{value:"bottom",text:"Bottom"}]},{type:"select",name:"sublabel_horizontal",id:"sublabel_horizontal",class:"sublabel_horizontal",options:[{value:"",text:"Select"},{value:"left",text:"Left"},{value:"center",text:"Center"},{value:"right",text:"Right"}]},{type:"label",action:"none",name:"series",id:"series",class:"series hidden"},{type:"label",action:"none",name:"seriesName",id:"seriesName",class:"seriesName"},{type:"select",name:"seriesType",id:"seriesType",class:"seriesType",options:t,publish:"onSeriesTypeChange"},{type:"select",name:"newMetricSeriesType",id:"newMetricSeriesType",class:"newMetricSeriesType",options:[{value:"line",text:"Line"},{value:"area",text:"Area"},{value:"dataMarkers",text:"Data Markers"}],publish:"onSeriesTypeChange"},{type:"spinner",name:"seriesTypeWidth",id:"seriesTypeWidth",class:"seriesTypeWidth",value:""},{type:"select",name:"lineStyle",id:"lineStyle",class:"lineStyle",value:"",default:[0],options:[{value:"Solid",text:"Solid"},{value:"ShortDash",text:"ShortDash"},{value:"ShortDot",text:"ShortDot"},{value:"ShortDashDot",text:"ShortDashDot"},{value:"ShortDashDotDot",text:"ShortDashDotDot"},{value:"Dot",text:"Dot"},{value:"Dash",text:"Dash"},{value:"LongDash",text:"LongDash"},{value:"DashDot",text:"DashDot"},{value:"LongDashDot",text:"LongDashDot"},{value:"LongDashDotDot",text:"LongDashDotDot"}]},{type:"select",name:"seriesLineStyle",id:"seriesLineStyle",class:"seriesLineStyle",action:"none",value:"",default:[0],options:[{value:"Solid",text:"Solid"},{value:"ShortDash",text:"ShortDash"},{value:"ShortDot",text:"ShortDot"},{value:"ShortDashDot",text:"ShortDashDot"},{value:"ShortDashDotDot",text:"ShortDashDotDot"},{value:"Dot",text:"Dot"},{value:"Dash",text:"Dash"},{value:"LongDash",text:"LongDash"},{value:"DashDot",text:"DashDot"},{value:"LongDashDot",text:"LongDashDot"},{value:"LongDashDotDot",text:"LongDashDotDot"}]},{type:"colorpicker",name:"seriesTypeColor",id:"seriesTypeColor",class:"seriesTypeColor",value:""},{type:"select",action:"none",name:"seriesYAxis",id:"seriesYAxis",class:"seriesYAxis",options:a},{type:"select",name:"thresholdCondition",id:"thresholdCondition",class:"thresholdCondition",publish:"onThresholdConditionChange",options:t},{type:"textbox",name:"sYAxisTitleText",id:"sYAxisTitleText",class:"sYAxisTitleText",value:"1"},{type:"colorpicker",name:"sYAxisTitleColor",id:"sYAxisTitleColor",class:"sYAxisTitleColor"},{type:"button",name:"sYAxisTitleBold",id:"sYAxisTitleBold",class:"sYAxisTitleBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"sYAxisTitleItalic",id:"sYAxisTitleItalic",class:"sYAxisTitleItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"sYAxisTitleUnderline",id:"sYAxisTitleUnderline",class:"sYAxisTitleUnderline",options:[{value:"underline",text:"U"}]},{type:"select",name:"sYAxisTitleFontName",id:"sYAxisTitleFontName",class:"sYAxisTitleFontName autoWidth",default:"",options:this.Fonts},{type:"select",name:"sYAxisTitleAlignment",id:"sYAxisTitleAlignment",class:"sYAxisTitleAlignment",options:i},{type:"spinner",name:"sYAxisTitleFontSize",id:"sYAxisTitleFontSize",class:"sYAxisTitleFontSize",value:""},{type:"checkbox",name:"sYAxisOppSide",id:"sYAxisOppSide",class:"sYAxisOppSide",value:"1"},{type:"checkbox",name:"sXAxisOppSide",id:"sXAxisOppSide",class:"sXAxisOppSide",value:"1"},{type:"checkbox",name:"sYAxisRevDir",id:"sYAxisRevDir",class:"sYAxisRevDir",value:"1"},{type:"checkbox",name:"sXAxisRevDir",id:"sXAxisRevDir",class:"sXAxisRevDir",value:"1"},{type:"checkbox",name:"sYAxisLabelHide",id:"sYAxisLabelHide",class:"sYAxisLabelHide",value:"1"},{type:"checkbox",name:"sXAxisLabelHide",id:"sXAxisLabelHide",class:"sXAxisLabelHide",value:"1"},{type:"button",name:"sYAxisBold",id:"sYAxisBold",class:"sYAxisBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"sYAxisItalic",id:"sYAxisItalic",class:"sYAxisItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"sYAxisUnderline",id:"sYAxisUnderline",class:"sYAxisUnderline",options:[{value:"underline",text:"U"}]},{type:"button",name:"sYAxisStrikeThrough",id:"sYAxisStrikeThrough",class:"strikethrough",default:"1",options:[{value:"underline",text:"U"}]},{type:"select",name:"sYAxisFontName",id:"sYAxisFontName",class:"sYAxisFontName autoWidth",default:"",options:this.Fonts},{type:"select",name:"sYAxisLabelRotation",id:"sYAxisLabelRotation",class:"sYAxisLabelRotation",options:e},{type:"spinner",name:"sYAxisFontSize",id:"sYAxisFontSize",class:"sYAxisFontSize",value:""},{type:"select",name:"chartAxis",id:"chartAxis",action:"none",class:"chartAxis",options:[{value:"categoryAxis",text:"Category Axis"},{value:"primaryValueAxis",text:"Primary Value Axis"},{value:"secondaryValueAxis",text:"Secondary Value Axis"}],publish:"onChartAxisChange"},{type:"colorpicker",name:"xAxisLabelsColor",id:"xAxisLabelsColor",class:"xAxisLabelsColor"},{type:"colorpicker",name:"yAxisLabelsColor",id:"yAxisLabelsColor",class:"yAxisLabelsColor"},{type:"colorpicker",name:"sYAxisLabelsColor",id:"sYAxisLabelsColor",class:"sYAxisLabelsColor"},{type:"markergrid",name:"iconType",id:"iconType",class:"iconType",default:[0],options:o},{type:"select",name:"iconSize",id:"iconSize",class:"iconSize",default:[0],options:[{text:"Auto",value:"0"},{text:"10",value:"10"},{text:"15",value:"15"},{text:"20",value:"20"},{text:"25",value:"25"},{text:"30",value:"30"}]},{type:"select",name:"orientation",id:"orientation",class:"orientation",default:[0],options:[{text:"Auto",value:"-1"},{text:"Horizontal",value:"0"},{text:"Vertical",value:"1"}]},{type:"select",name:"waffle",id:"waffle",class:"waffle",default:"percentage",options:[{text:"Block (Percentage to Total)",value:"block"},{text:"List (Percentage to Total)",value:"individual"},{text:"Grid (Percentage Metric Value)",value:"percentage"}]},{type:"select",name:"labelItemStyleFontName",id:"labelItemStyleFontName",class:"labelItemStyleFontName autoWidth",default:"",options:this.Fonts},{type:"spinner",name:"labelItemStyleFontSize",id:"labelItemStyleFontSize",class:"labelItemStyleFontSize",default:"13",value:""},{type:"colorpicker",name:"labelItemStyleColor",id:"labelItemStyleColor",class:"labelItemStyleColor"},{type:"button",name:"labelItemStyleBold",id:"labelItemStyleBold",class:"labelItemStyleBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"labelItemStyleItalic",id:"labelItemStyleItalic",class:"labelItemStyleItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"labelItemStyleUnderline",id:"labelItemStyleUnderline",class:"labelItemStyleUnderline",options:[{value:"underline",text:"U"}]},{type:"checkbox",name:"waffleLabelsEnable",id:"waffleLabelsEnable",class:"waffleLabelsEnable",default:"1",value:"1"},{type:"select",name:"waffleLabelsVAlign",id:"waffleLabelsVAlign",class:"waffleLabelsVAlign",options:[{value:"top",text:"Top"},{value:"bottom",text:"Bottom"}]},{type:"checkbox",name:"headerLabelsEnable",id:"headerLabelsEnable",class:"headerLabelsEnable",default:"1",value:"1"},{type:"select",name:"dataLabelType",id:"dataLabelType",class:"dataLabelType",publish:"onCHMLabelTypeChange",options:[{value:"date",text:"Date"},{value:"metric",text:"Metric"}]},{type:"select",name:"dataLabelDisplayFormat",id:"dataLabelDisplayFormat",class:"dataLabelDisplayFormat",default:"default",options:[{value:"default",text:"Shortened(Default)"},{value:"metricFormat",text:"Use Metric Formatting"}]},{type:"select",name:"dataLabelRotation",id:"dataLabelRotation",class:"dataLabelRotation",options:e},{type:"select",name:"dateDisplayFormat",id:"dateDisplayFormat",class:"dateDisplayFormat",default:"default",options:[{value:"number",text:"Numeric"},{value:"name",text:"Name"}]},{type:"select",name:"dataLabelsDisplayStyle",id:"dataLabelsDisplayStyle",class:"dataLabelsDisplayStyle",default:"metricValue",options:[{text:"Metric Value",value:"metricValue"},{text:"Attribute Label",value:"attributeLabel"},{text:"Combined Format",value:"combinedFormat"}]},{type:"textbox",name:"bin_size_histogram",id:"bin_size_histogram",class:"bin_size_histogram",value:""},{type:"checkbox",name:"c_sum_histogram",id:"c_sum_histogram",class:"c_sum_histogram",default:"0",value:"0"},{type:"select",name:"c_seriesYAxis_histogram",id:"c_seriesYAxis_histogram",class:"c_seriesYAxis_histogram",options:a},{type:"spinner",name:"simpleKPITextFontSize",id:"simpleKPITextFontSize",class:"simpleKPITextFontSize",publish:"onSKPIFontSizeChange",value:""},{type:"textbox",name:"label_simpleKPI",id:"label_simpleKPI",class:"label_simpleKPI",value:""},{type:"select",name:"label_align_sKPI",id:"label_align_sKPI",class:"label_align_sKPI",options:[{value:"top",text:"Top"},{value:"bottom",text:"Bottom"}]},{type:"select",name:"label_h_align_sKPI",id:"label_h_align_sKPI",class:"label_h_align_sKPI",options:[{value:"",text:"Select"},{value:"center",text:"Center"},{value:"left",text:"Left"},{value:"right",text:"Right"}]},{type:"select",action:"none",name:"thresholdSeriesSelect",id:"thresholdSeriesSelect",class:"thresholdSeriesSelect fullWidth",options:[]},{type:"select",action:"none",name:"thresholdColSelect",id:"thresholdColSelect",class:"thresholdColSelect fullWidth",publish:"onThresholdSourceChanged",options:[]},{type:"select",action:"none",name:"thresholdFormat",id:"thresholdFormat",class:"thresholdFormat fullWidth",options:[{value:"",text:"Select"},{value:"Equal To",text:"Equal To"},{value:"Greater Than",text:"Greater Than"},{value:"Less Than",text:"Less Than"},{value:"Greater Than Equal To",text:"Greater Than Equal To"},{value:"Less Than Equal To",text:"Less Than Equal To"},{value:"Between",text:"Between"},{value:"Top",text:"Top"},{value:"Bottom",text:"Bottom"},{value:"Top Percentage",text:"Top Percentage"},{value:"Bottom Percentage",text:"Bottom Percentage"},{value:"Between Percentage",text:"Between Percentage"},{value:"Above Average",text:"Above Average"},{value:"Below Average",text:"Below Average"},{value:"Gradient Threshold",text:"Gradient Threshold"}]},{type:"markergrid",action:"none",name:"thresholdMarkerType",id:"thresholdMarkerType",class:"thresholdMarkerType",options:o},{type:"spinner",action:"actionLimited",name:"thresholdMarkerSize",id:"thresholdMarkerSize",class:"thresholdMarkerSize",value:""},{type:"colorpicker",action:"none",name:"thresholdMarkerColor",id:"thresholdMarkerColor",class:"thresholdMarkerColor",value:""},{type:"textbox",action:"none",name:"thresholdValue1",id:"thresholdValue1",class:"thresholdValue1",value:""},{type:"textbox",action:"none",name:"grandTotalsText",id:"grandTotalsText",class:"grandTotalsText",value:""},{type:"textbox",action:"none",name:"thresholdValue2",id:"thresholdValue2",class:"thresholdValue2",value:""},{type:"colorpicker",action:"none",publish:"updateThresholdGradientStops",name:"thresholdStartColor",id:"thresholdStartColor",class:"thresholdStartColor",value:""},{type:"colorpicker",action:"none",publish:"updateThresholdGradientStops",name:"thresholdEndColor",id:"thresholdEndColor",class:"thresholdEndColor",value:""},{type:"spinner",min:2,default:5,action:"actionLimited",publish:"updateThresholdGradientStops",name:"thresholdCount",id:"thresholdCount",class:"thresholdCount",value:""},{type:"colorpicker",action:"none",name:"thresholdcolor",id:"thresholdcolor",class:"thresholdcolor",default:"#222222"},{type:"select",name:"thresholdFillPattern",id:"thresholdFillPattern",class:"thresholdFillPattern",action:"none",options:n},{type:"checkbox",action:"none",name:"thresholdEnableDataLabel",id:"thresholdEnableDataLabel",class:"thresholdEnableDataLabel"},{type:"checkbox",action:"none",publish:"onThresholdMarkerChecked",name:"thresholdEnableMarker",id:"thresholdEnableMarker",class:"thresholdEnableMarker"},{type:"checkbox",action:"none",publish:"onThresholdBarsMarkerChecked",name:"thresholdEnableBarsMarker",id:"thresholdEnableBarsMarker",class:"thresholdEnableBarsMarker"},{type:"radioBtnGroup",action:"none",publish:"onThresholdMarkerChecked",name:"thresholdEnableMarkerGroup",id:"thresholdEnableMarkerGroup",class:"thresholdEnableMarkerGroup",radioOptions:[{class:"thresholdEnableMarker",id:"thresholdEnableMarker",label:"Marker",value:"Marker"},{class:"thresholdEnableBarsMarker",id:"thresholdEnableBarsMarker",label:"Bars",value:"Bars"},{class:"thresholdEnableNoMarker",id:"thresholdEnableNoMarker",label:"None",value:"None"}]},{type:"colorpicker",action:"none",name:"thresholdDataLabelColor",id:"thresholdDataLabelColor",class:"thresholdDataLabelColor",value:""},{type:"button",name:"thresholdDatalabelFontBold",id:"thresholdDatalabelFontBold",action:"none",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"thresholdDatalabelFontItalic",id:"thresholdDatalabelFontItalic",action:"none",options:[{value:"italic",text:"I"}]},{type:"button",name:"thresholdDatalabelUnderline",id:"thresholdDatalabelUnderline",action:"none",options:[{value:"underline",text:"U"}]},{type:"select",action:"none",name:"thresholdDatalabelFontName",id:"thresholdDatalabelFontName",class:"thresholdDatalabelFontName autoWidth",default:"",options:this.Fonts},{type:"spinner",action:"actionLimited",name:"thresholdDatalabelFontSize",id:"thresholdDatalabelFontSize",class:"thresholdDatalabelFontSize",value:""},{type:"button",action:"none",name:"manageThresholds",id:"manageThresholds",class:"btn btn-primary btnCustom",default:[0],options:[{value:"",text:"Manage"}]},{type:"onlybutton",action:"none",name:"addNewThresholds",id:"addNewThresholds",default:[0],options:[{value:"add",text:"Add"}]},{type:"colorpicker",action:"none",name:"thresholdBackgroundColor",id:"thresholdBackgroundColor",class:"thresholdBackgroundColor",default:""},{type:"select",action:"none",name:"thresholdIcon",id:"thresholdIcon",class:"thresholdIcon",options:[{value:"",text:"Select"},{value:"circle",text:"Circle"},{value:"square",text:"Square"},{value:"directionup",text:"Arrow Up"},{value:"directiondown",text:"Arrow Down"},{value:"directionleft",text:"Arrow Left"},{value:"directionright",text:"Arrow Right"},{value:"bar",text:"Bars"}]},{type:"colorpicker",action:"none",name:"thresholdIconColor",id:"thresholdIconColor",class:"thresholdIconColor",default:""},{type:"spinner",action:"actionLimited",name:"thresholdIconSize",id:"thresholdIconSize",class:"thresholdIconSize",value:""},{type:"checkbox",action:"none",name:"thresholdIconOnly",id:"thresholdIconOnly",class:"thresholdIconOnly",value:""},{type:"radio",name:"fitAllColumnsToGridWidth",publish:"onFitAllColumnsToGridWidth",id:"fitAllColumnsToGridWidth",options:[{value:"Fit To Grid Width",text:"Fit To Grid Width"}]},{type:"radio",name:"fitAllColumnsToContent",publish:"onFitAllColumnsToContent",id:"fitAllColumnsToContent",options:[{value:"Fit To Content",text:"Fit To Content"}]},{type:"button",name:"clearSorting",id:"clearSorting",publish:"onClickClearSorting",default:[0],options:[{value:"Clear Sorting",text:"Clear Sorting"}]},{type:"button",name:"clearThresholds",id:"clearThresholds",default:[0],publish:"onClickClearThresholds",options:[{value:"Clear Thresholds",text:"Clear Thresholds"}]},{type:"button",name:"clearFilters",id:"clearFilters",publish:"onClickClearFilters",default:[0],options:[{value:"Clear Filters",text:"Clear Filters"}]},{type:"button",name:"clearPinnedColumns",id:"clearPinnedColumns",publish:"onClickClearPinnedColumns",default:[0],options:[{value:"Clear Pinned Columns",text:"Clear Pinned Columns"}]},{type:"button",name:"clearGrouping",id:"clearGrouping",publish:"onClickClearGrouping",default:[0],options:[{value:"Clear Grouping",text:"Clear Grouping"}]},{type:"button",name:"clearColumnGrouping",id:"clearColumnGrouping",publish:"onClickClearColumnGrouping",default:[0],options:[{value:"Clear Column Grouping",text:"Clear Column Grouping"}]},{type:"button",name:"clearScalingGrouping",id:"clearScalingGrouping",publish:"onClickClearScalingGrouping",default:[0],options:[{value:"Clear Scaling Grouping",text:"Clear Scaling Grouping"}]},{type:"button",name:"clearMetricRowGrouping",id:"clearMetricRowGrouping",publish:"onClickClearMetricRowGrouping",default:[0],options:[{value:"Clear Metric Grouping",text:"Clear Metric Grouping"}]},{type:"select",name:"themeFormat",id:"themeFormat",class:"themeFormat",publish:"onThemeFormatChange",default:[{value:"blue",text:"Blue"}],options:[{value:"fresh",text:"Fresh"},{value:"dark",text:"Dark"},{value:"blue",text:"Blue"},{value:"bootstrap",text:"Bootstarp"},{value:"white",text:"White"}]},{type:"spinner",name:"rowHeight",id:"rowHeight",class:"rowHeight",publish:"onRowHeightChange",value:""},{type:"spinner",name:"groupedRowHeight",id:"groupedRowHeight",publish:"onGroupedRowHeightChange",class:"groupedRowHeight",value:""},{type:"spinner",name:"headerHeight",id:"headerHeight",class:"headerHeight",publish:"onHeaderHeightChange",value:""},{type:"select",name:"headerFontFamily",id:"headerFontFamily",class:"headerFontFamily",publish:"onHeaderFontFamilyChange",default:"",options:this.Fonts},{type:"spinner",name:"headerFontSize",id:"headerFontSize",class:"headerFontSize",publish:"onHeaderFontSizeChange",value:""},{type:"colorpicker",name:"headerFontColor",id:"headerFontColor",publish:"onHeaderFontColorChange",class:"headerFontColor"},{type:"colorpicker",name:"headerBgColor",id:"headerBgColor",publish:"onHeaderBgColorChange",class:"headerBgColor"},{type:"button",name:"headerFontBold",id:"headerFontBold",publish:"onHeaderFontBoldChange",class:"headerFontBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"headerFontItalic",id:"headerFontItalic",publish:"onHeaderFontItalicChange",class:"headerFontItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"headerFontUnderline",id:"headerFontUnderline",publish:"onHeaderFontUnderlineChange",class:"headerFontUnderline",options:[{value:"underline",text:"U"}]},{type:"select",name:"headerFontAlignment",id:"headerFontAlignment",publish:"onHeaderFontAlignmentChange",class:"headerFontAlignment",options:[{value:"",text:"Select"},{value:"flex-start",text:"Left"},{value:"center",text:"Center"},{value:"flex-end",text:"Right"}]},{type:"select",name:"headerFontVerticalAlignment",id:"headerFontVerticalAlignment",publish:"onHeaderFontVerticalAlignmentChange",class:"headerFontVerticalAlignment",options:[{value:"",text:"Select"},{value:"flex-start",text:"Top"},{value:"center",text:"Middle"},{value:"flex-end",text:"Bottom"}]},{type:"select",name:"bodyFontFamily",id:"bodyFontFamily",class:"bodyFontFamily",publish:"onBodyFontFamilyChange",default:"",options:this.Fonts},{type:"spinner",name:"bodyFontSize",id:"bodyFontSize",class:"bodyFontSize",publish:"onBodyFontSizeChange",value:""},{type:"colorpicker",name:"bodyFontColor",id:"bodyFontColor",publish:"onBodyFontColorChange",class:"bodyFontColor"},{type:"colorpicker",name:"bodyBgColor",id:"bodyBgColor",publish:"onBodyBgColorChange",class:"bodyBgColor"},{type:"button",name:"bodyFontBold",id:"bodyFontBold",class:"bodyFontBold",publish:"onBodyFontBoldChange",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"bodyFontItalic",id:"bodyFontItalic",publish:"onBodyFontItalicChange",class:"bodyFontItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"bodyFontUnderline",id:"bodyFontUnderline",publish:"onBodyFontUnderlineChange",class:"bodyFontUnderline",options:[{value:"underline",text:"U"}]},{type:"select",name:"bodyFontAlignment",id:"bodyFontAlignment",publish:"onBodyFontAlignmentChange",class:"bodyFontAlignment",options:[{value:"",text:"Select"},{value:"flex-start",text:"Left"},{value:"center",text:"Center"},{value:"flex-end",text:"Right"}]},{type:"select",name:"bodyFontVerticalAlignment",id:"bodyFontVerticalAlignment",publish:"onBodyFontVerticalAlignmentChange",class:"bodyFontVerticalAlignment",options:[{value:"",text:"Select"},{value:"flex-start",text:"Top"},{value:"center",text:"Middle"},{value:"flex-end",text:"Bottom"}]},{type:"select",name:"grandTotals",id:"grandTotals",class:"grandTotals",publish:"onGrandTotalsShowHide",options:[{value:"show",text:"Show"},{value:"hide",text:"Hide"}]},{type:"checkbox",name:"showHideGroupedChildren",id:"showHideGroupedChildren",class:"showHideGroupedChildren",publish:"onHideChildrenCount",value:"1"},{type:"onlybutton",name:"exportToCSV",id:"exportToCSV",publish:"onClickExportToCSV",default:[0],options:[{value:"",text:"To CSV"}]},{type:"select",action:"none",name:"formatColSelect",id:"formatColSelect",publish:"onFormatColSelectChange",class:"formatColSelect",options:[]},{type:"select",action:"none",name:"formatType",id:"formatType",publish:"onFormatTypeChange",class:"formatType",options:[{value:"body",text:"Body"},{value:"header",text:"Header"}]},{type:"select",name:"formatFontAlign",action:"none",id:"formatFontAlign",class:"formatFontAlign",options:[{value:"",text:"--Select--"},{value:"flex-start",text:"Left"},{value:"center",text:"Center"},{value:"flex-end",text:"Right"}]},{type:"select",name:"formatFontVerticalAlign",action:"none",id:"formatFontVerticalAlign",class:"formatFontVerticalAlign",options:[{value:"",text:"--Select--"},{value:"flex-start",text:"Top"},{value:"center",text:"Middle"},{value:"flex-end",text:"Bottom"}]},{type:"select",action:"none",name:"formatFontFamily",id:"formatFontFamily",class:"formatFontFamily",options:this.Fonts},{type:"spinner",action:"actionLimited",name:"formatFontSize",id:"formatFontSize",class:"formatFontSize",value:""},{type:"button",action:"none",name:"formatFontBold",id:"formatFontBold",class:"formatFontBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",action:"none",name:"formatFontItalic",id:"formatFontItalic",class:"formatFontItalic",options:[{value:"italic",text:"I"}]},{type:"button",action:"none",name:"formatFontUnderline",id:"formatFontUnderline",class:"formatFontUnderline",options:[{value:"underline",text:"U"}]},{type:"colorpicker",name:"formatFontColor",id:"formatFontColor",action:"none",class:"formatFontColor",value:""},{type:"colorpicker",name:"formatBgColor",id:"formatBgColor",action:"none",class:"formatBgColor",value:""},{type:"onlybutton",action:"none",name:"formatButton",id:"formatButton",publish:"onFormatButtonClicked",default:[0],options:[{value:"",text:"Apply"}]},{type:"select",name:"grandTotalsTextFontAlign",action:"none",id:"grandTotalsTextFontAlign",class:"grandTotalsTextFontAlign",options:[{value:"",text:"--Select--"},{value:"flex-start",text:"Left"},{value:"center",text:"Center"},{value:"flex-end",text:"Right"}]},{type:"select",name:"grandTotalsTextFontVerticalAlign",action:"none",id:"grandTotalsTextFontVerticalAlign",class:"grandTotalsTextFontVerticalAlign",options:[{value:"",text:"--Select--"},{value:"flex-start",text:"Top"},{value:"center",text:"Middle"},{value:"flex-end",text:"Bottom"}]},{type:"select",action:"none",name:"grandTotalsTextFontFamily",id:"grandTotalsTextFontFamily",class:"grandTotalsTextFontFamily",options:this.Fonts},{type:"spinner",action:"actionLimited",name:"grandTotalsTextFontSize",id:"grandTotalsTextFontSize",class:"grandTotalsTextFontSize",value:""},{type:"button",action:"none",name:"grandTotalsTextFontBold",id:"grandTotalsTextFontBold",class:"grandTotalsTextFontBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",action:"none",name:"grandTotalsTextFontItalic",id:"grandTotalsTextFontItalic",class:"grandTotalsTextFontItalic",options:[{value:"italic",text:"I"}]},{type:"button",action:"none",name:"grandTotalsTextFontUnderline",id:"grandTotalsTextFontUnderline",class:"grandTotalsTextFontUnderline",options:[{value:"underline",text:"U"}]},{type:"colorpicker",name:"grandTotalsTextFontColor",id:"grandTotalsTextFontColor",action:"none",class:"grandTotalsTextFontColor",value:""},{type:"colorpicker",name:"grandTotalsTextBgColor",id:"grandTotalsTextBgColor",action:"none",class:"grandTotalsTextBgColor",value:""},{type:"select",name:"grandTotalsValueFontAlign",action:"none",id:"grandTotalsValueFontAlign",class:"grandTotalsValueFontAlign",options:[{value:"",text:"--Select--"},{value:"flex-start",text:"Left"},{value:"center",text:"Center"},{value:"flex-end",text:"Right"}]},{type:"select",name:"grandTotalsValueFontVerticalAlign",action:"none",id:"grandTotalsValueFontVerticalAlign",class:"grandTotalsValueFontVerticalAlign",options:[{value:"",text:"--Select--"},{value:"flex-start",text:"Top"},{value:"center",text:"Middle"},{value:"flex-end",text:"Bottom"}]},{type:"select",action:"none",name:"grandTotalsValueFontFamily",id:"grandTotalsValueFontFamily",class:"grandTotalsValueFontFamily",options:this.Fonts},{type:"spinner",action:"actionLimited",name:"grandTotalsValueFontSize",id:"grandTotalsValueFontSize",class:"grandTotalsValueFontSize",value:""},{type:"button",action:"none",name:"grandTotalsValueFontBold",id:"grandTotalsValueFontBold",class:"grandTotalsValueFontBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",action:"none",name:"grandTotalsValueFontItalic",id:"grandTotalsValueFontItalic",class:"grandTotalsValueFontItalic",options:[{value:"italic",text:"I"}]},{type:"button",action:"none",name:"grandTotalsValueFontUnderline",id:"grandTotalsValueFontUnderline",class:"grandTotalsValueFontUnderline",options:[{value:"underline",text:"U"}]},{type:"colorpicker",name:"grandTotalsValueFontColor",id:"grandTotalsValueFontColor",action:"none",class:"grandTotalsValueFontColor",value:""},{type:"colorpicker",name:"grandTotalsValueBgColor",id:"grandTotalsValueBgColor",action:"none",class:"grandTotalsValueBgColor",value:""},{type:"select",name:"subTotalsTextFontAlign",action:"none",id:"subTotalsTextFontAlign",class:"subTotalsTextFontAlign",options:[{value:"",text:"--Select--"},{value:"flex-start",text:"Left"},{value:"center",text:"Center"},{value:"flex-end",text:"Right"}]},{type:"select",name:"subTotalsTextFontVerticalAlign",action:"none",id:"subTotalsTextFontVerticalAlign",class:"subTotalsTextFontVerticalAlign",options:[{value:"",text:"--Select--"},{value:"flex-start",text:"Top"},{value:"center",text:"Middle"},{value:"flex-end",text:"Bottom"}]},{type:"select",action:"none",name:"subTotalsTextFontFamily",id:"subTotalsTextFontFamily",class:"subTotalsTextFontFamily",options:this.Fonts},{type:"spinner",action:"actionLimited",name:"subTotalsTextFontSize",id:"subTotalsTextFontSize",class:"subTotalsTextFontSize",value:""},{type:"button",action:"none",name:"subTotalsTextFontBold",id:"subTotalsTextFontBold",class:"subTotalsTextFontBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",action:"none",name:"subTotalsTextFontItalic",id:"subTotalsTextFontItalic",class:"subTotalsTextFontItalic",options:[{value:"italic",text:"I"}]},{type:"button",action:"none",name:"subTotalsTextFontUnderline",id:"subTotalsTextFontUnderline",class:"subTotalsTextFontUnderline",options:[{value:"underline",text:"U"}]},{type:"colorpicker",name:"subTotalsTextFontColor",id:"subTotalsTextFontColor",action:"none",class:"subTotalsTextFontColor",value:""},{type:"colorpicker",name:"subTotalsTextBgColor",id:"subTotalsTextBgColor",action:"none",class:"subTotalsTextBgColor",value:""},{type:"select",name:"subTotalsValueFontAlign",action:"none",id:"subTotalsValueFontAlign",class:"subTotalsValueFontAlign",options:[{value:"",text:"--Select--"},{value:"flex-start",text:"Left"},{value:"center",text:"Center"},{value:"flex-end",text:"Right"}]},{type:"select",name:"subTotalsValueFontVerticalAlign",action:"none",id:"subTotalsValueFontVerticalAlign",class:"subTotalsValueFontVerticalAlign",options:[{value:"",text:"--Select--"},{value:"flex-start",text:"Top"},{value:"center",text:"Middle"},{value:"flex-end",text:"Bottom"}]},{type:"select",action:"none",name:"subTotalsValueFontFamily",id:"subTotalsValueFontFamily",class:"subTotalsValueFontFamily",options:this.Fonts},{type:"spinner",action:"actionLimited",name:"subTotalsValueFontSize",id:"subTotalsValueFontSize",class:"subTotalsValueFontSize",value:""},{type:"button",action:"none",name:"subTotalsValueFontBold",id:"subTotalsValueFontBold",class:"subTotalsValueFontBold",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",action:"none",name:"subTotalsValueFontItalic",id:"subTotalsValueFontItalic",class:"subTotalsValueFontItalic",options:[{value:"italic",text:"I"}]},{type:"button",action:"none",name:"subTotalsValueFontUnderline",id:"subTotalsValueFontUnderline",class:"subTotalsValueFontUnderline",options:[{value:"underline",text:"U"}]},{type:"colorpicker",name:"subTotalsValueFontColor",id:"subTotalsValueFontColor",action:"none",class:"subTotalsValueFontColor",value:""},{type:"colorpicker",name:"subTotalsValueBgColor",id:"subTotalsValueBgColor",action:"none",class:"subTotalsValueBgColor",value:""},{type:"select",action:"none",name:"filterColSelect",id:"filterColSelect",class:"filterColSelect fullWidth",options:[]},{type:"select",action:"none",name:"filterdFormat",id:"filterdFormat",class:"filterdFormat fullWidth",options:[{value:"",text:"Select"},{value:"Equal To",text:"Equal To"},{value:"Greater Than",text:"Greater Than"},{value:"Less Than",text:"Less Than"},{value:"Between",text:"Between"},{value:"Top",text:"Top"},{value:"Bottom",text:"Bottom"},{value:"Top Percentage",text:"Top Percentage"},{value:"Bottom Percentage",text:"Bottom Percentage"},{value:"Between Percentage",text:"Between Percentage"},{value:"Above Average",text:"Above Average"},{value:"Below Average",text:"Below Average"}]},{type:"onlybutton",action:"none",name:"thresholdButton",id:"thresholdButton",default:[0],options:[{value:"",text:"Apply"}]},{type:"onlybutton",action:"none",name:"cancelThresholds",id:"cancelThresholds",default:[0],options:[{value:"",text:"Cancel"}]},{type:"label",action:"none",name:"metric_range_histogram",id:"metric_range_histogram",class:"metric_range_histogram rangeText"},{type:"colorpicker",name:"seriesBorderColor",id:"seriesBorderColor",class:"seriesBorderColor",value:""},{type:"spinner",name:"seriesBorderRadius",id:"seriesBorderRadius",class:"seriesBorderRadius",value:""},{type:"spinner",name:"seriesBorderWidth",id:"seriesBorderWidth",class:"seriesBorderWidth",value:""},{type:"colorpicker",name:"plotAreaBorderColor",id:"plotAreaBorderColor",class:"plotAreaBorderColor",value:""},{type:"spinner",name:"plotAreaBorderRadius",id:"plotAreaBorderRadius",class:"plotAreaBorderRadius",value:""},{type:"spinner",name:"plotAreaBorderWidth",id:"plotAreaBorderWidth",class:"plotAreaBorderWidth",value:""},{type:"select",name:"kpiRing1MaxSelection",id:"kpiRing1MaxSelection",class:"kpiRing1MaxSelection",options:[],publish:"onKpiRingMaxSelectionChange"},{type:"spinner",name:"kpiRingThickness",id:"kpiRingThickness",class:"kpiRingThickness"},{type:"spinner",name:"kpiRingStartAngle",id:"kpiRingStartAngle",class:"kpiRingStartAngle",min:"0"},{type:"spinner",name:"kpiRingEndAngle",id:"kpiRingEndAngle",class:"kpiRingEndAngle",min:"0"},{type:"select",name:"kpiRing2MaxSelection",id:"kpiRing2MaxSelection",class:"kpiRing2MaxSelection",options:[],publish:"onKpiRingMaxSelectionChange"},{type:"select",name:"kpiRing3MaxSelection",id:"kpiRing3MaxSelection",class:"kpiRing3MaxSelection",publish:"onKpiRingMaxSelectionChange",options:[]},{type:"textbox",name:"kpiRing1MaxValue",id:"kpiRing1MaxValue",class:"kpiRing1MaxValue",value:""},{type:"textbox",name:"kpiRing2MaxValue",id:"kpiRing2MaxValue",class:"kpiRing2MaxValue",value:""},{type:"textbox",name:"kpiRing3MaxValue",id:"kpiRing3MaxValue",class:"kpiRing3MaxValue",value:""},{type:"colorpicker",name:"kpiRing1PaneBackgroundColor",id:"kpiRing1PaneBackgroundColor",class:"kpiRing1PaneBackgroundColor"},{type:"colorpicker",name:"kpiRing2PaneBackgroundColor",id:"kpiRing2PaneBackgroundColor",class:"kpiRing2PaneBackgroundColor"},{type:"colorpicker",name:"kpiRing3PaneBackgroundColor",id:"kpiRing3PaneBackgroundColor",class:"kpiRing3PaneBackgroundColor"},{type:"textbox",name:"gaugeStartAngle",id:"gaugeStartAngle",class:"gaugeStartAngle",value:""},{type:"textbox",name:"gaugeEndAngle",id:"gaugeEndAngle",class:"gaugeEndAngle",value:""},{type:"select",action:"none",name:"thresholdMarkerHAlign",id:"thresholdMarkerHAlign",class:"thresholdMarkerHAlign",options:[{value:"",text:"Select"},{value:"left",text:"Left"},{value:"right",text:"Right"}]},{type:"checkbox",name:"sharedValueAxis",id:"sharedValueAxis",class:"sharedValueAxis",value:""},{type:"select",name:"kpiDataLabelFormat",id:"kpiDataLabelFormat",class:"kpiDataLabelFormat",options:[{value:"default",text:"Detailed Label"},{value:"percentage",text:"Percentage Only"},{value:"metric",text:"Metric Only"}]},{type:"colorpicker",name:"heatMapDefaultColor",id:"heatMapDefaultColor",class:"heatMapDefaultColor"},{type:"textbox",name:"trellisIndividualWidth",id:"trellisIndividualWidth",class:"trellisIndividualWidth",value:""},{type:"textbox",name:"trellisIndividualHeight",id:"trellisIndividualHeight",class:"trellisIndividualHeight",value:""},{type:"colorpicker",action:"none",name:"thresholdPanelColor",id:"thresholdPanelColor",class:"thresholdPanelColor",value:""},{type:"select",name:"kpiRingsCount",id:"kpiRingsCount",class:"kpiRingsCount",options:[{text:"1",value:"1"},{text:"2",value:"2"},{text:"3",value:"3"}]},{type:"checkbox",name:"labelsValueEnable",id:"labelsValueEnable",class:"labelsValueEnable minfieldwidthCheckbox",publish:"onlabelsEnableMnMxChange",value:"1"},{type:"checkbox",name:"labelsCategoryEnable",id:"labelsCategoryEnable",class:"labelsCategoryEnable minfieldwidthCheckbox",publish:"onlabelsEnableMnMxChange",value:"1"},{type:"checkbox",name:"labelsVariationEnable",id:"labelsVariationEnable",class:"labelsVariationEnable minfieldwidthCheckbox",publish:"onlabelsEnableMnMxChange",value:"1"},{type:"checkbox",name:"sortCategoryAxis",id:"sortCategoryAxis",class:"sortCategoryAxis",value:"1"},{type:"checkbox",name:"enableBgImage",id:"enableBgImage",class:"enableBgImage",value:"1"},{type:"textbox",name:"bgImagePath",id:"bgImagePath",class:"bgImagePath",value:""},{type:"label",name:"backgroundImageTextNote",id:"backgroundImageTextNote",class:"backgroundImageTextNote",value:'Please ensure that the background image file is placed in the designated location within the "custom/images" directory of the application path.'},{type:"select",name:"bgHAlign",id:"bgHAlign",class:"bgHAlign",options:[{value:"left",text:"Left"},{value:"center",text:"Center"},{value:"right",text:"Right"},{value:"custom",text:"Custom"}]},{type:"select",name:"bgVAlign",id:"bgVAlign",class:"bgVAlign",options:[{value:"top",text:"Top"},{value:"center",text:"Middle"},{value:"bottom",text:"Bottom"},{value:"custom",text:"Custom"}]},{type:"select",name:"bgScale",id:"bgScale",class:"bgScale",options:[{value:"original",text:"Original"},{value:"fit",text:"Fit to Chart"},{value:"fill",text:"Fill Chart"},{value:"custom",text:"Custom"}]},{type:"slider",name:"bgOpacity",id:"bgOpacity",class:"bgOpacity",value:""},{type:"textbox",name:"bgVAlignValue",id:"bgVAlignValue",class:"bgVAlignValue",value:""},{type:"textbox",name:"bgHAlignValue",id:"bgHAlignValue",class:"bgHAlignValue",value:""},{type:"textbox",name:"bgScaleValue",id:"bgScaleValue",class:"bgScaleValue",value:""},{type:"spinner",name:"waffleIconSize",id:"waffleIconSize",class:"waffleIconSize",value:""},{type:"slider",name:"bgOpacitySlider",id:"bgOpacitySlider",class:"bgOpacitySlider",value:""},{type:"select",name:"wfStartValue",id:"wfStartValue",class:"wfStartValue",options:[{value:"firstValue",text:"First Value"},{value:"lastValue",text:"Last Value"},{value:"total",text:"Total"}]},{type:"textbox",name:"yAxisMin",id:"yAxisMin",class:"yAxisMin",value:""},{type:"textbox",name:"yAxisMax",id:"yAxisMax",class:"yAxisMax",value:""},{type:"textbox",action:"none",name:"thresholdAlias",id:"thresholdAlias",class:"thresholdAlias",value:""},{type:"select",name:"minAggregationSelect",id:"minAggregationSelect",class:"minAggregationSelect",publish:"onAggregationSelectChange",options:s},{type:"textbox",name:"minAggXPercentValue",id:"minAggXPercentValue",class:"minAggXPercentValue",value:""},{type:"textbox",name:"minAggFixedValue",id:"minAggFixedValue",class:"minAggFixedValue",value:""},{type:"select",name:"rangeMetricSelect",id:"rangeMetricSelect",class:"rangeMetricSelect",options:[]},{type:"select",name:"maxAggregationSelect",id:"maxAggregationSelect",class:"maxAggregationSelect",publish:"onAggregationSelectChange",options:s},{type:"textbox",name:"maxAggXPercentValue",id:"maxAggXPercentValue",class:"maxAggXPercentValue",value:""},{type:"textbox",name:"maxAggFixedValue",id:"maxAggFixedValue",class:"maxAggFixedValue",value:""},{type:"select",name:"targetAggregationSelect",id:"targetAggregationSelect",class:"targetAggregationSelect",publish:"onAggregationSelectChange",options:s.slice(0,s.length-1)},{type:"select",name:"targetMetricSelect",id:"targetMetricSelect",class:"targetMetricSelect",options:[]},{type:"textbox",name:"targetAggXPercentValue",id:"targetAggXPercentValue",class:"targetAggXPercentValue",value:""},{type:"checkbox",name:"wfIntermediateValue",id:"wfIntermediateValue",class:"wfIntermediateValue",value:"1"},{type:"checkbox",action:"none",name:"wfEnableBreakBy",id:"wfEnableBreakBy",class:"wfEnableBreakBy",publish:"onWfEnableBreakByChange",value:"1"},{type:"select",action:"none",name:"wfAggregationSelector",id:"wfAggregationSelector",class:"wfAggregationSelector",publish:"onWfAggregationSelectorChange",options:[{value:"",text:"Select"},{value:"startValue",text:"Start Value"},{value:"total",text:"Total"},{value:"endValue",text:"End Value"},{value:"minValue",text:"Min Value"},{value:"maxValue",text:"Max Value"},{value:"xpercent",text:"Percentile"}]},{type:"textbox",action:"none",name:"wfXPercentValue",id:"wfXPercentValue",class:"wfXPercentValue",value:""},{type:"checkbox",action:"none",name:"wfIsNonAdditive",id:"wfIsNonAdditive",class:"wfIsNonAdditive",value:"1"},{type:"colorpicker",action:"none",name:"wfMetricColor",id:"wfMetricColor",class:"wfMetricColor"},{type:"onlybutton",action:"none",name:"wfApplyMetricOptions",id:"wfApplyMetricOptions",class:"wfApplyMetricOptions",publish:"onWfApplyMetricOptionsChange",default:[0],options:[{value:"apply",text:"Apply"}]},{type:"checkbox",name:"wfEnableTotal",id:"wfEnableTotal",class:"wfEnableTotal",value:"1"},{type:"checkbox",name:"wfTruncAxisLbls",id:"wfTruncAxisLbls",class:"wfTruncAxisLbls",value:"1"},{type:"textbox",name:"wfTotalAlias",id:"wfTotalAlias",class:"wfTotalAlias",value:""},{type:"checkbox",name:"wfEnableBridgeLine",id:"wfEnableBridgeLine",class:"wfEnableBridgeLine",value:"1"},{type:"select",action:"none",name:"plSeriesSelect",id:"plSeriesSelect",class:"plSeriesSelect fullWidth",options:[]},{type:"select",action:"none",name:"plColSelect",id:"plColSelect",class:"plColSelect fullWidth",options:[]},{type:"select",action:"none",name:"plAggregationSelect",id:"plAggregationSelect",class:"plAggregationSelect fullWidth",options:[{value:"select",text:"Select"},{value:"min",text:"Min"},{value:"max",text:"Max"},{value:"avg",text:"Avg"},{value:"first",text:"First"},{value:"last",text:"Last"},{value:"fixedValue",text:"Fixed Value"},{value:"xRank",text:"Percentile"}]},{type:"textbox",action:"none",name:"plValue",id:"plValue",class:"plValue",value:""},{type:"colorpicker",action:"none",name:"plColor",id:"plColor",class:"plColor"},{type:"spinner",action:"actionLimited",name:"plWidth",id:"plWidth",class:"plWidth",value:""},{type:"onlybutton",action:"none",name:"addNewPlotLine",id:"addNewPlotLine",default:[0],options:[{value:"add",text:"Add"}]},{type:"onlybutton",action:"none",name:"applyPLOptions",id:"applyPLOptions",default:[0],options:[{value:"",text:"Apply"}]},{type:"onlybutton",action:"none",name:"cancelPLOptions",id:"cancelPLOptions",default:[0],options:[{value:"",text:"Cancel"}]},{type:"textbox",action:"none",name:"plLabel",id:"plLabel",class:"plLabel",value:""},{type:"select",action:"none",name:"plDashStyle",id:"plDashStyle",class:"plDashStyle",default:[0],options:[{text:"Select",value:""},{text:"Solid",value:"solid"},{text:"ShortDash",value:"ShortDash"},{text:"ShortDot",value:"ShortDot"},{text:"Dash",value:"Dash"},{text:"LongDash",value:"LongDash"},{text:"DashDot",value:"DashDot"}]},{type:"colorpicker",action:"none",name:"pllblColor",id:"pllblColor",class:"pllblColor"},{type:"button",name:"pllblBold",id:"pllblBold",action:"none",default:[0],options:[{value:"bold",text:"B"}]},{type:"button",name:"pllblItalic",id:"pllblItalic",action:"none",options:[{value:"italic",text:"I"}]},{type:"button",name:"pllblUnderline",id:"pllblUnderline",action:"none",options:[{value:"underline",text:"U"}]},{type:"select",action:"none",name:"pllblfntName",id:"pllblfntName",class:"pllblfntName",default:"",options:this.Fonts},{type:"spinner",action:"actionLimited",name:"pllblSize",id:"pllblSize",class:"pllblSize",value:""},{type:"select",action:"none",name:"pllblAlign",id:"pllblAlign",class:"pllblAlign",options:[{value:"",text:"Select"},{value:"left",text:"High"},{value:"center",text:"Middle"},{value:"right",text:"Low"}]},{type:"checkbox",action:"none",name:"pllblDisplay",id:"pllblDisplay",class:"pllblDisplay",default:"0",value:"1"},{type:"spinner",name:"xAxisGridLineWidth",id:"xAxisGridLineWidth",class:"xAxisGridLineWidth",value:""},{type:"spinner",name:"yAxisGridLineWidth",id:"yAxisGridLineWidth",class:"yAxisGridLineWidth",value:""},{type:"spinner",name:"sYAxisGridLineWidth",id:"sYAxisGridLineWidth",class:"sYAxisGridLineWidth",value:""},{type:"checkbox",name:"showXAxisLine",id:"showXAxisLine",class:"showXAxisLine",default:"0",value:""},{type:"checkbox",name:"showSXAxisLine",id:"showSXAxisLine",class:"showSXAxisLine",default:"0",value:""},{type:"checkbox",name:"showYAxisLine",id:"showYAxisLine",class:"showYAxisLine",default:"0",value:""},{type:"checkbox",name:"showSYAxisLine",id:"showSYAxisLine",class:"showSYAxisLine",default:"0",value:""},{type:"spinner",name:"xAxisLineWidth",id:"xAxisLineWidth",class:"xAxisLineWidth",value:""},{type:"spinner",name:"sXAxisLineWidth",id:"sXAxisLineWidth",class:"sXAxisLineWidth",value:""},{type:"spinner",name:"yAxisLineWidth",id:"yAxisLineWidth",class:"yAxisLineWidth",value:""},{type:"spinner",name:"sYAxisLineWidth",id:"sYAxisLineWidth",class:"sYAxisLineWidth",value:""},{type:"colorpicker",name:"xAxisLineColor",id:"xAxisLineColor",class:"xAxisLineColor",value:""},{type:"colorpicker",name:"sXAxisLineColor",id:"sXAxisLineColor",class:"sXAxisLineColor",value:""},{type:"colorpicker",name:"yAxisLineColor",id:"yAxisLineColor",class:"yAxisLineColor",value:""},{type:"colorpicker",name:"sYAxisLineColor",id:"sYAxisLineColor",class:"sYAxisLineColor",value:""},{type:"select",name:"gaugeType",id:"gaugeType",class:"gaugeType",default:[0],options:[{text:"Angular",value:"angular"},{text:"Linear",value:"linear"}]},{type:"spinner",name:"barColumnSpacing",id:"barColumnSpacing",class:"barColumnSpacing",value:""},{type:"select",name:"onHoverSeriesBorderWidth",id:"onHoverSeriesBorderWidth",class:"onHoverSeriesBorderWidth",options:[{text:"Select",value:""},{text:"1",value:"1"},{text:"2",value:"2"},{text:"3",value:"3"},{text:"4",value:"4"},{text:"5",value:"5"},{text:"6",value:"6"},{text:"7",value:"7"},{text:"8",value:"8"},{text:"9",value:"9"},{text:"10",value:"10"}]},{type:"select",name:"mapLayer",id:"mapLayer",class:"mapLayer",options:[{text:"Select",value:"default"}]},{type:"checkbox",name:"seriesShadow",id:"seriesShadow",class:"seriesShadow",value:""},{type:"select",name:"mapChartType",id:"mapChartType",class:"mapChartType",default:[0],options:[{text:"Choropleth Map",value:"map"},{text:"Map Bubble",value:"mapbubble"}]},{type:"checkbox",name:"enableMapGrouping",id:"enableMapGrouping",class:"enableMapGrouping",value:""},{type:"select",name:"seriesDashStyle",id:"seriesDashStyle",class:"seriesDashStyle",default:[0],options:r},{type:"select",name:"seriesLabelFontName",id:"seriesLabelFontName",class:"seriesLabelFontName autoWidth",value:"",options:this.Fonts},{type:"spinner",name:"seriesLabelFontSize",id:"seriesLabelFontSize",class:"seriesLabelFontSize",value:""},{type:"button",name:"seriesLabelBold",id:"seriesLabelBold",class:"seriesLabelBold",options:[{value:"bold",text:"B"}]},{type:"button",name:"seriesLabelItalic",id:"seriesLabelItalic",class:"seriesLabelItalic",options:[{value:"italic",text:"I"}]},{type:"button",name:"seriesLabelUnderline",id:"seriesLabelUnderline",class:"seriesLabelUnderline",options:[{value:"underline",text:"U"}]},{type:"colorpicker",name:"seriesLabelColor",id:"seriesLabelColor",class:"seriesLabelColor",value:""},{type:"select",name:"seriesLabelRotation",id:"seriesLabelRotation",class:"seriesLabelRotation",options:e},{type:"select",name:"bandMetricSelect",id:"bandMetricSelect",class:"bandMetricSelect",publish:"onBandMetricSelectChange",options:[]},{type:"select",name:"bandAggregation",id:"bandAggregation",class:"bandAggregation",publish:"onAggregationSelectChange",options:l},{type:"textbox",action:"none",name:"bandXPercentValue",id:"bandXPercentValue",class:"bandXPercentValue",value:""},{type:"textbox",name:"bandPercentageValue",action:"none",id:"bandPercentageValue",class:"bandPercentageValue",value:""},{type:"textbox",name:"bandFixedValue",action:"none",id:"bandFixedValue",class:"bandFixedValue",value:""},{type:"colorpicker",name:"bandColor",action:"none",id:"bandColor",class:"bandColor"},{type:"select",name:"bandStartMetricSelect",id:"bandStartMetricSelect",class:"bandStartMetricSelect",publish:"onBandMetricSelectChange",options:[]},{type:"select",name:"bandStartAggregation",id:"bandStartAggregation",class:"bandStartAggregation",publish:"onAggregationSelectChange",options:l},{type:"textbox",name:"bandStartXPercentValue",id:"bandStartXPercentValue",class:"bandStartXPercentValue",value:""},{type:"select",name:"bandOneMetricSelect",id:"bandOneMetricSelect",class:"bandOneMetricSelect",publish:"onBandMetricSelectChange",options:[]},{type:"select",name:"bandOneAggregation",id:"bandOneAggregation",class:"bandOneAggregation",publish:"onAggregationSelectChange",options:l},{type:"textbox",name:"bandOneXPercentValue",id:"bandOneXPercentValue",class:"bandOneXPercentValue",value:""},{type:"select",name:"bandTwoMetricSelect",id:"bandTwoMetricSelect",class:"bandTwoMetricSelect",publish:"onBandMetricSelectChange",options:[]},{type:"select",name:"bandTwoAggregation",id:"bandTwoAggregation",class:"bandTwoAggregation",publish:"onAggregationSelectChange",options:l},{type:"textbox",name:"bandTwoXPercentValue",id:"bandTwoXPercentValue",class:"bandTwoXPercentValue",value:""},{type:"select",name:"bandThreeMetricSelect",id:"bandThreeMetricSelect",class:"bandThreeMetricSelect",publish:"onBandMetricSelectChange",options:[]},{type:"select",name:"bandThreeAggregation",id:"bandThreeAggregation",class:"bandThreeAggregation",publish:"onAggregationSelectChange",options:l},{type:"textbox",name:"bandThreeXPercentValue",id:"bandThreeXPercentValue",class:"bandThreeXPercentValue",value:""},{type:"textbox",name:"bandStartPercentageValue",id:"bandStartPercentageValue",class:"bandStartPercentageValue",value:""},{type:"textbox",name:"bandOnePercentageValue",id:"bandOnePercentageValue",class:"bandOnePercentageValue",value:""},{type:"textbox",name:"bandTwoPercentageValue",id:"bandTwoPercentageValue",class:"bandTwoPercentageValue",value:""},{type:"textbox",name:"bandThreePercentageValue",id:"bandThreePercentageValue",class:"bandThreePercentageValue",value:""},{type:"colorpicker",name:"bandOneColor",id:"bandOneColor",class:"bandOneColor"},{type:"colorpicker",name:"bandTwoColor",id:"bandTwoColor",class:"bandTwoColor"},{type:"colorpicker",name:"bandThreeColor",id:"bandThreeColor",class:"bandThreeColor"},{type:"textbox",name:"bandStartFixedValue",id:"bandStartFixedValue",class:"bandStartFixedValue",value:""},{type:"textbox",name:"bandOneFixedValue",id:"bandOneFixedValue",class:"bandOneFixedValue",value:""},{type:"textbox",name:"bandTwoFixedValue",id:"bandTwoFixedValue",class:"bandTwoFixedValue",value:""},{type:"textbox",name:"bandThreeFixedValue",id:"bandThreeFixedValue",class:"bandThreeFixedValue",value:""},{type:"select",name:"startValueMetricSelect",id:"startValueMetricSelect",class:"startValueMetricSelect",publish:"onBandMetricSelectChange",options:[]},{type:"select",name:"startValueAggregation",id:"startValueAggregation",class:"startValueAggregation",publish:"onAggregationSelectChange",options:u},{type:"textbox",name:"startValueXPercentValue",id:"startValueXPercentValue",class:"startValueXPercentValue",value:""},{type:"textbox",name:"startValueFixedValue",id:"startValueFixedValue",class:"startValueFixedValue",value:""},{type:"select",name:"endValueMetricSelect",id:"endValueMetricSelect",class:"endValueMetricSelect",publish:"onBandMetricSelectChange",options:[]},{type:"select",name:"endValueAggregation",id:"endValueAggregation",class:"endValueAggregation",publish:"onAggregationSelectChange",options:u},{type:"textbox",name:"endValueXPercentValue",id:"endValueXPercentValue",class:"endValueXPercentValue",value:""},{type:"textbox",name:"endValueFixedValue",id:"endValueFixedValue",class:"endValueFixedValue",value:""},{type:"select",name:"sStartValueMetricSelect",id:"sStartValueMetricSelect",class:"sStartValueMetricSelect",publish:"onBandMetricSelectChange",options:[]},{type:"select",name:"sStartValueAggregation",id:"sStartValueAggregation",class:"sStartValueAggregation",publish:"onAggregationSelectChange",options:u},{type:"textbox",name:"sStartValueXPercentValue",id:"sStartValueXPercentValue",class:"sStartValueXPercentValue",value:""},{type:"textbox",name:"sStartValueFixedValue",id:"sStartValueFixedValue",class:"sStartValueFixedValue",value:""},{type:"select",name:"sEndValueMetricSelect",id:"sEndValueMetricSelect",class:"sEndValueMetricSelect",publish:"onBandMetricSelectChange",options:[]},{type:"select",name:"sEndValueAggregation",id:"sEndValueAggregation",class:"sEndValueAggregation",publish:"onAggregationSelectChange",options:u},{type:"textbox",name:"sEndValueXPercentValue",id:"sEndValueXPercentValue",class:"sEndValueXPercentValue",value:""},{type:"textbox",name:"sEndValueFixedValue",id:"sEndValueFixedValue",class:"sEndValueFixedValue",value:""},{type:"select",name:"cStartValueMetricSelect",id:"cStartValueMetricSelect",class:"cStartValueMetricSelect",publish:"onBandMetricSelectChange",options:[]},{type:"select",name:"cStartValueAggregation",id:"cStartValueAggregation",class:"cStartValueAggregation",publish:"onAggregationSelectChange",options:u},{type:"textbox",name:"cStartValueXPercentValue",id:"cStartValueXPercentValue",class:"cStartValueXPercentValue",value:""},{type:"textbox",name:"cStartValueFixedValue",id:"cStartValueFixedValue",class:"cStartValueFixedValue",value:""},{type:"select",name:"cEndValueMetricSelect",id:"cEndValueMetricSelect",class:"cEndValueMetricSelect",publish:"onBandMetricSelectChange",options:[]},{type:"select",name:"cEndValueAggregation",id:"cEndValueAggregation",class:"cEndValueAggregation",publish:"onAggregationSelectChange",options:u},{type:"textbox",name:"cEndValueXPercentValue",id:"cEndValueXPercentValue",class:"cEndValueXPercentValue",value:""},{type:"textbox",name:"cEndValueFixedValue",id:"cEndValueFixedValue",class:"cEndValueFixedValue",value:""},{type:"checkbox",action:"none",name:"thresholdLevelSelect",id:"thresholdLevelSelect",class:"thresholdLevelSelect"},{type:"editor",name:"customTooltipEditor",id:"customTooltipEditor",class:"customTooltipEditor",value:"",options:this.Fonts},{type:"editor",name:"customLabelEditor",id:"customLabelEditor",class:"customLabelEditor",value:"",options:this.Fonts},{type:"checkbox",name:"wfAutoComputeYStart",id:"wfAutoComputeYStart",class:"wfAutoComputeYStart",publish:"onWfAutoComputeYStartChange",value:"0"},{type:"textbox",name:"dataRowLimit",id:"dataRowLimit",class:"dataRowLimit",value:"500"},{type:"onlybutton",action:"none",name:"applycustomTooltip",id:"applycustomTooltip",class:"applycustomTooltip",publish:"onCustomFormatChange",options:[{value:"apply",text:"Apply"}]},{type:"onlybutton",action:"none",name:"applyibcsTitle",id:"applyibcsTitle",class:"applyibcsTitle",publish:"onCustomFormatChange",options:[{value:"apply",text:"Apply"}]},{type:"onlybutton",action:"none",name:"applycustomLabel",id:"applycustomLabel",class:"applycustomLabel",publish:"onCustomFormatChange",options:[{value:"apply",text:"Apply"}]},{type:"checkbox",name:"unpackCircles",id:"unpackCircles",class:"unpackCircles",default:"0",value:"1"},{type:"select",name:"calType",id:"calType",class:"calType",publish:"onCalendarTypeChange",default:[0],options:[{value:"gregorian",text:"Gregorian"},{value:"hijri",text:"Hijri"}]},{type:"select",name:"sankeyLinkColorSelect",id:"sankeyLinkColorSelect",class:"sankeyLinkColorSelect",publish:"onSankeyLinkColorOptionChange",default:[0],options:[{value:"",text:"Custom"},{value:"source",text:"Source"},{value:"target",text:"Target"}]},{type:"colorpicker",name:"sankeyLinkColor",id:"sankeyLinkColor",class:"sankeyLinkColor",default:"#d7d7d7"},{type:"checkbox",name:"sankeyEnableNodeLabels",id:"sankeyEnableNodeLabels",class:"sankeyEnableNodeLabels minfieldwidthCheckbox",default:"0",value:"1"},{type:"select",name:"customLabelEditorSelect",id:"customLabelEditorSelect",class:"customLabelEditorSelect",publish:"onEditorSelectionChange",default:[0],options:[]},{type:"editor",name:"nodeLabelEditor",id:"nodeLabelEditor",class:"nodeLabelEditor",value:"",options:this.Fonts},{type:"onlybutton",action:"none",name:"applynodeLabel",id:"applynodeLabel",class:"applynodeLabel",publish:"onCustomFormatChange",options:[{value:"apply",text:"Apply"}]},{type:"editor",name:"thresholdCustomLabelEditor",id:"thresholdCustomLabelEditor",class:"thresholdCustomLabelEditor",value:"",options:this.Fonts},{type:"onlybutton",action:"none",name:"applythresholdCustomLabel",id:"applythresholdCustomLabel",class:"applythresholdCustomLabel",publish:"onCustomFormatChange",options:[{value:"apply",text:"Apply"}]},{type:"label",action:"none",name:"dl_label_min",id:"dl_label_min",class:"dl_label_min minfieldwidth",value:"Min"},{type:"checkbox",name:"labelsMin",id:"labelsMin",class:"labelsMin minfieldwidthCheckbox",publish:"onlabelsEnableMnMxChange",value:"1"},{type:"label",action:"none",name:"dl_label_max",id:"dl_label_max",class:"dl_label_max minfieldwidth",value:"Max"},{type:"checkbox",name:"labelsMax",id:"labelsMax",class:"labelsMax minfieldwidthCheckbox",publish:"onlabelsEnableMnMxChange",value:"1"},{type:"label",action:"none",name:"dl_label_first",id:"dl_label_first",class:"dl_label_first minfieldwidth",value:"First"},{type:"checkbox",name:"labelsFirst",id:"labelsFirst",class:"labelsFirst minfieldwidthCheckbox",publish:"onlabelsEnableMnMxChange",value:"1"},{type:"label",action:"none",name:"dl_label_last",id:"dl_label_last",class:"dl_label_last minfieldwidth",value:"Last"},{type:"checkbox",name:"labelsLast",id:"labelsLast",class:"labelsLast minfieldwidthCheckbox",publish:"onlabelsEnableMnMxChange",value:"1"},{type:"label",action:"none",name:"dl_label_odd",id:"dl_label_odd",class:"dl_label_odd minfieldwidth",value:"Odd"},{type:"checkbox",name:"labelsOdd",id:"labelsOdd",class:"labelsOdd minfieldwidthCheckbox",publish:"onlabelsEnableMnMxChange",value:"1"},{type:"label",action:"none",name:"dl_label_even",id:"dl_label_even",class:"dl_label_even minfieldwidth",value:"Even"},{type:"checkbox",name:"labelsEven",id:"labelsEven",class:"labelsEven minfieldwidthCheckbox",publish:"onlabelsEnableMnMxChange",value:"1"},{type:"label",action:"none",name:"dl_label_all",id:"dl_label_all",class:"dl_label_all minfieldwidth",value:"All"},{type:"label",action:"none",name:"dl_label_total",id:"dl_label_total",class:"dl_label_total minfieldwidth",value:"Totals"},{type:"label",action:"none",name:"dl_label_header",id:"dl_label_header",class:"dl_label_header minfieldwidth",value:"Header"},{type:"checkbox",name:"labelsStackTotal",id:"labelsStackTotal",class:"labelsStackTotal minfieldwidthCheckbox",value:"1"},{type:"editor",name:"pieCenterLabelEditor",id:"pieCenterLabelEditor",class:"pieCenterLabelEditor",value:"",options:this.Fonts},{type:"onlybutton",action:"none",name:"applypieCenterLabel",id:"applypieCenterLabel",class:"applypieCenterLabel",publish:"onCustomFormatChange",options:[{value:"apply",text:"Apply"}]},{type:"editor",name:"pieMetricLabelEditor",id:"pieMetricLabelEditor",class:"pieMetricLabelEditor",value:"",options:this.Fonts},{type:"onlybutton",action:"none",name:"applypieMetricLabel",id:"applypieMetricLabel",class:"applypieMetricLabel",publish:"onCustomFormatChange",options:[{value:"apply",text:"Apply"}]},{type:"label",action:"none",name:"labelsValue",id:"labelsValue",class:"labelsValue minfieldwidth",value:"Value"},{type:"label",action:"none",name:"labelsVariation",id:"labelsVariation",class:"labelsVariation minfieldwidth",value:"Variation"},{type:"editor",name:"variationLabelEditor",id:"variationLabelEditor",class:"variationLabelEditor",value:"",options:this.Fonts},{type:"onlybutton",action:"none",name:"applyvariationLabel",id:"applyvariationLabel",class:"applyvariationLabel",publish:"onCustomFormatChange",options:[{value:"apply",text:"Apply"}]},{type:"label",action:"none",name:"labelsCategory",id:"labelsCategory",class:"labelsCategory minfieldwidth",value:"Category"},{type:"editor",name:"plLabelEditor",id:"plLabelEditor",class:"plLabelEditor",value:"",options:this.Fonts},{type:"checkbox",name:"barColumnGrouping",id:"barColumnGrouping",class:"barColumnGrouping",value:"1"},{type:"checkbox",name:"barColumnVariwide",id:"barColumnVariwide",class:"barColumnVariwide",publish:"onBarColumnVariwideChange",value:"0"},{type:"checkbox",name:"rtlLayout",id:"rtlLayout",class:"rtlLayout",publish:"onRTLLayoutChange",value:"1"},{type:"checkbox",name:"animationCheckBox",id:"animationCheckBox",publish:"onAnimationStateChange",class:"animationCheckBox"},{type:"checkbox",name:"showDetailRows",id:"showDetailRows",class:"showDetailRows",publish:"onShowDetailRowsChange",value:"1"},{type:"label",action:"none",name:"productType",id:"productType",class:"productType fullWidth",value:""},{type:"label",action:"none",name:"chartType",id:"chartType",class:"chartType",value:""},{type:"onlybutton",action:"none",name:"copyErrorToClipboard",id:"copyErrorToClipboard",class:"copyErrorToClipboard vitara-copy-to-clipboard fa-copy",publish:"onCopyErrorToClipBoard",options:[{value:"",text:""}]},{type:"link",action:"none",linkSource:"https://docs.vitaracharts.com",name:"chartHelpLink",id:"chartHelpLink",class:"chartHelpLink fullWidth",value:"Chart updates and user documentation"},{type:"label",action:"none",name:"productVersion",id:"productVersion",class:"productVersion fullWidth",value:""},{type:"label",action:"none",name:"clientPlatform",id:"clientPlatform",class:"clientPlatform fullWidth",value:""},{type:"label",action:"none",name:"clientBrowser",id:"clientBrowser",class:"clientBrowser fullWidth",value:""},{type:"label",action:"none",name:"systemDate",id:"systemDate",class:"systemDate fullWidth",value:""},{type:"checkbox",name:"stackByPercentage",id:"stackByPercentage",class:"stackByPercentage",value:"1"},{type:"editor",name:"deltaViewLabelEditor",id:"deltaViewLabelEditor",class:"deltaViewLabelEditor",value:"",options:this.Fonts},{type:"onlybutton",action:"none",name:"applydeltaViewLabel",id:"applydeltaViewLabel",class:"applydeltaViewLabel",publish:"onCustomFormatChange",options:[{value:"apply",text:"Apply"}]},{type:"editor",name:"stackTotalLabelEditor",id:"stackTotalLabelEditor",class:"stackTotalLabelEditor",value:"",options:this.Fonts},{type:"onlybutton",action:"none",name:"applystackTotalLabel",id:"applystackTotalLabel",class:"applystackTotalLabel",publish:"onCustomFormatChange",options:[{value:"apply",text:"Apply"}]},{type:"select",name:"tileShape",id:"tileShape",class:"tileShape",publish:"onTileShapeChange",options:[{text:"Default",value:"hexagon"},{text:"Circle",value:"circle"},{text:"Square",value:"square"},{text:"Diamond",value:"diamond"}]},{type:"editor",name:"ibcsTitleEditor",id:"ibcsTitleEditor",class:"ibcsTitleEditor",value:"",options:this.Fonts},{type:"colorpalette",name:"thresholdGradientSelector",id:"thresholdGradientSelector",class:"thresholdGradientSelector"},{type:"label",action:"none",name:"drill_chart_target",id:"drill_chart_target",class:"drillChartTarget minfieldwidth",value:"Target"},{type:"select",name:"drillChartTarget",publish:"onDrillTargetChange",id:"drillChartTarget",class:"drillChartTarget",options:[]},{type:"onlybutton",action:"none",name:"drillPropertyEditor",id:"drillPropertyEditor",class:"drillPropertyEditor initial_gear fa-cog",options:[{value:"",text:""}]},{type:"label",action:"none",name:"drill_enable",id:"drill_enable",class:"drill_enable minfieldwidth",value:"Enable Drilling"},{type:"checkbox",name:"drillingEnable",publish:"onEnableDrill",id:"drillingEnable",class:"drillingEnable minfieldwidthCheckbox",default:"0",value:"1"},{type:"label",action:"none",name:"drill_chart_type",id:"drill_chart_type",class:"drillChartType minfieldwidth",value:"Drillchart Type"},{type:"select",name:"drillChartType",id:"drillChartType",class:"drillChartType",publish:"onDrillChartTypeChange",options:[{text:"Line",value:"line"},{text:"Column",value:"column"},{text:"Bar",value:"bar"},{text:"Pie",value:"pie"}]},{type:"label",action:"none",name:"drill_tooltip_title",id:"drill_tooltip_title",class:"drill_tooltip_title minfieldwidth",value:"Tooltip"},{type:"label",name:"drill_tooltip_preview",id:"drill_tooltip_preview",class:"drill_tooltip_preview minfieldwidth",value:"Show preview in tooltip"},{type:"checkbox",name:"drillChartPreviewTooltip",id:"drillChartPreviewTooltip",class:"drillChartPreviewTooltip minfieldwidthCheckbox",default:"0",value:"1"},{type:"checkbox",action:"none",publish:"onCustomStopsSelectionChange",name:"customGradientStops",id:"customGradientStops",class:"customGradientStops",default:"0",value:"1"},{type:"checkbox",name:"showPieMetricTotal",id:"showPieMetricTotal",class:"showPieMetricTotal minfieldwidthCheckbox",value:"1"},{type:"checkbox",action:"none",publish:"updateThresholdGradientStops",name:"invertGradientColors",id:"invertGradientColors",class:"invertGradientColors",default:"0",value:"1"},{type:"checkbox",publish:"onGridTooltipVisibiltyChange",name:"gridTooltipEnable",id:"gridTooltipEnable",class:"gridTooltipEnable",default:"1",value:"1"},{type:"checkbox",name:"labelsWrapText",id:"labelsWrapText",class:"labelsWrapText minfieldwidthCheckbox",default:"0",value:"0"},{type:"select",publish:"onGridThresholdFormatPropChange",name:"formattingProperty",id:"formattingProperty",class:"formattingProperty",default:[0],options:[{value:"icon",text:"Marker"},{value:"text",text:"Text"},{value:"background",text:"Background"}]},{type:"checkbox",name:"labelsBinTotal",id:"labelsBinTotal",class:"labelsBinTotal minfieldwidthCheckbox",value:"1"},{type:"checkbox",name:"labelsEnableOverlap",id:"labelsEnableOverlap",class:"labelsEnableOverlap minfieldwidthCheckbox",value:"1"},{type:"checkbox",name:"barColumnLabelPosition",id:"barColumnLabelPosition",class:"barColumnLabelPosition minfieldwidthCheckbox",value:"1",publish:"onBarColumnLabelPositionChanged"},{type:"checkbox",name:"forceOutlierLabelsOutside",id:"forceOutlierLabelsOutside",class:"forceOutlierLabelsOutside minfieldwidthCheckbox",value:"0",default:"0"},{type:"editor",name:"chartTitleEditor",id:"chartTitleEditor",class:"chartTitleEditor",value:"",options:this.Fonts},{type:"onlybutton",action:"none",name:"applychartTitle",id:"applychartTitle",class:"applychartTitle",publish:"onCustomFormatChange",options:[{value:"apply",text:"Apply"}]},{type:"spinner",name:"pieInnerRadius",id:"pieInnerRadius",class:"pieInnerRadius",min:"0"},{type:"label",name:"pieOuterRadius",id:"pieOuterRadius",class:"pieOuterRadius",value:"100%"},{type:"spinner",name:"pieStartAngle",id:"pieStartAngle",class:"pieStartAngle",min:0},{type:"spinner",name:"pieEndAngle",id:"pieEndAngle",class:"pieEndAngle"},{type:"select",name:"pieRadiusMetricSelect",id:"pieRadiusMetricSelect",class:"pieRadiusMetricSelect",options:[]},{type:"spinner",name:"gaugeStartAngle",id:"gaugeStartAngle",class:"gaugeStartAngle",min:0},{type:"spinner",name:"gaugeEndAngle",id:"gaugeEndAngle",class:"gaugeEndAngle"},{type:"spinner",name:"gaugeDialBaseWidth",id:"gaugeDialBaseWidth",class:"gaugeDialBaseWidth"},{type:"colorpicker",name:"gaugeDialColor",id:"gaugeDialColor",class:"gaugeDialColor"},{type:"spinner",name:"gaugeDialBorderWidth",id:"gaugeDialBorderWidth",class:"gaugeDialBorderWidth",min:0},{type:"colorpicker",name:"gaugeDialBorderColor",id:"gaugeDialBorderColor",class:"gaugeDialBorderColor"},{type:"spinner",name:"gaugeDialStart",id:"gaugeDialStart",class:"gaugeDialStart"},{type:"spinner",name:"gaugeDialEnd",id:"gaugeDialEnd",class:"gaugeDialEnd"},{type:"colorpicker",name:"gaugeGridLineColor",id:"gaugeGridLineColor",class:"gaugeGridLineColor"},{type:"spinner",name:"gaugeGridLineWidth",id:"gaugeGridLineWidth",class:"gaugeGridLineWidth",min:0}]}};function o(){}Object.assign(o.prototype,{options:null,FIELD_OPTIONS:{chartTypeOptions:[{value:"",text:"Select"},{value:"columnrange",text:"Columns"},{value:"arearange",text:"Shadded Area"}],dashStyleOptions:[{text:"Select",value:""},{text:"Solid",value:"solid"},{text:"ShortDash",value:"ShortDash"},{text:"ShortDot",value:"ShortDot"},{text:"ShortDashDot",value:"ShortDashDot"},{text:"ShortDashDotDot",value:"ShortDashDotDot"},{text:"Dot",value:"Dot"},{text:"Dash",value:"Dash"},{text:"LongDash",value:"LongDash"},{text:"DashDot",value:"DashDot"},{text:"LongDashDot",value:"LongDashDot"},{text:"LongDashDotDot",value:"LongDashDotDot"}],heatMapColorOptions:[{text:"Default",value:"default"},{text:"Blues",value:"Blues"},{text:"Blue Green",value:"BuGn"},{text:"Dark 2",value:"Dark2"},{text:"Green Blue",value:"GnBu"},{text:"Greens",value:"Greens"},{text:"Greys",value:"Greys"},{text:"Oranges",value:"Oranges"},{text:"Orange Red",value:"OrRd"},{text:"Purples",value:"Purples"},{text:"Purple Blue",value:"PuBu"},{text:"Purple Blue Green",value:"PuBuGn"},{text:"Purple Orange",value:"PuOr"},{text:"Reds",value:"Reds"},{text:"Red Blue",value:"RdBu"},{text:"Red Grey",value:"RdGy"},{text:"Red Purple",value:"RdPu"},{text:"Red Yellow Blue",value:"RdYlBu"},{text:"Red Yellow Green",value:"RdYlGn"},{text:"Spectral",value:"Spectral"},{text:"Yellow Green",value:"YlGn"},{text:"Yellow Green Blue",value:"YlGnBu"},{text:"Yellow Orange Brown",value:"YlOrBr"},{text:"Custom",value:"custom"}],thresholdFormatOptionsSet1:[{value:"",text:"Select"},{value:"Equal To",text:"Equal To"},{value:"Greater Than",text:"Greater Than"},{value:"Less Than",text:"Less Than"},{value:"Greater Than Equal To",text:"Greater Than Equal To"},{value:"Less Than Equal To",text:"Less Than Equal To"},{value:"Between",text:"Between"},{value:"Top",text:"Top"},{value:"Bottom",text:"Bottom"},{value:"Top Percentage",text:"Top Percentage"},{value:"Bottom Percentage",text:"Bottom Percentage"},{value:"Between Percentage",text:"Between Percentage"},{value:"Above Average",text:"Above Average"},{value:"Below Average",text:"Below Average"}],thresholdFormatOptionsSet2:[{value:"",text:"Select"},{value:"Equal To",text:"Equal To"},{value:"Greater Than",text:"Greater Than"},{value:"Less Than",text:"Less Than"},{value:"Greater Than Equal To",text:"Greater Than Equal To"},{value:"Less Than Equal To",text:"Less Than Equal To"},{value:"Between",text:"Between"}],thresholdFormatOptionsSet3:[{value:"",text:"Select"},{value:"Equal To",text:"Equal To"},{value:"Greater Than",text:"Greater Than"},{value:"Less Than",text:"Less Than"},{value:"Greater Than Equal To",text:"Greater Than Equal To"},{value:"Less Than Equal To",text:"Less Than Equal To"},{value:"Between",text:"Between"},{value:"Top",text:"Top"},{value:"Bottom",text:"Bottom"},{value:"Top Percentage",text:"Top Percentage"},{value:"Bottom Percentage",text:"Bottom Percentage"},{value:"Between Percentage",text:"Between Percentage"},{value:"Above Average",text:"Above Average"},{value:"Below Average",text:"Below Average"},{value:"Five Scale Thresholds",text:"Five Scale Thresholds"}],thresholdTargetOptionsSet1:[{text:"Cell",value:"cell"},{text:"Row",value:"row"}],seriesColorsSet1:[{text:"Default",value:"default"},{text:"Accent",value:"Accent"},{text:"Paired",value:"Paired"},{text:"Pastel 1",value:"Pastel1"},{text:"Pastel 2",value:"Pastel2"},{text:"Set 1",value:"Set1"},{text:"Set 2",value:"Set2"},{text:"Set 3",value:"Set3"},{text:"Blues",value:"Blues"},{text:"Greens",value:"Greens"},{text:"Greys",value:"Greys"},{text:"Oranges",value:"Oranges"},{text:"Purples",value:"Purples"},{text:"Reds",value:"Reds"},{text:"Custom",value:"custom"}],metricAggregationOptionsSet2:[{value:"select",text:"Select"},{value:"min",text:"Min"},{value:"max",text:"Max"},{value:"xpercent",text:"Percentile"},{value:"xpercentage",text:"Percentage"}],IBCSDataTypes:[{value:"",text:"Auto"},{value:"AC",text:"Actual"},{value:"PL",text:"Planned"},{value:"PY",text:"Previous"}],IBCSSortTypes:[{value:"descending",text:"Descending"},{value:"ascending",text:"Ascending"}],InforgarphicFillDirections:[{value:"auto",text:"Auto"},{value:"Left to Right",text:"Left to Right"},{value:"Right to Left",text:"Right to Left"},{value:"Top to Bottom",text:"Top to Bottom"},{value:"Bottom to top",text:"Bottom to top"}],stackChartTypes:[{value:"bar",text:"Bar"},{value:"column",text:"Column"},{value:"area",text:"Area"}],axisLabelTextOverflow:[{text:"Auto",value:""},{text:"Trunc",value:"ellipsis"},{text:"Wrap",value:"none"}],allowUrlLinksOptions:[{text:"Default",value:""},{text:"Enable",value:"1"},{text:"Disable",value:"0"}]},getOptions:function(){return this.options||(this.options=this.FIELD_OPTIONS),this.options},setOptions:function(e){this.options=e},extendOptions:function(e){this.setOptions(vitaraJQ.extend(!0,{},this.getOptions(),e))}});const r=o;var s=a(8397);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,a){var i;return i=function(e,t){if("object"!=l(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==l(i)?i:String(i))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e){this.init(e)}Object.assign(c.prototype,r.prototype,n,{init:function(e){e&&e.context&&(this.context=e.context),this.getSetLegacyFields()},fields:null,getBaseFields:function(){var e;return u(u(u(u(u(u(u(u(u(u(e={chartType:{id:"chartType",type:"select",name:"chartType",class:"chartType",options:this.getOptions().chartTypeOptions,publish:"onSeriesColorsChange"},markerSize:{id:"markerSize",type:"spinner",name:"markerSize",class:"markerSize",value:""},markerEnable:{id:"markerEnable",type:"checkbox",name:"markerEnable",class:"markerEnable",default:"0",value:"1"},useDateAttributes:{id:"useDateAttributes",type:"checkbox",name:"useDateAttributes",class:"useDateAttributes",default:"0",value:"1"},useYAxisMetricFormat:{id:"useYAxisMetricFormat",type:"checkbox",name:"useYAxisMetricFormat",class:"useYAxisMetricFormat",default:"0",value:"1",publish:"toggleUseYAxisMetricFormat"},formatYAxisMetricSelect:{type:"select",id:"formatYAxisMetricSelect",name:"formatYAxisMetricSelect",class:"formatYAxisMetricSelect",options:[]},useXAxisMetricFormat:{id:"useXAxisMetricFormat",type:"checkbox",name:"useXAxisMetricFormat",class:"useXAxisMetricFormat",default:"0",value:"1"},xAxisLabelTruncate:{type:"select",id:"xAxisLabelTruncate",name:"xAxisLabelTruncate",class:"xAxisLabelTruncate",options:this.getOptions().axisLabelTextOverflow},yAxisLabelTruncate:{type:"select",id:"yAxisLabelTruncate",name:"yAxisLabelTruncate",class:"yAxisLabelTruncate",options:this.getOptions().axisLabelTextOverflow},useSYAxisMetricFormat:{id:"useSYAxisMetricFormat",type:"checkbox",name:"useSYAxisMetricFormat",class:"useSYAxisMetricFormat",default:"0",value:"1",publish:"toggleUseYAxisMetricFormat"},formatSYAxisMetricSelect:{type:"select",id:"formatSYAxisMetricSelect",name:"formatSYAxisMetricSelect",class:"formatSYAxisMetricSelect",options:[]},useSXAxisMetricFormat:{id:"useSXAxisMetricFormat",type:"checkbox",name:"useSXAxisMetricFormat",class:"useSXAxisMetricFormat",default:"0",value:"1"},alignYAxis:{id:"alignYAxis",type:"checkbox",name:"alignYAxis",class:"alignYAxis",publish:"onAlignYAxisChange",default:"0"},hideZeroAxisLabel:{id:"hideZeroAxisLabel",type:"checkbox",name:"hideZeroAxisLabel",class:"hideZeroAxisLabel",default:"0"},infoMarkerType:{id:"infoMarkerType",action:"none",type:"markergrid",name:"infoMarkerType",class:"infoMarkerType",default:"0"},repeatMarker:{id:"repeatMarker",type:"checkbox",name:"repeatMarker",class:"repeatMarker",default:"0",publish:"onRepeatMarkerStateChange"},unitsPerRow:{id:"unitsPerRow",actionLimited:"actionLimited",type:"spinner",name:"unitsPerRow",class:"unitsPerRow",default:"1",action:"actionLimited"},infographicMaxValue:{type:"textbox",name:"infographicMaxValue",id:"infographicMaxValue",class:"infographicMaxValue",value:1},maintainInfographicAspectRatio:{id:"maintainInfographicAspectRatio",action:"actionLimited",type:"checkbox",name:"maintainInfographicAspectRatio",class:"maintainInfographicAspectRatio",default:"1"},infographicFill:{id:"infographicFill",type:"checkbox",name:"infographicFill",class:"infographicFill",default:"0",publish:"onInfographicFillChange"},infographicFillDirection:{type:"select",action:"actionLimited",name:"infographicFillDirection",id:"infographicFillDirection",class:"infographicFillDirection",options:this.getOptions().InforgarphicFillDirections},infographicFillMetricSelect:{type:"select",action:"actionLimited",name:"infographicFillMetricSelect",id:"infographicFillMetricSelect",class:"infographicFillMetricSelect",publish:"onInfographicFillPercentageMetricChange"},infographicUnfilledColor:{type:"colorpicker",name:"infographicUnfilledColor",id:"infographicUnfilledColor",class:"infographicUnfilledColor"},dashStyle:{id:"dashStyle",type:"select",name:"dashStyle",class:"dashStyle",default:[0],options:this.getOptions().dashStyleOptions},seriesColors:{type:"select",name:"seriesColors",id:"seriesColors",class:"seriesColors",publish:"onSeriesColorsChange",options:this.getOptions().seriesColorsSet1},enableTrellis:{type:"checkbox",name:"enableTrellis",id:"enableTrellis",class:"enableTrellis",publish:"onEnableTrellisChange"},seriesColor:{type:"colorpicker",action:"none",name:"seriesColor",id:"seriesColor",class:"seriesColor"},dataMarkerLink:{type:"textbox",action:"none",name:"dataMarkerLink",id:"dataMarkerLink",class:"dataMarkerLink",value:1},sankeyLinkHoverColor:{type:"colorpicker",name:"sankeyLinkHoverColor",id:"sankeyLinkHoverColor",class:"sankeyLinkHoverColor"},sankeyEndToEndHighlight:{type:"checkbox",name:"sankeyEndToEndHighlight",id:"sankeyEndToEndHighlight",class:"sankeyEndToEndHighlight",value:"1"},sankeyNodePadding:{type:"spinner",name:"sankeyNodePadding",id:"sankeyNodePadding",class:"sankeyNodePadding",value:""},sankeyNodeWidth:{type:"spinner",name:"sankeyNodeWidth",id:"sankeyNodeWidth",class:"sankeyNodeWidth",value:""},sankeyNodeHOffset:{type:"spinner",action:"none",name:"sankeyNodeHOffset",id:"sankeyNodeHOffset",class:"sankeyNodeHOffset",max:"150",min:"-150",value:""},sankeyNodeVOffset:{type:"spinner",action:"none",name:"sankeyNodeVOffset",id:"sankeyNodeVOffset",class:"sankeyNodeVOffset",max:"150",min:"-150",value:""},addNewSeriesOptions:{type:"onlybutton",action:"none",name:"addNewSeriesOptions",id:"addNewSeriesOptions",default:[0],options:[{value:"add",text:"Add"}]},applySeriesOptions:{type:"onlybutton",action:"none",name:"applySeriesOptions",id:"applySeriesOptions",default:[0],options:[{value:"",text:"Apply"}]},customCategoryLabelEditor:{id:"customCategoryLabelEditor",type:"editor",name:"customCategoryLabelEditor",class:"customCategoryLabelEditor",value:"",action:"none",options:this.Fonts},applycustomCategoryLabel:{type:"onlybutton",action:"none",name:"applycustomCategoryLabel",id:"applycustomCategoryLabel",class:"applycustomCategoryLabel",publish:"onCustomFormatChange",options:[{value:"apply",text:"Apply"}]},applyNewSeriesOptions:{type:"onlybutton",action:"none",name:"applyNewSeriesOptions",id:"applyNewSeriesOptions",default:[0],options:[{value:"",text:"Apply"}]},cancelSeriesOptions:{type:"onlybutton",action:"none",name:"cancelSeriesOptions",id:"cancelSeriesOptions",default:[0],options:[{value:"",text:"Cancel"}]},enableDeltaView:{type:"checkbox",name:"enableDeltaView",id:"enableDeltaView",class:"enableDeltaView",publish:"onIBCSDataOptsChange",value:"0"},enableDeltaPercentageView:{type:"checkbox",name:"enableDeltaPercentageView",id:"enableDeltaPercentageView",class:"enableDeltaPercentageView",publish:"onIBCSDataOptsChange",value:"0"},wfIsSubtrahend:{type:"checkbox",action:"none",name:"wfIsSubtrahend",id:"wfIsSubtrahend",class:"wfIsSubtrahend",value:"0"},wfEnableSubTotal:{type:"checkbox",action:"none",name:"wfEnableSubTotal",id:"wfEnableSubTotal",class:"wfEnableSubTotal",value:"0"},wfEnableGroupCategories:{type:"checkbox",action:"none",name:"wfEnableGroupCategories",id:"wfEnableGroupCategories",class:"wfEnableGroupCategories",value:"0"},wfApplyGroupOptions:{type:"onlybutton",action:"none",name:"wfApplyGroupOptions",id:"wfApplyGroupOptions",class:"wfApplyGroupOptions",publish:"onwfApplyGroupOptionsChange",default:[0],options:[{value:"apply",text:"Apply"}]},deltaViewChartType:{type:"select",name:"deltaViewChartType",id:"deltaViewChartType",class:"deltaViewChartType",options:[{value:"bar",text:"Bar"},{value:"waterfall",text:"Waterfall"}]},wfAttrElemV1:{type:"select",name:"wfAttrElemV1",id:"wfAttrElemV1",class:"wfAttrElemV1 fullWidth",publish:"onIBCSDataOptsChange",options:[]},wfAttrElemV2:{type:"select",name:"wfAttrElemV2",id:"wfAttrElemV2",class:"wfAttrElemV2 fullWidth",publish:"onIBCSDataOptsChange",options:[]},wfAttrElemTypeV1:{type:"select",name:"wfAttrElemTypeV1",id:"wfAttrElemTypeV1",class:"wfAttrElemTypeV1 fullWidth",publish:"onIBCSDataOptsChange",options:this.getOptions().IBCSDataTypes},wfAttrElemTypeV2:{type:"select",name:"wfAttrElemTypeV2",id:"wfAttrElemTypeV2",class:"wfAttrElemTypeV2 fullWidth",publish:"onIBCSDataOptsChange",options:this.getOptions().IBCSDataTypes},pColorV1:{type:"colorpicker",name:"pColorV1",id:"pColorV1",class:"pColorV1"},nColorV1:{type:"colorpicker",name:"nColorV1",id:"nColorV1",class:"nColorV1"},pColorV2:{type:"colorpicker",name:"pColorV2",id:"pColorV2",class:"pColorV2"},nColorV2:{type:"colorpicker",name:"nColorV2",id:"nColorV2",class:"nColorV2"},pColorDelta:{type:"colorpicker",name:"pColorDelta",id:"pColorDelta",class:"pColorDelta"},nColorDelta:{type:"colorpicker",name:"nColorDelta",id:"nColorDelta",class:"nColorDelta"},ibcsGroupBy:{type:"select",name:"ibcsGroupBy",id:"ibcsGroupBy",class:"ibcsGroupBy",publish:"onIbcsGroupByChange",options:[]},dataMarkerPlanned:{type:"select",name:"dataMarkerPlanned",id:"dataMarkerPlanned",class:"dataMarkerPlanned fullWidth",publish:"onIBCSOptionUpdate",options:[]},dataMarkerActual:{type:"select",name:"dataMarkerActual",id:"dataMarkerActual",class:"dataMarkerActual fullWidth",publish:"onIBCSOptionUpdate",options:[]},dataMarkerForecast:{type:"select",name:"dataMarkerForecast",id:"dataMarkerForecast",class:"dataMarkerForecast fullWidth",publish:"onIBCSOptionUpdate",options:[]},dataMarkerPreviousYear:{type:"select",name:"dataMarkerPreviousYear",id:"dataMarkerPreviousYear",class:"dataMarkerPreviousYear fullWidth",publish:"onIBCSOptionUpdate",options:[]},ibcsSortByView:{type:"select",name:"ibcsSortByView",id:"ibcsSortByView",class:"ibcsSortByView fullWidth",options:[]},ibcsSortType:{type:"select",name:"ibcsSortType",id:"ibcsSortType",class:"ibcsSortType fullWidth",options:this.getOptions().IBCSSortTypes},actualDataEndMarker:{type:"select",name:"actualDataEndMarker",id:"actualDataEndMarker",class:"actualDataEndMarker fullWidth",options:[]},ibcsAttribute:{type:"select",name:"ibcsAttribute",id:"ibcsAttribute",class:"ibcsAttribute",options:[]},ibcsActualData:{type:"select",name:"ibcsActualData",id:"ibcsActualData",class:"ibcsActualData",options:[]},ibcsPlannedData:{type:"select",name:"ibcsPlannedData",id:"ibcsPlannedData",class:"ibcsPlannedData",options:[]},ibcsForecastData:{type:"select",name:"ibcsForecastData",id:"ibcsForecastData",class:"ibcsForecastData",options:[]},ibcsViewEnable:{type:"checkbox",name:"ibcsViewEnable",id:"ibcsViewEnable",class:"ibcsViewEnable",publish:"onIBCSOptionUpdate",value:"0"},ibcsViewType:{type:"select",name:"ibcsViewType",id:"ibcsViewType",class:"ibcsViewType fullWidth",options:[{text:"Standard",value:""},{text:"Absolute Variance",value:"absVariance"},{text:"Relative Variance",value:"relVariance"}]},smShowAverage:{type:"checkbox",name:"smShowAverage",id:"smShowAverage",class:"smShowAverage",value:"0"},smChartLimit:{type:"spinner",name:"smChartLimit",id:"smChartLimit",class:"smChartLimit",default:16},chartGroupAggregation:{type:"select",name:"chartGroupAggregation",id:"chartGroupAggregation",class:"chartGroupAggregation",options:[{text:"Sum",value:"sum"},{text:"Average",value:"average"},{text:"Variance",value:"variance"}]},ibcsPrimaryDeltaView:{type:"select",name:"ibcsPrimaryDeltaView",id:"ibcsPrimaryDeltaView",class:"ibcsPrimaryDeltaView fullWidth",publish:"onIBCSOptionUpdate",options:[{text:"None",value:""},{text:"Absolute Variance",value:"Delta"},{text:"Relative Variance",value:"Percentage Delta"}]},ibcsSecondaryDeltaView:{type:"select",name:"ibcsSecondaryDeltaView",id:"ibcsSecondaryDeltaView",class:"ibcsSecondaryDeltaView fullWidth",publish:"onIBCSOptionUpdate",options:[{text:"None",value:""},{text:"Absolute Variance",value:"Delta"},{text:"Relative Variance",value:"Percentage Delta"}]},ibcsSecondaryDeltaMetric:{type:"select",name:"ibcsSecondaryDeltaMetric",id:"ibcsSecondaryDeltaMetric",class:"ibcsSecondaryDeltaMetric fullWidth",options:[]},ibcsShowTopXCats:{id:"ibcsShowTopXCats",type:"spinner",name:"ibcsShowTopXCats",class:"ibcsShowTopXCats",value:""},ibcsShowAggData:{id:"ibcsShowAggData",type:"checkbox",name:"ibcsShowAggData",class:"ibcsShowAggData",value:""},ibcsAggDataBy:{id:"ibcsAggDataBy",type:"select",name:"ibcsAggDataBy",class:"ibcsAggDataBy fullWidth",publish:"onIbcsAggDataByChange",options:[{text:"None",value:""},{text:"Average",value:"avg"},{text:"Sum",value:"sum"}]},btnScalingGroup:{type:"button",name:"btnScalingGroup",id:"btnScalingGroup",class:"btnScalingGroup",publish:"onEnableScalingGroup",options:[{value:"1",text:"Click"}]},scalingGroup:{id:"scalingGroup",type:"select",name:"scalingGroup",class:"scalingGroup",publish:"onScalingGroupChange",options:[{text:"None",value:""},{text:"Group 1",value:"sg1"},{text:"Group 2",value:"sg2"},{text:"Group 3",value:"sg3"},{text:"Group 4",value:"sg4"}]},ibcsTitleLink:{id:"ibcsTitleLink",type:"select",name:"ibcsTitleLink",class:"ibcsTitleLink fullWidth",options:[]},ibcsLayoutAutoHide:{id:"ibcsLayoutAutoHide",type:"checkbox",name:"ibcsLayoutAutoHide",class:"ibcsLayoutAutoHide",default:"0",value:"1"},deltaBarsEnable:{type:"checkbox",name:"deltaBarsEnable",id:"deltaBarsEnable",class:"deltaBarsEnable",publish:"onDeltaBarsEnabled",value:"0"},deltaBarsPreviousSeries:{type:"select",action:"none",id:"deltaBarsPreviousSeries",name:"deltaBarsPreviousSeries",class:"deltaBarsPreviousSeries",options:[]},deltaBarsInvertColor:{type:"checkbox",action:"none",name:"deltaBarsInvertColor",id:"deltaBarsInvertColor",class:"deltaBarsInvertColor",value:"0"},deltaBarsDataLabel:{type:"checkbox",action:"none",name:"deltaBarsDataLabel",id:"deltaBarsDataLabel",class:"deltaBarsDataLabel",value:"0"},deltaBarsWidth:{id:"deltaBarsWidth",type:"spinner",action:"actionLimited",name:"deltaBarsWidth",class:"deltaBarsWidth",default:"50",maxLength:"100",step:"5"},errorBarsEnable:{type:"checkbox",name:"errorBarsEnable",id:"errorBarsEnable",class:"errorBarsEnable",publish:"onErrorBarsEnabled",value:"0"},errorBarsLowSeries:{type:"select",publish:"onErrorBarMetricChanged",id:"errorBarsLowSeries",name:"errorBarsLowSeries",class:"errorBarsLowSeries",options:[]},errorBarsHighSeries:{type:"select",publish:"onErrorBarMetricChanged",id:"errorBarsHighSeries",name:"errorBarsHighSeries",class:"errorBarsHighSeries",options:[]},errorBarsSeriesColor:{type:"colorpicker",action:"none",name:"errorBarsSeriesColor",id:"errorBarsSeriesColor",class:"errorBarsSeriesColor"},valueAxisTickInterval:{id:"valueAxisTickInterval",type:"textbox",name:"valueAxisTickInterval",class:"valueAxisTickInterval",value:""},sValueAxisTickInterval:{id:"sValueAxisTickInterval",type:"textbox",name:"sValueAxisTickInterval",class:"sValueAxisTickInterval",value:""},catAxisTickInterval:{id:"catAxisTickInterval",type:"textbox",name:"catAxisTickInterval",class:"catAxisTickInterval",value:""},sXAxisTickInterval:{id:"sXAxisTickInterval",type:"textbox",name:"sXAxisTickInterval",class:"sXAxisTickInterval",value:""},includeAttributeFormID:{type:"checkbox",name:"includeAttributeFormID",id:"includeAttributeFormID",class:"includeAttributeFormID",value:"1"},ndSource:{type:"select",publish:"onSankeyDataMarkerChange",id:"ndSource",name:"ndSource",class:"ndSource",options:[]},ndTarget:{type:"select",publish:"onSankeyDataMarkerChange",id:"ndTarget",name:"ndTarget",class:"ndTarget",options:[]},ndDepthBy:{type:"select",publish:"onSankeyDataMarkerChange",id:"ndDepthBy",name:"ndDepthBy",class:"ndDepthBy",options:[]},ndGroupBy:{type:"select",publish:"onSankeyDataMarkerChange",id:"ndGroupBy",name:"ndGroupBy",class:"ndGroupBy",options:[]},ndLinkBy:{type:"select",publish:"onSankeyDataMarkerChange",id:"ndLinkBy",name:"ndLinkBy",class:"ndLinkBy",options:[]},seriesAnimationDuration:{id:"seriesAnimationDuration",actionLimited:"actionLimited",type:"spinner",name:"seriesAnimationDuration",class:"seriesAnimationDuration width_unset",default:"1000",maxLength:"16",step:"200",action:"actionLimited"},thresholdValueDate1:{type:"datepicker",action:"none",id:"thresholdValueDate1",name:"thresholdValueDate1",class:"thresholdValueDate1"},thresholdValueDate2:{type:"datepicker",action:"none",id:"thresholdValueDate2",name:"thresholdValueDate2",class:"thresholdValueDate2"},plValue2:{type:"textbox",action:"none",id:"plValue2",name:"plValue2",class:"plValue2"},barFillWithPercentage:{id:"barFillWithPercentage",type:"checkbox",name:"barFillWithPercentage",class:"barFillWithPercentage",publish:"onbarFillWithPercentageChange",value:"1"},kpi1ReferenceLineEnable:{type:"checkbox",name:"kpi1ReferenceLineEnable",id:"kpi1ReferenceLineEnable",class:"kpi1ReferenceLineEnable",publish:"onKpiReferenceLineEnable",value:""},kpi2ReferenceLineEnable:{type:"checkbox",name:"kpi2ReferenceLineEnable",id:"kpi2ReferenceLineEnable",class:"kpi2ReferenceLineEnable",publish:"onKpiReferenceLineEnable",value:""},kpi3ReferenceLineEnable:{type:"checkbox",name:"kpi3ReferenceLineEnable",id:"kpi3ReferenceLineEnable",class:"kpi3ReferenceLineEnable",publish:"onKpiReferenceLineEnable",value:""},kpiRing1PercentValue:{type:"spinner",name:"kpiRing1PercentValue",id:"kpiRing1PercentValue",class:"kpiRing1PercentValue",max:"100",min:"0",value:""},kpiRing2PercentValue:{type:"spinner",name:"kpiRing2PercentValue",id:"kpiRing2PercentValue",class:"kpiRing2PercentValue",max:"100",min:"0",value:""},kpiRing3PercentValue:{type:"spinner",name:"kpiRing3PercentValue",id:"kpiRing3PercentValue",class:"kpiRing3PercentValue",max:"100",min:"0",value:""},kpi1ReflineBackgroundColor:{type:"colorpicker",name:"kpi1ReflineBackgroundColor",id:"kpi1ReflineBackgroundColor",class:"kpi1ReflineBackgroundColor"},kpi2ReflineBackgroundColor:{type:"colorpicker",name:"kpi2ReflineBackgroundColor",id:"kpi2ReflineBackgroundColor",class:"kpi2ReflineBackgroundColor"},kpi3ReflineBackgroundColor:{type:"colorpicker",name:"kpi3ReflineBackgroundColor",id:"kpi3ReflineBackgroundColor",class:"kpi3ReflineBackgroundColor"},BarFillMaxSelection:{type:"select",name:"BarFillMaxSelection",id:"BarFillMaxSelection",class:"BarFillMaxSelection",options:[],publish:"onBarFillMaxSelectionChange"},BarFillMaxValue:{type:"textbox",name:"BarFillMaxValue",id:"BarFillMaxValue",class:"BarFillMaxValue",value:""},BarFillPaneBackgroundColor:{type:"colorpicker",name:"BarFillPaneBackgroundColor",id:"BarFillPaneBackgroundColor",class:"BarFillPaneBackgroundColor"},barColumnGroupSpacing:{id:"barColumnGroupSpacing",type:"spinner",name:"barColumnGroupSpacing",class:"barColumnGroupSpacing",value:""},enablePolarAxis:{id:"enablePolarAxis",type:"checkbox",name:"enablePolarAxis",class:"enablePolarAxis",publish:"onEnablePolarAxisChange",default:"0",value:"1"},polarPaneSize:{id:"polarPaneSize",type:"spinner",name:"polarPaneSize",class:"polarPaneSize",min:0,max:100,default:85,value:85},polarPaneInnerSize:{id:"polarPaneInnerSize",type:"spinner",name:"polarPaneInnerSize",class:"polarPaneInnerSize",min:0,default:20},polarPaneStartAngle:{id:"polarPaneStartAngle",type:"spinner",name:"polarPaneStartAngle",class:"polarPaneStartAngle",default:90,value:90},polarPaneEndAngle:{id:"polarPaneEndAngle",type:"spinner",name:"polarPaneEndAngle",class:"polarPaneEndAngle",default:360,value:360},displayFilteredColumn:{type:"checkbox",name:"displayFilteredColumn",id:"displayFilteredColumn",class:"displayFilteredColumn",default:"0",value:"1"},playAxisTextEnable:{id:"playAxisTextEnable",type:"checkbox",name:"playAxisTextEnable",class:"playAxisTextEnable",default:"1",value:"1"},playAxisTextStyleFontName:{type:"select",name:"playAxisTextStyleFontName",id:"playAxisTextStyleFontName",class:"playAxisTextStyleFontName",default:"",options:this.Fonts},playAxisTextStyleFontSize:{type:"spinner",name:"playAxisTextStyleFontSize",id:"playAxisTextStyleFontSize",class:"playAxisTextStyleFontSize",value:""},playAxisTextStyleColor:{type:"colorpicker",name:"playAxisTextStyleColor",id:"playAxisTextStyleColor",class:"playAxisTextStyleColor"},playAxisTextStyleBold:{type:"button",name:"playAxisTextStyleBold",id:"playAxisTextStyleBold",class:"playAxisTextStyleBold",default:1,options:[{value:"bold",text:"B"}]},playAxisTextStyleItalic:{type:"button",name:"playAxisTextStyleItalic",id:"playAxisTextStyleItalic",class:"playAxisTextStyleItalic",options:[{value:"italic",text:"I"}]},playAxisTextStyleUnderline:{type:"button",name:"playAxisTextStyleUnderline",id:"playAxisTextStyleUnderline",class:"playAxisTextStyleUnderline",options:[{value:"underline",text:"U"}]},playAxisSequence:{id:"playAxisSequence",type:"select",name:"playAxisSequence",class:"playAxisSequence",publish:"onPlayAxisChangeSequence",options:[{value:"none",text:"Select"},{value:"firstSequence",text:"First"},{value:"penultimateSequence",text:"Last but one"}]},playAxisTrailLines:{id:"playAxisTrailLines",type:"checkbox",name:"playAxisTrailLines",class:"playAxisTrailLines",publish:"onPlayAxisTrailLinesChecked"},enableGradientColor:{type:"checkbox",name:"enableGradientColor",id:"enableGradientColor",publish:"onEnableGradientPicker",class:"enableGradientColor",action:"none"},gradientColorPicker:{type:"gradientColorPicker",name:"gradientColorPicker",id:"gradientColorPicker",class:"gradientColorPicker",action:"none"},seriesEnableMarker:{type:"checkbox",action:"none",publish:"onSeriesMarkerChecked",name:"seriesEnableMarker",id:"seriesEnableMarker",class:"seriesEnableMarker"},seriesMarkerType:{type:"markergrid",action:"none",name:"seriesMarkerType",id:"seriesMarkerType",class:"seriesMarkerType",options:this.getOptions().markerTypeOptions},seriesMarkerSize:{type:"spinner",action:"actionLimited",name:"seriesMarkerSize",id:"seriesMarkerSize",class:"seriesMarkerSize",value:""},seriesMarkerColor:{type:"colorpicker",action:"none",name:"seriesMarkerColor",id:"seriesMarkerColor",class:"seriesMarkerColor",value:""},smChartTitleEditor:{type:"editor",name:"smChartTitleEditor",id:"smChartTitleEditor",class:"smChartTitleEditor",value:"",options:this.getOptions().Fonts},applysmChartTitle:{type:"onlybutton",name:"applysmChartTitle",id:"applysmChartTitle",class:"applysmChartTitle",publish:"onCustomFormatChange",options:[{value:"apply",text:"Apply"}]},smChartTitleEnable:{id:"smChartTitleEnable",type:"checkbox",name:"smChartTitleEnable",class:"smChartTitleEnable",default:"1",value:"1"},sKPITitleEnable:{id:"sKPITitleEnable",type:"checkbox",name:"sKPITitleEnable",class:"sKPITitleEnable",default:"1",value:"1"},useFormatAcrossMetrics:{id:"useFormatAcrossMetrics",type:"checkbox",name:"useFormatAcrossMetrics",class:"useFormatAcrossMetrics",default:"0",value:"0"},ibcsPrimaryDeltaViewCheckBox:{id:"ibcsPrimaryDeltaViewCheckBox",type:"checkbox",name:"ibcsPrimaryDeltaViewCheckBox",class:"ibcsPrimaryDeltaViewCheckBox",publish:"onIbcsDeltaViewChange",default:"0",value:"0"},ibcsSecondaryDeltaViewCheckBox:{id:"ibcsSecondaryDeltaViewCheckBox",type:"checkbox",name:"ibcsSecondaryDeltaViewCheckBox",class:"ibcsSecondaryDeltaViewCheckBox",publish:"onIbcsDeltaViewChange",default:"0",value:"0"},ibcsPrimaryDeltaViewTitle:{id:"ibcsPrimaryDeltaViewTitle",type:"textbox",name:"ibcsPrimaryDeltaViewTitle",class:"ibcsPrimaryDeltaViewTitle",default:"",value:"",publish:"sanitizeAndUpdate"},ibcsSecondaryDeltaViewTitle:{id:"ibcsSecondaryDeltaViewTitle",type:"textbox",name:"ibcsSecondaryDeltaViewTitle",class:"ibcsSecondaryDeltaViewTitle",default:"%",value:"%",publish:"sanitizeAndUpdate"},stackChartType:{id:"stackChartType",type:"select",name:"stackChartType",class:"stackChartType",publish:"onStackChartTypeChanged",default:[0],options:this.getOptions().stackChartTypes},bubbleSize:{id:"bubbleSize",type:"select",name:"bubbleSize",class:"bubbleSize",default:[0],options:[{value:"metric",text:"Metric Value"},{value:"fixed",text:"Fixed"}]},bubbleType:{id:"bubbleType",type:"select",name:"bubbleType",class:"bubbleType",default:[0],options:[{value:"circle",text:"Circle"},{value:"hexagon",text:"Hexagon"}]},cDateDisplayFormat:{type:"textbox",name:"cDateDisplayFormat",id:"cDateDisplayFormat",class:"cDateDisplayFormat",value:""},managePlotBands:{type:"button",action:"none",name:"managePlotBands",id:"managePlotBands",class:"btn btn-primary btnCustom",default:[0],options:[{value:"",text:"Manage"}]},addNewPlotBands:{type:"onlybutton",action:"none",name:"addNewPlotBands",id:"addNewPlotBands",default:[0],options:[{value:"add",text:"Add"}]},applyPlotband:{type:"onlybutton",action:"none",name:"applyPlotband",id:"applyPlotband",default:[0],options:[{value:"",text:"Apply"}]},cancelPlotbands:{type:"onlybutton",action:"none",name:"cancelPlotbands",id:"cancelPlotbands",default:[0],options:[{value:"",text:"Cancel"}]}},"managePlotBands",{type:"button",action:"none",name:"managePlotBands",id:"managePlotBands",class:"btn btn-primary btnCustom",default:[0],options:[{value:"",text:"Manage"}]}),"useCFormatForLabels",{id:"useCFormatForLabels",type:"checkbox",name:"useCFormatForLabels",class:"useCFormatForLabels",default:"0",value:"0"}),"seriesLineSmooth",{type:"checkbox",action:"none",name:"seriesLineSmooth",id:"seriesLineSmooth",class:"seriesLineSmooth"}),"enableSmoothLine",{type:"checkbox",name:"enableSmoothLine",id:"enableSmoothLine",class:"enableSmoothLine",default:"0",value:"0"}),"connectNullPoints",{type:"checkbox",name:"connectNullPoints",id:"connectNullPoints",class:"connectNullPoints"}),"markersWithLabel",{type:"checkbox",name:"markersWithLabel",id:"markersWithLabel",class:"markersWithLabel",publish:"onEnableMarkersWithLabel",default:"0",value:"0"}),"sharedCategoryAxis",{type:"checkbox",name:"sharedCategoryAxis",id:"sharedCategoryAxis",class:"sharedCategoryAxis",value:"1"}),"waffleUnfilledColor",{type:"colorpicker",name:"waffleUnfilledColor",id:"waffleUnfilledColor",class:"waffleUnfilledColor"}),"legendCompact",{type:"checkbox",name:"legendCompact",id:"legendCompact",class:"legendCompact",value:"1"}),"legendTrim",{type:"checkbox",name:"legendTrim",id:"legendTrim",class:"lengendTrim",value:"0"}),u(u(u(u(u(u(u(u(u(u(e,"legendSetWidth",{type:"checkbox",name:"legendSetWidth",id:"legendSetWidth",class:"lengendSetWidth",publish:"toggleLegendSetWidthProperties",value:"0"}),"legendItemWidth",{type:"spinner",name:"legendItemWidth",id:"legendItemWidth",class:"legendItemWidth",value:"",default:"100",min:"50",step:"5"}),"showBarsForYZeroValue",{id:"showBarsForYZeroValue",type:"checkbox",name:"showBarsForYZeroValue",class:"showBarsForYZeroValue",default:"0",value:"0"}),"reverseStackOrder",{id:"reverseStackOrder",type:"checkbox",name:"reverseStackOrder",class:"reverseStackOrder",default:"0",value:"0"}),"allowUrlsToVisual",{id:"allowUrlsToVisual",type:"select",name:"allowUrlsToVisual",class:"allowUrlsToVisual",options:this.getOptions().allowUrlLinksOptions,publish:"onAllowUrlsToVisualStateChange"}),"customSeriesLabelEditor",{type:"editor",name:"customSeriesLabelEditor",id:"customSeriesLabelEditor",class:"customSeriesLabelEditor",value:"",action:"none",options:this.Fonts}),"customSeriesLabel",{id:"customSeriesLabel",type:"select",name:"customSeriesLabel",class:"customSeriesLabel",default:"0",action:"none",publish:"onEnableSeriesDatalabel",options:[{value:"default",text:"Default"},{value:"on",text:"On"},{value:"off",text:"Off"}]}),"seriesTooltip",{id:"seriesTooltip",type:"select",name:"seriesTooltip",class:"seriesTooltip",default:"0",action:"none",publish:"onEnableSeriesTooltip",options:[{value:"default",text:"Default"},{value:"on",text:"On"},{value:"off",text:"Off"}]}),"seriesTooltipEditor",{type:"editor",name:"seriesTooltipEditor",id:"seriesTooltipEditor",class:"seriesTooltipEditor",value:"",action:"none",options:this.Fonts}),"aggDataBy",{id:"aggDataBy",type:"select",name:"aggDataBy",class:"aggDataBy",default:"default",action:"none",options:[{text:"Default",value:"default"},{text:"None",value:""},{text:"Average",value:"avg"},{text:"Sum",value:"sum"}]}),u(u(u(u(u(u(u(u(e,"chartScrollAreaOpacity",{type:"slider",name:"chartScrollAreaOpacity",id:"chartScrollAreaOpacity",class:"chartScrollAreaOpacity",default:"85",value:""}),"enableAutoScroll",{id:"enableAutoScroll",type:"checkbox",name:"enableAutoScroll",class:"enableAutoScroll",default:"0",value:"0"}),"yAxisGridLineZIndex",{id:"yAxisGridLineZIndex",type:"checkbox",name:"yAxisGridLineZIndex",class:"yAxisGridLineZIndex"}),"waterfallNegativeLabels",{id:"waterfallNegativeLabels",type:"checkbox",name:"waterfallNegativeLabels",class:"waterfallNegativeLabels minfieldwidthCheckbox",default:"0",value:"0"}),"showNegativeValueColor",{id:"showNegativeValueColor",type:"checkbox",name:"showNegativeValueColor",class:"showNegativeValueColor",default:"0",value:"0"}),"showTooltipOnHover",{id:"showTooltipOnHover",type:"checkbox",name:"showTooltipOnHover",class:"showTooltipOnHover",default:"0",value:"0"}),"xAxisLabelStartIndex",{type:"spinner",name:"xAxisLabelStartIndex",id:"xAxisLabelStartIndex",class:"xAxisLabelStartIndex",default:"1",value:""}),"axisLabelInterval",{type:"spinner",name:"axisLabelInterval",id:"axisLabelInterval",class:"axisLabelInterval",default:"",value:""})},getFields:function(){return this.fields||(this.fields=this.getBaseFields()),this.fields},setFields:function(e){this.fields=e},extendFields:function(e){var t=vitaraJQ.extend({},this.getFields(),e);t&&this.setFields(t)},has:function(e){return void 0!==this.getFields()[e]},transform:function(e){return s.reduce(e,(function(e,t){return t.id&&(e[t.id]=t),e}),{})},getSetLegacyFields:function(){var e=this.transform(this.getLegacyFields());e&&this.extendFields(e)}});const p=c},3958:function(e,t,a){var i,n,o,r,s;
/*! Moment Duration Format v2.2.2
 *  https://github.com/jsmreese/moment-duration-format
 *  Date: 2018-02-16
 *
 *  Duration format plugin function for the Moment.js library
 *  http://momentjs.com/
 *
 *  Copyright 2018 John Madhavan-Reese
 *  Released under the MIT license
 */
r=this,s=function(e){var t=!1,a=!1,i=!1,n=!1,o="escape years months weeks days hours minutes seconds milliseconds general".split(" "),r=[{type:"seconds",targets:[{type:"minutes",value:60},{type:"hours",value:3600},{type:"days",value:86400},{type:"weeks",value:604800},{type:"months",value:2678400},{type:"years",value:31536e3}]},{type:"minutes",targets:[{type:"hours",value:60},{type:"days",value:1440},{type:"weeks",value:10080},{type:"months",value:44640},{type:"years",value:525600}]},{type:"hours",targets:[{type:"days",value:24},{type:"weeks",value:168},{type:"months",value:744},{type:"years",value:8760}]},{type:"days",targets:[{type:"weeks",value:7},{type:"months",value:31},{type:"years",value:365}]},{type:"months",targets:[{type:"years",value:12}]}];function s(e,t){return!(t.length>e.length)&&-1!==e.indexOf(t)}function l(e){for(var t="";e;)t+="0",e-=1;return t}function u(e,t){var a=e+"+"+y(k(t).sort(),(function(e){return e+":"+t[e]})).join(",");return u.cache[a]||(u.cache[a]=Intl.NumberFormat(e,t)),u.cache[a]}function c(e,t,o){var r,s,p,d=t.useToLocaleString,h=t.useGrouping,g=h&&t.grouping.slice(),m=t.maximumSignificantDigits,f=t.minimumIntegerDigits||1,v=t.fractionDigits||0,y=t.groupingSeparator,b=t.decimalSeparator;if(d&&o){var x,S={minimumIntegerDigits:f,useGrouping:h};return v&&(S.maximumFractionDigits=v,S.minimumFractionDigits=v),m&&e>0&&(S.maximumSignificantDigits=m),i?(n||((x=T({},t)).useGrouping=!1,x.decimalSeparator=".",e=parseFloat(c(e,x),10)),u(o,S).format(e)):(a||((x=T({},t)).useGrouping=!1,x.decimalSeparator=".",e=parseFloat(c(e,x),10)),e.toLocaleString(o,S))}var C=(m?e.toPrecision(m+1):e.toFixed(v+1)).split("e");p=C[1]||"",s=(C=C[0].split("."))[1]||"";var M=(r=C[0]||"").length,E=s.length,k=M+E,A=r+s;(m&&k===m+1||!m&&E===v+1)&&((A=function(e){for(var t=e.split("").reverse(),a=0,i=!0;i&&a<t.length;)a?"9"===t[a]?t[a]="0":(t[a]=(parseInt(t[a],10)+1).toString(),i=!1):(parseInt(t[a],10)<5&&(i=!1),t[a]="0"),a+=1;return i&&t.push("1"),t.reverse().join("")}(A)).length===k+1&&(M+=1),E&&(A=A.slice(0,-1)),r=A.slice(0,M),s=A.slice(M)),m&&(s=s.replace(/0*$/,""));var w=parseInt(p,10);w>0?s.length<=w?(r+=s+=l(w-s.length),s=""):(r+=s.slice(0,w),s=s.slice(w)):w<0&&(s=l(Math.abs(w)-r.length)+r+s,r="0"),m||((s=s.slice(0,v)).length<v&&(s+=l(v-s.length)),r.length<f&&(r=l(f-r.length)+r));var I,P="";if(h)for(C=r;C.length;)g.length&&(I=g.shift()),P&&(P=y+P),P=C.slice(-I)+P,C=C.slice(0,-I);else P=r;return s&&(P=P+b+s),P}function p(e,t){return e.label.length>t.label.length?-1:e.label.length<t.label.length?1:0}function d(e,t){var a=[];return v(k(t),(function(i){if("_durationLabels"===i.slice(0,15)){var n=i.slice(15).toLowerCase();v(k(t[i]),(function(o){o.slice(0,1)===e&&a.push({type:n,key:o,label:t[i][o]})}))}})),a}u.cache={};var h={durationLabelsStandard:{S:"millisecond",SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:function(e,t,a){return 1===t&&null===a?e:e+e}};function g(e){return"[object Array]"===Object.prototype.toString.call(e)}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function f(e,t){var a,i=0,n=e&&e.length||0;for("function"!=typeof t&&(a=t,t=function(e){return e===a});i<n;){if(t(e[i]))return e[i];i+=1}}function v(e,t){var a=0,i=e.length;if(e&&i)for(;a<i;){if(!1===t(e[a],a))return;a+=1}}function y(e,t){var a=0,i=e.length,n=[];if(!e||!i)return n;for(;a<i;)n[a]=t(e[a],a),a+=1;return n}function b(e,t){return y(e,(function(e){return e[t]}))}function x(e){var t=[];return v(e,(function(e){e&&t.push(e)})),t}function S(e){var t=[];return v(e,(function(e){f(t,e)||t.push(e)})),t}function C(e,t){var a=[];return v(e,(function(e){v(t,(function(t){e===t&&a.push(e)}))})),S(a)}function M(e,t){var a=[];return v(e,(function(i,n){if(!t(i))return a=e.slice(n),!1})),a}function E(e,t){return M(e.slice().reverse(),t).reverse()}function T(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}function k(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);return t}function A(e,t){var a=0,i=e.length;if(!e||!i)return!1;for(;a<i;){if(!0===t(e[a],a))return!0;a+=1}return!1}function w(e){var t=[];return v(e,(function(e){t=t.concat(e)})),t}function I(e){return"3.6"===e(3.55,"en",{useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:1,maximumFractionDigits:1})}function P(e){var t=!0;return!!((t=(t=(t=t&&"1"===e(1,"en",{minimumIntegerDigits:1}))&&"01"===e(1,"en",{minimumIntegerDigits:2}))&&"001"===e(1,"en",{minimumIntegerDigits:3}))&&(t=(t=(t=(t=t&&"100"===e(99.99,"en",{maximumFractionDigits:0,minimumFractionDigits:0}))&&"100.0"===e(99.99,"en",{maximumFractionDigits:1,minimumFractionDigits:1}))&&"99.99"===e(99.99,"en",{maximumFractionDigits:2,minimumFractionDigits:2}))&&"99.990"===e(99.99,"en",{maximumFractionDigits:3,minimumFractionDigits:3}))&&(t=(t=(t=(t=(t=t&&"100"===e(99.99,"en",{maximumSignificantDigits:1}))&&"100"===e(99.99,"en",{maximumSignificantDigits:2}))&&"100"===e(99.99,"en",{maximumSignificantDigits:3}))&&"99.99"===e(99.99,"en",{maximumSignificantDigits:4}))&&"99.99"===e(99.99,"en",{maximumSignificantDigits:5}))&&(t=(t=t&&"1,000"===e(1e3,"en",{useGrouping:!0}))&&"1000"===e(1e3,"en",{useGrouping:!1})))}function D(){var e,t=[].slice.call(arguments),a={};if(v(t,(function(t,i){if(!i){if(!g(t))throw"Expected array as the first argument to durationsFormat.";e=t}"string"!=typeof t&&"function"!=typeof t?"number"!=typeof t?m(t)&&T(a,t):a.precision=t:a.template=t})),!e||!e.length)return[];a.returnMomentTypes=!0;var i=y(e,(function(e){return e.format(a)})),n=C(o,S(b(w(i),"type"))),r=a.largest;return r&&(n=n.slice(0,r)),a.returnMomentTypes=!1,a.outputTypes=n,y(e,(function(e){return e.format(a)}))}function L(){var a=[].slice.call(arguments),n=T({},this.format.defaults),l=this.asMilliseconds(),u=this.asMonths();"function"==typeof this.isValid&&!1===this.isValid()&&(l=0,u=0);var w=l<0,I=e.duration(Math.abs(l),"milliseconds"),P=e.duration(Math.abs(u),"months");v(a,(function(e){"string"!=typeof e&&"function"!=typeof e?"number"!=typeof e?m(e)&&T(n,e):n.precision=e:n.template=e}));var D={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"},L={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/};n.types=o;var O=function(e){return f(o,(function(t){return L[t].test(e)}))},F=new RegExp(y(o,(function(e){return L[e].source})).join("|"),"g");n.duration=this;var V="function"==typeof n.template?n.template.apply(n):n.template,R=n.outputTypes,B=n.returnMomentTypes,H=n.largest,N=[];R||(g(n.stopTrim)&&(n.stopTrim=n.stopTrim.join("")),n.stopTrim&&v(n.stopTrim.match(F),(function(e){var t=O(e);"escape"!==t&&"general"!==t&&N.push(t)})));var _=e.localeData();_||(_={}),v(k(h),(function(e){"function"!=typeof h[e]?_["_"+e]||(_["_"+e]=h[e]):_[e]||(_[e]=h[e])})),v(k(_._durationTimeTemplates),(function(e){V=V.replace("_"+e+"_",_._durationTimeTemplates[e])}));var U=n.userLocale||e.locale(),G=n.useLeftUnits,Y=n.usePlural,J=n.precision,Q=n.forceLength,z=n.useGrouping,j=n.trunc,W=n.useSignificantDigits&&J>0,X=W?n.precision:0,K=X,q=n.minValue,Z=!1,$=n.maxValue,ee=!1,te=n.useToLocaleString,ae=n.groupingSeparator,ie=n.decimalSeparator,ne=n.grouping;te=te&&(t||i);var oe=n.trim;g(oe)&&(oe=oe.join(" ")),null===oe&&(H||$||W)&&(oe="all"),null!==oe&&!0!==oe&&"left"!==oe&&"right"!==oe||(oe="large"),!1===oe&&(oe="");var re=function(e){return e.test(oe)},se=/large/,le=/small/,ue=/both/,ce=/mid/,pe=/^all|[^sm]all/,de=/final/,he=H>0||A([se,ue,pe],re),ge=A([le,ue,pe],re),me=A([ce,pe],re),fe=A([de,pe],re),ve=y(V.match(F),(function(e,t){var a=O(e);return"*"===e.slice(0,1)&&(e=e.slice(1),"escape"!==a&&"general"!==a&&N.push(a)),{index:t,length:e.length,text:"",token:"escape"===a?e.replace(L.escape,"$1"):e,type:"escape"===a||"general"===a?null:a}})),ye={index:0,length:0,token:"",text:"",type:null},be=[];G&&ve.reverse(),v(ve,(function(e){if(e.type)return(ye.type||ye.text)&&be.push(ye),void(ye=e);G?ye.text=e.token+ye.text:ye.text+=e.token})),(ye.type||ye.text)&&be.push(ye),G&&be.reverse();var xe=C(o,S(x(b(be,"type"))));if(!xe.length)return b(be,"text").join("");xe=y(xe,(function(e,t){var a,i=t+1===xe.length,o=!t;a="years"===e||"months"===e?P.as(e):I.as(e);var r=Math.floor(a),s=a-r,l=f(be,(function(t){return e===t.type}));return o&&$&&a>$&&(ee=!0),i&&q&&Math.abs(n.duration.as(e))<q&&(Z=!0),o&&null===Q&&l.length>1&&(Q=!0),I.subtract(r,e),P.subtract(r,e),{rawValue:a,wholeValue:r,decimalValue:i?s:0,isSmallest:i,isLargest:o,type:e,tokenLength:l.length}}));var Se=j?Math.floor:Math.round,Ce=function(e,t){var a=Math.pow(10,t);return Se(e*a)/a},Me=!1,Ee=!1,Te=function(e,t){var a={useGrouping:z,groupingSeparator:ae,decimalSeparator:ie,grouping:ne,useToLocaleString:te};return W&&(X<=0?(e.rawValue=0,e.wholeValue=0,e.decimalValue=0):(a.maximumSignificantDigits=X,e.significantDigits=X)),ee&&!Ee&&(e.isLargest?(e.wholeValue=$,e.decimalValue=0):(e.wholeValue=0,e.decimalValue=0)),Z&&!Ee&&(e.isSmallest?(e.wholeValue=q,e.decimalValue=0):(e.wholeValue=0,e.decimalValue=0)),e.isSmallest||e.significantDigits&&e.significantDigits-e.wholeValue.toString().length<=0?J<0?e.value=Ce(e.wholeValue,J):0===J?e.value=Se(e.wholeValue+e.decimalValue):W?(e.value=j?Ce(e.rawValue,X-e.wholeValue.toString().length):e.rawValue,e.wholeValue&&(X-=e.wholeValue.toString().length)):(a.fractionDigits=J,e.value=j?e.wholeValue+Ce(e.decimalValue,J):e.wholeValue+e.decimalValue):W&&e.wholeValue?(e.value=Math.round(Ce(e.wholeValue,e.significantDigits-e.wholeValue.toString().length)),X-=e.wholeValue.toString().length):e.value=e.wholeValue,e.tokenLength>1&&(Q||Me)&&(a.minimumIntegerDigits=e.tokenLength,Ee&&a.maximumSignificantDigits<e.tokenLength&&delete a.maximumSignificantDigits),!Me&&(e.value>0||""===oe||f(N,e.type)||f(R,e.type))&&(Me=!0),e.formattedValue=c(e.value,a,U),a.useGrouping=!1,a.decimalSeparator=".",e.formattedValueEn=c(e.value,a,"en"),2===e.tokenLength&&"milliseconds"===e.type&&(e.formattedValueMS=c(e.value,{minimumIntegerDigits:3,useGrouping:!1},"en").slice(0,2)),e};if((xe=x(xe=y(xe,Te))).length>1){var ke=function(e){return f(xe,(function(t){return t.type===e}))},Ae=function(e){var t=ke(e.type);t&&v(e.targets,(function(e){var a=ke(e.type);a&&parseInt(t.formattedValueEn,10)===e.value&&(t.rawValue=0,t.wholeValue=0,t.decimalValue=0,a.rawValue+=1,a.wholeValue+=1,a.decimalValue=0,a.formattedValueEn=a.wholeValue.toString(),Ee=!0)}))};v(r,Ae)}return Ee&&(Me=!1,X=K,xe=x(xe=y(xe,Te))),!R||ee&&!n.trim?(he&&(xe=M(xe,(function(e){return!e.isSmallest&&!e.wholeValue&&!f(N,e.type)}))),H&&xe.length&&(xe=xe.slice(0,H)),ge&&xe.length>1&&(xe=E(xe,(function(e){return!e.wholeValue&&!f(N,e.type)&&!e.isLargest}))),me&&(xe=x(xe=y(xe,(function(e,t){return t>0&&t<xe.length-1&&!e.wholeValue?null:e})))),!fe||1!==xe.length||xe[0].wholeValue||!j&&xe[0].isSmallest&&xe[0].rawValue<q||(xe=[])):xe=x(xe=y(xe,(function(e){return f(R,(function(t){return e.type===t}))?e:null}))),B?xe:(v(be,(function(e){var t=D[e.type],a=f(xe,(function(t){return t.type===e.type}));if(t&&a){var i=a.formattedValueEn.split(".");i[0]=parseInt(i[0],10),i[1]?i[1]=parseFloat("0."+i[1],10):i[1]=null;var n=_.durationPluralKey(t,i[0],i[1]),o=d(t,_),r=!1,l={};v(_._durationLabelTypes,(function(t){var a=f(o,(function(e){return e.type===t.type&&e.key===n}));a&&(l[a.type]=a.label,s(e.text,t.string)&&(e.text=e.text.replace(t.string,a.label),r=!0))})),Y&&!r&&(o.sort(p),v(o,(function(t){return l[t.type]===t.label?!s(e.text,t.label)&&void 0:s(e.text,t.label)?(e.text=e.text.replace(t.label,l[t.type]),!1):void 0})))}})),(be=y(be,(function(e){if(!e.type)return e.text;var t=f(xe,(function(t){return t.type===e.type}));if(!t)return"";var a="";return G&&(a+=e.text),(w&&ee||!w&&Z)&&(a+="< ",ee=!1,Z=!1),(w&&Z||!w&&ee)&&(a+="> ",ee=!1,Z=!1),w&&(t.value>0||""===oe||f(N,t.type)||f(R,t.type))&&(a+="-",w=!1),"milliseconds"===e.type&&t.formattedValueMS?a+=t.formattedValueMS:a+=t.formattedValue,G||(a+=e.text),a}))).join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,""))}function O(){var e=this.duration,t=function(t){return e._data[t]},a=f(this.types,t),i=function(e,t){for(var a=e.length;a-=1;)if(t(e[a]))return e[a]}(this.types,t);switch(a){case"milliseconds":return"S __";case"seconds":case"minutes":return"*_MS_";case"hours":return"_HMS_";case"days":if(a===i)return"d __";case"weeks":return a===i?"w __":(null===this.trim&&(this.trim="both"),"w __, d __, h __");case"months":if(a===i)return"M __";case"years":return a===i?"y __":(null===this.trim&&(this.trim="both"),"y __, M __, d __");default:return null===this.trim&&(this.trim="both"),"y __, d __, h __, m __, s __"}}function F(e){if(!e)throw"Moment Duration Format init cannot find moment instance.";e.duration.format=D,e.duration.fn.format=L,e.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:!1,forceLength:null,userLocale:null,usePlural:!0,useLeftUnits:!1,useGrouping:!0,useSignificantDigits:!1,template:O,useToLocaleString:!0,groupingSeparator:",",decimalSeparator:".",grouping:[3]},e.updateLocale("en",h)}var V=function(e,t,a){return e.toLocaleString(t,a)};t=function(){try{(0).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1}()&&P(V),a=t&&I(V);var R=function(e,t,a){if("undefined"!=typeof window&&window&&window.Intl&&window.Intl.NumberFormat)return window.Intl.NumberFormat(t,a).format(e)};return i=P(R),n=i&&I(R),F(e),F},n=[a(381)],void 0===(o="function"==typeof(i=s)?i.apply(t,n):i)||(e.exports=o),r&&(r.momentDurationFormatSetup=r.moment?s(r.moment):s)},764:(e,t,a)=>{"use strict";var i=function(){if(!navigator)return"Unknown";var e,t=navigator.appVersion,a=navigator.userAgent,i="Unknown",n=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 10",r:/(Windows NT 10.0)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var o in n){var r=n[o];if(r.r.test(a)){i=r.s;break}}var s="Unknown";switch(/Windows/.test(i)&&(s=(e=/Windows (.*)/.exec(i="Windows"))?e[1]:""),e=null,i){case"Mac OS X":s=(e=/Mac OS X ([\.\_\d]+)/.exec(a))?e[1]:"";break;case"Android":s=(e=/Android ([\.\_\d]+)/.exec(a))?e[1]:"";break;case"iOS":s=(e=/OS (\d+)_(\d+)_?(\d+)?/.exec(t))?e[1]+"."+e[2]+"."+(0|e[3]):""}return i+" "+s},n=a(6486);void 0===mstrmojo.plugins.VitaraCharts.v533169&&(mstrmojo.plugins.VitaraCharts.v533169={}),void 0===mstrmojo.plugins.VitaraCharts.v533169.helper&&(mstrmojo.plugins.VitaraCharts.v533169.helper={}),void 0===String.prototype.encodeHTML&&(String.prototype.encodeHTML=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}),void 0===String.prototype.decodeHTML&&(String.prototype.decodeHTML=function(){return this.replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")}),window.mobilecheck=function(){return mstrConfig&&mstrConfig.onMobileDevice},window.vitaraChartsPath=function(){return mstrAppPath()+"plugins/VitaraCharts/"},window.isMSTRLibrary=function(){return!!mstrmojo.plugins.isVitaraLibrary},window.vitaraBackgroundImagePath=function(){return vitaraChartsPath()+"custom/images/"},window.vitaraChartsExportServerPath=function(){var e="";return document.styleSheets&&(n.each(document.styleSheets,(function(t){if(t&&t.href&&-1!==t.href.indexOf("VitaraCharts"))return e=t.href.slice(0,t.href.indexOf("VitaraCharts")+13),!1})),e)?e:vitaraChartsPath().replace("../plugins/",mstrConfig.taskURL+"/../../plugins/")},window.isMSTRAspxServer=function(){return useMobileServerURL()&&"function"==typeof isMSTRAspxMobileServer?isMSTRAspxMobileServer():mstrConfig.taskURL&&-1!=mstrConfig.taskURL.search("aspx")},window.vitaraChartsJSPath=function(){return vitaraChartsPath()+"javascript/mojo/js/source/"},window.isMSTRv102=function(){return mstrApp&&mstrApp.helpUrl&&mstrApp.helpUrl.indexOf("10.2")>0},window.isMSTRAndroidApp=function(){return-1!==i().indexOf("Android")},window.isMSTRIOSApp=function(){return isMSTRMobile()&&!isMSTRAndroidApp()},window.isMSTRMobile=function(){return-1!==i().indexOf("Android")||mobilecheck()},window.isMSTRDesktop=function(){return!(!mstrApp||void 0===mstrApp.isSingleTier)&&mstrApp.isSingleTier},window.isExporting=function(){return!(!mstrApp||void 0===mstrApp.isExporting)&&mstrApp.isExporting},window.getBaseFilePath=function(){return isExporting()?vitaraChartsExportServerPath():vitaraChartsPath()},window.isMSTRStatePresentation=function(){return mstrApp&&"function"==typeof mstrApp.isAppStatePresentation?mstrApp.isAppStatePresentation():!!mstrApp.isExpress&&!!mstrApp.isDossier&&!isMSTRDashBoard()},window.isMstrLibraryEditMode=function(){return isMSTRLibrary()&&!isMSTRStatePresentation()},window.useMobileServerURL=function(){return!!(isMSTRMobile()||isMSTRLibrary()&&(isExporting()||isMSTRDesktop()))&&window.getMobileServerURL&&"function"==typeof window.getMobileServerURL},window.mstrAppPath=function(){if(useMobileServerURL()){var e=getMobileServerURL();return"/"==e[e.length-1]?e:e+"/"}return mstrApp.jsRoot?mstrApp.jsRoot+"../":"../"},window.isMSTRDashBoard=function(){return!!mstrApp.isVI&&mstrApp.isVI},window.logMessage=function(e){console&&console.log(e)},void 0===Element.prototype.getElementsByClassName&&(Element.prototype.getElementsByClassName=function(e){return this.querySelectorAll("."+e)}),window.isMSTRAspxMobileServer=null},6819:(t,a,i)=>{"use strict";i.d(a,{Z:()=>Ot});var n=i(381),o=i.n(n),r=i(3958);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,u(i.key),i)}}function u(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:String(t)}const c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(this.props=t)}var t,a,i;return t=e,(a=[{key:"getStringValue",value:function(e){return"string"==typeof e&&(e=(e=(e=e.trim()).replace(/^"/,"")).replace(/"$/,"")),e}}])&&l(t.prototype,a),i&&l(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();var p={htmlDecode:function(e){try{var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}catch(t){return e}},decodeHTMLString:function(e){if("string"==typeof e){if("function"==typeof e.decodeHTML)try{var t={nbsp:" ",amp:"&",quot:'"',lt:"<",gt:">"};return e=(e=(e=e.decodeHTML()).replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)}))).replace(/&(nbsp|amp|quot|lt|gt);/g,(function(e,a){return t[a]}))}catch(t){return this.htmlDecode(e)}return this.htmlDecode(e)}return e}},d=i(6486);r(o());var h={ENUM_COMPARE_RES:{HIGHER:1,EQUALS:0,LOWER:-1},compareNumbers:function(e,t){return t==e?this.ENUM_COMPARE_RES.EQUALS:t>e?this.ENUM_COMPARE_RES.HIGHER:this.ENUM_COMPARE_RES.LOWER},compareVersions:function(e,t){if(t){if(!e)return this.ENUM_COMPARE_RES.HIGHER;for(var a,i=e.split("."),n=t.split("."),o=0;o<4&&(a=this.compareNumbers(i[o],n[o]))===this.ENUM_COMPARE_RES.EQUALS;o++);return a}},isLowerVersion:function(e,t){return this.compareVersions(e,t)===this.ENUM_COMPARE_RES.LOWER},parseMSTRDurationFormat:function(e){var t;if(e&&"string"==typeof e){t=e,d.each({":MM":":mm","MM:":"mm:",":M":":m","M:":"m:",":SS":":ss","SS:":"ss:",":S":":s","S:":"s:"},(function(e,a){t=t.split(a).join(e)}))}return t||e},validateAndGetMetricDurationFormat:function(e,t,a){var i,n;if(e&&"number"===e.type){if(0===e.maxValue)return!1;n=e.formatOptions&&e.formatOptions.nfs?this.parseMSTRDurationFormat(e.formatOptions.nfs):t}if(!n)return!1;var r=o().duration(e.maxValue,a||"d");return(null==r||null===(i=r.format)||void 0===i?void 0:i.call(r,n,{trim:!1}))===e.formattedValue&&n},isPercent:function(e,t){if(!e)return null;var a=new RegExp("%$");if(t){var i=new RegExp("^[(]"),n=new RegExp("%[)]$");if(null!=(e+"").match(i)&&null!=(e+"").match(n))return!0}return null!=(e+"").match(a)},getCustomProperties:function(){return this.customProperties||(this.customProperties=new c),this.customProperties},getUserCustomProp:function(e){return this.getCustomProperties()[e]},allowUrlsCheck:function(e,t){var a,i=!1,n=this.getUserCustomProp("security.allowURLLinks"),o=void 0===t||""===t?void 0:+t;if(void 0!==o)return 1===Number(o);if(!n)return i;isNaN(Number(n))?i=-1!==d.indexOf(null===(a=n.split)||void 0===a?void 0:a.call(n,","),e):i=1===Number(n);return i},defaultDateFormatsSupported:function(){return["YYYY","MMMYYYY","DDMMYYYY","MMDDYYYY","YYYYMMDD","D-M-YYYY","YYYYMMDD","M-D-YYYY","YYYY-M-D","M/D/YYYY","D/M/YYYY","YYYY/M/D","MMM YYYY","MM/DD/YYYY HH:mm:ss a","M/D/YYYY HH:mm:ss a","M/DD/YYYY h:mm:ss a","YYYY-M-D HH:mm:ss","YYYY-M-D HH:mm","D/M/YYYY HH:mm:s","M/D/YYYY HH:mm:s","YYYYMMDD HH:mm","DDMMYYYY HH:mm","MMDDYYYY HH:mm","YY","MMMYY","DDMMYY","MMDDYY","YYMMDD","D-M-YY","YYMMDD","M-D-YY","YY-M-D","M/D/YY","D/M/YY","YY/M/D","MMM YY","YY-M-D HH:mm:ss","YY-M-D HH:mm","D/M/YY HH:mm:s","M/D/YY HH:mm:s","YYMMDD HH:mm","DDMMYY HH:mm","MMDDYY HH:mm","MMMM","YYYY MMM"]},mstrSupportedDateFormats:function(){return["MM/DD/YY HH:mm","M/DD/YY HH:mm","MM/DD/YY H:mm","M/DD/YY H:mm","MM/D/YY HH:mm","M/D/YY HH:mm","MM/D/YY H:mm","M/D/YY H:mm","MM/DD/YY HH:mm a","M/DD/YY HH:mm a","MM/DD/YY H:mm a","M/DD/YY H:mm a","MM/D/YY HH:mm a","M/D/YY HH:mm a","MM/D/YY H:mm a","M/D/YY H:mm a","MM/DD","M/D","DD-MMM","D-MMM","DD-MMM-YY","D-MMM-YY","MMM-YY","MMM 'YY","MMMM YYYY","MMMM DD, YY","MMMM D, YY","MMMM DD, YYYY","MMMM D, YYYY","MMM DD, YY","MMM D, YY","MMM DD, YYYY","MMM D, YYYY","DD.MM.YY","D.M.YY","DD.M.YY","D.MM.YY","DD.MM.YYYY","D.M.YYYY","DD.M.YYYY","D.MM.YYYY"]},getSupportedDateFormats:function(){return this.defaultDateFormatsSupported().concat(this.mstrSupportedDateFormats())},trimString:function(e){return"string"==typeof e?e.trim():e},validateDate:function(e,t){var a=o()(this.trimString(e),t||this.getSupportedDateFormats(),!0);return!!a.isValid()&&(!a.creationData().format||a.creationData().format)},countCharOfString:function(){String.prototype.count=function(e){return(this.length-this.replace(new RegExp(e,"g"),"").length)/e.length}},getDateReformatArray:function(e){return 2===e.count("Y")?["DM","MY","MD"]:["DM"]},reformatDate:function(e,t){this.countCharOfString();for(var a=this.getDateReformatArray(t),i=0,n="";i<a.length;){var o=a[i];if(1===o.count("Y"))n+=t.reverse();else for(var r=0;r<t.length;r++)t[r]===o[0]?n+=o[1]:t[r]===o[1]?n+=o[0]:n+=t[r];if(this.validateDate(e,n))break;n="",i++}return n||this.validateDate(e)}};h=Object.assign(h,p);var g=i(6486);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=function(e,t){this.data=e.raw,this.treeData=e.tree,this.context=e.visualContext,this.appContext=e.appContext;var a=this.appContext.isEmptyGrid(this.data);this.numAttributes=!0===a?0:this.data.getRowTitles().size(),this.numMetrics=!0===a?0:this.data.getTotalCols(),this.numColumns=this.numAttributes+this.numMetrics,this.scriptClass="dataInterface";var i=t.isAttributeFormColumnMerge;this.setAttributeFormColumnMergeType(i),this.allowMetricDateParser=t.allowMetricDateParser};vitaraJQ.extend(f.prototype,{ENUM_MSTR_TYPE:{ATTRIBUTE:0,METRIC:1},setAttributeFormColumnMergeType:function(e){void 0===e||e?this.isFormAttributeColumnMerge=!0:(this.isFormAttributeColumnMerge=!1,this.createColumnIndexMap(),this.UpdateColumnCount())},createColumnIndexMap:function(){for(var e={},t=0,a=0;a<this.numColumns;a++)if(void 0!==this.data.getRowTitles(a).getTitle(a).title){var i=this.data.getRowTitles(a).getTitle(a).getForms().length;isMSTRMobile()&&(i=1);for(var n=0;n<i;n++)e[t]={OriginalAttributeCount:a,formIndex:n},t+=1}else e[t]={OriginalAttributeCount:a,formIndex:0},t+=1;this.columnIndexMap=e},UpdateColumnCount:function(){if(!isMSTRMobile()){for(var e=0,t=0;t<this.numAttributes;t++)e+=this.data.getRowTitles(t).getTitle(t).getForms().length;this.numAttributes=e,this.numColumns=this.numAttributes+this.numMetrics}},destroy:function(){this.data=null,this.treeData=null,this.context=null},getTitles:function(){for(var e=[],t=0;t<this.numColumns;t++)e.push(this.getTitle(t));return e},getColumnIds:function(){for(var e=[],t=0;t<this.numColumns;t++)e.push(this.getColumnOID(t));return e},getBCColumnIds:function(){for(var e=[],t=0;t<this.numColumns;t++)e.push(this.getColumnID(t));return e},getSelector:function(e){return function(t){for(var a=this.MstrDataSetInfo&&this.MstrDataSetInfo.dataSetId?[this.MstrDataSetInfo.dataSetId]:["root"],i=t?Number(t):this.numAttributes,n=0;n<i;n++)a.push(e[n].id);return this.selMap?this.selMap[a.join(" ")]:null}.bind(this)},computeMetaInfoForDataArray:function(e,t){var a=this,i=[];return g.each(e,(function(e){g.each(e,(function(e,t){void 0!==e.t?a.computeMetaInfo(t,e.t,i):void 0!==e.v&&a.computeMetaInfo(t,e.v,i,e.fv)}))})),e.metaInfo=this.updateMetricMetaInfo(i,t),e},getUpdateObjMetaInfo:function(e,t){var a=t||{type:"string"};return"Total"===e.t&&(a.totalIncluded=!0),a},updateMetricInfo:function(e,t,a){a&&(a.runningSum=(a.runningSum||0)+e,a.runningCount=(a.runningCount||0)+1,a.meanValue=a.runningSum/a.runningCount,(void 0===a.minValue||a.minValue>e)&&(a.minValue=e,e<0&&(a.belowZeroFormat=t)),(void 0===a.maxValue||e>a.maxValue)&&(a.maxValue=e,a.formattedValue=t))},getUpdateNumberMetaInfo:function(e,t,a,i){var n=t||{type:"number"};return void 0===n.type&&(n.type="number"),i||this.updateMetricInfo(e,a,n),n},getUpdateStringMetaInfo:function(e,t,a,i){var n,o=t||{};return a?(o.type||(n=i&&i.dateFormat?this.evalDateFormat(e,i.dateFormat):this.getDateFormat(e)),o.dateFormat&&(n=this.evalDateFormat(e,o.dateFormat)),o.type=n?"date":"string",o.dateFormat=n||void 0,o):g.merge(o,{type:"string",dateFormat:void 0})},getDateFormat:function(e){return h.validateDate(e)},evalDateFormat:function(e,t){return t&&h.validateDate(e,t)?t:h.reformatDate(e,t)},computeMetaInfo:function(e,t,a,i,n){var o=a[e]=a[e]||{};if(""===t||null==t)return"number"===o.type&&""===t&&(o.containsString=!0),o;var r=e<this.numAttributes?this.ENUM_MSTR_TYPE.ATTRIBUTE:this.ENUM_MSTR_TYPE.METRIC,s=m(t);if(r===this.ENUM_MSTR_TYPE.ATTRIBUTE)switch(s){case"string":o=this.getUpdateStringMetaInfo(t,o,!0,n);break;case"object":o=this.getUpdateObjMetaInfo(t,o);break;case"number":o=this.getUpdateNumberMetaInfo(t,o,t,!0)}if(r===this.ENUM_MSTR_TYPE.METRIC)switch(s){case"number":o=this.getUpdateNumberMetaInfo(+t,o,i);break;case"string":o=this.getUpdateStringMetaInfo(t,o,this.allowMetricDateParser,n)}return o},_computeMetaInfo:function(e,t,a,i){var n=a[e]=a[e]||{};n.type?"date"===n.type&&n.dateFormat&&!h.validateDate(t,n.dateFormat)&&t&&isNaN(t)&&(h.reformatDate(t,n.dateFormat)?n.dateFormat=h.reformatDate(t,n.dateFormat):n.type="string"):""!==t&&("string"==typeof t||isNaN(t)?h.validateDate(t)?(n.type="date",n.dateFormat=h.validateDate(t)):n.type="string":n.type="number"),"string"===n.type&&t&&"object"===m(t)&&"Total"===t.t&&(n.totalIncluded=!0),"number"===n.type&&(""!==t&&(n.runningSum=(n.runningSum||0)+t,n.runningCount=(n.runningCount||0)+1,n.meanValue=n.runningSum/n.runningCount),t=+t,(void 0===n.minValue||n.minValue>t)&&(n.minValue=t,t<0&&(n.belowZeroFormat=i)),(void 0===n.maxValue||t>n.maxValue)&&(n.maxValue=t,n.formattedValue=i))},isAndroidFixReq:function(){return!(!(isMSTRAndroidApp()&&!this.numAttributes>0)||isMSTRDashBoard())&&!this.getMetricRawValue(0,0)},parseMetricData:function(e,t){for(var a=this.numAttributes;a<this.numColumns;a++)if(t[a]&&(!t[a]||"string"===t[a].type||t[a].containsString)){t[a]={type:"number",actualType:"string"};for(var i=0;i<e.length;i++){var n=null===e[i][a].v||"string"==typeof e[i][a].v&&""===e[i][a].v.trim();e[i][a].v=Number(e[i][a].v),n||isNaN(e[i][a].v)?(e[i][a].v=null,e[i][a].fv=this.sanitizeContent(e[i][a].fv)):this.updateMetricInfo(e[i][a].v,e[i][a].fv,t[a])}}return e},getDataAsArray:function(){for(var e=[],t=[],a={},i=0;i<this.getNumRows();i++){var n,o=[],r=!1,s="",l=this.isAndroidFixReq()?1:0;e.push(o);for(var u=0+l;u<this.numColumns+l;u++){var c,p=null;if(u<this.numAttributes)p={},this.isFormAttributeColumnMerge&&(c=this.getAttributeFormObject(i,u))&&(p.forms=c),p.t=this.getHeaderForFormAttribute(u,i,c,r),r||"Total"===p.t?r=!0:(s+=""===s?p.t:","+p.t,this.computeMetaInfo(u,p.t,t));else p={v:this.getMetricRawValue(u,i),fv:this.getFormattedMetricValue(u,i)},r||this.computeMetaInfo(u-l,p.v,t,p.fv);p.row=o,p.selector=this.getSelector(o),o.push(p)}r?(n={rawIndex:i,isTotal:!0,path:s},a[s]=e.pop()):n={rowIndex:e.length-1,rawIndex:i,data:e,isFirst:1==e.length,isLast:i==this.getNumRows()-1},o.push(n)}e=this.parseMetricData(e,t);for(var d=this.numAttributes;d<this.numColumns;d++)t[d]&&(t[d].formatOptions=this.getMetricFormattingOptions(d));if(t=this.setPercentageFormatToMetaInfo(t),this.getNumRows()!==e.length&&(t.totals=a),e.metaInfo=t,!e.length){var h=new Error;throw h.name="message",h.message="No data returned.",h}return e},getIDlocaleNameMap:function(e){var t={};return e.gsi&&(e.gsi.mx&&g.each(e.gsi.mx,(function(e){t[e.did]=e.n})),e.gsi.rows&&g.each(e.gsi.rows,(function(e){t[e.did]=e.n}))),t},getlocaleNameIDMap:function(e){var t={};return e.gsi&&(e.gsi.mx&&g.each(e.gsi.mx,(function(e){t[e.n]=e.did})),e.gsi.rows&&g.each(e.gsi.rows,(function(e){t[e.n]=e.did}))),t},isPercentageMetric:function(e){if(console.log("identifying percentage format using metric type in MSTR options"),e<this.numAttributes)return!1;var t=this.getMetricFormattingOptions(e);return!(!t||4!==t.nct)},setPercentageFormatToMetaInfo:function(e){for(var t=this.numAttributes;t<this.numColumns;t++)if(e[t])if(e[t].formattedValue)h.isPercent(e[t].formattedValue,e[t].maxValue<0)&&(e[t].isPercentageData=!0);else if(e[t].belowZeroFormat)h.isPercent(e[t].belowZeroFormat,!0)&&(e[t].isPercentageData=!0);else{console.log("identifying percentage format using format string in MSTR options");var a=this.getFormatStringFromMSTRFormatOptions(t);a&&(h.isPercent(a)||h.isPercent(a,!0))&&(e[t].isPercentageData=!0)}return e},getFormatStringFromMSTRFormatOptions:function(e){var t=this.getMetricFormattingOptions(e);if(t){var a=t.nfs;if(a&&-1!==a.indexOf(";")){var i=a.split(";");if(i&&i.length>0)return i[0]}return a}},debugInfoHTML:function(){return"numAttributes : "+this.numAttributes+"<br>numMetrics : "+this.numMetrics},getTreeData:function(){if(!this.treeData)try{!this.appContext.isEmptyGrid(this.data)&&this.data.getRowTitles().size()>0&&(this.treeData=this.data.getRawData(mstrmojo.models.template.DataInterface.ENUM_RAW_DATA_FORMAT.TREE,{hasSelection:!0}))}catch(e){console.error("error processing MSTR tree data "+e)}return this.treeData},getContainerKey:function(){return this.data&&this.data.data?this.data.data.k:""},getNumColumns:function(){return this.numColumns},getNumAttributes:function(){return this.numAttributes},getNumMetrics:function(){return this.numMetrics},getTooltipMetrics:function(){var e=[];return this.zonesModel&&this.zonesModel.getDropZoneObjectsByName&&(e=this.zonesModel.getDropZoneObjectsByName("Tooltip Metrics"),g.forEach(this.getTemplateUnits(),(function(t,a){g.forEach(e,(function(e){if(e.id===t.oid)return e.metricIndex=a,!1}))}))),e},getTemplateUnits:function(){return this.tuCache||(this.tuCache=[],this.tuCache=g.concat(this.data.getRowTitles().titles,this.data.getColTitles().titles&&this.data.getColTitles().titles.length>0?this.data.getColTitles().titles[0].es:[])),this.tuCache},getTemplateUnit:function(e){return e<this.numColumns?this.getTemplateUnits()[e]:null},getTitle:function(e){if(this.isFormAttributeColumnMerge){if(this.getTemplateUnit(e))return h.decodeHTMLString(this.getTemplateUnit(e).n)}else if(this.columnIndexMap[e]){var t=this.columnIndexMap[e].OriginalAttributeCount,a=this.columnIndexMap[e].formIndex,i=this.getTemplateUnit(t);if(i)return void 0===i.fs||1==i.fs.length?h.decodeHTMLString(i.n):isMSTRMobile()||isMSTRDashBoard()?h.decodeHTMLString(i.fs[a].n):h.decodeHTMLString(i.n+" "+i.fs[a].n)}else if(this.getTemplateUnit(e))return h.decodeHTMLString(this.getTemplateUnit(e).n);return null},getColumnOID:function(e){var t=this.getTemplateUnit(e);return t?t.oid||t.id:null},getColumnID:function(e){var t=this.getTemplateUnit(e);return t?t.id:null},getMetricFormattingOptions:function(e){if(this.data.data.nf){var t=this.getColumnID(e);if(!t)return null;for(var a=-1,i=0;i<this.data.data.nf.length;i++)if(this.data.data.nf[i]&&-1!==t.indexOf(this.data.data.nf[i].id)){a=i;break}return-1!==a?this.data.data.nf[a]:null}return null},getMetricFormattingOptionsDocument:function(e){if(this.data.data.gsi.mx){var t=this.getColumnID(e);if(!t)return null;for(var a=-1,i=0;i<this.data.data.gsi.mx.length;i++)if(this.data.data.gsi.mx[i]&&-1!==t.indexOf(this.data.data.gsi.mx[i].did)){a=i;break}return-1!==a?(this.data.data.gsi.mx[a].id=this.data.data.gsi.mx[a].did,this.data.data.gsi.mx[a]):null}return null},getAttributeHeaders:function(e){for(var t=[],a=0;a<this.getNumAttributes();a++)t.push(this.getHeaderForFormAttribute(a,e));return t},getRowHeaders:function(e){return this.data.getRowHeaders(e)},getAttributeGroupsForTitle:function(e,t){for(var a,i,n=null,o=1,r=function(e){return e&&e.h?e.h.tui:null},s=function(e){return e&&e.t?e.t.n:null},l=e;l<this.getRowHeaders(t).size();l++){if(n){if(a=this.getRowHeaders(t).getHeader(l),i=n,!(r(a)&&r(a)===r(i)||s(a)&&s(a)===s(i)))break;o++}n=this.getRowHeaders(t).getHeader(l)}return o},getAttributeForms:function(e,t){if(21===this.data.getRowTitles(e).getTitle(t).getFormType())return this.data.getRowTitles(e).getTitle(t).getForms();var a=this.data.getRowTitles(e).getTitle(t).getForms();if(a&&a.length>0){var i={};return a[0]&&g.each(a[0],(function(e,t){i[t]=e})),i.n=this.getColumnTitle(e,t),[i]}return[{n:this.getColumnTitle(e,t)}]},getColumnTitle:function(e,t){return this.data.getRowTitles(e).getTitle(t).getName()},getAttributeFormOffsets:function(){if(this.attributeFormOffsets||(this.attributeFormOffsets=[]),void 0===this.attributeFormOffsets[0])for(var e=0;e<this.numAttributes;e++){var t=this.getAttributeForms(0,e).length;isMSTRMobile()&&(t=1),this.attributeFormOffsets[e]=t}return this.attributeFormOffsets},getAttributeFormObject:function(e,t){var a=0,i=this.getAttributeForms(e,t),n={},o=this.getColumnTitle(e,t);if("Total"===this.getHeaderName(e,0))a=t,i.length=1;else{for(var r=this.getAttributeFormOffsets(),s=0;s<t;s++)a+=r[s];i&&0!=i.length||(a+=r[t]-1),isMSTRMobile()&&(i.length=1)}for(var l=0;l<i.length;l++){n[i[l].n.replace(o,"").trim()]={t:this.getHeaderName(e,a+l),id:void 0===i[l].bfid?l:i[l].bfid}}return n},parseStringValue:function(e){return isMSTRDashBoard()||isMSTRMobile()||isMSTRDesktop()?e:h.decodeHTMLString(e)},getHeaderName:function(e,t){return this.sanitizeContent(this.parseStringValue(this.getRowHeaders(e).getHeader(t).getName()))},getHeaderForFormAttribute:function(e,t,a,i){if(this.isFormAttributeColumnMerge){var n="";return a||(a=this.getAttributeFormObject(t,e)),g.each(a,(function(e,t){n+=" "+e.t})),n.trim()}return i||"Total"===this.getHeaderName(t,0)?this.AttributeColumnIndexMap&&this.AttributeColumnIndexMap[e]&&e===this.AttributeColumnIndexMap[e].OriginalAttributeCount?this.getHeaderName(t,e):"":this.getHeaderName(t,e)},getBftp:function(e,t){return this.data.getRowTitles(t).getTitle(e).getForms()[0].bftp},getMetricRawValue:function(e,t,a){var i=this.numAttributes,n=this.data.getMetricValue(t,e-i);return n?a?this.parseStringValue(n.getValue()):n.getRawValue():""},getMetricValue:function(e,t,a){var i=this.numAttributes,n=this.data.getMetricValue(t,e-i),o=this.parseMetricRawValue(n.getRawValue());return n?a?this.parseStringValue(n.getValue()):o:""},getFormattedMetricValue:function(e,t){return this.getMetricValue(e,t,!0)},getNumRows:function(){return this.data.getTotalRows()||1},getRowData:function(e){var t=[],a=this.getNumRows();if(e<this.numAttributes)for(var i=0;i<a;i++)t.push(this.data.getRowHeaders(i).getHeader(e).getName());else for(i=0;i<a;i++)t.push(this.getMetricValue(e,i));return t},getRows:function(){return this.data},parseMetricRawValue:function(e){return null===e||isNaN(e)?null:parseFloat(e)},hcMetricObjectAt:function(e,t,a){var i=a["m"+(e+1)];return{formattedValue:i.value,y:this.parseMetricRawValue(i.rawValue),rowIndex:t,name:i.title}},hcAttributeObjectAt:function(e,t,a){var i=a["a"+(e+1)];return i.rowIndex=t,i},formHCTooltipHelperFunction:function(){if(!this.compiledTooltipTemplate){var e=[],t=this.getTooltipMetrics();t&&t.length>0?(e=g.range(this.numAttributes),g.map(t,(function(t){e.push(t.metricIndex)}))):e=g.range(this.numColumns);var a=[];g.forEach(e,(function(e){var t="e"+(e+1)+".title",i="e"+(e+1)+".value";a.push('<span class="vit-tooltip-row">'),a.push("{"+t+"} : <b>{"+i+"}</b>"),a.push("</span>"),a.push("<br/>")})),this.compiledTooltipTemplate=g.template('<span class="vitara">'+a.join("")+"</span>")}var i=this;return function(){try{return i.compiledTooltipTemplate(i.formRowDataMap(this.point.rowIndex))}catch(e){console.error(e)}}},formRowDataMap:function(e){for(var t={},a=0;a<this.numColumns;a++){var i={title:this.getTitle(a)};a<this.numAttributes?(i.value=this.getHeaderForFormAttribute(a,e),i.isMetric=!1,t["e"+(a+1)]=t["a"+(a+1)]=i,t[i.title]=i.value,t[i.title.toLowerCase()]=i.value):(i.value=this.getFormattedMetricValue(a,e),i.isMetric=!0,i.rawValue=this.getMetricValue(a,e),t["e"+(a+1)]=t["m"+(a-this.numAttributes+1)]=i,t[i.title]=i.value,t[i.title.toLowerCase()]=i.value)}return t},iterateRows:function(e){for(var t=this.getNumRows(),a=0;a<t;a++)e.call(this,a,this.formRowDataMap(a))}});var v=i(6486),y=function(e){this.context=e};vitaraJQ.extend(y.prototype,{sanitizeContent:function(e){return this.context&&this.context.parseColumnTitle?this.context.parseColumnTitle(e):e},getGTSRowMap:function(e){var t=this,a={};return v.each(e,(function(e){a[t.sanitizeContent(e.n)]=e.id+(e.fid?";"+e.fid:"")})),a},getMstrColumnInfo:function(e){var t=this,a=[],i=[];if(!e||!e.gsi)return{};var n=this.getGTSRowMap(e.gts.row);return a=v.values(n),i=v.keys(n),v.each(e.gsi.mx,(function(e){a.push(e.did),i.push(t.sanitizeContent(e.n))})),{identifiers:a,titles:i}},getColumnIdMap:function(e){var t=this,a={};return e&&e.gsi?(e.gsi.mx&&v.each(e.gsi.mx,(function(e){a[e.did]=t.sanitizeContent(e.n)})),e.gsi.rows&&v.each(e.gsi.rows,(function(e){a[e.did]=t.sanitizeContent(e.n)})),a):a},getRowColumnIdMap:function(e){return this.rowColumnIdMap&&void 0===e||(this.rowColumnIdMap=this.getCreateRowColumnIdMap(e)),this.rowColumnIdMap},getCreateRowColumnIdMap:function(e){return{columns:this.getColumnIdMap(e)}},getCreateMstrDataSetInfo:function(e){var t=this.getMstrColumnInfo(e);return{dataSetId:e.datasetId,columns:t.identifiers,columnTitles:t.titles}}});const b=y;function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,C(i.key),i)}}function C(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=x(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:String(t)}var M=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(t.whiteList&&(t.whiteList=vitaraJQ.extend(this.getXSS().getDefaultWhiteList(),t.whiteList)),this.setFilters(t)),this.initEncoder()}var t,a,n;return t=e,(a=[{key:"initEncoder",value:function(){return this.getFilters()?this.Encoder=new(this.getXSS().FilterXSS)(this.getFilters()):this.Encoder=this.getXSS(),this.refresh=!1,this.Encoder}},{key:"getXSS",value:function(){return this.XSS||(this.XSS=i(8924)),this.XSS}},{key:"setXSS",value:function(e){this.XSS=e}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){e&&(this.filters=e,this.refresh=!0)}},{key:"getEncoder",value:function(){return this.Encoder&&!this.refresh||(this.Encoder=this.initEncoder()),this.Encoder.process?this.Encoder.process.bind(this.Encoder):this.Encoder}},{key:"encode",value:function(e){try{e=this.getEncoder()(e)}catch(t){console.warn("failed while trying to encode - "+e)}return e}}])&&S(t.prototype,a),n&&S(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,k(i.key),i)}}function k(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=E(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E(t)?t:String(t)}const A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props={allowUrls:t.allowUrls},this.ANTI_XSS_FILTERS={STRICT:{whiteList:{a:["title"]}},DEFAULT:void 0}}var t,a,i;return t=e,(a=[{key:"getAntiXSSFilter",value:function(){return this.props.allowUrls?this.ANTI_XSS_FILTERS.DEFAULT:this.ANTI_XSS_FILTERS.STRICT}},{key:"getAntiXSSEncoder",value:function(){return this.AntiXSSEncoder||(this.AntiXSSEncoder=new M(this.getAntiXSSFilter())),this.AntiXSSEncoder}},{key:"sanitizeContent",value:function(e){return this.getAntiXSSEncoder().encode(e)}},{key:"decodeHTML",value:function(e){return p.decodeHTMLString(e)}},{key:"decodeDataCheck",value:function(){return!(isMSTRDashBoard()||isMSTRMobile()||isMSTRDesktop())}},{key:"isOfTagName",value:function(e,t){var a=!1;try{a=vitaraJQ(this.decodeHTML(e)).is(t)}catch(e){}return a}},{key:"getAsSecureLink",value:function(e){var t;return this.isOfTagName(e,"a")&&(null===(t=vitaraJQ(this.decodeHTML(e)))||void 0===t||null===(t=t.attr("rel","noopener noreferrer")[0])||void 0===t?void 0:t.outerHTML)||e}},{key:"parseMSTRText",value:function(e,t){return t&&(e=this.getAsSecureLink(e)),this.sanitizeContent(this.parseStringValue(e))}},{key:"parseStringValue",value:function(e){var t="";try{t=e.replace(/\s/g,"").length?e.trim():e}catch(a){t=e}return this.decodeDataCheck()?this.decodeHTML(t):t}}])&&T(t.prototype,a),i&&T(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();var w=i(6486),I=function(e,t){this.context=e.visualContext,this.appContext=e.appContext,this.rowData=e.rowData,this.selMap={},this.attributeFormInfoObject=null,this.columnIndexMap=null,this.colTitleParser=t&&t.colTitleParser?t.colTitleParser:null,this.columnIdMap=this.getRowColumnIdMap(e.raw&&e.raw.data,!0),this.MstrDataSetInfo=this.getMstrDataSetInfo(e.raw&&e.raw.data,!0),this.parseAttributeAsNumber=(null==t?void 0:t.parseAttributeAsNumber)||!1,f.call(this,e,t)};vitaraJQ.extend(I.prototype,f.prototype,{ENUM_MSTR_KEY:{ATTRIBUTE_VALUE:"name",ATTRIBUTE_TITLE:"tname",ATTRIBUTE_SELECTOR:"attributeSelector",METRIC_VALUE:"rv",METRIC_FORMATTED_VALUE:"v"},ENUM_ROW_PROP_KEY:{ATTRIBUTE:"headers",METRIC:"values"},MSTR_DATA_INFO_STATE_KEY:"mstrDataInfo",MSTR_LAST_DATA_INFO_STATE_KEY:"mstrLastDataInfo",MSTR_ID_SEPERATOR:";",ATTR_FORM_SEPERATOR:" ",destroy:function(){this.selMap=null,this.rowData=null,this.mstrDataSanitizer=void 0,f.prototype.destroy.call(this)},getAttributeValue:function(e,t,a){if(!this.rowData)return this.getHeaderName(e,t,this.isLinkAttribute(e,a));if(this.rowData[e][this.ENUM_ROW_PROP_KEY.ATTRIBUTE][t]){var i=this.rowData[e][this.ENUM_ROW_PROP_KEY.ATTRIBUTE][t][this.ENUM_MSTR_KEY.ATTRIBUTE_VALUE];return this.parseAttributeAsNumber&&this.isNumericAttribute(e,a,this.getColumnFormIndex(t))?this.getAttrNumericVal(i):this.parseMSTRText(""+i,this.isLinkAttribute(e,a))}return""},getAttrNumericVal:function(e){var t;return e&&null!==(t=e.trim)&&void 0!==t&&t.call(e)&&!isNaN(e)?+e:e},getAttributeElementId:function(e,t){return this.rowData&&this.rowData[e]&&this.rowData[e][this.ENUM_ROW_PROP_KEY.ATTRIBUTE][t]&&this.rowData[e][this.ENUM_ROW_PROP_KEY.ATTRIBUTE][t][this.ENUM_MSTR_KEY.ATTRIBUTE_SELECTOR]?this.rowData[e][this.ENUM_ROW_PROP_KEY.ATTRIBUTE][t][this.ENUM_MSTR_KEY.ATTRIBUTE_SELECTOR].eid:this.getHeaderElementId(e,t)},getAttributeSelector:function(e,t){return this.rowData&&this.rowData[e][this.ENUM_ROW_PROP_KEY.ATTRIBUTE][t]?w.extend({},this.rowData[e][this.ENUM_ROW_PROP_KEY.ATTRIBUTE][t][this.ENUM_MSTR_KEY.ATTRIBUTE_SELECTOR]):null},getAttributeTitle:function(e,t,a){return this.rowData?this.rowData[e][this.ENUM_ROW_PROP_KEY.ATTRIBUTE][t]?this.rowData[e][this.ENUM_ROW_PROP_KEY.ATTRIBUTE][t][this.ENUM_MSTR_KEY.ATTRIBUTE_TITLE]:null:this.getColumnTitle(e,a)},getMetricProperty:function(e,t,a){var i=this.numAttributes;if(!this.rowData){var n=this.data.getMetricValue(e,t-i);return n?a===this.ENUM_MSTR_KEY.METRIC_FORMATTED_VALUE?n.getValue():n.getRawValue():""}return this.rowData[e][this.ENUM_ROW_PROP_KEY.METRIC][t-i]?this.rowData[e][this.ENUM_ROW_PROP_KEY.METRIC][t-i][a]:null},getMetricRawValue:function(e,t){return this.getMetricProperty(e,t,this.ENUM_MSTR_KEY.METRIC_VALUE)},getFormattedMetricValue:function(e,t){return this.parseStringValue(this.getMetricProperty(e,t,this.ENUM_MSTR_KEY.METRIC_FORMATTED_VALUE)||"")},linkAttributeCheck:function(e){return 5===e||7===e},isLinkAttribute:function(e,t){var a=this.getAttributeForms(e,t);return!(!a||!a[0])&&this.linkAttributeCheck(a[0].bftp)},isNumericAttribute:function(e,t,a){var i=this.getAttributeForms(e,t);return!(!i||!i[a])&&2===i[a].bftp},getAttributeTitles:function(){return this.getTitles().slice(0,this.getNumAttributes())},getMetricTitles:function(){var e=this.getTitles(),t=this.getNumAttributes();return e.slice(t,e.length)},isAttribute:function(e){return-1!==w.findIndex(this.getAttributeTitles(),(function(t){return t===e}))},isMetric:function(e){return-1!==w.findIndex(this.getMetricTitles(),(function(t){return t===e}))},getDataRows:function(){if(!this.rowData)try{!this.appContext.isEmptyGrid(this.data)&&this.data.getRowTitles().size()>0&&(this.rowData=this.data.getRawData(mstrmojo.models.template.DataInterface.ENUM_RAW_DATA_FORMAT.ROWS_ADV,{hasSelection:!0,hasTitleName:!0}))}catch(e){console.error("error processing MSTR row data "+e)}return this.rowData},parseColumnTitle:function(e){return this.colTitleParser?this.colTitleParser(this.parseMSTRText(e)):this.parseMSTRText(e)},sanitizeContent:function(e){return this.getDataSanitizer().sanitizeContent(e)},parseMSTRText:function(e,t){return this.getDataSanitizer().parseMSTRText(e,t)},parseStringValue:function(e){return this.getDataSanitizer().parseStringValue(e)},addSelector:function(e,t){this.selMap[e]||(this.selMap[e]=t)},appendSelector:function(e,t,a){var i=e+" "+t;this.selMap[e]?this.addSelector(i,w.extend({},this.selMap[e],a)):this.addSelector(i,a)},formAttributeSelector:function(e,t){var a={},i=this.getAttributeSelector(e,t);return a[i.tid]=[i],a[i.tid][0].id=i.eid,a},mergeAttributeSelector:function(e){if(!e||0===e.length)return e;for(var t={},a=w.extend({},e[0]),i=1;i<e.length;i++)a.eid===e[i].eid&&(a.n+=" "+e[i].n);return t[a.tid]=[a],t[a.tid][0].id=a.eid,t},createAttributeNamePath:function(e,t){var a=this.getAttributeHeaders(e,t);return a&&a.length>0?(a.unshift("root"),a):["root"]},getAttrHeadersWithMergedForms:function(e,t){for(var a=0,i=[],n=0;n<t;n++){for(var o=this.getAttributeForms(e,n).length,r=[],s=0;s<o;s++)this.isValidAttributeForm(e,n,a)&&(r.push(this.getAttributeValue(e,a,n)),a++);var l=this.getAttrColHeadersInfo(e,n,a);l&&(i=r.concat(l.headers),a=l.attrIndex),i.push(r.join(" "))}return i},getAttrHeaders:function(e,t){for(var a=0,i=[],n=0;n<t;n++){var o=this.getOriginalColumnIndex(n);this.isValidAttributeForm(e,o,a)?(i.push(this.getAttributeValue(e,a,o)),a++):i.push("");var r=this.getAttrColHeadersInfo(e,n,a);r&&(i=i.concat(r.headers),a=r.attrIndex)}return i},getAttrColHeadersInfo:function(e,t,a,i){if(!this.rowData)return null;var n=this.getNumRowHeaders(e);if(n>this.numAttributes){for(var o=[],r=[],s=null,l=this.getOriginalColumnIndex(t);this.isValidAttributeForm(e,l,a)&&a<n;){if(o.push(this.getAttributeValue(e,a,l)),i){var u=this.getAttributeSelector(e,a);u&&(s&&s[u.tid]?s[u.tid][0].n+=" "+u.n:s=w.extend(s||{},this.formAttributeSelector(e,a)),r.push(s))}a++}return{headers:o,selectors:r,attrIndex:a}}return null},getAttributeHeaders:function(e,t){return void 0===t&&(t=this.getNumAttributes()),this.isFormAttributeColumnMerge?this.getAttrHeadersWithMergedForms(e,t):this.getAttrHeaders(e,t)},concatAttrValue:function(e,t){return e?e+this.ATTR_FORM_SEPERATOR+t:t},getAttributeFormInfo:function(e,t,a){for(var i=this.getAttributeTitle(e,a,t),n=this.getAttributeForms(e,t),o={},r="",s=this.getAttributeElementId(e,a),l=null,u=[],c=0;c<n.length;c++){var p,d,g;if(this.isValidAttributeForm(e,t,a)){n[c]?(d=n[c].n.replace(i,""),g=void 0===n[c].bfid?c:n[c].bfid):(d=n[c].n.replace(i,""),g=c),p=this.getAttributeValue(e,a,t),s=this.getAttributeElementId(e,a);var m,f=this.getAttributeSelector(e,a);if(f&&(l&&l[f.tid]?l[f.tid][0].n+=" "+f.n:l=w.extend(l||{},this.formAttributeSelector(e,a)),u.push({t:p,sel:l})),"Total"!==r)!h.isLowerVersion("5.1.1.005",null===(m=this.context)||void 0===m||null===(m=m.vizProps)||void 0===m?void 0:m.version)&&this.linkAttributeCheck(n[c].bftp)&&1!=n.length||(r=this.concatAttrValue(r,p));a++}else p="",d=n[c].n.replace(i,""),g=c;o[d.trim()]={t:p,id:g,eid:s,bftp:n[c].bftp}}return{forms:o,attrValue:r,attrElemId:s,selectors:u,attrIndex:a}},isValidAttributeForm:function(e,t,a){return this.getAttributeTitle(e,a,t)===this.getColumnTitle(e,t)},getOriginalColumnIndex:function(e){return this.columnIndexMap&&this.columnIndexMap[e]?this.columnIndexMap[e].originalColumnIndex:e},getColumnFormIndex:function(e){return this.columnIndexMap&&this.columnIndexMap[e]?this.columnIndexMap[e].formIndex:e},createAttributeFormInfoObject:function(){this.attributeFormInfoObject={};for(var e=0;e<this.numAttributes;e++){var t=this.getAttributeForms(0,e),a=this.getColumnTitle(0,e);this.attributeFormInfoObject[e]={numForms:t.length,forms:{}};for(var i=0;i<t.length;i++){var n=t[i].n.replace(a,"");this.attributeFormInfoObject[e].forms[n.trim()]={id:void 0===t[i].bfid?i:t[i].bfid,fid:t[i].id}}}},getColAttributeForms:function(e){return this.attributeFormInfoObject&&this.attributeFormInfoObject[e]?this.attributeFormInfoObject[e].forms:{}},getMetricColForIdMap:function(e){return e.gsi&&e.gsi.mx||e.gts&&e.gts.col&&e.gts.col[0]&&e.gts.col[0].es},getAttributeColForIdMap:function(e){return e.gsi&&e.gsi.rows||e.gts&&e.gts.row},getIDlocaleNameMap:function(e){var t={},a=this,i=this.getMetricColForIdMap(e),n=this.getAttributeColForIdMap(e);return w.each(i,(function(e){t[e.did||e.oid]=a.parseColumnTitle(e.n)})),w.each(n,(function(e){t[e.did||e.oid]=a.parseColumnTitle(e.n)})),t},getlocaleNameIDMap:function(e){var t={},a=this,i=this.getMetricColForIdMap(e),n=this.getAttributeColForIdMap(e);return w.each(i,(function(e){t[a.parseColumnTitle(e.n)]=e.did||e.oid})),w.each(n,(function(e){t[a.parseColumnTitle(e.n)]=e.did||e.oid})),t},setAttributeFormColumnMergeType:function(e){void 0===e||e?(this.isFormAttributeColumnMerge=!0,this.createAttributeFormInfoObject()):(this.isFormAttributeColumnMerge=!1,this.createColumnIndexMap(),this.updateColumnCount())},createColumnIndexMap:function(){this.columnIndexMap={};for(var e=0,t=0;t<this.numAttributes;t++)for(var a=this.getAttributeForms(0,t).length,i=0;i<a;i++)this.columnIndexMap[e]={originalColumnIndex:t,formIndex:i},e++;for(;t<this.numColumns;t++)this.columnIndexMap[e]={originalColumnIndex:t,formIndex:0},e++},updateColumnCount:function(){for(var e=0,t=0;t<this.numAttributes;t++)e+=this.getAttributeForms(0,t).length;this.numAttributes=e,this.numColumns=this.numAttributes+this.numMetrics},getColumnID:function(e){return f.prototype.getColumnID.call(this,this.getOriginalColumnIndex(e))},getSelMapRoot:function(){return this.MstrDataSetInfo&&this.MstrDataSetInfo.dataSetId||"root"},getDataAsArray:function(e){var t=this;this.resetDataSanitizer();for(var a=this,i=this.context.platformContext.logger,n=[],o=[],r={},s=0;s<this.getNumRows();s++){var l,u=[],c={},p=!1,d="",h=this.getSelMapRoot(),g=this.isAndroidFixReq()?1:0;n.push(u);for(var m,f,v,y,b=0+g,x=function(){if(m=null,S<t.numAttributes){if(m={},t.isFormAttributeColumnMerge)y=t.getAttributeFormInfo(s,S,b),b=y.attrIndex,f=y.attrValue,v=y.attrElemId,m.forms=y.forms,y.selectors&&y.selectors[0]&&(a.appendSelector(h,v,y.selectors[0].sel),h+=" "+v);else{var i=t.getOriginalColumnIndex(S);if(v=t.getAttributeElementId(s,b),t.isValidAttributeForm(s,i,b)){f=t.getAttributeValue(s,b,i),v=t.getAttributeElementId(s,b),c[i]||(c[i]=[]);var n=t.getAttributeSelector(s,b);n&&(c[i].push(n),t.appendSelector(h,v,t.mergeAttributeSelector(c[i]))),b++}else f="",t.appendSelector(h,v,{});h+=" "+v}var r=t.getAttrColHeadersInfo(s,S,b,!0);r&&(w.each(r.headers,(function(e,t){r.selectors[t]&&a.appendSelector(h,v,r.selectors[t]),h+=" "+v,f=f?f+" "+e:e})),b=r.attrIndex),m.t=f,m.id=v,"Total"===m.t?p=!0:d+=""===d?m.t:","+m.t,p||t.computeMetaInfo(S,m.t,o,void 0,e)}else m={v:t.getMetricRawValue(s,S),fv:t.getFormattedMetricValue(s,S)},p||t.computeMetaInfo(S-g,m.v,o,m.fv,e);p||(m.row=u),m.selector=t.getSelector(u),u.push(m)},S=0+g;S<this.numColumns+g;S++)x();if(p){l={rawIndex:s,isTotal:!0,path:d};for(var C=n.pop(),M=0+g;M<this.numAttributes+g;M++)C[M].row&&(C[M].row=void 0);r[d]=C}else l={rowIndex:n.length-1,rawIndex:s,data:n,isFirst:1==n.length,isLast:s==this.getNumRows()-1};u.push(l)}n=this.parseMetricData(n,o);for(var E=this.numAttributes;E<this.numColumns;E++)o[E]&&(o[E].formatOptions=this.getMetricFormattingOptions(E));if(o=this.updateMetricMetaInfo(o),this.getNumRows()!==n.length&&(o.totals=r),n.metaInfo=o,i.log(i.LEVEL.INFO,"completed processing mstr data into array format."),i.log(i.LEVEL.INFO,"row count: "+n.length),i.log(i.LEVEL.INFO,"computed MetaInfo: "+JSON.stringify(n.metaInfo,null,2)),!n.length){var T=new Error;throw T.name="message",T.message="No data returned.",T}return n},setDurationFormatToMetaInfo:function(e){if(e.isPercentageData)return e;var t=h.validateAndGetMetricDurationFormat(e);return t&&(e.durationFormat=t),e},isFvInPercentageFormat:function(e,t){if(e.formattedValue){if(h.isPercent(e.formattedValue,e.maxValue<0))return!0}else if(e.belowZeroFormat){if(h.isPercent(e.belowZeroFormat,!0))return!0}else{console.log("identifying percentage format using format string in MSTR options");var a=this.getFormatStringFromMSTRFormatOptions(t);if(a&&(h.isPercent(a)||h.isPercent(a,!0)))return!0}return!1},isPercentageMetric:function(e,t,a){if(a){if(4===a.nct)return!0;if(7===a.nct||-3===a.nct)return this.isFvInPercentageFormat(t,e)}return!1},setPercentageFormatToMetaInfo:function(e,t){if(!e||t<this.numAttributes)return e;var a=!1,i=this.getMetricFormattingOptions(t);return i&&void 0!==i.nct?(console.log("identifying percentage format using metric type in MSTR options"),a=this.isPercentageMetric(t,e,i)):a=this.isFvInPercentageFormat(e,t),e.isPercentageData=a,e},updateMetricMetaInfo:function(e,t){for(var a=this.numAttributes;a<this.numColumns;a++)e&&e[a]&&(!e[a].formatOptions&&t&&t[a-this.numAttributes]&&(e[a].formatOptions=t[a-this.numAttributes]),e[a]=this.setPercentageFormatToMetaInfo(e[a],a),e[a]=this.setDurationFormatToMetaInfo(e[a]));return e},getTitle:function(e){if(this.isFormAttributeColumnMerge){if(this.getTemplateUnit(e))return this.parseColumnTitle(""+this.getTemplateUnit(e).n)}else if(this.columnIndexMap[e]){var t=this.getOriginalColumnIndex(e),a=this.columnIndexMap[e].formIndex,i=this.getTemplateUnit(t);if(i)return void 0===i.fs||i.fs.length<2||!i.fs[a]?this.parseColumnTitle(""+i.n):-1!==i.fs[a].n.indexOf(i.n)?this.parseColumnTitle(""+i.fs[a].n):this.parseColumnTitle(i.n+" "+i.fs[a].n)}else if(this.getTemplateUnit(e))return this.parseColumnTitle(""+this.getTemplateUnit(e).n);return null},getAttributeForms:function(e,t){var a=this.data.getRowTitles(e).getTitle(t).getForms();return a&&a.length>0?a:[{n:this.getColumnTitle(e,t)}]},getMetricValue:function(e,t,a){return a?this.getFormattedMetricValue(t,e):this.parseMetricRawValue(this.getMetricRawValue(t,e))},getHeaderName:function(e,t,a){return this.getRowHeaders(e).getHeader(t)?this.parseMSTRText(""+this.getRowHeaders(e).getHeader(t).getName(),a):""},getHeaderElementId:function(e,t){if(this.getRowHeaders(e).getHeader(t))return this.getRowHeaders(e).getHeader(t).getElementId()},getNumRowHeaders:function(e){return this.getRowHeaders(e).size()},formRowDataMap:function(e){for(var t={},a=this.getAttributeHeaders(e),i=0;i<this.numColumns;i++){var n={title:this.getTitle(i)};i<this.numAttributes?(n.value=a[i],n.isMetric=!1,t["e"+(i+1)]=t["a"+(i+1)]=n,t[n.title]=n.value,t[n.title.toLowerCase()]=n.value):(n.value=this.getFormattedMetricValue(e,i),n.isMetric=!0,n.rawValue=this.getMetricValue(e,i),t["e"+(i+1)]=t["m"+(i-this.numAttributes+1)]=n,t[n.title]=n.value,t[n.title.toLowerCase()]=n.value)}return t},getRowColumnIdHelper:function(){return this.mstrDataIdentifierInstance||(this.mstrDataIdentifierInstance=new b(this)),this.mstrDataIdentifierInstance},getRowColumnIdMap:function(e,t){return this.columnIdMap&&!t||(this.columnIdMap=this.getRowColumnIdHelper().getRowColumnIdMap(e)),this.columnIdMap},getMstrDataSetInfo:function(e,t){return this.MstrDataSetInfo&&!t||(this.MstrDataSetInfo=this.getRowColumnIdHelper().getCreateMstrDataSetInfo(e)),this.MstrDataSetInfo},getColumnIdentifiers:function(){return this.MstrDataSetInfo&&this.MstrDataSetInfo.columns?this.MstrDataSetInfo.columns:[]},getColumnNameIdMap:function(){if(!this.MstrDataSetInfo)return[];var e=this;return w.map(this.MstrDataSetInfo.columnTitles,(function(t,a){return{name:t,id:e.MstrDataSetInfo.columns[a]}}))},getMstrDataInfoFromState:function(e){return e&&e[this.MSTR_DATA_INFO_STATE_KEY]},getLastSavedMstrDataInfoFromState:function(e){return e&&e[this.MSTR_LAST_DATA_INFO_STATE_KEY]},setMstrDataInfoToState:function(e,t){return e&&t?(e[this.MSTR_DATA_INFO_STATE_KEY]&&(e[this.MSTR_LAST_DATA_INFO_STATE_KEY]=e[this.MSTR_DATA_INFO_STATE_KEY]),e[this.MSTR_DATA_INFO_STATE_KEY]=t,e):e},getDataSetId:function(){return this.getMstrDataSetInfo()&&this.getMstrDataSetInfo().dataSetId},getColumnIdByTitle:function(e){var t=w.filter(this.getColumnNameIdMap(),(function(t){return t.name===e}));return t&&t[0]&&t[0].id},getColumnTitleById:function(e){var t=w.filter(this.getColumnNameIdMap(),(function(t){return t.id===e}));return t&&t[0]&&t[0].name},getCompatibleAttrId:function(e){var t,a=this.numAttributes;return w.each(this.getColumnNameIdMap(),(function(i,n){if(t||n>=a)return!1;t=w.split(i.id,";")[0]===e?i:void 0})),t&&t.id},identifyColumnTitleById:function(e){if(void 0!==e){var t=this,a=this.getColumnTitleById(e);if(void 0!==a)return a;var i,n,o=e.split&&e.split(this.MSTR_ID_SEPERATOR);if(!(o&&o.length&&o.length<2))if(w.has(this,"data.data.gts.row"))return w.each(this.data.data.gts.row,(function(t){if(o.indexOf(t.id)>-1)return i=w.filter(t.es||[],(function(t){return t.id===e})),!1})),i&&i.length&&w.each(i,(function(e){n=t.concatAttrValue(n,e.n)})),n}},identifyColumnIdByTitle:function(e,t){if(void 0!==e){var a=this.getColumnIdByTitle(e);if(void 0!==a)return a;if(t.prevId&&t.prevIDNameMap){var i=t.prevId.split&&t.prevId.split(this.MSTR_ID_SEPERATOR);if(!(i&&i.length&&i.length<2)){var n=w.findKey(t.prevIDNameMap,(function(e,t){return w.includes(i,t)})),o=t.prevIDNameMap[n];if(void 0!==o){var r=this.getColumnIdByTitle(o);if(r&&w.has(this,"data.data.gts.row")){var s,l,u=r.split(this.MSTR_ID_SEPERATOR);return w.each(this.data.data.gts.row,(function(e){var a=t.prevId.replace(n,e.id);if(-1!==u.indexOf(e.id))return s=w.filter(e.es||[],(function(e){return e.id===a})),!1})),s&&s.length&&(l=s[0].id),l}}}}}},getDataSanitizer:function(e){var t,a;this.mstrDataSanitizer&&!e||(this.mstrDataSanitizer=new A({allowUrls:h.allowUrlsCheck(this.context.NAME,null===(t=(a=this.context).getVizProps)||void 0===t||null===(t=t.call(a))||void 0===t?void 0:t.allowUrlsToVisual)}));return this.mstrDataSanitizer},resetDataSanitizer:function(){this.getDataSanitizer(!0)}});var P=i(6486);const D={ALLOW_METRICS_IN_ROWS:!1,TRANSFORM_DATA_CUSTOM:!1,destroyMSTRData:function(){this.dataHelper&&this.dataHelper.destroy&&this.dataHelper.destroy(),this.dataHelper=null,this.advRowData=null},setDataInitialized:function(e){this.dataInitialized=e},isValidData:function(){return this.dataInitialized},isEmptyGrid:function(e){return!e||e.data&&!(void 0===e.data.egt&&(void 0===e.data.eg||null===e.data.eg))&&!window.mobilecheck()},getGridDetail:function(e){var t=e.data.gts&&e.data.gts.row&&e.data.gts.row.length>0?e.data.gts.row:void 0,a=e.data.gts&&e.data.gts.col&&e.data.gts.col.length>0?e.data.gts.col:void 0;function i(e){if(!e)return"None";var t=-1!==P.findIndex(e,(function(e){return-1===e.otp})),a=-1!==P.findIndex(e,(function(e){return-1!==e.otp}));return a&&t?"Mixed":a?"Attributes":t?"Metrics":void 0}return{rows:i(t),cols:i(a)}},isMetricsAllowedInRows:function(){return this.ALLOW_METRICS_IN_ROWS},transformDataCustom:function(e){e.data&&(e.data.gts&&e.data.gts.row.length>0&&e.data.gts.col.length<1&&(e.data.gts.col=e.data.gts.row),e.data.gsi&&e.data.gsi.rows.length>0&&e.data.gsi.cols.length<1&&(e.data.gsi.cols=e.data.gsi.rows),e.data.ghs&&e.data.ghs.chs&&e.data.ghs.rhs&&e.data.ghs.chs.items&&e.data.ghs.rhs.items&&e.data.ghs.rhs.items.length>0&&e.data.ghs.chs.items<1&&(e.data.ghs.chs.items=e.data.ghs.rhs.items))},processGridValidationForDocs:function(e){if(!isMSTRDashBoard()&&!isMSTRDesktop()){var t=this.getGridDetail(e);if(!!("Attributes"!==t.rows&&"None"!==t.rows||"Metrics"!==t.cols&&"None"!==t.cols)){if("None"!==t.cols||"Metrics"!==t.rows||!this.isMetricsAllowedInRows())throw new Error(this.utils.getCustomErrorCode("E0003"));this.TRANSFORM_DATA_CUSTOM&&this.transformDataCustom(e)}}},getMSTRData:function(e){if(!this.advRowData){if(this.isEmptyGrid(this.dataInterface))throw new Error("No_Data");this.processGridValidationForDocs(this.dataInterface);try{!this.isEmptyGrid(this.dataInterface)&&this.dataInterface.getRowTitles().size()>0&&(this.advRowData=this.dataInterface.getRawData(mstrmojo.models.template.DataInterface.ENUM_RAW_DATA_FORMAT.ROWS_ADV,{hasSelection:!0,hasTitleName:!0}),this.setDataInitialized(!0))}catch(e){console.error("error processing tree data for selections "+e)}}return this.advRowData},readDataFromMSTR:function(){return this.isValidData()||this.destroyMSTRData(),this.getMSTRData(!0)},extraDataOptions:function(){return{isAttributeFormColumnMerge:!0,allowMetricDateParser:!1}},logDataInfo:function(){this.logger.log(this.logger.LEVEL.INFO,"Number of Columns: "+(this.dataHelper?this.dataHelper.numColumns:"")),this.logger.log(this.logger.LEVEL.INFO,"Number of Attributes: "+(this.dataHelper?this.dataHelper.numAttributes:"")),this.logger.log(this.logger.LEVEL.INFO,"Number of Metrics: "+(this.dataHelper?this.dataHelper.numMetrics:"")),this.logger.log(this.logger.LEVEL.INFO,"DataSet Info: "+(this.dataHelper?JSON.stringify(this.dataHelper.MstrDataSetInfo,null,2):""));try{var e=P.map(P.get(this.dataInterface,"data.gts.row"),(function(e){return{n:e.n,fid:e.fid,id:e.id}})),t=P.map(P.get(this.dataInterface,"data.gsi.mx"),(function(e){return{n:e.n,did:e.did}}));this.logger.log(this.logger.LEVEL.INFO,"GTS ROW:"+JSON.stringify(e,null,2)),this.logger.log(this.logger.LEVEL.INFO,"GSI MX:"+JSON.stringify(t,null,2))}catch(e){this.logger.error(e)}},initDataInterface:function(){this.dataHelper=new I({raw:this.dataInterface,rowData:this.getMSTRData(),visualContext:this.getVisualInstance(),appContext:this,dzModel:this.zonesModel},this.extraDataOptions()),this.logger.log(this.logger.LEVEL.INFO,"data interface initiated."),this.logDataInfo()}};var L=i(7510),O=i(6486);const F={mobileFilterAPICheck:function(){return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.selectionDataJSONString&&window.webkit.messageHandlers.selectionDataJSONString.postMessage},clearAllSelections:function(e){this.mobileFilterAPICheck()?window.webkit.messageHandlers.selectionDataJSONString.postMessage({messageType:"deselection"}):isMSTRDashBoard()?(this.clearSelections(),this.endSelections()):this.clearSelectionsDocs()},applySelector:function(e){if(this.mobileFilterAPICheck())if(isMSTRLibrary())if(O.isArray(e)){var t=[];O.each(e,(function(e){t.push(e),t[t.length-1].messageType="selection"})),window.webkit.messageHandlers.selectionDataJSONString.postMessage(t)}else e.messageType="selection",window.webkit.messageHandlers.selectionDataJSONString.postMessage(e);else{var a=[];O.each(e,(function(e){a.push(e[0]),a[a.length-1].messageType="selection"})),window.webkit.messageHandlers.selectionDataJSONString.postMessage(a[0])}else isMSTRDashBoard()?this.applySelection(e):this.applySelectionDocs(e)},handlePointSelection:function(e,t){var a,i=this.getRenderer().getChartRendererInstance();if(e.point&&this.getVizProps().drillChart)return null==this||null===(a=this.getVisualInstance)||void 0===a?void 0:a.call(this).createDrillChart(e);!this.getRenderer().pointClickHandler||i&&!i.pointClickHandler||(this.getRenderer().pointClickHandler||i.pointClickHandler).call(this.getRenderer(),{target:e.target,multiSelect:this.getUtils().isMultiEleSelect(e),reset:t,event:e})},getSelectorObject:function(e,t){return t},applySelections:function(){var e=this;return function(t){if(vitaraJQ(t.target).closest(".vitara-datalabel").length>0)t.stopPropagation();else{e.selectedPoints||(e.selectedPoints=[]),t?(t.preventDefault(),!e.getUtils().isMultiEleSelect(t)&&e.selectedPoints.length>1&&(e.selectedPoints=[])):e.selectedPoints.length>0&&(e.selectedPoints=[]);for(var a,i=void 0!==this.id?this.id:this,n=[],o=!1,r=function(e){e.selector=!e.selector&&e.selectorFunc?e.selectorFunc():e.selector,a=a?O.concat(a,e.selector):e.selector,n.push(e)},s=0;s<e.selectedPoints.length;s++)(void 0!==e.selectedPoints[s].id?e.selectedPoints[s].id:e.selectedPoints[s])===i?o=!0:t&&e.getUtils().isMultiEleSelect(t)&&r(e.selectedPoints[s]);o||r(e.getSelectorObject(t,this)),e.selectedPoints=n,a?e.applySelector(a):e.clearAllSelections(t),e.handlePointSelection(t,0===e.selectedPoints.length)}}},filterHandler:function(e){var t=function(e,t){this.dataContext=t,this.populateSelectionHandlers(e),this.filterSelectionHandler=e};return vitaraJQ.extend(t.prototype,{populateSelectionHandlers:function(e){if(e){var t=this.dataContext;if(!t.context.data.selMap||0===Object.keys(t.context.data.selMap).length){var a=e.createSelectorMap();t.context.data.selMap=a}}},getAttributeSelectorByName:function(e){var t=null;if(this.filterSelectionHandler){var a=this.dataContext.context.data.selMap||this.filterSelectionHandler.createSelectorMap();t=this.filterSelectionHandler.getMatchingAttributeSelectorByName(e,a)}return t},getLastColumnSelectorProp:function(e){var t=this.dataContext.dataRows;return t.length>e?t[e][this.dataContext.numColumns][this.dataContext.SELECTOR_MARKER]:null},getMetricSelectionHandler:function(e){var t=null,a=this.getLastColumnSelectorProp(e);return a&&(t=a.metric),t},getSelectorsFromDataRows:function(e,t){return this.dataContext.dataRows[e][t].selector?this.dataContext.dataRows[e][t].selector(t):null},getAttributeSelectionHandler:function(e,t){return this.getSelectorsFromDataRows(e,t)}}),this.filterHandlerInstance||(this.filterHandlerInstance=new t(new L.o(e),this)),this.filterHandlerInstance}};var V=i(6486);const R={_mixinName:"mstrmojo.plugins.VitaraCharts.v533169._HasSelector",ELEM_SEPERATOR:"",setDataFormat:function(e){this.dfm=e},getDataFormat:function(){return this.dfm},setDataFormatObjs:function(e){this.dfms=e},getDataFormatObjs:function(){return this.dfms},getDataFormatObjForSelector:function(e){if(this.getDataFormatObjs()&&this.getDataFormatObjs().length)return V.find(this.getDataFormatObjs(),(function(t){return V.find(t.es,(function(t){return t.id===e[0].id}))}))},setCreateDataFormatObjs:function(){var e=[];if(this.model&&this.model.data&&this.model.data.gts)for(var t=(this.model.data.gts.row||[]).concat(this.model.data.gts.col||[]),a=0;a<t.length;a++)-1!=t[a].otp&&t[a].es&&e.push(t[a]);this.setDataFormatObjs(e)},getCreateMstrDataFormat:function(){var e=0,t=0,a=null;if(this.model&&this.model.data)for(var i=(this.model.data.gts.row||[]).concat(this.model.data.gts.col||[]),n=0;n<i.length;n++)-1!=i[n].otp&&(e++,i[n].es&&(t++,a=i[n]));return 1==e&&1==t?a:null},postBuildRendering:function(){this._super&&this._super(),this.setCreateDataFormatObjs()},clearSelectionsDocs:function(){var e=[],t=this.model.getSelectorControlMapInfo(),a=this.model.docModel;if(t&&t.length)for(var i=0;i<t.length;i++)t[i]&&t[i].sc&&this.hasValidSelectorControlInfo(t[i].sc)&&e.push({eid:"u;;(All)",include:!0,src:this.model.data.k,tks:t[i].sc.tks,ck:t[i].sc.ck,ctlKey:t[i].sc.ckey});e.length>0&&a&&a.slice&&a.slice({events:e})},hasSelector:function(e){return!(!(e=void 0===e?this.getDataFormat():e)||!e.sc)},hasValidSelectorControlInfo:function(e){return V.has(e,"ck")},applySelectionDocs:function(e){var t,a=this,i=e&&e.length?e:[e];V.each(i,(function(e){V.each(e,(function(e){var i=a.getDataFormatObjForSelector(e);a.hasSelector(i)&&(a.setDataFormat(i),t=e[0].id),a.hasSelector()&&a.hasValidSelectorControlInfo(a.getDataFormat().sc)&&a.makeSelection(t)}))}))}};var B=i(8397);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){J(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Q(i.key),i)}}function J(e,t,a){return(t=Q(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Q(e){var t=function(e,t){if("object"!=N(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=N(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==N(t)?t:String(t)}var z=function(){function e(){var t,a,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;G(this,e),J(this,"DEFAULT_VALUES",{CLASS_VITARA:"vitara",MENU_CONTAINER_ID_CLASS:"vitara-menu-container",MODULE:"popup",POPUP_CLASS:"my-wrapper",OPEN_CLASS:"in",width:"460px",height:"400px",maxHeight:"600px",top:"8%",left:"34%",resizable:{minWidth:400,maxWidth:800,minHeight:200,maxHeight:700}}),J(this,"colorpickers",[]),J(this,"BS_MODAL_PROPS",{BACKDROP:"backdrop"}),J(this,"SESSION_KEY","VITARA_POPUP_DIMS"),J(this,"addTextSpinner",(function(){var e=vitaraJQ(".vitara_text_spinner",this.getParentContainer());e.length<1||B.each(e,(function(e){e.onkeypress=validateNumericInput,e.onpaste=validateNumericInput;var t=e.min?e.min:e.id.indexOf("Font")>-1?0:1;vitaraJQ(e).spinner({create:function(t,a){t.target.value&&vitaraJQ(e).spinner("value",parseInt(t.target.value))},min:t})}))})),this.tabular=i,this.container=document.body,this.structure=n,this.state=o||{},this.EINTERFACE=r,this.EINTERFACE.editorRef=this,this.props=s,this.currentMenuIndex=l,this.prevMenuIndex=void 0;try{this.createEditor()}catch(e){}this.EINTERFACE.menuOptions.fetchCallback||(this.EINTERFACE.menuOptions.fetchCallback={}),this.state=U(U({},this.state),null===(t=this.EINTERFACE.menuOptions)||void 0===t||null===(t=t.fetchCallback)||void 0===t||null===(a=t.fetchHelpMenuProperties)||void 0===a?void 0:a.call(t))}var t,a,i;return t=e,(a=[{key:"getProps",value:function(){return this.props}},{key:"getID",value:function(){return"VITARA_CONTAINER"}},{key:"setContext",value:function(e){this.context=e}},{key:"getDefaultValues",value:function(e){return this.DEFAULT_VALUES[e]}},{key:"getElementRef",value:function(e){return vitaraJQ(e,this.getParentContainer())}},{key:"getState",value:function(e){return this.state[e]}},{key:"updateState",value:function(e,t){this.state[e]=t}},{key:"getFieldContainerClass",value:function(){return"col-md-12 margin-top-10 field_container"}},{key:"setElementProperties",value:function(e,t){var a=vitaraJQ(e);return t&&a.attr(t),a}},{key:"createHTMLElement",value:function(e,t){var a=document.createElement(e);return this.setElementProperties(a,t)}},{key:"appendHtmlElement",value:function(e,t){return!(!e||!t||(vitaraJQ(e).append(t),0))}},{key:"appendHtmlToElement",value:function(e,t){return!(!e||!t||(vitaraJQ(e).html(t),0))}},{key:"createTextNode",value:function(e){return document.createTextNode(e)}},{key:"getTranslatedValues",value:function(e){return this.EINTERFACE.getTranslatedValues(e)}},{key:"getCheckListControl",value:function(){return this.EINTERFACE.propMenuHelper.checkListControl}},{key:"show",value:function(){vitaraJQ("body").addClass(".modal-open"),this.getParentContainer().show(),this.getOverlay().show()}},{key:"hide",value:function(){this.getParentContainer().hide(),this.getOverlay().hide(),vitaraJQ("body").removeClass(".modal-open")}},{key:"createEditor",value:function(){var e=this;this.appendHtmlElement(this.container,this.getParentContainer()),this.createOverlay(),this.appendHtmlToElement(this.getOverlay(),this.getPropertyMenuPopupHTML()),this.createPopup(),this.setPopupPosition(),this.processStructure(this.structure);var t=e.getOverlay();t.modal("show"),vitaraJQ(".modal-backdrop").appendTo(e.getParentContainer()).addClass("my-wrapper"),t.on("hidden.bs.modal",(function(){e.EINTERFACE.destroy()}))}},{key:"createOverlay",value:function(){vitaraJQ(this.getParentContainer()).append('<div id="modalWindow'+this.getID()+'" class="'+this.getDefaultValues("POPUP_CLASS")+' modal fade in" style="display: none;"></div>')}},{key:"getOverlay",value:function(){return vitaraJQ("#modalWindow"+this.getID(),this.getParentContainer())}},{key:"removeOverlay",value:function(){this.hide()}},{key:"createParentContainer",value:function(){vitaraJQ(this.container).append('<div id="'+this.getDefaultValues("MENU_CONTAINER_ID_CLASS")+'" class="'+this.getDefaultValues("CLASS_VITARA")+" "+this.getDefaultValues("MENU_CONTAINER_ID_CLASS")+'" style="display:none"></div>')}},{key:"getParentContainer",value:function(){var e=vitaraJQ("#"+this.getDefaultValues("MENU_CONTAINER_ID_CLASS"),vitaraJQ(this.container));return(!e||e.length<1)&&this.createParentContainer(),vitaraJQ("#"+this.getDefaultValues("MENU_CONTAINER_ID_CLASS"),vitaraJQ(this.container))}},{key:"getPropertyMenuPopupHTML",value:function(){return'\n        <div class="modal-dialog" style="width: fit-content;">\n            <div class="modal-content" style="width: 100%; height: 100%">\n                <div class="modal-header" style="padding-bottom: 0px;">\n                    <span class="close" data-dismiss="modal">&times;</span>\n                </div>\n                <div class="modal-body vitara-property-menu propertymenu fitContent"></div>\n            </div>\n        </div>'}},{key:"createPopup",value:function(){var e=this.getElementRef(".propertymenu",this.getParentContainer());this.appendHtmlToElement(e,'<div id="popupForm"><div class="panel-group" id="'+this.getDefaultValues("MODULE")+"accordion"+this.getID()+'"></div></div>')}},{key:"setPopupPosition",value:function(){var e={height:this.getDefaultValues("height"),width:this.getDefaultValues("width")};this.getElementRef(".modal-dialog").css({left:this.getDefaultValues("left"),top:this.getDefaultValues("top")}),this.getElementRef(".modal-content").css({height:e.height,width:e.width}),this.getElementRef(".modal-body").css({height:parseInt(e.height)-50})}},{key:"setUserSessionInfo",value:function(e){return sessionStorage.setItem(this.SESSION_KEY,JSON.stringify(e))}},{key:"setModalProperty",value:function(e,t){try{this.getOverlay().data("bs.modal").options[e]=t}catch(e){console.log(e)}}},{key:"getPopUpWindowResizableOptions",value:function(){var e=this;return{minHeight:e.getDefaultValues("resizable").minHeight,minWidth:e.getDefaultValues("resizable").minWidth,maxHeight:e.getDefaultValues("resizable").maxHeight,maxWidth:e.getDefaultValues("resizable").maxWidth,handles:"se",start:function(){e.setModalProperty(e.BS_MODAL_PROPS.BACKDROP,"static")},resize:function(e,t){vitaraJQ(".modal-body").css({height:t.size.height-50})},stop:function(t,a){e.setUserSessionInfo({width:a.size.width,height:a.size.height}),setTimeout((function(){e.setModalProperty(e.BS_MODAL_PROPS.BACKDROP,!0)}),100)}}}},{key:"setNonResizablePopupPosition",value:function(){this.getElementRef(".modal-dialog").css({width:this.getDefaultValues("width"),left:this.getDefaultValues("left"),top:this.getDefaultValues("top")}),this.getElementRef(".modal-content").css({height:this.getDefaultValues("height"),"max-height":this.getDefaultValues("maxHeight")})}},{key:"getPopup",value:function(){return vitaraJQ("#"+this.getDefaultValues("MODULE")+"accordion"+this.getID(),this.getParentContainer())}},{key:"processStructure",value:function(e){var t=this,a=e.panels,i=this.createLeftPanelView(a);this.appendHtmlElement(this.getPopup(),i);var n=e.fields,o=this.createRightSideView(n);this.appendHtmlElement(this.getPopup(),o),this.leftPanelEvents(),B.each(this.colorpickers,(function(e){t.setVitaraColorPicker(e.id,e.defaultColor,void 0,e.type)}))}},{key:"createRightSideView",value:function(e){var t=this,a=this.createHTMLElement("div",{class:"panel-right"});return B.each(e,(function(e,i){var n=i===t.currentMenuIndex?" "+t.getDefaultValues("OPEN_CLASS"):"";t.appendHtmlElement(a,t.createSection(e,i,n))})),a}},{key:"createSection",value:function(e,t,a){var i=this,n=this.createHTMLElement("div",{id:this.getDefaultValues("MODULE")+"collapse"+t,class:"panel-collapse collapse "+e.id+a}),o=this.createHTMLElement("div",{class:"panel-body"}),r=this.createHTMLElement("div",{class:"container width100"});if("thresholds"===e.id){var s=this.EINTERFACE.propMenuHelper.getThresholdsUIManager().getViewIdentifiers();r=this.addTableViewFields(r,e.containers,e.id,this.getDefaultValues("MODULE"),s),this.EINTERFACE.propMenuHelper.getThresholdsUIManager().setThresholdListeners()}else if("plotLines"===e.id){var l=this.EINTERFACE.propMenuHelper.getPlotLinesUIManager().getViewIdentifiers();r=this.addTableViewFields(r,e.containers,e.id,this.getDefaultValues("MODULE"),l),this.EINTERFACE.propMenuHelper.getPlotLinesUIManager().setPlotLineListeners()}else if("series"===e.id){var u=this.EINTERFACE.propMenuHelper.getSeriesUIManager().getViewIdentifiers();r=this.addSeriesTableViewFields(r,e.containers,e.id,this.getDefaultValues("MODULE"),u),this.EINTERFACE.propMenuHelper.getSeriesUIManager().setSeriesListeners()}else{if("plotbands"!==e.id){var c=this.createHTMLElement("div",{class:"container width100"});return e.id,B.each(e.containers,(function(t,a){i.appendHtmlElement(c,i.createSubSections(t,e.id)),a<e.containers.length-1&&i.appendHtmlElement(c,i.createHTMLElement("hr"))})),this.appendHtmlElement(o,c),this.appendHtmlElement(n,o),n}var p=this.EINTERFACE.propMenuHelper.getPlotBandsUIManager().getViewIdentifiers();r=this.addTableViewFields(r,e.containers,e.id,this.getDefaultValues("MODULE"),p),this.EINTERFACE.propMenuHelper.getPlotBandsUIManager().setPlotBandsListeners()}return this.appendHtmlElement(o,r),this.appendHtmlElement(n,o),n}},{key:"createHeadingSection",value:function(e){this.createHTMLElement("div",{class:"row"})}},{key:"createContainerTitle",value:function(e){var t=this.createHTMLElement("div",{class:"col-md-12 container_title"});return t.attr("original-name",e),this.appendHtmlElement(t,this.createTextNode(e)),t}},{key:"createAccordionSection",value:function(e,t){var a=this.translateText(e.title),i=this.createHTMLElement("div",{class:t}),n=this.createHTMLElement("h3",{"original-name":e.title,class:""});this.appendHtmlElement(n,this.createTextNode(a));var o=this.createAccordionSubSection({data:e.data});return this.appendHtmlElement(i,n),this.appendHtmlElement(i,o),i}},{key:"createAccordionSubSection",value:function(e){var t=this.createHTMLElement("div",{class:"ui-accordion-content accordion-content ui-helper-reset ui-widget-content"});return this.addFields(t,e,"margin-top-10 field_container"),t}},{key:"createREAccordionSection",value:function(e,t){for(var a=this.createHTMLElement("div",{class:this.getFieldContainerClass()}),i=0;i<t.headers.length;i++){var n=this.createHTMLElement("div",{class:"vitara-accordion-field "+(t.class?t.class:"")}),o=this.createHTMLElement("h3",{"original-name":t.headers[i]});this.appendHtmlElement(o,this.createTextNode(this.translateText(t.headers[i]))),this.appendHtmlElement(n,o);var r=this.createHTMLElement("div");this.addFields(r,t),this.appendHtmlElement(n,r),this.appendHtmlElement(a,n)}return a}},{key:"createSubSections",value:function(e,t){var a=this,i=this.createHTMLElement("div",{class:"row"});if(e.title&&""!==e.title&&this.appendHtmlElement(i,this.createContainerTitle(e.title)),"collapsable"===e.type)if(e.headers)this.appendHtmlElement(i,this.createREAccordionSection(i,e));else{var n=this.createHTMLElement("div",{class:this.getFieldContainerClass()}),o=this.createHTMLElement("div",{class:"vitara-accordion-field "+e.class,id:e.id});B.each(e.sections,(function(e){a.appendHtmlElement(o,a.createAccordionSection(e,"vitara-accordion-field").html())})),this.appendHtmlElement(n,o),this.appendHtmlElement(i,n)}else i=this.addFields(i,e,this.getFieldContainerClass(),t);return i}},{key:"addFields",value:function(e,t,a,i){var n=this;if(t.data)B.each(t.data,(function(t,o){var r=n.createHTMLElement("div",{class:a||void 0});if(void 0!==t.label&&null!==t.label&&""!==t.label){var s=n.translateText(t.label),l=n.createHTMLElement("label",{class:"vitara-chart-editor-label","original-name":t.label});n.appendHtmlElement(l,n.createTextNode(s)),n.appendHtmlElement(r,l)}t.fields&&B.each(t.fields,(function(e){r=n.createFieldHTML(e,r,i)})),n.appendHtmlElement(e,r)}));else{if(void 0!==t.label&&null!==t.label&&""!==t.label){var o=this.translateText(t.label),r=this.createHTMLElement("label",{class:"vitara-chart-editor-label","original-name":t.label});this.appendHtmlElement(r,this.createTextNode(o)),this.appendHtmlElement(e,r)}B.each(t.fields,(function(t,a){if(t&&void 0!==t.label&&null!==t.label&&""!==t.label){var i=n.translateText(t.label),o=n.createHTMLElement("label",{class:"vitara-chart-editor-label","original-name":t.label});n.appendHtmlElement(o,n.createTextNode(i)),n.appendHtmlElement(e,o)}e=n.createFieldHTML(t,e)}))}return e}},{key:"addSeriesTableViewFields",value:function(e,t,a,i,n){for(var o,r=0;r<t.length;r++){var s=t[r];0==r?o={class:"manage-".concat(n.uiClass," margin-top-10"),style:"display: none;"}:1==r?o={class:"add-edit-".concat(n.uiClass," margin-top-10")}:r==t.length-1?o={class:"margin-top-10"}:(this.appendHtmlElement(e,this.createHTMLElement("hr")),o={class:t[r].class+" margin-top-10 vitara-accordion-field"});var l=this.createHTMLElement("section",o),u=this.createHTMLElement("div",{style:"overflow: visible;"});if(r==t.length-1&&(this.appendHtmlElement(l,this.createHTMLElement("input",{id:"colId",type:"hidden",value:""})),this.appendHtmlElement(l,this.createHTMLElement("input",{id:"".concat(n.uiId),type:"hidden",value:""}))),void 0!==s.title&&null!==s.title&&""!==s.title){var c=this.translateText(s.title),p=this.createHTMLElement("div",{class:"col-md-12 container_title"});this.appendHtmlElement(p,this.createTextNode(c)),this.appendHtmlElement(l,p)}for(var d=0;d<s.data.length;d++){var h=s.data[d],g=this.createHTMLElement("div",{class:"col-md-12 padding-bottom-10"});this.addFields(g,h,a,i);var m=this.createHTMLElement("div",{class:"row",style:"width:100%"});this.appendHtmlElement(m,g),this.appendHtmlElement(u,m),this.appendHtmlElement(l,u)}if(0==r){var f=this.createHTMLElement("div",{class:"col-md-12 padding-bottom-10"});this.appendHtmlElement(f,this.createHTMLElement("table",{width:"100%",style:"text-align: center"}));var v=this.createHTMLElement("div",{class:"row"});this.appendHtmlElement(v,f),this.appendHtmlElement(l,v)}this.appendHtmlElement(e,l)}return e}},{key:"addTableViewFields",value:function(e,t,a,i,n){for(var o,r=0;r<t.length;r++){var s=t[r];0==r?o={class:"manage-".concat(n.uiClass," margin-top-10"),style:"display: none;"}:1==r?o={class:"add-edit-".concat(n.uiClass," margin-top-10")}:r==t.length-1?o={class:"margin-top-10"}:(this.appendHtmlElement(e,this.createHTMLElement("hr")),o={class:t[r].class+" margin-top-10"});var l=this.createHTMLElement("section",o);if(r==t.length-1&&(this.appendHtmlElement(l,this.createHTMLElement("input",{id:"colId",type:"hidden",value:""})),this.appendHtmlElement(l,this.createHTMLElement("input",{id:"".concat(n.uiId),type:"hidden",value:""}))),void 0!==s.title&&null!==s.title&&""!==s.title){var u=this.createHTMLElement("div",{class:"col-md-12 container_title"});this.appendHtmlElement(u,this.createTextNode(s.title)),this.appendHtmlElement(l,u)}for(var c=0;c<s.data.length;c++){var p=s.data[c],d=this.createHTMLElement("div",{class:"col-md-12 padding-bottom-10"});d=this.addFields(d,p,this.getFieldContainerClass());var h=this.createHTMLElement("div",{class:"row"});this.appendHtmlElement(h,d),this.appendHtmlElement(l,h)}if(0==r){var g=this.createHTMLElement("div",{class:"col-md-12 padding-bottom-10"});this.appendHtmlElement(g,this.createHTMLElement("table",{width:"100%",style:"text-align: center"}));var m=this.createHTMLElement("div",{class:"row"});this.appendHtmlElement(m,g),this.appendHtmlElement(l,m)}this.appendHtmlElement(e,l)}return e}},{key:"getUtils",value:function(){return this.EINTERFACE.chartRef.utils}},{key:"translateText",value:function(e){return this.getUtils().convertStringLanguage(e)}},{key:"createFieldHTML",value:function(e,t,a){var i=this,n=[],o="";if(e){switch(e.type){case"checkbox":var r={class:"vitara-chart-editor-field "+e.class,type:e.type,name:e.name,id:this.getDefaultValues("MODULE")+e.id,value:e.value};(void 0!==this.getState(e.name)&&"1"==this.getState(e.name)||void 0!==e.default&&"1"==e.default&&void 0===this.getState(e.name))&&(r.checked="checked"),this.appendHtmlElement(t,this.createHTMLElement("input",r));break;case"checklist":this.getCheckListControl().addHtml(t,e);break;case"radio":this.appendHtmlElement(t,this.createHTMLElement("input",{id:this.getDefaultValues("MODULE")+e.id,name:e.name,class:"vitara-chart-editor-field "+e.class,value:this.getState(e.id)||e.value,type:e.type}));break;case"hidden":void 0!==this.getState(e.name)?o=this.getState(e.name):void 0!==e.default&&void 0===this.getState(e.name)&&(o=e.default),this.appendHtmlElement(t,this.createHTMLElement("input",{id:this.getDefaultValues("MODULE")+e.id,name:e.name,class:"vitara-chart-editor-field "+e.class,value:o,type:e.type}));break;case"textbox":o="",void 0!==this.getState(e.name)?o=this.getState(e.name):void 0!==e.default&&void 0===this.getState(e.name)&&(o=e.default),this.appendHtmlElement(t,this.createHTMLElement("input",{id:this.getDefaultValues("MODULE")+e.id,name:e.name,class:"vitara-chart-editor-field vitara-chart-editor-text-field form-control colorscale-textbox-control "+e.class,value:o,type:e.type}));break;case"label":var s=this.createHTMLElement("label",{id:this.getDefaultValues("MODULE")+e.id,class:e.class});if("histogram"===a){var l=this.EINTERFACE.menuOptions.fetchCallback.fetchMetricRange();l&&this.appendHtmlElement(s,this.createTextNode("Metric Range: "+Math.floor(l.minVal)+" - "+Math.ceil(l.maxVal)))}else this.appendHtmlElement(s,this.createTextNode(e.value));s.attr("original-name",e.name),this.appendHtmlElement(t,s);break;case"markergrid":var u=this.getState(e.name)||"circle",c=this.createHTMLElement("text",{class:"spriteMarker ".concat(e.class),name:"".concat(e.name),action:"".concat(e.action),id:"".concat(this.getDefaultValues("MODULE")).concat(e.id)});this.appendHtmlToElement(c,'<i class="fa-'.concat(u,'"></i>')),this.appendHtmlElement(t,c);break;case"spinner":o="",void 0!==this.getState(e.name)?o=this.getState(e.name):void 0!==e.default&&void 0===this.getState(e.name)&&(o=e.default);var p={class:"vitara-chart-editor-field vitara_text_spinner "+e.class,action:e.action,name:e.name,maxlength:void 0!==e.maxLength?e.maxLength:3,min:0===e.min||e.min?e.min:"",max:0===e.max||e.max?e.max:"",step:void 0!==e.step?e.step:"",id:this.getDefaultValues("MODULE")+e.id};(o||0===o)&&(p.value=parseFloat(o)),this.appendHtmlElement(t,this.createHTMLElement("input",p));break;case"select":var d=this.createHTMLElement("select",{class:"form-control vitara-chart-editor-field vitara-dropdown-menu "+e.class,name:e.name,id:this.getDefaultValues("MODULE")+e.id});!(o=this.getState(e.id))&&e.default&&""!=e.default&&(o=e.default),e.options&&e.options.length>0?(B.each(e.options,(function(e){var t={value:e.value},a=i.translateText(e.text);o&&o===e.value&&(t.selected="selected"),i.appendHtmlElement(d,i.createHTMLElement("option",t).text(a))})),this.appendHtmlElement(t,d)):this.EINTERFACE.propMenuHelper.getSelectDropDown().addDropDown(t,{prefix:this.getDefaultValues("MODULE"),field:e});break;case"colorpicker":o="",void 0!==this.getState(e.name)?o=this.getState(e.name):void 0!==e.default&&void 0===this.getState(e.name)&&(o=e.default),this.appendHtmlElement(t,this.createHTMLElement("input",{type:"hidden",id:this.getDefaultValues("MODULE")+e.id,class:"colorpicker vitara-chart-editor-field "+e.class,name:e.name,value:this.getUtils().convertToHex(o)})),this.colorpickers.push({id:"#"+this.getDefaultValues("MODULE")+e.id,defaultColor:o,type:"arrow"}),this.setVitaraColorPicker("#"+this.getDefaultValues("MODULE")+e.id,o);break;case"gradientColorPicker":this.appendHtmlElement(t,this.createHTMLElement("div",{type:"hidden",class:"vitara-gradient-picker vitara-chart-editor-field",name:e.name,id:""+this.getDefaultValues("MODULE")+e.id}));break;case"slider":var h={id:e.id,class:"vitara-chart-editor-field vitara_opacity_slider"};e.default&&(h.value=parseFloat(e.default));var g=this.createHTMLElement("div",h);this.appendHtmlToElement(g,'<div id="custom-handle" class="ui-slider-handle"></div>'),this.appendHtmlElement(t,g);break;case"colorpalette":this.EINTERFACE.propMenuHelper.getThresholdsUIManager().getGradientOptionsFromUI();var m=this.getPaletteColors(),f=this.createHTMLElement("div",{class:"color_palette_container",id:e.id});B.each(m,(function(t,a){var n=i.createHTMLElement("span",{class:"color_palette_list colorpalette"}),o=i.createHTMLElement("div",{});i.appendHtmlElement(o,i.createHTMLElement("input",{type:"hidden",name:"".concat(e.id,"[").concat(a,"]"),id:i.getDefaultValues("MODULE")+e.id+a,class:"vitaracolorpicker "+e.class,value:t})),i.colorpickers.push({id:"#"+i.getDefaultValues("MODULE")+e.id+a,defaultColor:t}),i.appendHtmlElement(n,o),i.appendHtmlElement(f,n)}));var v=this.createHTMLElement("span",{class:"color_palette_bg color_palette_list colorpalette"}),y=this.createHTMLElement("div",{});this.appendHtmlElement(y,this.createHTMLElement("input",{type:"hidden",id:"colorPickerAdder"})),this.colorpickers.push({id:"#colorPickerAdder"}),this.appendHtmlElement(v,y),this.appendHtmlElement(f,v),this.appendHtmlElement(t,f);break;case"button":var b,x="",S="";(void 0!==this.getState(e.name)&&"1"==this.getState(e.name)||void 0!==e.default&&"1"==e.default&&void 0===this.getState(e.name))&&(S=' checked="checked"',x=" active"),b=e.id.indexOf("Font")>-1||e.id.indexOf("Italic")>-1||e.id.indexOf("Bold")>-1||e.id.indexOf("Underline")>-1?e.options[0].text:this.translateText(e.options[0].text);var C=this.createHTMLElement("span",{class:"buttonset"});(n=[]).push('<button type="button" class="vitara-chart-editor-field btn btn-default toogle-button'+x+" "+e.class+'" data-value="'+e.id+'">'+b+"</button>"),n.push('<input type="checkbox" class="invisible" name="'+e.name+'" id="'+e.id+'" value="1"'+S+" />"),this.appendHtmlToElement(C,n.join("")),this.appendHtmlElement(t,C);break;case"editor":this.EINTERFACE.getCustomEditor().addViewHtml(t,{fieldId:e.id});break;case"onlybutton":var M=this.translateText(e.options[0].text),E=this.createHTMLElement("span",{class:"buttonset"}),T="";"exportToCSV"===e.id?T+='<button type="button" name="'+e.name+'" id="'+e.id+'" class="vitara-chart-editor-field btn btn-default '+(e.class?e.class:" ")+'" data-value="'+e.id+'" data-dismiss="modal">'+M+"</button>":T+='<button type="button" name="'+e.name+'" id="'+e.id+'" class="vitara-chart-editor-field btn btn-default '+(e.class?e.class:" ")+'" data-value="'+e.id+'">'+M+"</button>",this.appendHtmlToElement(E,T),this.appendHtmlElement(t,E);break;case"link":var k=this.createHTMLElement("a",{class:"vitara-chart-editor-field",name:e.name,id:""+this.getDefaultValues("MODULE")+e.id,target:"_blank",href:e.linkSource});this.appendHtmlToElement(k,e.value),this.appendHtmlElement(t,k);break;case"infoMarkerType":break;case"radioBtnGroup":var A=this.createHTMLElement("div",{id:"".concat(this.getDefaultValues("MODULE")).concat(e.id)});n=[],e.radioOptions.forEach((function(t){n.push('<label class="radio-inline">'),n.push('<input type="radio" name='.concat(e.name,' class="').concat(t.class,'" id="').concat(i.getDefaultValues("MODULE")).concat(t.id,'" style="bottom:0px;" value="').concat(t.value,'">').concat(t.label,"</input>")),n.push("</label>")})),this.appendHtmlToElement(A,n.join("")),this.appendHtmlElement(t,A);break;case"datepicker":this.appendHtmlElement(t,this.createHTMLElement("input",{class:"vitara-datepicker width90 vitara-chart-editor-field form-control "+e.class,type:"text",name:e.name,id:""+this.getDefaultValues("MODULE")+e.id,autocomplete:"off",value:this.getState(e.id)||e.default||""}))}return t}}},{key:"getPaletteColors",value:function(){if(this.getState("colors")&&this.getState("colors").length>0)return this.getState("colors")}},{key:"createLeftPanelView",value:function(e){var t=this,a=this.createHTMLElement("div",{class:"panel-left"}),i=[];return B.each(e,(function(e,a){var n=a===t.currentMenuIndex?" active":"";i.push(t.getPanelLeft(e,n,a))})),this.appendHtmlToElement(a,i.join("")),a}},{key:"getPanelLeft",value:function(e,t,a){return i={module:this.getDefaultValues("MODULE"),id:a,menuContainerid:this.getID(),panelId:e.id,panelLabel:e.label,translatedLabel:this.translateText(e.label),panel:e,ariaexpanded:t},'<div class="panel panel-default">\n        <div class="panel-heading">\n            <h4 class="panel-title">\n                <a class="'.concat(i.ariaexpanded,'" id="').concat(i.panelId,'"  original-name="').concat(i.panelLabel,'" data-parent="#').concat(i.module,"accordion").concat(i.menuContainerid,'" href="#').concat(i.module,"collapse").concat(i.id,'" data-id="').concat(i.id,'">').concat(i.translatedLabel,"</a>\n            </h4>\n        </div>\n    </div>");var i}},{key:"leftPanelEvents",value:function(){}},{key:"onMenuChange",value:function(e){var t=this.getElementRef(e.target),a=this.getElementRef(this.getElementRef(e.target).attr("href"));this.getElementRef(".panel-title a.active").removeClass("active"),t.addClass("active"),this.getElementRef(".panel-right div."+this.getDefaultValues("OPEN_CLASS")).removeClass(this.getDefaultValues("OPEN_CLASS")).hide(),a.addClass(this.getDefaultValues("OPEN_CLASS")).show(),this.EINTERFACE.propMenuHelper.getEventHandler().broadcastMenuSelection(e),e.stopPropagation()}},{key:"validateNumericInput",value:function(e){var t="keypress"==(e=e||event).type?String.fromCharCode(e.keyCode||e.which):(e.clipboardData||window.clipboardData).getData("Text");if(void 0===e.key){var a=e.which||e.keyCode;if(a>31&&a<48||a>57&&a<127)return!1}else if(1===e.key.length&&/[^\d][.\d]*/gi.test(t))return!1}},{key:"setVitaraColorPicker",value:function(e,t,a,i,n){if("string"==typeof e&&0===e.indexOf("#")){var o=vitaraJQ(e,this.getParentContainer());if(o.hasClass("vitaracolorpicker"))try{return void o.vitaracolorpicker("update",t)}catch(e){var r=o.parent();o.appendTo(o.parent().parent()),r.empty()}}vitaraJQ(e,this.getParentContainer()).vitaracolorpicker({color:t,showOn:"button",initialHistory:this.EINTERFACE.propMenuHelper.getColorHistory(),customHistoryClose:!0,sliders:"wva",indicatorStyle:i||"normal",defaultPalette:n||"custom"}).off("changecolor").on("changecolor",a||this.EINTERFACE.propMenuHelper.updateRecentColors.bind(this.EINTERFACE.propMenuHelper))}}])&&Y(t.prototype,a),i&&Y(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,X(i.key),i)}}function X(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=j(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:String(t)}const K=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wId=t.wrapperId||"VITARA_CONTAINER",this.wClass=t.wrapperClassName,this.bClass=t.className,this.bText=t.text,this.parent=t.parent,this.element=null,this.appendToParent(this.parent)}var t,a,i;return t=e,(a=[{key:"setElement",value:function(e){this.element=e}},{key:"getElement",value:function(){return this.element}},{key:"showElement",value:function(){vitaraJQ(this.element).show()}},{key:"hideElement",value:function(){vitaraJQ(this.element).hide()}},{key:"destroyElement",value:function(){vitaraJQ(this.element).remove()}},{key:"getButtonTemplate",value:function(e){return function(e){return'<div id= "'.concat(e.wrapper_id,'" class="my-wrapper ').concat(e.wrapper_class,'">\n        <div class="').concat(e.button_class,'">').concat(e.button_text,"</div>\n    </div>")}(e)}},{key:"appendToParent",value:function(){var e=this.getButtonTemplate({wrapper_id:this.wId,wrapper_class:this.wClass,button_class:this.bClass,button_text:this.bText});vitaraJQ(this.parent).append(e),vitaraJQ(this.parent).addClass("chart-area-wrapper"),this.setElement(vitaraJQ("#"+this.wId))}},{key:"addClickHandler",value:function(e,t){vitaraJQ(this.parent).off("click",e).on("click",e,t)}}])&&W(t.prototype,a),i&&W(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function q(e){this.setOptions(e)}Object.assign(q.prototype,{init:function(e){this.setOptions(e)},setOptions:function(e){e&&e.context&&(this.options=e)},getOptions:function(){return this.options},getPropMenuContext:function(){return this.getOptions().menuContext||this.getOptions().context},getStateManager:function(){return this.getOptions().stateManager},getFetchCallBacks:function(){return this.getOptions().fetchCallback},getCompatabilityManager:function(){return this.getOptions().compatabilityManager},getPropertyFromState:function(e){return this.getStateManager().getProperty(e)},setPropertyToState:function(e,t){this.getStateManager().setProperty(e,t)},getColumnDefinitions:function(){return this.getOptions().colDefinitions}});const Z=q;var $=i(8397);function ee(){}Object.assign(ee.prototype,{FONT_BUTTONS:{"fa-bold":{"data-edit":"bold",title:"Bold (Ctrl/Cmd+B)"},"fa-italic":{"data-edit":"italic",title:"Italic (Ctrl/Cmd+I)"},"fa-underline":{"data-edit":"underline",title:"Underline (Ctrl/Cmd+U)"}},TEXT_ALIGN:{"fa-align-left":{"data-edit":"justifyleft",title:"Align Left (Ctrl/Cmd+L)"},"fa-align-center":{"data-edit":"justifycenter",title:"Center (Ctrl/Cmd+E)"},"fa-align-right":{"data-edit":"justifyright",title:"Align Right (Ctrl/Cmd+R)"},"fa-align-justify":{"data-edit":"justifyfull",title:"Justify (Ctrl/Cmd+J)"}},DEFAULT_OPTIONS:{fontSize:13,linkButtonRequired:!1,text:""},DEFAULT_DROPDOWN_OPTIONS:{title:"",icon:"",arrow:"",dropdownclass:"",dropdownlist:""},getListElementHtml:function(e,t){var a=[];return a.push("<li>"),a.push(this.getButtonHtml(e,t,"",!0)),a.push("</li>"),a.join("")},getButtonHtml:function(e,t,a,i){var n=[];return i?n.push("<a "):n.push('<a class="btn btn-default"'),$.each(e,(function(e,t){n.push(" "+t+'="'+e+'"')})),n.push(">"),t&&n.push('<i class="'+t+'"></i>'),a&&n.push(a),n.push("</a>"),n.join("")},getButtonGroupHtml:function(e){var t=[];return t.push('<div class="btn-group">'),t.push(e),t.push("</div>"),t.join("")},getDropDownHtml:function(e){var t=[],a=vitaraJQ.extend(!0,{},this.DEFAULT_DROPDOWN_OPTIONS,e);return t.push('<a class="vitara-chart-editor-field btn btn-default dropdown-toggle" data-toggle="dropdown" title="'+a.title+'"><i class="'+a.icon+'"></i>&nbsp;<b '+(a.arrow?'class="'+a.arrow+'"':"")+"></b></a>"),t.push('<ul class="'+(a.dropdownclass?a.dropdownclass:"")+' dropdown-menu">'),t.push(a.dropdownlist),t.push("</ul>"),t.join("")},getSpinnerHtml:function(){return'<input class="vitara_text_spinner" maxlength="3" min="6" data-edit="fontSize" value="'+this.getFontSize()+'" title="Font Size"/>'},getColorPickerHtml:function(){return'<input type="hidden" class="colorpicker" data-edit="foreColor" title="Font Color"/>'},getInfoButtonHtml:function(){return'<a class="btn editorInfoButton" title="info"><i class="fa-info-circled"></i></a>'},getOptionListHtml:function(e){var t=[];return $.each(e.list,(function(a,i){t.push(e.getHtml(a,i))})),t.join("")},getFontStylingOptionsHtml:function(){return this.getOptionListHtml({list:this.FONT_BUTTONS,getHtml:this.getButtonHtml.bind(this)})},getTextAlignOptionsHtml:function(){return this.getOptionListHtml({list:this.TEXT_ALIGN,getHtml:this.getListElementHtml.bind(this)})},getTextAlignDropDownHtml:function(){return this.getButtonGroupHtml(this.getDropDownHtml({title:"Align",icon:"fa-align-left",arrow:"caret",dropdownlist:this.getTextAlignOptionsHtml()}))},getMarkerHtml:function(e){var t=e.replace("Editor","Marker"),a="";return a+='<div class="btn-group spriteMarker" action="none" id="'.concat(t,'">'),a+='<div class="vitara-chart-editor-field marker btn btn-default"  title="" data-original-title="Marker">',a+='<i class="fa-circle"></i>',a+="&nbsp;</div></div>"},getFontOptionsHtml:function(){var e=[];return e.push(this.getDropDownHtml({title:"Font",icon:"fa-font"})),e.push(this.getSpinnerHtml()),e.push(this.getColorPickerHtml()),e.join("")},getLinkDropDownList:function(){var e=[];return e.push('<li><a><input id="tooltipLinkTextBox" class="span2" row="3" column="10" placeholder="Enter a URL to link" type="text" data-edit="createLink" style="width: 240px; height: 30px;"></input></a></li>'),e.push('<li><a><button class="btn" type="button">Add</button></li></a>'),e.join("")},getLinkButtonGroup:function(){var e=[];return e.push(this.getDropDownHtml({title:"Link",icon:"fa-link",dropdownclass:"link-dropdown",dropdownlist:this.getLinkDropDownList()})),e.push(this.getButtonHtml({"data-edit":"unlink",title:"Unlink"},"fa-unlink")),e.join("")},getLinkButtonHtml:function(){return this.isLinkButtonRequired()?this.getButtonGroupHtml(this.getLinkButtonGroup()):[].join("")},getToolbarHtml:function(){var e=[];return e.push('<div class="btn-toolbar" data-role="editor-toolbar" data-target="#'+this.getEditorFieldID()+'">'),e.push(this.getButtonGroupHtml(this.getFontOptionsHtml())),e.push(this.getButtonGroupHtml(this.getInfoButtonHtml())),e.push(this.getButtonGroupHtml(this.getFontStylingOptionsHtml())),e.push(this.getLinkButtonHtml()),e.push(this.getMarkerHtml(this.getEditorFieldID())),e.push(this.getTextAlignDropDownHtml()),e.push("</div>"),e.join("")},getEditorHtml:function(){var e=[];return e.push('<div class="format-editor form-control" id="'+this.getEditorFieldID()+'">'),e.push(this.getFormattedText()),e.push("</div>"),e.join("")},addToolbarHtml:function(e){var t=[];t.push(this.getButtonGroupHtml(this.getFontOptionsHtml())),t.push(this.getButtonGroupHtml(this.getInfoButtonHtml())),t.push(this.getButtonGroupHtml(this.getFontStylingOptionsHtml())),t.push(this.getLinkButtonHtml()),t.push(this.getMarkerHtml(this.getEditorFieldID())),t.push(this.getTextAlignDropDownHtml()),t.push("</div>");var a=utils.createHTMLElement("div",{class:"btn-toolbar","data-role":"editor-toolbar","data-target":"#"+this.getEditorFieldID()});utils.appendHtmlToElement(a,t.join("")),utils.appendHtmlElement(e,a)},addEditorHtml:function(e){var t=utils.createHTMLElement("div",{class:"format-editor form-control",id:""+this.getEditorFieldID()});utils.appendHtmlToElement(t,this.getFormattedText()),utils.appendHtmlElement(e,t)},getHtml:function(e){if(!e)return"";this.setOptions(e);var t=[];return t.push(this.getToolbarHtml(e.fieldID)),t.push(this.getEditorHtml()),t.join("")},addHtml:function(e,t){if(!t)return"";this.setOptions(t),this.addToolbarHtml(e),this.addEditorHtml(e)},setOptions:function(e){this.editorViewOptions=vitaraJQ.extend(!0,{},this.DEFAULT_OPTIONS,e)},getOptions:function(){return this.editorViewOptions||this.setOptions(),this.editorViewOptions},getFontSize:function(){return this.getOptions().fontSize},getEditorFieldID:function(){return this.getOptions().fieldID},getFormattedText:function(){return this.getOptions().text},isLinkButtonRequired:function(){return this.getOptions().linkButtonRequired}});const te=ee;var ae=i(8397);function ie(){}Object.assign(ie.prototype,{DEFAULT_OPTIONS:{},init:function(){},setOptions:function(e){this.editorOptions=vitaraJQ.extend(!0,{},this.DEFAULT_OPTIONS,e)},getOptions:function(){return this.editorOptions||this.setOptions(),this.editorOptions},getFieldID:function(){return this.getOptions().fieldId},getPropertyKey:function(){return this.getOptions().propertyKey},getColumnDefinitions:function(){return this.getOptions().colDefinitions},getGenericMacros:function(){return this.getOptions().genericMacros},getAttributeForms:function(e){return this.getOptions().getAttributeForms(e)},getGenericMentions:function(){return this.getOptions().genericLabelMentions},getChartSpecificMentions:function(){return this.getOptions().chartSpecificMentions},getLabelMentions:function(e){var t=this;this.setOptions(e);var a=[],i=[],n=0,o=function(e,i,n,o,r){if((-1!==n.indexOf(e)||-1===n.indexOf(e)&&o.isMetric)&&(a.push({key:o.colId.toString(),value:o.headerName}),!o.isMetric)){var s=t.getAttributeForms(o.headerName);ae.each(s,(function(e,t){t&&(a.push({key:(r+i).toString(),value:o.headerName+"@"+t}),i++)}))}};if(this.getGenericMacros()){if(-1===["plLabel","variationLabel","stackTotalLabel","smChartTitle","customCategoryLabel"].indexOf(this.getPropertyKey())){for(var r=this.getFieldID(),s=this.getColumnDefinitions(),l=["gridCustomFormatEditor","customTooltipEditor","ibcsTitleEditor","chartTitleEditor","customLabelEditor","customCategoryLabelEditor"],u=s.length,c=0;c<s.length;c++)if(s[c].children){u=0===c?this.getColumnDefinitions().reduce((function(e,t){var a;return e+(null===(a=t.children)||void 0===a?void 0:a.length)}),0):u;for(var p=s[c].children,d=0;d<p.length;d++)o(r,0,l,p[d],u)}else o(r,0,l,s[c],u);n=u+0}ae.each(this.getGenericMentions(),(function(e){i.push({key:(n++).toString(),value:e})}))}return ae.each(this.getChartSpecificMentions(),(function(e){i.push({key:(n++).toString(),value:e})})),{defaults:i,macros:a.concat(i)}}});const ne=ie;var oe=i(8397);function re(e){this.init(e)}Object.assign(re.prototype,{DEFAULT_OPTIONS:{},init:function(e){this.setOptions(e),this.setFieldStateModel(),this.setGlobalFunctions()},setFieldStateModel:function(){this.fieldStateModel=new Z(this.getOptions())},getFieldStateModel:function(){return this.fieldStateModel},getEditorView:function(){return this.editorView||(this.editorView=new te),this.editorView},getCustomFormattingEditorHelper:function(){return this.formattingHelper||(this.formattingHelper=new ne(this.getOptions())),this.formattingHelper},getViewHtml:function(e){return this.addFieldOptions(e),this.setLabelMentions(),this.formViewOptions(),this.getEditorView().getHtml(this.getViewOptions())},addViewHtml:function(e,t){return this.addFieldOptions(t),this.setLabelMentions(),this.formViewOptions(),this.getEditorView().addHtml(e,this.getViewOptions())},setViewOptions:function(e){this.viewOptions=e},getViewOptions:function(){return this.viewOptions},addFieldOptions:function(e){this.editorOptions=vitaraJQ.extend(!0,this.editorOptions,e)},setOptions:function(e){this.editorOptions=vitaraJQ.extend(!0,{},this.DEFAULT_OPTIONS,e)},getOptions:function(){return this.editorOptions||this.setOptions(),this.editorOptions},getFontSizeFromHTML:function(e){return this.getFieldStateModel().getCompatabilityManager().getFontSizeFromHTML(e)},getFieldID:function(){return this.getOptions().fieldId},getCustomLabelMacros:function(e){return this.getFieldStateModel().getPropertyFromState([e+"colstate"])},setCustomLabelMacros:function(e,t){this.getFieldStateModel().setPropertyToState([e+"colstate"],t)},getGenericMacros:function(e){return this.getFieldStateModel().getFetchCallBacks().fetchIncludeGenericMentions(e)},getGenericMentions:function(e){return this.getFieldStateModel().getFetchCallBacks().fetchGenericLabelMentions(e)},getChartSpecificMentions:function(e){return this.getFieldStateModel().getFetchCallBacks().fetchChartSpecificMentions(e)},getAttributeForms:function(e){return this.getFieldStateModel().getFetchCallBacks().fetchAttributeForms(e)},isLinkButtonRequired:function(){return this.getFieldStateModel().getFetchCallBacks().fetchIsTooltipLinkBtnRequired({field:this.getPropertyKey()})},getMarker:function(e){return this.getFieldStateModel().getFetchCallBacks().fetchMarkerClass(e)},getLabelStyle:function(e){return this.getFieldStateModel().getCompatabilityManager().getLabelStyle(e)},getPropertyKey:function(){return this.getFieldID().replace("Editor","")},getMenuElement:function(e){return this.getFieldStateModel().getPropMenuContext().getMenuElement(e)},setGlobalFunctions:function(){this.getFieldStateModel().getPropMenuContext().getCustomLabelMacros=this.getCustomLabelMacros},setLabelDefaultMacros:function(e){this.defaultMentions=e},getLabelDefaultMacros:function(){return this.defaultMentions},formViewOptions:function(){var e=this.getLabelText();this.setViewOptions({fieldID:this.getFieldID(),text:e,fontSize:this.getFontSizeFromHTML(e),linkButtonRequired:this.isLinkButtonRequired()})},getLabelText:function(){var e=this.getFieldStateModel().getPropertyFromState(this.getPropertyKey());return void 0!==e&&""!==e&&null!==e||(e=this.getCustomLabel(this.getFieldID(),null,this.getLabelDefaultMacros())),e},setLabelMentions:function(){var e=this.getPropertyKey(),t=this.getCustomFormattingEditorHelper().getLabelMentions({fieldId:this.getFieldID(),propertyKey:e,colDefinitions:this.getFieldStateModel().getColumnDefinitions(),genericMacros:this.getGenericMacros(e),getAttributeForms:this.getAttributeForms.bind(this),genericLabelMentions:this.getGenericMentions(e),chartSpecificMentions:this.getChartSpecificMentions(e)});this.setLabelDefaultMacros(t.defaults),this.setCustomLabelMacros(e,t.macros)},getCustomLabel:function(e,t,a,i){var n=[];n.push(i||this.getFieldStateModel().getFetchCallBacks().fetchDefaultFieldFormat(e)),t||(t=this.getLabelStyle(e));var o=[];if(oe.each(t,(function(e,t){o.push(t+": "+e+";")})),o.length>0){var r=[];return r.push('<span style="'),r.push(o.join("")),r.push('">'),r.push(n.join("")),r.push("</span>"),r.join("")}return n.join("")},initToolbarBootstrapBindings:function(e,t){var a=this,i=t.fonts,n=vitaraJQ("[title=Font]",e).siblings(".dropdown-menu");i?oe.each(i,(function(e){e.value&&n.append(vitaraJQ('<li><a data-edit="fontName '+e.value+'" style="font-family:\''+e.value+"'\">"+e.value+"</a></li>"))})):(i=["Arial","Arial Black","Courier","Courier New","Comic Sans MS","Helvetica","Impact","Lucida Grande","Lucida Sans","Serif","Sans","Tahoma","Times","Times New Roman","Verdana"],vitaraJQ.each(i,(function(e,t){n.append(vitaraJQ('<li><a data-edit="fontName '+t+'" style="font-family:\''+t+"'\">"+t+"</a></li>"))})));var o=vitaraJQ("[title=Marker]",e).siblings(".dropdown-menu");oe.each(t.markers,(function(e){var t=a.getMarker(e.value);o.append(vitaraJQ('<li><a data-edit="insertText [vm-'+t+']"><i class="fa-'+t+'"></i></a></li>'))})),vitaraJQ("a[title]",e).tooltip({container:t.container}),vitaraJQ(".dropdown-menu input",e).click((function(){return!1})).change((function(){vitaraJQ(this).parent(".dropdown-menu").siblings(".dropdown-toggle").dropdown("toggle")})).keydown("esc",(function(){this.value="",vitaraJQ(this).change()})),vitaraJQ("[data-role=magic-overlay]",e).each((function(){var e=vitaraJQ(this),t=vitaraJQ(e.data("target"));e.css("opacity",0).css("position","absolute").offset(t.offset()).width(t.outerWidth()).height(t.outerHeight())}))},addTooltipCustomization:function(e){var t=this,a=this.getMenuElement(".format-editor");a&&a.length>0&&(oe.each(a,(function(a){t.initToolbarBootstrapBindings(a.parentElement,e),vitaraJQ(a).wysiwyg({mentions:t.getCustomLabelMacros(a.id.replace("Editor",""))||[],root:e.container})})),window.prettyPrint&&prettyPrint(),a.hover((function(){e.dialog.draggable({disabled:!0})}),(function(){e.dialog.draggable({disabled:!1})})))}});const se=re;var le=i(8397);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e){return function(e){if(Array.isArray(e))return he(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||de(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=de(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==a.return||a.return()}finally{if(s)throw o}}}}function de(e,t){if(e){if("string"==typeof e)return he(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?he(e,t):void 0}}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function ge(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,me(i.key),i)}}function me(e){var t=function(e,t){if("object"!=ue(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=ue(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ue(t)?t:String(t)}var fe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,a,i;return t=e,i=[{key:"createSVGElement",value:function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}},{key:"createSVGIconDimensionMappingDict",value:function(e,t,a){if(!(!e&&VitaraGlobal.vitaraSVGDimensionDict||e&&VitaraGlobal.vitaraCustomSVGDict&&VitaraGlobal.vitaraCustomSVGDict[t])){var i,n=this;e?t&&utils.isRelativeUrl(t)?(i=utils.resolveURL(t,a.customImageDir),utils.syncFileRead(i,o.bind(n),r.bind(n),{contentType:"image/svg"})):t&&(i=utils.resolveURL(t,a.customImageDir),utils.syncFileRead(i,o.bind(n),r.bind(n),{})):(i=(a.baseFilePath||vitaraChartsPath())+"custom/customMarkerInfo.txt",utils.syncFileRead(i,o.bind(n),r.bind(n)))}function o(a,i,o){e?(VitaraGlobal.vitaraCustomSVGDict||(VitaraGlobal.vitaraCustomSVGDict={}),VitaraGlobal.vitaraCustomSVGDict[t]={},isMSTRDesktop()?VitaraGlobal.vitaraCustomSVGDict[t].Path=a:VitaraGlobal.vitaraCustomSVGDict[t].Path=vitaraJQ("svg",a).removeAttr("id")[0],void 0!==VitaraGlobal.vitaraCustomSVGDict[t].Path&&(VitaraGlobal.vitaraCustomSVGDict[t].Path=n.setCustomSVGDims(VitaraGlobal.vitaraCustomSVGDict[t].Path),VitaraGlobal.vitaraCustomSVGDict[t].Dimensions=n.getCustomSVGDimensions(VitaraGlobal.vitaraCustomSVGDict[t].Path))):(VitaraGlobal.vitaraSVGDimensionDict={},utils.parseDSV(a,(function(e,t){VitaraGlobal.vitaraSVGDimensionDict[e]=t})))}function r(a,i,n){e&&(VitaraGlobal.vitaraCustomSVGDict||(VitaraGlobal.vitaraCustomSVGDict={}),VitaraGlobal.vitaraCustomSVGDict[t]="File Not Available")}}},{key:"getSVGFileObject",value:function(e){var t=[{url:"/custom/customMarkerInfo.txt",ctx:"defaultSVGs"}];if(e&&e.length>0){var a,i=pe(e);try{for(i.s();!(a=i.n()).done;){var n=a.value;t.push({url:utils.isRelativeUrl(n)?"/custom/images/".concat(n):n})}}catch(e){i.e(e)}finally{i.f()}}return t}},{key:"getCustomSVGIconList",value:function(e){var t=[];if(e.series){var a,i=pe(e.series);try{for(i.s();!(a=i.n()).done;){var n=a.value;n.infographicCustomSVGEnable&&t.push(n.infographicCustomSVGPath),n.marker&&n.marker.svgOptions&&n.marker.svgOptions["custom-path"]&&t.push(n.marker.svgOptions["infographic-path"])}}catch(e){i.e(e)}finally{i.f()}}return e.customMarker&&Object.keys(e.customMarker).forEach((function(a){Object.keys(e.customMarker[a]).forEach((function(i){e.customMarker[a][i].infographicCustomSVGEnabled&&t.push(e.customMarker[a][i].infographicCustomSVGPath)}))})),e.columnState&&le.each(e.thresholds,(function(e){e.customIcon&&t.push(e.icon)})),t=[].concat(ce(t),ce(this.processMarkerObj(e.svgMarkerOptions))),t=[].concat(ce(t),ce(this.processThresholdObjectForSVGMarkers(e.thresholds))),e&&e.svgMarkerOptions&&(t=[].concat(ce(t),ce(this.processWaffleMarkerObject(e.svgMarkerOptions)))),t}},{key:"processWaffleMarkerObject",value:function(e){var t=[];return e.iconType&&e.iconType["custom-path"]&&t.push(e.iconType["infographic-path"]),t}},{key:"processThresholdObjectForSVGMarkers",value:function(e){var t=[];if(e)for(var a in e){var i=e[a];for(var n in i)i[n]&&i[n].svgOptions&&i[n].svgOptions["custom-path"]&&t.push(i[n].svgOptions["infographic-path"])}return t}},{key:"processMarkerObj",value:function(e){var t=[];return e?(e.markerType&&e.markerType["custom-path"]&&t.push(e.markerType["infographic-path"]),e.startValMarkerType&&e.startValMarkerType["custom-path"]&&t.push(e.startValMarkerType["infographic-path"]),e.endValMarkerType&&e.endValMarkerType["custom-path"]&&t.push(e.endValMarkerType["infographic-path"]),t):t}},{key:"loadSVGMarkersMobile",value:function(e,t){var a=this;VitaraGlobal.vitaraSVGDimensionDict&&this.isCustomSVGLoadedForMobile(t)&&e();var i=this.getSVGFileObject(t);utils.readFilesJSONP(i,(function(t){a.processSVGData(t),e()}))}},{key:"isCustomSVGLoadedForMobile",value:function(e){if(!VitaraGlobal.customSVGDict)return!1;for(var t in e)if(!VitaraGlobal.customSVGDict[e[t]])return!1;return!0}},{key:"getCustomSVGDimensions",value:function(e){var t={};try{var a=document.body.appendChild(e);t=a.getBoundingClientRect(),a.remove()}catch(e){console.log("Unable to Add Element to Document Body")}return{width:t.width&&t.height?t.width:512,height:t.width&&t.height?t.height:512}}},{key:"extractSVGFromHTMLString",value:function(e){try{return vitaraJQ(e).filter((function(e,t){return vitaraJQ(t).is("svg")}))[0]}catch(e){return""}}},{key:"isValidSVGFile",value:function(e){var t=e.substring(0,5),a=e.substring(0,6),i=e.substring(e.length-6);return(/<svg\b/i.test(t)||/<?xml\b/i.test(a))&&"</svg>"===i}},{key:"processSVGData",value:function(e,t,a){if(e){for(var i in e)if(e[i]&&e[i].res&&e[i].res.data)if("defaultSVGs"===e[i].ctx)VitaraGlobal.vitaraSVGDimensionDict={},utils.parseDSV(e[i].res.data,(function(e,t){VitaraGlobal.vitaraSVGDimensionDict[e]=t}));else{if(!this.isValidSVGFile(e[i].res.data))return void(a&&a());if(VitaraGlobal.vitaraCustomSVGDict||(VitaraGlobal.vitaraCustomSVGDict={}),e[i].url){var n=utils.isRelativeUrl(e[i].url)?e[i].url.split("custom/images/")[1]:e[i].url,o=this.extractSVGFromHTMLString(e[i].res.data);o&&(VitaraGlobal.vitaraCustomSVGDict[n]={},VitaraGlobal.vitaraCustomSVGDict[n].Path=this.setCustomSVGDims(o),VitaraGlobal.vitaraCustomSVGDict[n].Dimensions=this.getCustomSVGDimensions(o))}}t&&t()}}},{key:"getSVGDims",value:function(e){if(e){var t=e.split(" ");return{width:void 0!==t[2]?t[2]:void 0!==t[0]?t[0]:void 0,height:void 0!==t[3]?t[3]:void 0!==t[1]?t[1]:void 0}}}},{key:"setCustomSVGDims",value:function(e){if(e){var t=this.getSVGDims(vitaraJQ(e).attr("viewBox"));if(t)return void 0===vitaraJQ(e).attr("width")&&"undefined"!==t.width&&vitaraJQ(e).attr("width",t.width),void 0===vitaraJQ(e).attr("height")&&"undefined"!==t.height&&vitaraJQ(e).attr("height",t.height),e}}},{key:"getInfographicSVGICon",value:function(e,t,a,i){var n;t?(n=this.createSVGElement("g")).appendChild(vitaraJQ(e.path)[0].cloneNode(!0)):(n=this.createSVGElement("path")).setAttribute("d",e.path);var o="";e.translate&&(o="translate(".concat(e.translate.X,",").concat(e.translate.Y,")"));var r=a&&a.isBarChart?-e.scale.Y:e.scale.Y;return o+="scale(".concat(e.scale.X,",").concat(r,")"),a&&a.isBarChart&&(o+="rotate(90)",o+="translate(-".concat(a.iconProperties.originalHeight,",").concat(-a.iconProperties.originalWidth,")")),void 0!==i&&n.setAttribute("radius",i),n.setAttribute("transform",o),e.clipPath&&n.setAttribute("clip-path",e.clipPath),e.position&&(e.position.X&&n.setAttribute("x",e.position.X),e.position.Y&&n.setAttribute("y",e.position.Y)),e.fillColor&&n.setAttribute("fill",e.fillColor),n}},{key:"getInfographicIconProperties",value:function(e,t,a,i){var n={},o={};try{if(t){var r;o=null===(r=VitaraGlobal)||void 0===r||null===(r=r.vitaraCustomSVGDict)||void 0===r?void 0:r[a]}else{var s,l=e?"fa-".concat(e):"fa-square",u=null===(s=VitaraGlobal)||void 0===s||null===(s=s.vitaraSVGDimensionDict)||void 0===s?void 0:s[l];if(!u)return console.warn("Icon path for '".concat(l,"' not found in vitaraSVGDimensionDict.")),n;o=JSON.parse(u)}if(o&&Object.keys(o).length>0){var c,p=null===(c=o)||void 0===c?void 0:c.Dimensions;if(null!=p&&p.width&&null!=p&&p.height){var d=i?p.height:p.width,h=i?p.width:p.height;n={path:o.Path,Dimensions:p,originalHeight:h,originalWidth:d,aspectRatio:p.width/p.height}}else console.warn("Dimensions are missing or incomplete for the selected icon.")}else console.warn("No valid properties found for the selected icon.")}catch(e){console.error("Error while getting infographic icon properties:",e)}return n}},{key:"getPercentageForSelectedMetric",value:function(e,t){var a=1,i=1;e.maxValue?(a=e.maxValue,i=e.currentValue):(i=this.getMetricValueForCurrnetPoint(e,t),a=e.infographicMaxValue);var n=i/a*100;return!n||n>100?n=100:n<=0&&(n=0),n}},{key:"getMetricValueForCurrnetPoint",value:function(e,t){var a,i=e.dataTitles.indexOf(e.infographicFillPercentageMetric);return t.datarow&&t.datarow[i]&&(a=t.datarow[i].v),a}},{key:"getDefaultFillOptions",value:function(e,t,a,i){return{fillPercentage:t,pathDimensions:a.Dimensions,fillDirection:e.infographicFillDirection,id:i,fillColor:e.fillColor,unfilledColor:e.infographicUnfilledColor?e.infographicUnfilledColor:"#ccc"}}},{key:"getIconsToDraw",value:function(e){var t,a="Fixed"===e.scalingType?0:e.minMarkerCount;return e.mapDataToScale?t=e.minValue<0&&e.maxValue>0?vitaraD3.scale.linear().domain([0,Math.max(e.maxValue,-e.minValue)]).range([a,e.maxMarkerCount])(Math.abs(e.currentValue)):e.maxValue<=0?vitaraD3.scale.linear().domain([0,-e.minValue]).range([a,e.maxMarkerCount])(-e.currentValue):vitaraD3.scale.linear().domain([0,e.maxValue]).range([a,e.maxMarkerCount])(e.currentValue):(t=Math.abs(e.currentValue))<a?t=a:t>e.maxMarkerCount&&(t=e.maxMarkerCount),t}},{key:"getUpdatedCurrentGridIconPosition",value:function(e,t){var a=0;return e.minValue<0&&e.maxValue>0&&(a=e.cellWidth/2-(e.currentValue>=0?0:1)*t),a}},{key:"isInfographicDictionaryNotLoaded",value:function(e){if(!e)return!0;if(e.infographicCustomSVGEnable){if(!VitaraGlobal.vitaraCustomSVGDict)return!0;if(!VitaraGlobal.vitaraCustomSVGDict[e.infographicCustomSVGPath]||"File Not Available"===VitaraGlobal.vitaraCustomSVGDict[e.infographicCustomSVGPath])return!0}else if(!e.infographicCustomSVGEnable&&(!VitaraGlobal.vitaraSVGDimensionDict||vitaraJQ.isEmptyObject(VitaraGlobal.vitaraSVGDimensionDict)))return!0;return!1}}],(a=null)&&ge(t.prototype,a),i&&ge(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ve=[{name:"Shapes",icons:["circle","circle-thin","dot-circled","square","check-empty","check-square","check-square-o","diamond","star","star-o","tree","heart","heart-o","check","check-circle-o","check-circle","exclamation-triangle","exclamation-circle","exclamation","bullseye","plus-squared","minus","line"]},{name:"Directional",icons:["angle-double-down","angle-double-left","angle-double-right","angle-double-up","arrow-circle-down","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-circle-down-o","arrow-circle-left-o","arrow-circle-right-o","arrow-circle-up-o","arrow-down","arrow-left","arrow-right","arrow-up","arrows","arrows-alt","arrows-h","arrows-v","exchange","down-hand","left-hand","right-hand","up-hand","thumbs-up-o","thumbs-up","thumbs-down-o","thumbs-down"]},{name:"Finance",icons:["money","dollar","yen","funnel-dollar","search-dollar","gbp","rupee","rub","viacoin","won","lira","credit-card"]},{name:"Transportation",icons:["ambulance","car","bicycle","bus","fighter-jet","plane","rocket","ship","train","truck","truck-monster","wheelchair"]},{name:"Office",icons:["tablet","laptop","hotel","eraser","pencil","pen","paint-brush"]},{name:"Miscellaneous",icons:["shopping-basket","male","female","child","medkit","umbrella","glass","coffee","smile","frown","meh"]},{name:"Custom"}];const ye=function(e,t){var a=e.selection["selected-icon"]||"fa-circle",i=e.enableCustom,n=e.targetContainer||e.context;vitaraJQ("#markerTypeModal").remove();var o=vitaraJQ("<div></div>").attr("id","markerTypeModal");vitaraJQ(o).addClass("vitara-marker-type-grid-modal"),vitaraJQ(o).draggable();var r=vitaraJQ("<div></div>").addClass("marker-type-left-panel");ve.forEach((function(n){if(i||"Custom"!==n.name){var o=vitaraJQ("<div><span>".concat(utils.convertStringLanguage(n.name),"</span></div> ")).addClass("marker-type-tab-element").click((function(){vitaraJQ(this).addClass("marker-type-active").siblings().removeClass("marker-type-active");var i=vitaraJQ("#right-panel-content");if(i.empty(),"Custom"===n.name){var o='<div class="infoMarkerCustoMessage">\n                            <h6> <strong>'.concat(utils.convertStringLanguage("NOTE"),"</strong> : ").concat(utils.convertStringLanguage("Only svg files are supported"),"</p>\n                            <h6> ").concat(utils.convertStringLanguage('Custom marker file should be available at the designated location within the "custom/images" directory of the application path.'),"</p>\n                            <h6>").concat(utils.convertStringLanguage("Please ensure the file is also available on the Library server at the same path")," </p>\n                        </div>"),r=vitaraJQ('<div class="col-md-12"><label class="vitara-chart-editor-label custom-marker-label section-heading" original-name="SVG Path">'.concat(utils.convertStringLanguage("SVG Path"),'</label><input class="vitara-chart-editor-field form-control" type="text" id="popupCustomSVGPath" style="width: 100%;">').concat(o,"</div>"));vitaraJQ(r.children()[1]).val(e.selection["infographic-path"]),i.append(r);var s=vitaraJQ('<div class="col-md-12 padding-bottom-10"><span class="buttonset"><button type="button" id="applyInfographicCustomPath" class="vitara-chart-editor-field btn btn-default">'.concat(utils.convertStringLanguage("Apply"),"</button></span></span></div>")).click((function(a){var i=vitaraJQ("#popupCustomSVGPath").val(),n={"selected-icon":"vitaraCustomSVGFile","custom-path":!0,"infographic-path":i},o=function(){vitaraJQ("#popupCustomSVGPath").closest(".marker-type-right-panel").find(".property-editor-error").remove(),vitaraJQ("#markerTypeModal").remove(),t(n)},r=function(){vitaraJQ("#popupCustomSVGPath").closest(".marker-type-right-panel").find(".property-editor-error").remove(),vitaraJQ("#popupCustomSVGPath").closest(".marker-type-right-panel").prepend('<div class="property-editor-error alert alert-danger">'.concat(utils.convertStringLanguage("No SVG File at provided URL."),"</div>"))};if(["customCategoryLabelMarker","customLabelMarker","customTooltipMarker","stackTotalLabelMarker","thresholdCustomLabelMarker"].includes(e.id))o();else if(utils.isRelativeUrl(i)){var s=utils.resolveURL(i,vitaraBackgroundImagePath());utils.syncFileRead(s,o,r,{contentType:"image/svg"})}else utils.readFilesJSONP([{url:i}],(function(e){e&&e[0]&&e[0].res?fe.processSVGData(e,o,r):r()}))}));i.append(s)}else n.icons.forEach((function(e){var n=vitaraJQ("<div></div>").addClass("svg-".concat(e," svg-").concat(e,"-dims")).attr({id:e,"data-toggle":"tooltip",title:"".concat(e)}).css({"background-image":"".concat("".default),cursor:"pointer",margin:"3px"}).click((function(){vitaraJQ("#markerTypeModal").remove(),t({"selected-icon":e,"custom-Path":!1})}));if(e===a){var o=vitaraJQ("<div></div>").css({"border-style":"solid","border-width":"thin"});o.append(n),i.append(o)}else i.append(n)}))}));r.append(o)}}));var s=vitaraJQ("<div id='right-panel-content'></div>").addClass("marker-type-right-panel"),l=vitaraJQ("<span>&times;</span>").addClass("marker-type-close-icon").click((function(){vitaraJQ("#markerTypeModal").remove()})),u=vitaraJQ("<div></div>").css({width:"100%",position:"relative",display:"flex",top:"20px"});u.append([l,r,s]),o.append(u),n.append(o[0]),vitaraJQ("#markerTypeModal").ready((function(){vitaraJQ(".marker-type-tab-element").first().trigger("click")}))};function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Se(i.key),i)}}function Se(e){var t=function(e,t){if("object"!=be(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=be(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==be(t)?t:String(t)}var Ce,Me=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.helperContext=t}var t,a,i;return t=e,(a=[{key:"setDropdownOptions",value:function(e,t){e.empty(),vitaraJQ.each(t,(function(t,a){e.append(vitaraJQ("<option>",{value:a.value,text:a.text,selected:a.selected}))}))}},{key:"setMetricSelector",value:function(){this.setDropdownOptions(this.helperContext.eInterface.getElementRef("#popupwfMetricSelector"),this.helperContext.getMetricTitlesAsOptions())}},{key:"initListeners",value:function(){vitaraJQ(this.helperContext.getPropMenuContainer()).off("change","#popupwfEnableTotal").on("change","#popupwfEnableTotal",(function(){vitaraJQ(this).prop("checked")?this.helperContext.eInterface.getElementRef("#popupwfTotalAlias").parent().show():this.helperContext.eInterface.getElementRef("#popupwfTotalAlias").parent().hide()}))}}])&&xe(t.prototype,a),i&&xe(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ee=function(){};vitaraJQ.extend(Ee.prototype,{markerList:{star:{text:"text:",code:"ue800",class:"star"},staro:{text:"text:",code:"ue801",class:"star-o"},"star-o":{text:"text:",code:"ue801",class:"star-o"},arrowdown:{text:"text:",code:"ue802",class:"arrow-down"},checkcircle:{text:"text:",code:"ue803",class:"check-circle"},checkcircleo:{text:"text:",code:"ue804",class:"check-circle-o"},arrowleft:{text:"text:",code:"ue805",class:"arrow-left"},arrowright:{text:"text:",code:"ue806",class:"arrow-right"},arrowup:{text:"text:",code:"ue807",class:"arrow-up"},arrowcircleodown:{text:"text:",code:"ue808",class:"arrow-circle-down-o"},arrowcircleoup:{text:"text:",code:"ue821",class:"arrow-circle-up-o"},arrowsh:{text:"text:",code:"ue80a",class:"arrows-h"},arrowsv:{text:"text:",code:"ue80b",class:"arrows-v"},check:{text:"text:",code:"ue80c",class:"check"},thumbsoup:{text:"text:",code:"ue80d",class:"thumbs-up-o"},thumbsodown:{text:"text:",code:"ue80e",class:"thumbs-down-o"},exclamationtriangle:{text:"text:",code:"ue80f",class:"exclamation-triangle"},exclamationcircle:{text:"text:",code:"ue810",class:"exclamation-circle"},stop:{text:"text:",code:"uE811",class:"stop"},checksquareo:{text:"text:",code:"ue812",class:"check-square-o"},heart:{text:"text:",code:"ue813",class:"heart"},hearto:{text:"text:",code:"ue814",class:"heart-o"},play:{text:"text:",code:"ue815",class:"play"},pause:{text:"text:",code:"ue816",class:"pause"},arrows:{text:"text:",code:"uf047",class:"arrows"},arrowcircleleft:{text:"text:",code:"uf0a8",class:"arrow-circle-left"},arrowcircleright:{text:"text:",code:"uf0a9",class:"arrow-circle-right"},arrowcircleup:{text:"text:",code:"uf0aa",class:"arrow-circle-up"},arrowcircledown:{text:"text:",code:"uf0ab",class:"arrow-circle-down"},arrowsalt:{text:"text:",code:"uf0b2",class:"arrows-alt"},square:{text:"text:",code:"uf0c8",class:"square"},circle:{text:"text:",code:"uf111",class:"circle"},smileo:{text:"text:",code:"uf118",class:"smile"},frowno:{text:"text:",code:"uf119",class:"frown"},meho:{text:"text:",code:"uf11a",class:"meh"},exclamation:{text:"text:",code:"uf12a",class:"exclamation"},bullseye:{text:"text:",code:"uf140",class:"bullseye"},checksquare:{text:"text:",code:"uf14a",class:"check-square"},thumbsup:{text:"text:",code:"uf164",class:"thumbs-up"},thumbsdown:{text:"text:",code:"uf165",class:"thumbs-down"},female:{text:"text:",code:"uf182",class:"female"},male:{text:"text:",code:"uf183",class:"male"},arrowcircleoleft:{text:"text:",code:"uf18e",class:"arrow-circle-left-o"},arrowcircleoright:{text:"text:",code:"uf190",class:"arrow-circle-right-o"},child:{text:"text:",code:"uf1ae",class:"child"},diamond:{text:"text:",code:"uf219",class:"diamond"},rightdir:{text:"text:.",code:"u002E",class:"right-dir"},leftdir:{text:"text:-",code:"u002D",class:"left-dir"},checkempty:{text:"text:*",code:"u002A",class:"check-empty"},minus:{text:"text:2",code:"u0032",class:"minus"},"circle-thin":{text:"text:4",code:"u0034",class:"circle-thin"},"dot-circled":{text:"text:5",code:"u0035",class:"dot-circled"},"check-empty":{text:"text:*",code:"u002a",class:"check-empty"},"check-square":{text:"text:",code:"uf14a",class:"check-square"},"check-square-o":{text:"text:",code:"ue812",class:"check-square-o"},tree:{text:"text:6",code:"u0036",class:"tree"},"heart-o":{text:"text:",code:"ue814",class:"heart-o"},"exclamation-triangle":{text:"text:",code:"ue80f",class:"exclamation-triangle"},"exclamation-circle":{text:"text:",code:"ue810",class:"exclamation-circle"},"plus-squared":{text:"text:(",code:"u0028",class:"plus-squared"},line:{text:"text:k",code:"u006b",class:"line"},"angle-double-down":{text:"text::",code:"u003a",class:"angle-double-down"},"angle-double-left":{text:"text:7",code:"u0037",class:"angle-double-left"},"angle-double-right":{text:"text:8",code:"u0038",class:"angle-double-right"},"angle-double-up":{text:"text:9",code:"u0039",class:"angle-double-up"},"angle-circle-down":{text:"text:",code:"uf0ab",class:"angle-circle-down"},"angle-circle-up":{text:"text:",code:"uf0aa",class:"angle-circle-up"},"angle-circle-left":{text:"text:",code:"uf0a8",class:"angle-circle-left"},"angle-circle-right":{text:"text:",code:"uf0a9",class:"angle-circle-right"},"angle-circle-down-o":{text:"text:",code:"ue808",class:"angle-circle-down-o"},"angle-circle-left-o":{text:"text:",code:"uf190",class:"angle-circle-left-o"},"angle-circle-right-o":{text:"text:",code:"uf18e",class:"angle-circle-right-o"},"angle-circle-up-o":{text:"text:",code:"ue821",class:"angle-circle-right-o"},"arrow-down":{text:"text:",code:"ue802",class:"arrow-down"},"arrow-left":{text:"text:",code:"ue805",class:"arrow-left"},"arrow-right":{text:"text:",code:"ue806",class:"arrow-right"},"arrow-up":{text:"text:",code:"ue807",class:"arrow-up"},"arrows-alt":{text:"text:",code:"uf0b2",class:"arrows-alt"},"arrows-h":{text:"text:",code:"ue80a",class:"arrows-h"},"arrows-v":{text:"text:",code:"ue80b",class:"arrows-v"},exchange:{text:"text:@",code:"u0040",class:"exchange"},"down-hand":{text:"text:D",code:"u0044",class:"down-hand"},"left-hand":{text:"text:B",code:"u0042",class:"left-hand"},"right-hand":{text:"text:A",code:"u0041",class:"right-hand"},"up-hand":{text:"text:C",code:"u0043",class:"up-hand"},money:{text:"text:E",code:"u0045",class:"money"},dollar:{text:"text:F",code:"u0046",class:"dollar"},yen:{text:"text:G",code:"u0047",class:"yen"},"funnel-dollar":{text:"text:e",code:"u0065",class:"funnel-dollar"},"search-dollar":{text:"text:f",code:"u0066",class:"search-dollar"},gbp:{text:"text:H",code:"u0048",class:"gbp"},"credit-card":{text:"text:N",code:"u004e",class:"credit-card"},rupee:{text:"text:I",code:"u0049",class:"rupee"},rub:{text:"text:J",code:"u004a",class:"rub"},viacoin:{text:"text:K",code:"u004b",class:"viacoin"},won:{text:"text:L",code:"u004c",class:"won"},lira:{text:"text:M",code:"u004d",class:"lira"},ambulance:{text:"text:W",code:"u0057",class:"ambulance"},car:{text:"text:S",code:"u0053",class:"car"},bicycle:{text:"text:P",code:"u0050",class:"bicycle"},bus:{text:"text:Q",code:"u0051",class:"bus"},"fighter-jet":{text:"text:V",code:"u0056",class:"fighter-jet"},plane:{text:"text:g",code:"u0067",class:"plane"},rocket:{text:"text:R",code:"u0052",class:"rocket"},ship:{text:"text:U",code:"u0055",class:"ship"},train:{text:"text:T",code:"u0054",class:"train"},truck:{text:"text:O",code:"u004f",class:"truck"},"truck-monster":{text:"text:h",code:"u0068",class:"truck-monster"},wheelchair:{text:"text:X",code:"u0058",class:"wheelchair"},tablet:{text:"text:d",code:"u0064",class:"tablet"},laptop:{text:"text:c",code:"u0063",class:"laptop"},hotel:{text:"text:i",code:"u0069",class:"hotel"},eraser:{text:"text:b",code:"u0062",class:"eraser"},pencil:{text:"text:",code:"ue809",class:"pencil"},pen:{text:"text:a",code:"u0061",class:"pen"},"paint-brush":{text:"text:`",code:"u0060",class:"paint-brush"},scissors:{text:"text:_",code:"u005f",class:"scissors"},"shopping-basket":{text:"text:[",code:"u005b",class:"shopping-basket"},medkit:{text:"text:Y",code:"u0059",class:"medkit"},umbrella:{text:"text:\\",code:"u005c",class:"umbrella"},glass:{text:"text:^",code:"u005e",class:"glass"},coffee:{text:"text:Z",code:"u005a",class:"coffee"},"arrow-circle-left":{text:"text:",code:"uf0a8",class:"arrow-circle-left"},"arrow-circle-right":{text:"text:",code:"uf0a9",class:"arrow-circle-right"},"arrow-circle-up":{text:"text:",code:"uf0aa",class:"arrow-circle-up"},"arrow-circle-down":{text:"text:",code:"uf0ab",class:"arrow-circle-down"},"arrow-circle-left-o":{text:"text:",code:"uf190",class:"arrow-circle-left-o"},"arrow-circle-right-o":{text:"text:",code:"uf18e",class:"arrow-circle-right-o"},"arrow-circle-up-o":{text:"text:",code:"ue821",class:"arrow-circle-up-o"},"arrow-circle-down-o":{text:"text:",code:"ue808",class:"arrow-circle-down-o"},smile:{text:"text:",code:"uf118",class:"smile"},frown:{text:"text:",code:"uf119",class:"frown"},meh:{text:"text:",code:"uf11a",class:"meh"},"thumbs-up":{text:"text:",code:"uf164",class:"thumbs-up"},"thumbs-down":{text:"text:",code:"uf165",class:"thumbs-down"},"thumbs-up-o":{text:"text:",code:"ue80d",class:"thumbs-up-o"},"thumbs-down-o":{text:"text:",code:"ue80e",class:"thumbs-down-o"},"check-circle":{text:"text:",code:"ue803",class:"check-circle"},"check-circle-o":{text:"text:",code:"ue804",class:"check-circle-o"}},getMarker:function(e){return this.markerList[e]?this.markerList[e].text:null},getMarkerClass:function(e){return this.markerList[e]?this.markerList[e].class:e},getMarkerCode:function(e){return this.markerList[e]?this.markerList[e].code:e},getMarkerIcon:function(e){return this.markerList[e]?this.markerList[e].text.split(":")[1]:e},DEF_HC_MARKERS:["circle","square","diamond","triangle","triangle-down"],getHCMarker:function(e){return-1===this.DEF_HC_MARKERS.indexOf(e)?this.getMarker(e):null},setHCCustomMarkerCallBack:function(){var e=this;function t(t,a,i,n,o,r,s){if(0===(a=e.getMarker(a)?e.getMarker(a):a).indexOf("text:")){var l=a.replace("text:",""),u=this.text(l,i,n+r).css({fontFamily:"fontello",fontSize:r});return u.renderer.isVML&&(u.fillSetter=function(e,t,a){a.style.color=H.Color(e).get("rgb")}),u}return t.apply(this,[].slice.call(arguments,1))}Highcharts&&(Highcharts.wrap(Highcharts.SVGRenderer.prototype,"symbol",t),Highcharts.VMLRenderer&&Highcharts.wrap(Highcharts.VMLRenderer.prototype,"symbol",t))}});var Te=function(){return Ce||(Ce=new Ee),Ce};function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t,a){var i;return i=function(e,t){if("object"!=ke(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=ke(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ke(i)?i:String(i))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function we(e){this.init(e)}Object.assign(we.prototype,Ae(Ae(Ae({DEFAULT_OPTIONS:{},init:function(e){e&&e.context&&(this.context=e.context),this.setOptions(e),this.setFieldStateModel()},setOptions:function(e){this.markerGridOptions=vitaraJQ.extend(!0,{},this.DEFAULT_OPTIONS,e)},getOptions:function(){return this.markerGridOptions||this.setOptions(),this.markerGridOptions},setFieldStateModel:function(){this.fieldStateModel=new Z(this.getOptions())},getFieldStateModel:function(){return this.fieldStateModel},getMenuElement:function(e){return this.context.getMenuElement(e)},processMarkerGridSetup:function(){var e=this;vitaraJQ.each(e.context.markerTypes,(function(t){null!==e.context.markerIcons?(e.getMenuElement("#popup"+e.context.markerTypes[t].name).parent().show(),e.addMarkerGridToPopUp(e.context.markerTypes[t]),e.setMarkerGridListener(e.context.markerTypes[t])):e.getMenuElement("#popup"+e.context.markerTypes[t].name).parent().hide()}))},addMarkerGridToPopUp:function(e){var t=this.getMenuElement("#popup"+e.name);t.empty();for(var a=[],i=!1,n=0;n<this.context.markerIcons.length;n++){var o="";e.selected===this.context.markerIcons[n].value?(i=!0,o+='<text class="marker_grid_selected markergrid"',this.setMarkerSelection(e.name,this.context.markerIcons[n].value)):o+='<text class="marker_grid markergrid"',o+='id="'+e.name+"_"+this.context.markerIcons[n].value+'"',o+='name="'+this.context.markerIcons[n].value+'" style="font-family:fontello;font-size:large;cursor:pointer">'+this.context.menuOptions.fetchCallback.fetchMarkerText(this.context.markerIcons[n].value),o+="</text>",a.push(o)}this.getMenuElement("#popup"+e.name).append(a),i||(vitaraJQ("#"+e.name+"_circle",t)[0].setAttribute("class","marker_grid_selected markergrid"),this.setMarkerSelection(e.name,"circle"))},setMarkerSelectionSvg:function(e,t){var a=this.getMenuElement("#popup"+e),i=this.getMenuElement("#popup"+e+"> i");a&&a.length&&(a.attr("selected-icon",t["selected-icon"]||"circle"),a.attr("custom-path",t["custom-path"]||""),a.attr("infographic-path",t["infographic-path"]||""),t["custom-path"]?i.removeClass().addClass("svg-vitaraCustomSVGFile svg-vitaraCustomSVGFile-dims infoMarkerType"):i.removeClass().addClass("fa fa-".concat(this.getMarkerClassName(t["selected-icon"]||"circle"))))},getMarkerClassName:function(e){return Te().getMarkerClass(e)},setMarkerSelection:function(e,t){var a;"thresholdMarkerType"===e?(a=this.getMenuElement("#popup"+e))&&a.length&&(a.attr("selected-icon",t),this.getMenuElement("#popup"+e+"> i").removeClass().addClass("fa fa-".concat(this.getMarkerClassName(t)))):(a=this.getMenuElement("#popup"+e+"markerSelection"))&&a.length&&(a[0].style.fontFamily="fontello",a[0].style.fontSize="large",a[0].style.cursor="pointer",a[0].style.padding="3px",this.setMarkerText(a,t))},setMarkerText:function(e,t){e.text(this.context.menuOptions.fetchCallback.fetchMarkerText(t))},setMarkerGridListener:function(e){var t=this,a=t.getMenuElement("#popup"+e.name+"markerSelection");a[0].addEventListener("click",(function(a){a.stopPropagation();var i=t.getMenuElement("#popup"+e.name);i.hasClass("sp-hidden")?(vitaraJQ(document).on("click.markerGrid",(function(a){a.stopPropagation(),t.hideMarkerGrid(e)})),i.removeClass("sp-hidden"),i.on("click.markerGridContainer",(function(e){e.stopPropagation()}))):(i.addClass("sp-hidden"),i.off("click.markerGridContainer"),vitaraJQ(document).off("click.markerGrid"))}));var i=vitaraJQ(".markergrid",t.getMenuElement("#popup"+e.name)[0]);vitaraJQ.each(i,(function(n){i[n].addEventListener("click",(function(o){o.stopPropagation();var r=vitaraJQ(".marker_grid_selected",t.getMenuElement("#popup"+e.name)[0])[0];r&&r.setAttribute("class","marker_grid markergrid"),i[n].setAttribute("class","marker_grid_selected markergrid"),t.hideMarkerGrid(e),t.setMarkerText(a,t.context.markerIcons[n].value),"thresholdMarkerType"!==e.name&&"gridThresholdIcon"!==e.name&&t.context.saveFormData(e.name,i[n].getAttribute("name"))}))}))},hideMarkerGrid:function(e){var t=this.getMenuElement("#popup"+e.name);t.hasClass("sp-hidden")||(t.addClass("sp-hidden"),t.off("click.markerGridContainer")),vitaraJQ(document).off("click.markerGrid")},setThresholdMarkerSelection:function(e){0!==this.getMenuElement("#popupthresholdMarkerType").length&&(1===vitaraJQ(this.getMenuElement("#popupthresholdMarkerType")[0]).length&&this.setMarkerSelection("thresholdMarkerType",e))},addMakerType:function(e){var t={name:e.id},a=this.getFieldStateModel().getPropertyFromState(e.name);(void 0!==a||void 0!==e.default)&&(t.selected=a),this.getFieldStateModel().getPropMenuContext().markerTypes.push(t)},setMarkerIcons:function(e){if(0===this.getMarkerIcons().length&&e.length>0){for(var t=[],a=0;a<e.length;a++)t[a]={value:e[a].value};return this.setMarkerIcons(t),!0}return!1}},"setMarkerIcons",(function(e){this.getFieldStateModel().getPropMenuContext().markerIcons=e})),"getMarkerIcons",(function(){return this.getFieldStateModel().getPropMenuContext().markerIcons})),"getViewHtml",(function(e){var t=e.field;this.addMakerType(t);var a=[];return a.push('<text class="marker_grid_selected" id="'+e.prefix+t.id+'markerSelection"></text>'),a.push('<div class="marker_grid_container markergrid-container sp-hidden" id="'+e.prefix+t.id+'">'),this.setMarkerIcons(t.options)||a.push("<option></option>"),a.push("</div>"),a.join("")})));const Ie=we;var Pe=i(8397);function De(e){this.init(e)}Object.assign(De.prototype,{DEFAULT_OPTIONS:{},init:function(e){this.setOptions(e),this.setFieldStateModel(),utils=e.utils},setFieldStateModel:function(){this.fieldStateModel=new Z(this.getOptions())},setOptions:function(e){this.selectOptions=vitaraJQ.extend(!0,{},this.DEFAULT_OPTIONS,e)},getOptions:function(){return this.selectOptions||this.setOptions(),this.selectOptions},getFieldStateModel:function(){return this.fieldStateModel},getFieldOptions:function(e){if(-1!==["kpiRing1MaxSelection","kpiRing2MaxSelection","kpiRing3MaxSelection","BarFillMaxSelection"].indexOf(e.name)&&("BarFillMaxSelection"===e.name?(e.options=this.getFieldStateModel().getPropMenuContext().getValueZoneMetricTitlesAsOptions(),e.options.unshift({text:"Auto",value:"Auto"},{text:"Fixed Value",value:"Fixed Value"})):(e.options=this.getFieldStateModel().getPropMenuContext().getMetricTitlesAsOptions(),e.options.unshift({text:"Fixed Value",value:"Fixed Value"}))),e.id.indexOf("MetricSelect")>0){e.options=[];var t=this.getFieldStateModel().getColumnDefinitions();t&&t.length>0&&Pe.each(t,(function(t){t.isMetric&&e.options.push({value:t.headerName,text:t.headerName})})),-1===e.id.indexOf("band")&&-1===e.id.indexOf("startValue")&&-1===e.id.indexOf("endValue")&&-1===e.id.indexOf("StartValue")&&-1===e.id.indexOf("EndValue")||(e.options.unshift({value:"select",text:"Select"}),e.options=this.getFieldStateModel().getFetchCallBacks().fetchFieldOptions(e.id,e.options),e.options.push({value:"fixed",text:"Fixed Value"}))}return e.removeFirstOption&&e.options.shift(),e.options},getDropDownOptions:function(e){var t=this,a=this.getFieldOptions(e),i=[];if(a.length>0){var n={seriesColors:0,fillPattern:0,xAxisLabelRotation:1,yAxisLabelRotation:2,sYAxisLabelRotation:3,trellisNumColumns:4,lineStyle:5,Input_Date_Format:6,Week_Start_Day:7,calType:8,trellisChartType:9,gridThresholdIcon:10,themeFormat:11,dashStyle:12},o=this.getFieldStateModel().getPropMenuContext().context.getCustomPaletteDefaults(),r=this.getFieldStateModel().getPropMenuContext().context.getCustomFontDefaults(),s=this.getFieldStateModel().getPropertyFromState(e.name),l=function(a){return e&&(e.id in n||e.id.indexOf("Font")>-1)||e.id.indexOf("Bold")>-1||e.id.indexOf("Italic")>-1||e.id.indexOf("underline")>-1?a.text:t.getFieldStateModel().getPropMenuContext().eInterface.translateText(a.text)};Pe.each(a,(function(t){var a={value:t.value,text:l(t)};(function(t){return void 0!==s&&s===t.value||(void 0===s&&(t.value===o||t.value===r)||void 0!==e.default&&e.default===t.value&&void 0===s)})(t)&&(a.selected="selected"),i.push(a)}))}return i},addDropDownOptions:function(e,t){Pe.each(t,(function(t){t.text=utils.decodeStringValue(t.text),utils.appendHtmlElement(vitaraJQ(e),vitaraJQ("<option>",t))}))},addDropDown:function(e,t){var a=utils.createHTMLElement("select",{class:"form-control vitara-chart-editor-field vitara-dropdown-menu "+t.field.class,name:t.field.name,id:""+t.prefix+t.field.id});this.addDropDownOptions(a,this.getDropDownOptions(t.field)),utils.appendHtmlElement(e,a)}});const Le=De;function Oe(e){this.init(e)}Object.assign(Oe.prototype,{init:function(e){e&&e.context&&(this.context=e.context)},getGlobalErrorHandler:function(){var e=this.context;return function(t){if("string"==typeof t.filename&&-1!==t.filename.search("VitaraEditors")){var a=e.getMenuElement("#modalWindow"+e.menuOptions.id);if(a.length>0){var i=vitaraJQ(".modal-header",a.context);vitaraJQ("#headerErrorContainer",i.context).remove(),i.append('<div id="headerErrorContainer" class="vitara-chart-editor-error"><i class="fa-exclamation-triangle vitara-editor-error-icon">&nbsp</i>'+t.message+"</div>"),window.setTimeout((function(){vitaraJQ(".modal-content",a.context).scrollTop(0)}),10)}console.error(t)}}},setErrorHandler:function(){window.addEventListener("error",this.getGlobalErrorHandler())},removeErrorHandler:function(){window.removeEventListener("error",this.getGlobalErrorHandler())},getBaseEventHandler:function(e){var t=this;return function(e,a){var i,n,o,r=!1;if(this.nodeName){switch(this.nodeName){case"SELECT":if("change"!==e.type)return;r=!0;break;case"BUTTON":if("click"!==e.type)return;vitaraJQ(this).hasClass("toogle-button")&&(n=+!vitaraJQ(this).hasClass("active"),vitaraJQ("#"+vitaraJQ(this).data("value")).data("prevval",!n),vitaraJQ("#"+vitaraJQ(this).data("value")).prop("checked",n),vitaraJQ(this).hasClass("active")?vitaraJQ(this).removeClass("active"):vitaraJQ(this).addClass("active")),r=!0,i=vitaraJQ("#"+vitaraJQ(this).data("value")).attr("name");break;case"INPUT":if("change"!==e.type&&"changecolor"!==e.type&&"spin"!==e.type)return void("focusin"===e.type&&"checkbox"!==this.type&&"text"!==this.type&&vitaraJQ(this).data("prevval",vitaraJQ(this).val()));r=!0,"checkbox"===this.type?(n=+vitaraJQ(this).is(":checked"),vitaraJQ(this).data("prevval",+!n)):"radio"===this.type?n=vitaraJQ(this).attr("id"):"text"===this.type?vitaraJQ(e.target).hasClass("ui-spinner-input")&&(n=a?a.value:parseInt(vitaraJQ(this).val())):"hidden"===this.type&&(n=e.detail&&e.detail.value?e.detail.value:vitaraJQ(this).val());break;case"DIV":r=!0;break;default:console.log("Unhandled: "+e.type+", "+this.type+", "+this.nodeName)}r&&(n=void 0===n?vitaraJQ(this).val():n,i=void 0===i?vitaraJQ(this).attr("name"):i,o=vitaraJQ(this).data("prevval"),t.processFieldUpdate({fieldId:i,value:n,prevValue:o,target:this,originalEvent:e}))}}},setBaseEventHandler:function(){vitaraJQ(this.context.getPropMenuContainer()).off("change spin click focusin",".vitara-chart-editor-field").on("change spin click focusin",".vitara-chart-editor-field",this.getBaseEventHandler())},updateToChart:function(e,t,a){this.context.changeCallback(e,a,t),this.context.saveFormData(e,t)},isUpdateReq:function(e){return!e||!e.action||"none"!==e.action&&"actionLimited"!==e.action},isBroadcastReq:function(e){return!(!e||!e.publish)},processFieldUpdate:function(e){var t=this.context.getField(e.fieldId);t&&(this.isBroadcastReq(t)&&this.broadcastEvent(this.context.eInterface.getPopup(),this.getEvent(t.publish,e.fieldId,e.value,e.prevVal,e.target,e.originalEvent)),!this.isBroadcastReq(t)&&this.isUpdateReq(t)&&this.updateToChart(e.fieldId,e.value,e.prevValue))},getEventNS:function(){return this.context.EVENT_NAMESPACE},getEvent:function(e,t,a,i,n,o){return vitaraJQ.Event(e,{namespace:this.getEventNS(),target:n,detail:{name:t,value:a,prevValue:i,originalEvent:o}})},broadcastEvent:function(e,t){vitaraJQ(e).trigger(t)},setAccordion:function(e){this.accordion=e},getAccordion:function(){return this.accordion},getAccordionEventHandler:function(){var e=this;return function(){e.context.getElementRef(".panel-heading a.active").removeClass("active"),e.context.getElementRef(".panel-heading.active").removeClass("active"),vitaraJQ(this).parents(".panel-heading").addClass("active"),vitaraJQ(this).addClass("active");var t=vitaraJQ(this).data("parent"),a=vitaraJQ(this).attr("href");return vitaraJQ(t).find(".panel-right .in").removeClass("in"),vitaraJQ(a).addClass("in"),vitaraJQ(".modal-body").scrollTop(0),e.broadcastMenuSelection(this),!1}},broadcastMenuSelection:function(e){this.broadcastEvent(this.context.eInterface.getPopup(),this.getEvent("onMenuSelected",vitaraJQ(e).attr("original-name"),null,null,e))},setAccordionEventHandler:function(e){this.setAccordion(e),vitaraJQ(this.getAccordion()).off("click").on("click",".panel-heading a",this.getAccordionEventHandler())},removeAccordionEventHandler:function(){vitaraJQ(this.getAccordion()).off("click",".panel-heading a",this.getAccordionEventHandler())},removeEventHandlers:function(){vitaraJQ(this.context.getChartArea()).off("."+this.getEventNS()),this.removeAccordionEventHandler(),this.removeErrorHandler()},destroy:function(){this.removeEventHandlers(),this.setAccordion(null)}});const Fe=Oe,Ve=function(){};Object.assign(Ve.prototype,{LABEL_CSS:"vitara-chart-editor-label section-heading",FIELD_CSS:"vitara-chart-editor-field",ELEM_SELECTOR:"Vitara-control-checklist",getLabelHtml:function(e){return'<label class="'+this.LABEL_CSS+'"> '+e+" </label>"},getCheckboxHtml:function(e,t,a,i){return t=t?"checked":"",'<input class="'+this.ELEM_SELECTOR+'"type="checkbox" value="'+e+'" id="'+a+'" name="'+i+'"'+t+"></input>"},getRowHtml:function(e,t,a,i){return this.getCheckboxHtml(e,t,a,i)+this.getLabelHtml(e)},getHtml:function(e){if(e){var t=this;return'<div id="'+e.id+'Container"><input type="hidden" id="'+e.id+'" name="'+e.name+'" class="'+this.FIELD_CSS+" "+(e.class?e.class:"")+'">'+function(){for(var a="",i=0;i<e.items.length;i++)a+="</br>"+t.getRowHtml(e.items[i].label,e.items[i].checked,e.items[i].id,e.items[i].name);return a}()+"</div>"}},addHtml:function(e,t){if(!t)return;var a=this;let i=window.utils.createHTMLElement("div",{id:t.id+"Container"});window.utils.appendHtmlToElement(i,'<input type="hidden" id="'+t.id+'" name="'+t.name+'" class="'+this.FIELD_CSS+" "+(t.class?t.class:"")+'">'+function(){for(var e="",i=0;i<t.items.length;i++)e+="</br>"+a.getRowHtml(t.items[i].label,t.items[i].checked,t.items[i].id,t.items[i].name);return e}()),window.utils.appendHtmlElement(e,i)},changeHandler:function(e){for(var t,a=[],i=vitaraJQ(this).parent().children("input"),n=0;n<i.length;n++)"hidden"===vitaraJQ(i[n]).attr("type")?t=i[n]:a.push({label:vitaraJQ(i[n]).attr("value"),checked:vitaraJQ(i[n]).is(":checked")});vitaraJQ(t).trigger(vitaraJQ.Event("change",{target:t,detail:{value:a,originalEvent:e}}))},create:function(){vitaraJQ("."+this.ELEM_SELECTOR).on("click",this.changeHandler)},destroy:function(){vitaraJQ("."+this.ELEM_SELECTOR).off("click",this.changeHandler)}});const Re=Ve;var Be=i(8397);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _e(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _e(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function Ue(e){this.init(e)}Object.assign(Ue.prototype,{init:function(e){e&&e.context&&(this.context=e.context)},getUtils:function(){return utils},getAsDropDownOptions:function(e){for(var t=[],a=0;a<e.length;a++)t.push({text:e[a],value:e[a]});return t},setDropdownOptions:function(e,t,a){this.context&&this.context.setDropdownOptions?this.context.setDropdownOptions(e,t,a):(e.empty(),this.appendDropDownOptions(e,t,a))},appendDropDownOptions:function(e,t,a){vitaraJQ.each(t,(function(t,i){e.append(vitaraJQ("<option>",a?a(i):{value:i.value,text:i.text}))}))},setTableData:function(e,t,a,i){if(e&&e[0]){a&&e.empty();var n=this;if(function(){var t=r(e);s(t,{width:"40%"}),s(t,{width:"40%"}),s(t,{width:"20%"})}(),t&&t.length>0)Be.each(t,(function(e){l.apply(void 0,Ne(e))}));else{var o=s(r(e),{colspan:"2"});n.getUtils().appendHtmlElement(o,document.createTextNode(n.context.eInterface.translateText(i)))}}function r(e,t){var a=e.insertRow?e.insertRow():e[0].insertRow();return n.getUtils().setElementProperties(a,t)}function s(e,t){var a=e.insertCell?e.insertCell():e[0].insertCell();return n.getUtils().setElementProperties(a,t)}function l(t,a,i,o,l,u){var c=r(e,l?{style:"opacity:0.6;"}:null),p=s(c);if(l){var d=n.getUtils().createHTMLElement("i",{title:l.msg,class:"fa-info",style:"cursor:pointer;"});n.getUtils().appendHtmlToElement(d,t),n.getUtils().appendHtmlElement(p,d)}else n.getUtils().appendHtmlToElement(p,t);var h=s(c);n.getUtils().appendHtmlToElement(h,a);var g=s(c);if(!l&&i){var m=n.getUtils().createHTMLElement("a",i),f=document.createTextNode("Edit");n.getUtils().appendHtmlElement(m,f),n.getUtils().appendHtmlElement(g,m),o&&n.getUtils().appendHtmlElement(g,document.createTextNode("/"))}if(o){var v=n.getUtils().createHTMLElement("a",o),y=document.createTextNode("Delete");n.getUtils().appendHtmlElement(v,y),n.getUtils().appendHtmlElement(g,v)}u&&n.getUtils().appendHtmlElement(g,u)}},simplify:function(e){for(var t in e)"object"===He(e[t])?this.simplify(e[t]):void 0!==e[t]&&""!==e[t]||delete e[t]},getRandomBtwn:function(e,t){return Math.floor(Math.random()*(t-e))+e},getNewId:function(){return this.getRandomBtwn(1e5,999999)},destroyInputSuggestions:function(e){try{var t=vitaraJQ(e).autocomplete("instance");t&&t.destroy&&t.destroy()}catch(e){console.log(e.message)}},getDecodedSourceOptions:function(e){return Be.map(e,(function(e){return utils.decodeHTMLString(e)}))},getSelectedInputSuggestionId:function(e){var t=this.context.getMenuElement(e).autocomplete("instance");return t&&t.selectedItem&&t.selectedItem.eid?t.selectedItem.eid:void 0},setInputSuggestions:function(e,t){return vitaraJQ(e).autocomplete({appendTo:"#"+this.context.getModalContainer().prop("id"),source:this.getDecodedSourceOptions(t),autoFocus:!0,position:{within:this.context.getPropMenuContainer().find(".modal-dialog"),collision:"fit"}})},getColumnsTitlesAsOptions:function(e){var t=this.context,a=[];for(var i in t.eInterface.menuOptions.columnDefs){var n=t.eInterface.menuOptions.columnDefs[i];null!==n&&""!==n&&void 0!==n&&(e||n.isMetric)&&a.push({text:t.getDropDownTextValue(n.headerName),value:n.headerName,sId:n.columnId})}return a},setElementAttr:function(e,t,a){if(e&&void 0!==t&&a){var i=this,n=Be.isArray(e)?e:[e];Be.each(n,(function(e){i.context.getMenuElement("#popup".concat(e)).attr(a,t)}))}}});const Ge=Ue;var Ye=i(8397);function Je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(a),!0).forEach((function(t){ze(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Je(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ze(e,t,a){var i;return i=function(e,t){if("object"!=je(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=je(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==je(i)?i:String(i))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e){this.init(e)}Object.assign(We.prototype,Ge.prototype,{ATTR_CONDITIONS:[{text:"Select",value:""},{text:"Equal To",value:"equalto"},{text:"Not Equal To",value:"notequalto"},{text:"Contains",value:"contains"},{text:"Not Contains",value:"notcontains"},{text:"Starts With",value:"startswith"},{text:"Not Starts With",value:"notstartswith"},{text:"Ends With",value:"endswith"},{text:"Not Ends With",value:"notendswith"}],ATTR_DATE_CONDITIONS:[{text:"From Date",value:"fromdate"},{text:"To Date",value:"todate"},{text:"Between Dates",value:"betweendates"},{text:"Not Between Dates",value:"notbetweendates"}],ENUM_THRESHOLD_ATTR_OPTIONS:{equalto:"Equal To",notequalto:"Not Equal To",contains:"Contains",notcontains:"Not Conatains",startswith:"Starts With",notstartswith:"Not Starts With",endswith:"Ends With",notendswith:"Not Ends With",regex:"Regular Expression",fromdate:"From Date",todate:"To Date",betweendates:"Between Dates",notbetweendates:"Not Between Dates"},init:function(e){e&&e.context&&(this.context=e.context),e&&e.utils&&(this.utils=e.utils)},getNewGID:function(e){for(var t=this.getNewId();Ye.find(e,(function(a){return-1!==Ye.findIndex(e[a],(function(e){return e.gid===t}))}));)this.getNewGID();return t},getNewUID:function(e){for(var t=this.getNewId();Ye.find(e,(function(a){return-1!==Ye.findIndex(e[a],(function(e){return e.gid===t||e.id===t}))}));)this.getNewUID();return t},getGrThresholdIndexByID:function(e,t){if(e&&e.length&&t)return Ye.findIndex(e,(function(e){return e.gid==t}))},insertThresholds:function(e,t,a){if(e&&t&&t.length){for(var i=0;i<t.length;i++)e.splice(a,0,t[i]),a++;return e}},getThresholdsByID:function(e,t){return(Ye.find(e,(function(e){return-1!==Ye.findIndex(e,(function(e){return e.gid==t}))}))||[]).filter((function(e){return e.gid==t}))},getGrThresholdStartColor:function(e){return e[Ye.findIndex(e,(function(e){return"bottompercentage"===e.condition}))].color},getGrThresholdEndColor:function(e){return e[Ye.findIndex(e,(function(e){return"toppercentage"===e.condition}))].color},getGrThresholdCount:function(e){return e.length},getGrThresholdDisplayTitle:function(e,t){return this.getGrThresholdCount(e)+" Scale Threshold"},getGrColors:function(e){return e.map((function(e){return e.color}))},getGrThresholdIds:function(e){var t=[];for(var a in e)e[a].forEach((function(e){e.gid&&-1===t.indexOf(e.gid)&&t.push(e.gid)}));return t},getGradientOptionsFromUI:function(){var e=this.context.getThresholdsUIManager().getGradientThresholdsCount();return{startColor:this.context.getThresholdsUIManager().getGradientThresholdStartColor(),endColor:this.context.getThresholdsUIManager().getGradientThresholdEndColor(),stops:e,invert:this.context.getThresholdsUIManager().getGradientThresholdColorsInvert(),csr:this.getCustomGradientStops(e)}},invertGradientThresholdColors:function(){var e=this.context.getThresholdsUIManager().getGradientThresholdStartColor(),t=this.context.getThresholdsUIManager().getGradientThresholdEndColor();this.context.getThresholdsUIManager().setGradientThresholdStartColor(t),this.context.getThresholdsUIManager().setGradientThresholdEndColor(e)},getGrThresholdColorRanges:function(e){var t=[],a=[];return Ye.each(e,(function(e){t.push(e.color),"bottompercentage"===e.condition?(a.push(0),a.push(e.values[0])):"toppercentage"===e.condition?a.push(100):a.push(e.values[1])})),{colorScales:t,colorRanges:a}},getGrThresholdProps:function(e,t){var a=this.getThresholdsByID(e,t);return{id:t,title:this.getGrThresholdDisplayTitle(a),startColor:this.getGrThresholdStartColor(a),endColor:this.getGrThresholdEndColor(a),colors:this.getGrColors(a),count:this.getGrThresholdCount(a),slice:a[0],customColorRanges:this.getGrThresholdColorRanges(a)}},getSvgGradientHtml:function(e){var t="15",a=!1;e.slice&&e.slice.alias&&("80",t="5",a=!0);var i=e.colors.map((function(t,a){return'<stop offset="'+100/e.colors.length*(a+1)+'%" stop-color="'+t+'"></stop>'})).join(""),n='<svg width="100" height="'+t+'">'+('<defs><linearGradient id="'+e.id+'">'+i+"</linearGradient></defs>")+('<rect id="rect1" x="0" y="0" rx="4" ry="4" width="100" height="'+t+'" fill="url(#'+e.id+')"></rect>')+"</svg>";return a?"<div>"+e.slice.alias+"</div><div>"+n+"</div>":n},deleteGrThresholds:function(e,t){for(var a in e)Ye.remove(e[a],(function(e){return e.gid==t}));return e},getElementValue:function(e,t){return this.context.getMenuElement(e).val()||t},getElementProperty:function(e,t,a){return this.context.getMenuElement(e).prop(t)||a},getGradientThresholdsCount:function(){return parseInt(this.getElementValue("#popupthresholdCount",2))},getGradientThresholdStartColor:function(){return this.getElementValue("#popupthresholdStartColor","")},getGradientThresholdEndColor:function(){return this.getElementValue("#popupthresholdEndColor","")},setGradientThresholdStartColor:function(e){this.setElementColor("#popupthresholdStartColor",e)},setGradientThresholdEndColor:function(e){this.setElementColor("#popupthresholdEndColor",e)},setElementColor:function(e,t){this.context.setVitaraColorPicker(e,t)},getGradientThresholdColorsInvert:function(){return this.getElementProperty("#popupinvertGradientColors","checked",!1)},getAttributeThresholdConditions:function(e){return this.context.eInterface.menuOptions.fetchCallback.isDateColumn(e)?this.ATTR_CONDITIONS.concat(this.ATTR_DATE_CONDITIONS):this.ATTR_CONDITIONS},getThresholdConditionsBySourceType:function(e){var t=this.context;return"string"!=typeof e?(console.error("Threshold view: Source was expecting a string was given ",je(e)),[]):t.eInterface.dataHelper.isMetric(e)?[]:t.eInterface.dataHelper.isAttribute(e)?this.getAttributeThresholdConditions(e):[]},getSourceOptions:function(){return this.getThresholdColumns(this.context.eInterface.menuOptions.fetchCallback.hasAttributeThresholdSupport())},getValidatedSourceOptions:function(e,t){return this.context.eInterface.menuOptions.fetchCallback.fetchValidatedThresholdSourceOptions({isSeriesByMetric:this.isTargetsByMetric(),isMetricTarget:this.context.eInterface.dataHelper.isMetric(e),selTarget:e,selTargetAsOpts:this.context.getAsDropDownOptions([e]),sourceElems:t})},thresholdSelectorOptions:function(){var e=this,t=this.context,a=function(e){return e};return{onChangeTarget:function(){var i=t.getMenuElement("#popupthresholdSeriesSelect").val();if("AnimatedGauge"===t.eInterface.menuOptions.chartType);else if(t.getPlotLinesUIManager().isPlSpecificTarget(i))t.getPlotLinesUIManager().setPlotLinesAsOptions(t.getMenuElement("#popupthresholdColSelect")),t.getPlotLinesUIManager().setPlotLineThresholdConditions(t.getMenuElement("#popupthresholdFormat"));else{t.getPlotLinesUIManager().setDropdownOptions(t.getMenuElement("#popupthresholdColSelect"),[{text:"Select",value:""}].concat(e.getValidatedSourceOptions(i,e.getSourceOptions()).concat(t.getPlotLinesUIManager().getPlotLinesAsOptions(!0))),a);var n=t.getField("thresholdFormat");n&&n.options&&(t.getPlotLinesUIManager().setDropdownOptions(t.getMenuElement("#popupthresholdFormat"),n.options),t.getMenuElement("#popupthresholdFormat").data("type",""))}e.checkThresholds()},onChangeSource:function(){e.destroyAttributeSuggestions();var a=t.getMenuElement("#popupthresholdColSelect").val(),i=t.getField("thresholdFormat");if(t.getMenuElement("#popupthresholdColSelect").find(":selected").attr("sid"),t.eInterface.dataHelper.isMetric(a)){if(i&&i.options){var n=t.getSelectDropDown().getDropDownOptions(i);t.getPlotLinesUIManager().setDropdownOptions(t.getMenuElement("#popupthresholdFormat"),n),t.getMenuElement("#popupthresholdFormat").data("type","")}}else if(t.eInterface.dataHelper.isAttribute(a)){var o=t.getSelectDropDown().getDropDownOptions(Qe(Qe({},i),{},{options:e.getAttributeThresholdConditions(a)}));t.getPlotLinesUIManager().setDropdownOptions(t.getMenuElement("#popupthresholdFormat"),o),t.getMenuElement("#popupthresholdFormat").data("type",e.ENUM_THRESHOLD_TYPE.ATTRIBUTE),e.setAttributeSuggestions()}else t.getPlotLinesUIManager().setThresholdConditionsIfPlotLine(a,t.getMenuElement("#popupthresholdFormat"));e.setSourceValueRange(a)},setThresholdConditions:function(){var a=t.getField("thresholdFormat"),i=t.getMenuElement("#popupthresholdColSelect").val();if(i&&t.eInterface.dataHelper.isAttribute(i)){var n=t.getSelectDropDown().getDropDownOptions(Qe(Qe({},a),{},{options:e.getAttributeThresholdConditions(i)}));t.getPlotLinesUIManager().setDropdownOptions(t.getMenuElement("#popupthresholdFormat"),n),t.getMenuElement("#popupthresholdFormat").data("type",e.ENUM_THRESHOLD_TYPE.ATTRIBUTE)}else if(a&&a.options){var o=a.options;t.eInterface.menuOptions&&"KPIRingEditor"===t.eInterface.menuOptions.chartType&&(o=a.options.filter((function(e){return"Gradient Threshold"!==e.value}))),t.getPlotLinesUIManager().setDropdownOptions(t.getMenuElement("#popupthresholdFormat"),o),t.getMenuElement("#popupthresholdFormat").data("type","")}}}},ENUM_THRESHOLD_OPTIONS:{equalto:"Equal To",greaterthan:"Greater Than",lessthan:"Less Than",greaterthanequalto:"Greater Than Equal To",lessthanequalto:"Less Than Equal To",between:"Between",top:"Top",bottom:"Bottom",toppercentage:"Top Percentage",bottompercentage:"Bottom Percentage",betweenpercentage:"Between Percentage",aboveaverage:"Above Average",belowaverage:"Below Average",abovetheline:"Above The Line",belowtheline:"Below The Line",gradientthreshold:"Gradient Threshold"},ENUM_THRESHOLD_TYPE:{PLOT_LINE:"plotLine",ATTRIBUTE:"attribute"},computeThresholds:function(){var e,t,a,i,n,o,r,s,l,u,c,p,d,h,g,m,f,v,y,b,x,S,C,M,E,T,k,A,w,I,P,D,L,O,F,V,R,B,H=this.context,N=H.getMenuElement("#colId").val(),_=H.getMenuElement("#thresholdId").val();if(null!=(t=H.getMenuElement("#popupthresholdFormat").val())&&""!==t){if(a=t.toLowerCase().replace(/ /g,""),w=H.getMenuElement("#popupthresholdFormat").data("type"),L=H.getMenuElement("#popupthresholdLevelSelect").prop("checked"),V=H.getMenuElement("#popupinvertGradientColors").prop("checked"),R=H.getMenuElement("#popupcustomGradientStops").prop("checked"),A=H.sanitizeContent(H.getMenuElement("#popupthresholdAlias").val()),s=H.getMenuElement("#popupthresholdValue1").val(),u=this.getSelectedInputSuggestionId("#popupthresholdValue1"),l=H.getMenuElement("#popupthresholdValue2").val(),c=H.getMenuElement("#popupthresholdValueDate1").val(),p=H.getMenuElement("#popupthresholdValueDate2").val(),I=H.getMenuElement("#popupthresholdStartColor").val(),P=H.getMenuElement("#popupthresholdEndColor").val(),D=(D=H.getMenuElement("#popupthresholdCount").val())<=1?2:D,1==+R&&(B=this.getCustomGradientStops(+D)),i=H.getMenuElement("#popupthresholdcolor").val(),n=H.getMenuElement("#popupthresholdFillPattern").val(),o=H.getMenuElement("#popupthresholdPanelColor").val(),r=H.getMenuElement("#popupthresholdMarkerColor").val(),d=H.getMenuElement("#popupthresholdColSelect").val(),h=H.getMenuElement("#popupthresholdColSelect option:selected").attr("sId"),g=H.getMenuElement("#popupthresholdSeriesSelect").val(),m=H.getMenuElement("#popupthresholdSeriesSelect option:selected").attr("sId"),d||(d=g),f=H.getMenuElement("#popupthresholdEnableDataLabel").prop("checked"),"AnimatedGauge"===H.eInterface.menuOptions.chartType&&(f=1),v=H.getMenuElement("#popupthresholdMarkerType").attr("selected-icon"),y={"custom-path":H.getMenuElement("#popupthresholdMarkerType").attr("custom-path"),"infographic-path":H.getMenuElement("#popupthresholdMarkerType").attr("infographic-path")},x=H.getMenuElement("#popupthresholdMarkerHAlign").val(),F=H.getMenuElement("#popupthresholdEnableMarker").prop("checked"),b=H.getMenuElement("#popupthresholdMarkerSize").val(),S=H.getMenuElement("#popupthresholdDatalabelFontName").val(),C=H.getMenuElement("#popupthresholdDatalabelFontSize").val(),M=H.getMenuElement("#thresholdDatalabelFontBold").prop("checked"),E=H.getMenuElement("#thresholdDatalabelFontItalic").prop("checked"),T=H.getMenuElement("#thresholdDatalabelUnderline").prop("checked"),k=H.getMenuElement("#popupthresholdDataLabelColor").val(),O=H.getMenuElement("#thresholdCustomLabelEditor"),H.state.thresholds||(H.state.thresholds={}),H.state.thresholds[g]||(H.state.thresholds[g]=[]),(e={}).source=d,e.sourceId=h,e.target=g,e.targetId=m,H.getPlotLinesUIManager().isPlotLine(d)&&(e.pluid=H.getPlotLinesUIManager().getPlotLineUID(d)),e.condition=a,e.type=w,e.values=[],e.elementIds=[],e.type===this.ENUM_THRESHOLD_TYPE.ATTRIBUTE?"betweendates"===e.condition?(c&&""!==c&&e.values.push(c),p&&""!==p&&e.values.push(p)):-1!==["fromdate","todate"].indexOf(e.condition)?c&&""!==c&&e.values.push(c):s&&""!==s&&(e.values.push(H.sanitizeContent(s)),e.elementIds.push(u)):"aboveaverage"!==e.condition&&"belowaverage"!==e.condition&&(s&&""!==s&&!isNaN(s)&&e.values.push(Number(s)),"betweenpercentage"!==e.condition&&"between"!==e.condition||l&&""!==l&&!isNaN(l)&&e.values.push(Number(l))),e=this.setPropValIfExists(e,"color",i),e=this.setPropValIfExists(e,"fillPattern",n),e=this.setPropValIfExists(e,"panelColor",o),e=this.setPropValIfExists(e,"markerColor",r),e=this.setPropValIfExists(e,"markerEnable",F),e=this.setPropValIfExists(e,"enableDataLabel",f),e=this.setPropValIfExists(e,"alias",A),e=this.setPropValIfExists(e,"level",L),e=this.setPropValIfExists(e,"invertGradient",V),e=this.setPropValIfExists(e,"customGradientStops",R),e=this.setPropValIfExists(e,"customColorRanges",B),this.context.gradientPicker&&(e=this.setPropValIfExists(e,"gradientColors",this.context.gradientPicker.getColorValue())),e.enableDataLabel){if(O&&O[0]){var U=O.cleanHtml();e=this.setPropValIfExists(e,"customLabel",U)}e.dataLabelStyle={},e.dataLabelStyle=this.populateStyleObj(e.dataLabelStyle,[S,C,k,M,E,T])}if(e.markerEnable&&(e=this.setPropValIfExists(e,"markerType",v),e=this.setPropValIfExists(e,"markerSize",b),e=this.setPropValIfExists(e,"markerHAlign",x),e=this.setPropValIfExists(e,"svgOptions",y)),e.id=H.getThresholdsUIManager().getNewGID(H.state.thresholds),_&&N){var G=H.getThresholdsUIManager().getThresholdsByID(H.state.thresholds,N);if(G&&G.length>0){var Y=N;N=H.getThresholdsUIManager().getGrThresholdIndexByID(H.state.thresholds[g],Y),H.state.thresholds=H.getThresholdsUIManager().deleteGrThresholds(H.state.thresholds,Y)}else H.state.thresholds[_].splice(N,1);J(N)}else J();this.manageThresholdClick(),this.saveThresholdData()}function J(t){if("gradientthreshold"===e.condition){var a=function(){return{startColor:I,endColor:P,count:D,source:e.source,sourceId:e.sourceId,target:e.target,targetId:e.targetId,gid:H.getThresholdsUIManager().getNewGID(H.state.thresholds),alias:A,customGradientStops:R,csr:B,invert:e.invertGradient}};H.state.thresholds[g]=void 0!==t?H.getThresholdsUIManager().insertThresholds(H.state.thresholds[g],H.eInterface.menuOptions.fetchCallback.fetchGradientThresholdOptions(a()),t):H.state.thresholds[g].concat(H.eInterface.menuOptions.fetchCallback.fetchGradientThresholdOptions(a()))}else t&&!isNaN(t)&&H.state.thresholds[g]?H.getThresholdsUIManager().insertThresholds(H.state.thresholds[g],[e],t):H.state.thresholds[g].push(e)}},populateStyleObj:function(e,t){return e=this.setPropValIfExists(e,"fontFamily",t[0]),e=this.setPropValIfExists(e,"fontSize",t[1]?t[1]+"px":""),e=this.setPropValIfExists(e,"color",t[2]),e=this.setPropValIfExists(e,"fontWeight",!0===t[3]?"bold":"normal"),e=this.setPropValIfExists(e,"fontStyle",!0===t[4]?"italic":"normal"),e=this.setPropValIfExists(e,"text-decoration",!0===t[5]?"underline":"")},setGradientCustomStopsLayout:function(e){var t=this.context;if(1==+e){var a=+this.context.getMenuElement("#popupthresholdCount").val(),i=this.getCustomGradientStops(a).colorScales;t.getMenuElement("#thresholdGradientSelector").closest(".row").show(),i&&i.length&&Ye.each(vitaraJQ("#thresholdGradientSelector").find("input.thresholdCustomStopsInput"),(function(e,t){vitaraJQ(e).vitaracolorpicker("update",i[t].indexOf("#")>-1||i[t].indexOf("rgb")>-1?i[t]:"#"+i[t])}))}else t.getMenuElement("#thresholdGradientSelector").closest(".row").hide()},setDefaultGradientColors:function(){var e=this.context;e.setVitaraColorPicker("#popupthresholdStartColor","#d73027"),e.setVitaraColorPicker("#popupthresholdEndColor","#1a9850")},getCustomGradientStops:function(e){for(var t=this.context,a=[],i=[0],n=0;n<e;n++)a.push(t.getMenuElement("#popupthresholdCustomStops"+n).val()),i.push(parseFloat(t.getMenuElement("#thresholdGradientRange_"+(n+1)).val()));return{colorScales:a,colorRanges:i}},setPropValIfExists:function(e,t,a){return a&&""!=a&&(e[t]=a),e},manageThresholdClick:function(){var e=this.context;this.refreshManageThreshold(),e.getMenuElement(".manage-thresholds").show(),e.getMenuElement(".add-edit-thresholds").hide(),e.getMenuElement("#addNewThresholds").show(),e.getMenuElement("#thresholdButton").hide(),e.getMenuElement("#cancelThresholds").hide(),e.getMenuElement(".thresholdFields").closest("div").find("hr").hide(),e.getMenuElement(".thresholdFields").hide()},refreshManageThreshold:function(){var e=this.context.getMenuElement(".manage-thresholds table");this.setTableData(e,this.getThresholdRenderData(),!0,"No threshold(s) found")},getThresholdRenderData:function(){if(!this.context.state.thresholds)return[];var e=this,t=[],a=[],i=[],n={"data-type":"threshold",href:"javascript:void(0);"};function o(t){var a=t.type===e.ENUM_THRESHOLD_TYPE.ATTRIBUTE?e.ENUM_THRESHOLD_ATTR_OPTIONS[t.condition]:e.ENUM_THRESHOLD_OPTIONS[t.condition];return a+=t.values&&t.values.length?": "+t.values[0]:"",a+=t.values[1]?" - "+t.values[1]:""}for(var r in e.context.state.thresholds)Ye.each(e.context.state.thresholds[r],(function(s,l){var u,c,p,d=null;if(s.gid&&-1==t.indexOf(s.gid)){t.push(s.gid),p=s.gid;var h=e.getGrThresholdProps(e.context.state.thresholds,s.gid);u=r!==s.source?r+" - "+s.source:r,c=e.getSvgGradientHtml(h),d={"data-idType":"gid","data-colid":p,"data-thresholdid":r}}else s.gid||(p=l,u=r!==s.source?r+" - "+s.source:r,c=s.alias?s.alias:o(s),d={"data-idType":"id","data-colid":p,"data-thresholdid":r});d&&(s.dangle?i.push([u,c,null,Ye.extend({class:"thresholdDelete"},n,d),{msg:s.dangleMsg}]):a.push([u,c,Ye.extend({class:"thresholdEdit"},n,d),Ye.extend({class:"thresholdDelete"},n,d)]))}));return a.concat(i)},getStateProperties:function(){return this.context.getState()},saveThresholdData:function(){this.context.getState().thresholds=this.context.state.thresholds,this.context.saveCallback()},setThresholdListeners:function(){var e=this,t=this.context,a=this.context.getPropMenuContainer();this.context.getState(),this.context.lastEditedThreshold;vitaraJQ(a).off("click","#thresholdButton").on("click","#thresholdButton",(function(){"GridChart"!==t.eInterface.menuOptions.chartType&&t.getThresholdsUIManager().computeThresholds()})),vitaraJQ(a).off("change","#popupthresholdFormat").on("change","#popupthresholdFormat",(function(){"GridChart"!==t.eInterface.menuOptions.chartType&&(e.checkThresholds(t.getMenuElement("#popupthresholdFormat").val()),e.setAttributeSuggestions())})),vitaraJQ(a).off("click","#cancelThresholds").on("click","#cancelThresholds",(function(){e.manageThresholdClick()})),vitaraJQ(a).off("click","#manageThresholds").on("click","#manageThresholds",(function(){e.manageThresholdClick()})),vitaraJQ(a).off("click","#addNewThresholds").on("click","#addNewThresholds",(function(){e.resettingThreshold(),e.addThresholdClick(),e.setSourceValueRange()})),vitaraJQ(a).off("change","#popupthresholdSeriesSelect").on("change","#popupthresholdSeriesSelect",(function(){"GridChart"!==t.eInterface.menuOptions.chartType&&e.thresholdSelectorOptions().onChangeTarget()})),vitaraJQ(a).off("change","#popupthresholdColSelect").on("change","#popupthresholdColSelect",(function(){e.thresholdSelectorOptions().onChangeSource()})),vitaraJQ(a).off("click",".thresholdEdit").on("click",".thresholdEdit",(function(){var a,i=vitaraJQ(this).data("colid"),n=vitaraJQ(this).data("thresholdid"),o=vitaraJQ(this).data("idtype"),r=t.state.thresholds[n][i];if(e.resettingThreshold(),"gid"===o?(a=t.getThresholdsUIManager().getGrThresholdProps(t.state.thresholds,i),(r=Ye.cloneDeep(a.slice)).condition="gradientthreshold",t.getMenuElement("#popupinvertGradientColors").prop("checked",1==+r.invert),t.getMenuElement("#popupcustomGradientStops").prop("checked",1==+r.customGradientStops),t.setVitaraColorPicker("#popupthresholdStartColor",a.startColor),t.setVitaraColorPicker("#popupthresholdEndColor",a.endColor),t.getMenuElement("#popupthresholdCount").val(a.count),t.setCutomGradientStopsSelection({startColor:a.startColor,endColor:a.endColor,stops:t.getThresholdsUIManager().getGradientThresholdsCount()},a.customColorRanges)):r=t.state.thresholds[n][i],r){if(e.setSourceValueRange(r.source,r.target),t.getMenuElement("#idtype").val(o),t.getMenuElement("#colId").val(i),t.getMenuElement("#thresholdId").val(n),t.getMenuElement("#popupthresholdSeriesSelect").val(n),e.thresholdSelectorOptions().onChangeTarget(),t.getMenuElement("#popupthresholdColSelect").val(r.source),e.thresholdSelectorOptions().onChangeSource(),t.getMenuElement("#popupthresholdFormat").val(r.type===e.ENUM_THRESHOLD_TYPE.ATTRIBUTE?r.condition:e.ENUM_THRESHOLD_OPTIONS[r.condition]),t.getMenuElement("#popupthresholdFillPattern").val(r.fillPattern?r.fillPattern:"nofill"),t.setVitaraColorPicker("#popupthresholdcolor",r.color||"",null,null,"palette"),t.setVitaraColorPicker("#popupthresholdPanelColor",r.panelColor),t.setVitaraColorPicker("#popupthresholdMarkerColor",r.markerColor),"between"===r.condition||"betweenpercentage"===r.condition?(t.getMenuElement("#popupthresholdValue1").val(r.values[0]),t.getMenuElement("#popupthresholdValue2").val(r.values[1])):"betweendates"===r.condition?(t.getMenuElement("#popupthresholdValueDate1").val(r.values[0]),t.getMenuElement("#popupthresholdValueDate2").val(r.values[1])):-1!==["fromdate","todate"].indexOf(r.condition)?t.getMenuElement("#popupthresholdValueDate1").val(r.values[0]):t.getMenuElement("#popupthresholdValue1").val(r.type===e.ENUM_THRESHOLD_TYPE.ATTRIBUTE?t.context.utils.decodeHTMLString(r.values[0]):r.values[0]),t.getMarkerGrid().setMarkerSelectionSvg("thresholdMarkerType",{"selected-icon":r.markerType||"circle","custom-path":r.svgOptions?r.svgOptions["custom-path"]:"","infographic-path":r.svgOptions?r.svgOptions["infographic-path"]:""}),t.getMenuElement("#popupthresholdEnableDataLabel").prop("checked",r.enableDataLabel),t.getMenuElement("#popupthresholdAlias").val(r.alias),t.getMenuElement("#popupthresholdLevelSelect").prop("checked",1==+r.level),t.getMenuElement("#popupthresholdMarkerSize").val(r.markerSize),t.getMenuElement("#popupthresholdEnableMarker").prop("checked",e.getThresholdMarkerVisibility(r)),t.getMenuElement("#popupthresholdMarkerHAlign").val(r.markerHAlign),r.customLabel){var s=t.getMenuElement("#thresholdCustomLabelEditor");e.context.setCustomEditorFontSize(s,r.customLabel),s.html(r.customLabel),r.dataLabelStyle=null}r.dataLabelStyle?(e.context.setCustomFormatEditorStyle("thresholdCustomLabelEditor",e.getLabelStyle(r.dataLabelStyle)),t.getMenuElement("#popupthresholdDatalabelFontName").val(r.dataLabelStyle.fontFamily),r.dataLabelStyle.fontSize&&t.getMenuElement("#popupthresholdDatalabelFontSize").val(parseInt(r.dataLabelStyle.fontSize)),"bold"===r.dataLabelStyle.fontWeight&&e.setButtonActive(t.getMenuElement("#thresholdDatalabelFontBold")),"italic"===r.dataLabelStyle.fontStyle&&e.setButtonActive(t.getMenuElement("#thresholdDatalabelFontItalic")),"underline"===r.dataLabelStyle["text-decoration"]&&e.setButtonActive(t.getMenuElement("#thresholdDatalabelUnderline")),t.setVitaraColorPicker("#popupthresholdDataLabelColor",r.dataLabelStyle.color)):r.customLabel||t.resetCustomEditor("thresholdCustomLabelEditor",!0),t.getMenuElement("#manageThresholds").hide(),t.getThresholdsUIManager().setGradientCustomStopsLayout(r.customGradientStops),e.checkThresholds(r.type===e.ENUM_THRESHOLD_TYPE.ATTRIBUTE?r.condition:e.ENUM_THRESHOLD_OPTIONS[r.condition]),e.addThresholdClick(),e.setThresholdMarkerEnableVisibility(),e.updateThresholdDropdownOptions(),e.setAttributeSuggestions()}return!1})),vitaraJQ(a).off("click",".thresholdDelete").on("click",".thresholdDelete",(function(){var a=vitaraJQ(this).data("colid"),i=vitaraJQ(this).data("thresholdid");vitaraJQ(this).data("type");return"gid"===vitaraJQ(this).data("idtype")?t.state.thresholds=t.getThresholdsUIManager().deleteGrThresholds(t.state.thresholds,a):t.state.thresholds[i].splice(a,1),vitaraJQ(this).closest("tr").remove(),e.saveThresholdData(),e.refreshManageThreshold(),!1}))},updateThresholdDropdownOptions:function(){var e=this.context;"KPIRingEditor"===e.eInterface.menuOptions.chartType&&e.getMenuElement("#popupthresholdFormat option[value='Gradient Threshold']").remove()},checkThresholds:function(e){var t=this.context,a=t.getMenuElement("#popupthresholdSeriesSelect").val(),i=t.getMenuElement("#popupthresholdLevelSelect").closest(".row"),n=t.getMenuElement("#popupthresholdValue1").closest(".row"),o=t.getMenuElement("#popupthresholdValue2").closest(".row"),r=t.getMenuElement("#popupthresholdValueDate1").closest(".row"),s=t.getMenuElement("#popupthresholdValueDate2").closest(".row"),l=t.getMenuElement("#popupthresholdStartColor").closest(".row"),u=t.getMenuElement("#popupthresholdEndColor").closest(".row"),c=t.getMenuElement("#popupthresholdCount").closest(".row"),p=t.getMenuElement("#popupinvertGradientColors").closest(".row"),d=t.getMenuElement("#popupcustomGradientStops").closest(".row"),h=(t.getMenuElement("#popupthresholdAlias").closest(".row"),t.getMenuElement("#popupthresholdEnableMarker").closest(".row")),g=t.getMenuElement("#popupthresholdcolor").closest(".row"),m=t.getMenuElement("#popupthresholdPanelColor").closest(".row"),f=t.getMenuElement(".thresholdFields").closest("div").find("hr"),v=t.getMenuElement(".thresholdFields"),y=t.getMenuElement("#popupthresholdEnableDataLabel").closest(".row"),b=t.getMenuElement("#popupthresholdDatalabelFontName").closest(".row"),x=t.getMenuElement("#thresholdCustomLabelEditor").closest(".row");t.getMenuElement("#iconsets").closest(".row");function S(e,t){f.length&&f[t]&&(e?vitaraJQ(f[t],f.context).show():vitaraJQ(f[t],f.context).hide())}if(n.hide(),g.hide(),m.hide(),o.hide(),r.hide(),s.hide(),h.hide(),y.hide(),v.hide(),x.hide(),l.hide(),u.hide(),c.hide(),p.hide(),d.hide(),this.setGradientCustomStopsLayout(0),this.setThresholdMarkerEnableVisibility(),e&&t.eInterface.menuOptions.fetchCallback.fetchIncludeThresholdLevel({target:a,format:e})&&(-1!==e.indexOf("Percentage")||-1!==e.indexOf("Average")||"Top"===e||"Bottom"===e)?i.show():i.hide(),"Icon Sets"===e);else if("Between"===e||"Between Percentage"===e)n.show(),g.show(),m.show(),o.show(),h.show(),y.show(),b.show(),x.show(),v.show(),f.show(),S(!1,1);else if("Above Average"===e||"Below Average"===e||"Above The Line"===e||"Below The Line"===e)if("Chart Background"===a){if(g.show(),v.show(),v.length>1)for(var C=1;C<v.length;C++)vitaraJQ(v[C]).hide()}else n.hide(),o.hide(),g.show(),m.show(),h.show(),y.show(),b.show(),x.show(),v.show(),f.show(),S(!1,1);else"Gradient Threshold"===e?(v.show(),l.show(),u.show(),c.show(),p.show(),d.show(),t.getThresholdsUIManager().setGradientCustomStopsLayout(d.find(".customGradientStops").prop("checked")),f.show(),S(!1,1),n.hide(),o.hide(),g.hide(),m.hide(),h.hide(),y.hide(),b.hide(),x.hide()):"fromdate"===e||"todate"===e||"betweendates"===e?("betweendates"===e&&s.show(),r.show(),n.hide(),o.hide(),g.show(),m.show(),h.show(),y.show(),b.show(),x.show(),v.show(),f.show(),S(!1,1)):void 0!==e&&""!==e&&(n.show(),g.show(),m.show(),o.hide(),h.show(),y.show(),b.show(),x.show(),v.show(),f.show(),S(!1,1));this.hideChartSpecificThresholdFields({target:a,condition:e}),this.setThresholdMarkerPropVisibility()},setChartSpecificThresholdFields:function(e){var t=this.context,a=t.eInterface.menuOptions.fetchCallback.fetchThresholdDefaultFields(e);Ye.each(a,(function(e){e.isBoolean?t.getMenuElement("#popup"+e.id).prop("checked",e.value):t.getMenuElement("#popup"+e.id).val(e.value)}))},hideChartSpecificThresholdFields:function(e){var t=this.context,a=t.eInterface.menuOptions.fetchCallback.fetchThresholdFieldsToHide(e,this.getStateProperties());Ye.each(a,(function(e){t.getMenuElement("#popup"+e).closest(".row").hide()}))},resettingThreshold:function(){var e=this.context;e.getMenuElement("#popupthresholdLevelSelect").prop("checked",!1),e.getMenuElement("#popupthresholdAlias").val(""),e.getMenuElement("#popupthresholdFormat").val(""),e.getMenuElement("#colId").val(""),e.getMenuElement("#thresholdId").val(""),e.setVitaraColorPicker("#popupthresholdcolor","",null,null,"palette"),e.getMenuElement("#popupthresholdFillPattern").val("nofill"),e.setVitaraColorPicker("#popupthresholdPanelColor",""),e.setVitaraColorPicker("#popupthresholdMarkerColor",""),this.setDefaultGradientColors(),e.getMenuElement("#popupthresholdCount").val(5),e.getMenuElement("#popupinvertGradientColors").prop("checked",!1),e.getMenuElement("#popupcustomGradientStops").prop("checked",!1),e.getMenuElement("#popupthresholdValue1").val(""),e.getMenuElement("#popupthresholdValue2").val(""),e.getMenuElement("#popupthresholdValueDate1").val(""),e.getMenuElement("#popupthresholdValueDate2").val(""),e.getMenuElement("#popupthresholdEnableDataLabel").prop("checked",!1),e.getMenuElement("#popupthresholdEnableMarker").prop("checked",!0),e.getMenuElement("#popupthresholdMarkerType").val(""),e.getMenuElement("#popupthresholdMarkerSize").val(""),e.getMenuElement("#popupthresholdMarkerHAlign").val(""),e.getMenuElement("#popupthresholdDatalabelFontName").val(""),e.getMenuElement("#popupthresholdDatalabelFontSize").val(""),e.getMenuElement("#thresholdDatalabelFontBold").removeClass("active"),e.getMenuElement("#thresholdDatalabelFontItalic").removeClass("active"),e.getMenuElement("#thresholdDatalabelUnderline").removeClass("active"),e.resetCustomEditor("thresholdCustomLabelEditor",!0),e.setVitaraColorPicker("#popupthresholdDataLabelColor",""),e.getMarkerGrid().setThresholdMarkerSelection("circle"),e.getMarkerGrid().setMarkerSelectionSvg("thresholdMarkerType",{"selected-icon":"circle","custom-path":"","infographic-path":""}),e.setCutomGradientStopsSelection({startColor:e.getThresholdsUIManager().getGradientThresholdStartColor(),endColor:e.getThresholdsUIManager().getGradientThresholdEndColor(),stops:e.getThresholdsUIManager().getGradientThresholdsCount()}),this.setGradientCustomStopsLayout(0),this.setChartSpecificThresholdFields(),this.setThresholdMarkerPropVisibility()},addThresholdClick:function(){var e=this.context;e.getMenuElement(".manage-thresholds").hide(),e.getMenuElement(".add-edit-thresholds").show(),e.getMenuElement("#thresholdButton").show(),e.getMenuElement("#addNewThresholds").hide(),e.getMenuElement("#cancelThresholds").show()},setSourceValueRange:function(e,t,a){var i=this.context;e||(e=i.getMenuElement("#popupthresholdColSelect").val()),t||(t=i.getMenuElement("#popupthresholdSeriesSelect").val());var n=i.getMenuElement("#popupSourceValueRange"),o="";i.eInterface.dataHelper.isMetric(e)&&(o=i.eInterface.menuOptions.fetchCallback.fetchMetricRange(e,t)),o?n.html("Source Range: "+Math.floor(o.minVal)+" - "+Math.ceil(o.maxVal)):n.html("")},setButtonActive:function(e){e.data("prevval",0),e.addClass("active"),e.prop("checked",!0)},getThresholdColumns:function(e){var t=this.context,a=[];for(var i in t.eInterface.menuOptions.columnDefs){var n=t.eInterface.menuOptions.columnDefs[i];null!==n&&""!==n&&void 0!==n&&(e||n.isMetric)&&(a.push({text:this.context.getDropDownTextValue(n.headerName),value:n.headerName,sId:n.columnId}),n.colId===parseInt(t.eInterface.menuOptions.colId)&&(a[a.length-1].selected="selected"))}return a},setThresholdTargetsByMetric:function(e){this.thresholdTargetsByMetric=e},isTargetsByMetric:function(){return this.thresholdTargetsByMetric},getThresholdSeriesElems:function(){var e=this.context,t=Ye.cloneDeep(e.eInterface.menuOptions.fetchCallback.fetchThresholdSourceElems());e.isSeriesByMetric(t)||e.eInterface.menuOptions.fetchCallback.fetchIsSeriesByMetric()?this.setThresholdTargetsByMetric(!0):(t.unshift({name:"All"}),this.setThresholdTargetsByMetric(!1));var a=[];return Ye.each(t,(function(t){a.push({value:t.name,text:e.getDropDownTextValue(t.name),sId:t.sId})})),a},getLabelStyle:function(e){var t={};return e.fontName&&(t["font-family"]=e.fontName),e.fontSize&&(t["font-size"]=parseInt(e.fontSize)+"px"),e.color&&(t.color=e.color),e.fontWeight&&(t["font-weight"]=e.fontWeight),e.fontStyle&&(t["font-style"]=e.fontStyle),e["text-decoration"]&&(t["text-decoration"]=e["text-decoration"]),t},setThresholdMarkerEnableVisibility:function(){var e=this.context,t=!1,a=e.getMenuElement("#popupthresholdSeriesSelect").val();a&&Ye.each(e.getSeriesOptions(),(function(e){a===e.name&&"scatter"===e.type&&(t=!0)})),e.getMenuElement("#popupthresholdEnableMarker").attr("disabled",t)},getThresholdMarkerVisibility:function(e){return void 0!==e.markerEnable||!!e.markerType},setThresholdMarkerPropVisibility:function(){var e=this.context,t=e.getMenuElement("#popupthresholdEnableMarker").is(":visible")&&this.getElementProperty("#popupthresholdEnableMarker","checked",!1),a=e.getMenuElement("#popupthresholdMarkerSize").closest(".row"),i=e.getMenuElement("#popupthresholdMarkerColor").closest(".row"),n=e.getMenuElement("#popupthresholdMarkerType").closest(".row"),o=e.getMenuElement("#popupthresholdMarkerHAlign").closest(".row");0==+t?(n.hide(),i.hide(),a.hide(),o.hide()):1==+t&&(n.show(),i.show(),a.show(),o.show())},getViewIdentifiers:function(){return{uiClass:"thresholds",uiId:"thresholdId"}},destroyAttributeSuggestions:function(){this.destroyInputSuggestions(this.context.getMenuElement("#popupthresholdValue1")),this.destroyInputSuggestions(this.context.getMenuElement("#popupthresholdValue2"))},setAttributeSuggestions:function(){if(this.context.getMenuElement("#popupthresholdFormat").data("type")===this.ENUM_THRESHOLD_TYPE.ATTRIBUTE){var e=this.context.getMenuElement("#popupthresholdColSelect").val();if(e){var t=this.context.eInterface.menuOptions.fetchCallback.fetchColumnItems(e,!1);this.context.eInterface.menuOptions.fetchCallback.isDateColumn(e)||(this.context.getMenuElement("#popupthresholdValue1").is(":visible")&&this.setInputSuggestions(this.context.getMenuElement("#popupthresholdValue1"),t),this.context.getMenuElement("#popupthresholdValue2").is(":visible")&&this.setInputSuggestions(this.context.getMenuElement("#popupthresholdValue2"),t))}}else this.destroyAttributeSuggestions()}});const Xe=We;var Ke=i(8397);function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e){this.init(e)}Object.assign(Ze.prototype,Ge.prototype,{ENUM_ID_TYPES:{SID:"sId",INDEX:"index"},GRADIENT_COLORS:{startColor:"#1f77b4",stopColor:"#aec7e8"},init:function(e){e&&e.context&&this.setContext(e.context)},setContext:function(e){this.context=e},getMenuElement:function(e){return this.context.getMenuElement(e)},getSeriesOptions:function(e){return this.context&&this.context.getSeriesOptions?this.context.getSeriesOptions(e):[]},getSeriesRenderData:function(){var e=this,t=this.getSeriesOptions(),a=[],i=[],n={"data-type":"seriesOptions",href:"javascript:void(0);"};return Ke.each(t,(function(t,o){var r=t.name,s='<span style="color:'+t.color+'">'+t.type+(1==t.yAxis?" on 2nd yAxis":"")+"</span>",l={"data-seriesOptionsIdType":void 0!==t.sId?e.ENUM_ID_TYPES.SID:e.ENUM_ID_TYPES.INDEX,"data-seriesOptionsId":t.sId||o};l&&(t.dangle?i.push([r,s,null,Ke.extend({class:"seriesOptionsDelete"},n,l),{msg:t.dangleMsg}]):a.push([r,s,Ke.extend({class:"seriesOptionsEdit"},n,l),null]))})),(a=a.concat(i)).concat(this.getAddNewMetricSeriesOptions())},getAddNewMetricSeriesOptions:function(){if(!this.context.eInterface.menuOptions.fetchCallback.isAddNewMetricSeriesEnabled())return[];var e=this.getUtils().createHTMLElement("span");return this.context.getSelectDropDown().addDropDown(e,{field:{type:"select",name:"newSeriesMetricDropdown",id:"newSeriesMetricDropdown",class:"newSeriesMetricDropdown",options:[],removeFirstOption:!0},prefix:"popup"}),[["",e,null,null,null,'<span id = "addNewMetricSeries" class="addNewMetricSeries" width="20%">;<i title="addBtn" class="fa-plus-squared" style="cursor:pointer;"></i>Add</span>']]},addSeriesTableViewHtml:function(){var e=this.context.getMenuElement(".manage-seriesOptions table");this.setTableData(e,this.getSeriesRenderData(),!0,"No Series option(s) found")},isStackedChart:function(){return this.context.eInterface.menuOptions&&"StackedChartEditor"===this.context.eInterface.menuOptions.chartType},isBubbleChart:function(){return this.context.eInterface.menuOptions&&"BubbleChart"===this.context.eInterface.menuOptions.chartType?"scatter":void 0},setErrorBarsSeriesOptions:function(e){this.setErrorBarsLowSeriesOptions(e),this.setErrorBarsHighSeriesOptions(e)},setErrorBarsLowSeriesOptions:function(e){if(e){var t=[];Ke.each(this.context.getMetricTitlesAsOptions(),(function(a){a.value!==e.name&&(e.ebHighSeries&&a.value===e.ebHighSeries||t.push(a))})),this.setSeriesElemntsToDropdown("#popuperrorBarsLowSeries",t)}},setErrorBarsHighSeriesOptions:function(e){if(e){var t=[];Ke.each(this.context.getMetricTitlesAsOptions(),(function(a){a.value!==e.name&&(e.ebLowSeries&&a.value===e.ebLowSeries||t.push(a))})),this.setSeriesElemntsToDropdown("#popuperrorBarsHighSeries",t)}},setDeltaBarsSeriesOptions:function(e){if(e){var t=[];Ke.each(this.context.getMetricTitlesAsOptions(),(function(a){a.value!==e.name&&t.push(a)})),this.setSeriesElemntsToDropdown("#popupdeltaBarsPreviousSeries",t)}},getActiveSeriesElements:function(){return Ke.filter(this.getSeriesOptions(),(function(e){return 1!=+e.dangle}))},setSeriesElemntsToDropdown:function(e,t){var a=this.getMenuElement(e);a.empty(),a.append(vitaraJQ("<option>",{value:"",text:"Select"})),Ke.each(t,(function(e){a.append(vitaraJQ("<option>",e))}))},setSeriesTableViewHtml:function(){this.addSeriesTableViewHtml();var e=this.getColumnsTitlesAsOptions();e.shift(),this.setDropdownOptions(this.getMenuElement("#popupnewSeriesMetricDropdown"),e,(function(e){return e}))},removeDataMarkerSeriesTypeOption:function(){var e=this.context.eInterface;Ke.includes(["BarChartEditor","ColumnChartEditor","LineChartEditor"],e.menuOptions.chartType)||vitaraJQ("#popupseriesType").find("option[value=dataMarkers]").remove()},setSeriesOptionsTableView:function(){this.setSeriesTableViewHtml(),this.getMenuElement("#applyNewSeriesOptions").hide(),this.getMenuElement("#popupnewMetricSeriesType").closest(".row").hide(),this.getMenuElement(".manage-seriesOptions").show(),this.getMenuElement(".add-edit-seriesOptions").hide(),this.getMenuElement("#applySeriesOptions").hide(),this.getMenuElement("#cancelSeriesOptions").hide(),this.getMenuElement(".seriesFields").closest("div").find("hr").hide(),this.getMenuElement("#popupnewSeriesMetricDropdown").closest(".row").show(),this.getMenuElement("#addNewMetricSeries").show(),this.getMenuElement(".seriesFields").hide(),this.getMenuElement(".dataMarkerWebOptions").hide(),this.getMenuElement(".errorBarWebOptions").hide(),this.getMenuElement(".deltaBarWebOptions").hide(),this.getMenuElement(".seriesTootip").hide(),this.getMenuElement(".seriesDataLabels").hide()},onClickAddNewSeriesOptions:function(e){e?(this.getMenuElement("#applyNewSeriesOptions").show(),this.getMenuElement("#popupseriesYAxis").closest(".row").show(),this.getMenuElement("#popupseriesType").closest(".row").hide(),this.getMenuElement("#popupnewMetricSeriesType").closest(".row").show(),this.getMenuElement("#applySeriesOptions").hide(),this.setNewMetricSeriesName()):(this.isStackedChart()&&this.getMenuElement("#popupseriesYAxis").closest(".row").hide(),this.getMenuElement("#popupseriesType").closest(".row").show(),this.getMenuElement("#popupnewMetricSeriesType").closest(".row").hide(),this.getMenuElement("#applySeriesOptions").show()),this.getMenuElement(".manage-seriesOptions").hide(),this.getMenuElement("#addNewMetricSeries").hide(),this.getMenuElement("#cancelSeriesOptions").show(),this.getMenuElement(".add-edit-seriesOptions").show(),this.setErrorBarsViewElements(!1),this.setDeltaBarsViewElements(!1),this.getMenuElement(".seriesFields").closest("div").find("hr").show(),this.getMenuElement(".seriesFields").show(),this.getMenuElement(".seriesTootip").show(),this.getMenuElement(".seriesDataLabels").show(),this.getMenuElement(".dataMarkerWebOptions").show(),this.getMenuElement(".deltaBarWebOptions").show(),this.getMenuElement(".errorBarWebOptions").show(),this.getMenuElement("#popupnewSeriesMetricDropdown").closest(".row").hide(),this.showHideMarkerOptions(),this.hideInfographicView(),this.showHideGradientPickerProp(),this.getMenuElement(".seriesFields .container_title")[0].className.includes("collapsed")&&this.getMenuElement(".seriesFields .container_title").click()},setNewMetricSeriesName:function(){this.getMenuElement("#popupseries").text(this.getMenuElement("#popupnewSeriesMetricDropdown").val()),this.getMenuElement("#popupseriesName").html(this.getMenuElement("#popupnewSeriesMetricDropdown").val()),this.setEditSeriesInfoToParent(this.getMenuElement("#popupnewSeriesMetricDropdown option:selected").attr("sId"),this.ENUM_ID_TYPES.SID)},setErrorBarsViewElements:function(e){if(!this.context.isSeriesByMetric(this.getSeriesOptions()))return this.getMenuElement("#popuperrorBarsEnable").closest(".row").hide(),this.getMenuElement("#popuperrorBarsLowSeries").closest(".row").hide(),this.getMenuElement("#popuperrorBarsHighSeries").closest(".row").hide(),void this.getMenuElement("#popuperrorBarsSeriesColor").closest(".row").hide();this.getMenuElement("#popuperrorBarsEnable").closest("section").show(),this.getMenuElement("#popuperrorBarsEnable").closest(".row").show(),1==+e?(this.getMenuElement("#popuperrorBarsLowSeries").closest(".row").show(),this.getMenuElement("#popuperrorBarsHighSeries").closest(".row").show(),this.getMenuElement("#popuperrorBarsSeriesColor").closest(".row").show()):(this.getMenuElement("#popuperrorBarsLowSeries").closest(".row").hide(),this.getMenuElement("#popuperrorBarsHighSeries").closest(".row").hide(),this.getMenuElement("#popuperrorBarsSeriesColor").closest(".row").hide())},setDeltaBarsViewElements:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!this.context.isSeriesByMetric(this.getSeriesOptions()))return this.getMenuElement("#popupdeltaBarsEnable").closest(".row").hide(),this.getMenuElement("#popupdeltaBarsPreviousSeries").closest(".row").hide(),this.getMenuElement("#popupdeltaBarsInvertColor").closest(".row").hide(),this.getMenuElement("#popupdeltaBarsDataLabel").closest(".row").hide(),this.getMenuElement("#popupdeltaBarsWidth").closest(".row").hide(),void this.getMenuElement(".deltaBarWebOptions").next("hr").hide();"bar"!=t&&"column"!=t||this.getMenuElement("#popupdeltaBarsEnable").closest(".row").show(),1==+e?(this.getMenuElement("#popupdeltaBarsPreviousSeries").closest(".row").show(),this.getMenuElement("#popupdeltaBarsInvertColor").closest(".row").show(),this.getMenuElement("#popupdeltaBarsDataLabel").closest(".row").show(),this.getMenuElement("#popupdeltaBarsWidth").closest(".row").show()):(this.getMenuElement("#popupdeltaBarsPreviousSeries").closest(".row").hide(),this.getMenuElement("#popupdeltaBarsInvertColor").closest(".row").hide(),this.getMenuElement("#popupdeltaBarsDataLabel").closest(".row").hide(),this.getMenuElement("#popupdeltaBarsWidth").closest(".row").hide())},updateErrorBarOptions:function(e,t){var a={name:this.getMenuElement("#popupseries").text()};if("errorBarsHighSeries"===e){a.ebHighSeries=t;var i=this.getMenuElement("#popuperrorBarsLowSeries").val();this.setErrorBarsLowSeriesOptions(a),this.getMenuElement("#popuperrorBarsLowSeries").val(i)}if("errorBarsLowSeries"===e){a.ebLowSeries=t;var n=this.getMenuElement("#popuperrorBarsHighSeries").val();this.setErrorBarsHighSeriesOptions(a),this.getMenuElement("#popuperrorBarsHighSeries").val(n)}},setSeriesUserOptions:function(e){if(e){var t=e.userAddedMetricSeries?"#popupnewMetricSeriesType":"#popupseriesType";e.name&&this.getMenuElement("#popupseries").text(e.name),e.name&&this.getMenuElement("#popupseriesName").html(e.name),e.type?this.getMenuElement(t).val(e.type):this.getMenuElement(t).eq(0).attr("selected","selected"),""!==e.yAxis?this.getMenuElement("#popupseriesYAxis").val(e.yAxis):this.getMenuElement("#popupseriesYAxis").eq(0).attr("selected","selected"),this.context.setVitaraColorPicker("#popupseriesColor",e.color);var a=!!e.enableGradientColor;this.getMenuElement("#popupenableGradientColor").prop("checked",a).data("data",a),this.showHideGradientPickerProp(a,e.gradientColor),this.getMenuElement("#popupconnectNullPoints").prop("checked",1==+e.connectNulls),this.getMenuElement("#popupseriesWidth").val(e.pointWidth),this.getMenuElement("#popupsankeyNodeVOffset").val(void 0!==qe(e.offsetVertical)?e.offsetVertical:""),this.getMenuElement("#popupsankeyNodeHOffset").val(void 0!==qe(e.offsetHorizontal)?e.offsetHorizontal:""),this.showHideLineStyle(e.type),this.showHideLineSmooth(e.type),this.showHideConnectNullPoints(e.type),this.getMenuElement("#popupseriesLineStyle").val(e.dashStyle?e.dashStyle:"Solid"),this.getMenuElement("#popupfillPattern").val(e.fillPattern?e.fillPattern:"nofill");var i=1==+e.seriesLineSmooth,n=void 0===e.seriesLineSmooth?this.context.eInterface.menuOptions.fetchCallback.isSmoothLineEnabled():i;this.getMenuElement("#popupseriesLineSmooth").prop("checked",n).data("data",n),this.getMenuElement("#popuperrorBarsEnable").prop("checked",1==+e.ebEnabled),this.setErrorBarsViewElements(e.ebEnabled),1==+e.ebEnabled&&(this.getMenuElement("#popuperrorBarsLowSeries").val(e.ebLowSeries),this.getMenuElement("#popuperrorBarsHighSeries").val(e.ebHighSeries),this.context.setVitaraColorPicker("#popuperrorBarsSeriesColor",e.ebColor)),this.context.eInterface.menuOptions.fetchCallback.fetchCheckDeltaBarSupport()?this.getMenuElement("#popupdeltaBarsEnable").prop("disabled",!1):(e.deltaEnabled="0",this.getMenuElement("#popupdeltaBarsEnable").prop("disabled",!0)),this.getMenuElement("#popupdeltaBarsEnable").prop("checked",1==+e.deltaEnabled),this.showHideDeltaBarOptions(e.type),this.showHideMarkerLinkOption(e.type),this.setDeltaBarsViewElements(e.deltaEnabled,e.type),1==+e.deltaEnabled&&(this.getMenuElement("#popupdeltaBarsPreviousSeries").val(e.deltaSeries),this.getMenuElement("#popupdeltaBarsInvertColor").prop("checked",1==+e.deltaColorInvert),this.getMenuElement("#popupdeltaBarsDataLabel").prop("checked",1==+e.deltaDataLabels),this.getMenuElement("#popupdeltaBarsWidth").val(e.deltaBarsWidth||50)),this.getMenuElement("#popupdataMarkerLink").val(e.dataMarkerLink),e.animation&&this.getMenuElement("#popupseriesAnimationDuration").val(e.animation.duration),this.setSeriesMarkerOptions(e),this.setInfographicOptionView(e),this.getMenuElement("#popupaggDataBy").val(e.aggDataBy),e.dataLabels&&e.dataLabels.status&&this.getMenuElement("#popupcustomSeriesLabel").val(e.dataLabels.status)}},showHideLineStyle:function(e){"line"===(e=e||this.getMenuElement("#popupseriesType").val())?this.getMenuElement("#popupseriesLineStyle").closest(".row").show():this.getMenuElement("#popupseriesLineStyle").closest(".row").hide()},showHideDeltaBarOptions:function(e){if("bar"===(e=e||this.getMenuElement("#popupseriesType").val())||"column"===e){if(!this.context.isSeriesByMetric(this.getSeriesOptions()))return;this.getMenuElement("#popupdeltaBarsEnable").closest("section").show(),this.getMenuElement(".deltaBarWebOptions").next("hr").show()}else this.getMenuElement("#popupdeltaBarsEnable").prop("checked",!1),this.setDeltaBarsViewElements(!1),this.getMenuElement("#popupdeltaBarsEnable").closest("section").hide(),this.getMenuElement(".deltaBarWebOptions").next("hr").hide()},showHideMarkerLinkOption:function(e){var t;e=e||this.getMenuElement("#popupseriesType").val(),null!==(t=this.context.eInterface.menuOptions)&&void 0!==t&&null!==(t=t.fetchCallback)&&void 0!==t&&t.fetchImageDataMarkerSupport(e)?this.getMenuElement("#popupdataMarkerLink").closest(".row").show():this.getMenuElement("#popupdataMarkerLink").closest(".row").hide()},showHideLineSmooth:function(e){"line"===(e=e||this.getMenuElement("#popupseriesType").val())||"area"===e?this.getMenuElement("#popupseriesLineSmooth").closest(".row").show():this.getMenuElement("#popupseriesLineSmooth").closest(".row").hide()},showHideConnectNullPoints:function(e){"line"===(e=e||this.getMenuElement("#popupseriesType").val())||"area"===e?this.getMenuElement("#popupconnectNullPoints").closest(".row").show():this.getMenuElement("#popupconnectNullPoints").closest(".row").hide()},isSeriesMarkerSelectionAllowed:function(){var e;return"line"===(e=this.getMenuElement("#popupnewMetricSeriesType").is(":visible")?this.getMenuElement("#popupnewMetricSeriesType").val():this.isBubbleChart()?this.isBubbleChart():this.getMenuElement("#popupseriesType").val())||"area"===e||"scatter"===e},showHideMarkerOptions:function(){this.isSeriesMarkerSelectionAllowed()?this.getMenuElement("#popupseriesEnableMarker").closest(".row").show():this.getMenuElement("#popupseriesEnableMarker").closest(".row").hide(),this.setSeriesMarkerPropVisibility()},setSeriesMarkerPropVisibility:function(){var e=void 0!==this.isBubbleChart()||this.getMenuElement("#popupseriesEnableMarker").is(":visible")&&this.getMenuElement("#popupseriesEnableMarker").prop("checked"),t=this.getMenuElement("#popupseriesMarkerSize").closest(".row"),a=this.getMenuElement("#popupseriesMarkerColor").closest(".row"),i=this.getMenuElement("#popupseriesMarkerType").closest(".row");1==+e?(i.show(),a.show(),t.show()):(i.hide(),a.hide(),t.hide())},updateGradientColor:function(e){var t=this.getGradientOptionsByName(this.getSeriesName());this.showHideGradientPickerProp(e,e?t:void 0)},showHideGradientPickerProp:function(e,t){e?this.getMenuElement("#popupenableGradientColor").prop("checked",!0):this.getMenuElement("#popupenableGradientColor").prop("checked",!1),this.setvitaraGradientColorPickerPropVisibility(e,t)},setvitaraGradientColorPickerPropVisibility:function(e,t){var a=this.getMenuElement("#popupgradientColorPicker").closest(".row"),i=this.getMenuElement("#popupseriesColor"),n=this.getMenuElement("#popupfillPattern");e?(vitaraJQ(i).next().addClass("vitara-colorPicker-disable"),void 0!==n&&n.attr("disabled",!0),this.addvitaraGradientColorPicker(t),a.show()):(vitaraJQ(i).next().removeClass("vitara-colorPicker-disable"),n.attr("disabled",!1),a.hide())},addvitaraGradientColorPicker:function(e){var t,a,i,n,o=this.getSeriesOptions();if(void 0!==e)i=e.startColor,n=e.stopColor;else{var r=this.getsId(),s=this.getSeriesName();Ke.each(o,(function(e){if(e.sId===r&&e.name===s)return i=e.color||e.seriesColor,!1})),void 0!==i&&(chroma(i).get("lab.l")>70?n=vitaraD3.rgb(vitaraD3.hsl(i).darker(1)).toString():"#ffffff"===(n=vitaraD3.rgb(vitaraD3.hsl(i).brighter(2)).toString())&&(n=vitaraD3.rgb(vitaraD3.hsl(i).brighter(1)).toString()))}var l=new vitaraGraPick({el:"#popupgradientColorPicker"});l.addHandler(0,i||this.GRADIENT_COLORS.startColor,1),l.addHandler(99,n||this.GRADIENT_COLORS.stopColor,1,{keepSelect:1}),l.el.dataset.startColor=null===(t=l.handlers[0])||void 0===t?void 0:t.color,l.el.dataset.endColor=null===(a=l.handlers[1])||void 0===a?void 0:a.color,l.on("handler:color:change",(function(e){e.gp.el.dataset.startColor=e.gp.handlers[0].color,e.gp.el.dataset.endColor=e.gp.handlers[1].color}))},getUserMarkerOptions:function(){var e={};return this.isSeriesMarkerSelectionAllowed()&&(e.enabled=void 0!==this.isBubbleChart()||this.getMenuElement("#popupseriesEnableMarker").prop("checked"),1==+e.enabled&&(e.symbol=this.getMenuElement("#popupseriesMarkerType").attr("selected-icon")||"circle",e.radius=this.getMenuElement("#popupseriesMarkerSize").val(),e.svgOptions={"custom-path":this.getMenuElement("#popupseriesMarkerType").attr("custom-path"),"infographic-path":this.getMenuElement("#popupseriesMarkerType").attr("infographic-path")})),e},updateSeriesMarkerOptions:function(e,t){return e&&t?e.marker?1!=+e.marker.enabled?(t.marker=e.marker,t):(""===e.marker.radius&&(t.marker.radius=void 0),t):(t.marker=void 0,t):t},setSeriesMarkerOptions:function(e){var t=this.context.eInterface.menuOptions.fetchCallback.fetchChartMarkerOptions();e&&e.marker&&1==+e.marker.enabled&&(t=Ke.extend(t,e.marker)),this.getMenuElement("#popupseriesEnableMarker").prop("checked",+t.enabled),this.getMenuElement("#popupseriesMarkerSize").val(t.radius),t.svgOptions&&t.svgOptions.markerType?this.addSelectedMarkerToSeriesView("seriesMarkerType",t.symbol,t.svgOptions.markerType["custom-path"],t.svgOptions.markerType["infographic-path"]):t.svgOptions&&t.svgOptions["custom-path"]?this.addSelectedMarkerToSeriesView("seriesMarkerType",t.symbol,t.svgOptions["custom-path"],t.svgOptions["infographic-path"]):this.addSelectedMarkerToSeriesView("seriesMarkerType",t.symbol),this.showHideMarkerOptions()},resetSeriesOptions:function(){this.setSeriesUserOptions({type:"",yAxis:"",color:"",unitsPerRow:1,infographicFillPercentageMetric:"",infographicFillDirection:"auto",infographicUnfilledColor:"#ccc",infographicCustomSVGEnable:!1})},getsId:function(){var e=this.getEditSeriesInfoFromParent();if(e.idType===this.ENUM_ID_TYPES.SID)return e.id},getGradientOptionsByName:function(e){var t,a=null===(t=this.getSeriesOptionsByName(e))||void 0===t?void 0:t.gradientColor;if(a)return{startColor:null==a?void 0:a.startColor,stopColor:null==a?void 0:a.stopColor}},getGradientOptionsByElement:function(){var e=this.getMenuElement("#popupgradientColorPicker")[0];if(e)return{startColor:null==e?void 0:e.dataset.startColor,stopColor:null==e?void 0:e.dataset.endColor}},getSeriesName:function(){return this.getMenuElement("#popupseries").text()||""},getSeriesUserOptions:function(e){var t={};if(t.name=this.getMenuElement("#popupseries").text(),t.sId=this.getsId(),t.name&&"select"!==t.name&&""!==t.name){e?(t.userAddedMetricSeries=!0,t.type=this.getMenuElement("#popupnewMetricSeriesType").val()):t.type=this.getMenuElement("#popupseriesType").val(),t.ebEnabled=this.getMenuElement("#popuperrorBarsEnable").prop("checked"),1==+t.ebEnabled&&(t.ebLowSeries=this.getMenuElement("#popuperrorBarsLowSeries").val(),t.ebHighSeries=this.getMenuElement("#popuperrorBarsHighSeries").val()),t.deltaEnabled=this.getMenuElement("#popupdeltaBarsEnable").prop("checked"),1==+t.deltaEnabled&&(t.deltaSeries=this.getMenuElement("#popupdeltaBarsPreviousSeries").val(),t.deltaColorInvert=this.getMenuElement("#popupdeltaBarsInvertColor").prop("checked"),t.deltaDataLabels=this.getMenuElement("#popupdeltaBarsDataLabel").prop("checked")),t.yAxis=Number(this.getMenuElement("#popupseriesYAxis").val()),0!==t.yAxis&&1!==t.yAxis&&(t.yAxis=0),t.repeatMarker=this.getMenuElement("#popuprepeatMarker").prop("checked"),1==+t.repeatMarker?t.unitsPerRow=this.getMenuElement("#popupunitsPerRow").val():t.maintainInfographicAspectRatio=this.getMenuElement("#popupmaintainInfographicAspectRatio").prop("checked"),t.infographicFill=this.getMenuElement("#popupinfographicFill").prop("checked"),t.infographicFillDirection=this.getMenuElement("#popupinfographicFillDirection").val(),t.infoMarkerType=this.getMenuElement("#popupinfoMarkerType").attr("selected-icon"),t.infographicCustomSVGEnable="true"===this.getMenuElement("#popupinfoMarkerType").attr("custom-path"),t.infographicCustomSVGPath=this.getMenuElement("#popupinfoMarkerType").attr("infographic-path"),t.infographicFillPercentageMetric=this.getMenuElement("#popupinfographicFillMetricSelect").val(),t.infographicMaxValue=this.getMenuElement("#popupinfographicMaxValue").val();var a=Number(this.getMenuElement("#popupseriesAnimationDuration").val());a>0&&(t.animation={duration:a}),this.simplify(t),t.marker=this.getUserMarkerOptions(),t.pointWidth=this.getMenuElement("#popupseriesWidth").val(),t.dashStyle=this.getMenuElement("#popupseriesLineStyle").val(),t.fillPattern=this.getMenuElement("#popupfillPattern").val(),t.dataMarkerLink=this.getMenuElement("#popupdataMarkerLink").val();var i=this.getMenuElement("#popupseriesLineSmooth").prop("checked");return i!==this.getMenuElement("#popupseriesLineSmooth").data("data")&&(t.seriesLineSmooth=i),t.connectNulls=this.getMenuElement("#popupconnectNullPoints").prop("checked"),t.color=this.getMenuElement("#popupseriesColor").val(),t.offsetVertical=this.getMenuElement("#popupsankeyNodeVOffset").val()?this.getMenuElement("#popupsankeyNodeVOffset").val():0,t.offsetHorizontal=this.getMenuElement("#popupsankeyNodeHOffset").val()?this.getMenuElement("#popupsankeyNodeHOffset").val():0,t.enableGradientColor=this.getMenuElement("#popupenableGradientColor").prop("checked"),t.enableGradientColor&&(t.gradientColor=this.getGradientOptionsByElement()||this.getGradientOptionsByName(t.name)),1==+t.ebEnabled&&(t.ebColor=this.getMenuElement("#popuperrorBarsSeriesColor").val()),1==+t.deltaEnabled&&(t.deltaBarsWidth=this.getMenuElement("#popupdeltaBarsWidth").val()),t.infographicUnfilledColor=this.context.getMenuElement("#popupinfographicUnfilledColor").val(),t.tooltip=this.getSeriesTooltipOptions(),t.dataLabels=this.getSeriesDatalabelOptions(),t.aggDataBy=this.getMenuElement("#popupaggDataBy").val(),t}},getSeriesDatalabelOptions:function(){var e={};return e.status=this.getMenuElement("#popupcustomSeriesLabel").val(),"on"===e.status&&(e.customLabels=this.context.getCustomFormatFromEditor("customSeriesLabel")),e},getSeriesTooltipOptions:function(){var e={};return e.status=this.getMenuElement("#popupseriesTooltip").val(),"on"===e.status&&(e.customTooltip=this.context.getCustomFormatFromEditor("seriesTooltip")),e},toggleDeltaErrorBarOptions:function(e){var t=this.getSeriesOptions();"deltaBar"===e?(this.setErrorBarsViewElements(!1),t.forEach((function(e){e.ebEnabled&&(e.ebEnabled=!1)})),this.getMenuElement("#popuperrorBarsEnable").prop("checked",!1)):"errorBar"==e&&(this.setDeltaBarsViewElements(!1),t.forEach((function(e){e.deltaEnabled&&(e.deltaEnabled=!1)})),this.getMenuElement("#popupdeltaBarsEnable").prop("checked",!1)),this.setSeriesOptions(t)},getEditSeriesOptionsIDFromParent:function(){return this.getMenuElement(".add-edit-seriesOptions").data("seriesId")},getSeriesOptionsIndexByName:function(e){return Ke.findIndex(this.getSeriesOptions(),(function(t){return t.name===e}))},getSeriesOptionsIndexById:function(e){return Ke.findIndex(this.getSeriesOptions(),(function(t){return t.sId===e}))},getSeriesOptionsByName:function(e){return this.getSeriesOptions()[this.getSeriesOptionsIndexByName(e)]},getSeriesOptionsByIndex:function(e){return this.getSeriesOptions()[e]},setSeriesOptions:function(e){e&&this.context&&"function"==typeof this.context.setSeriesOptions&&this.context.setSeriesOptions(e)},updateSeriesOptions:function(e){var t=this.getSeriesOptions(),a=void 0!==e.sId?this.getSeriesOptionsIndexById(e.sId):this.getSeriesOptionsIndexByName(e.name);-1!==a?(t[a]=vitaraJQ.extend(!0,{},t[a],e),""===e.pointWidth&&(t[a].pointWidth=void 0),""===e.dashStyle&&(t[a].dashStyle="Solid"),t[a]=this.updateSeriesMarkerOptions(e,t[a])):t.push(this.updateSeriesMarkerOptions(e,e)),this.setSeriesOptions(t)},updateErroBarSeriesOptions:function(e,t){this.getSeriesOptionsIndexByName(e.ebLowSeries),this.getSeriesOptionsIndexByName(e.ebHighSeries)},deleteSeriesOptionsByIndex:function(e){var t=this.getSeriesOptions();-1!==e&&t.splice(e,1),this.setSeriesOptions(t)},onClickApplySeriesOptions:function(e){var t=this.getSeriesUserOptions(e);t&&(this.updateSeriesOptions(t),this.setSeriesOptionsTableView(),this.context.eInterface.menuOptions.saveCallback.save(JSON.stringify(this.context.getState())))},setEditSeriesInfoToParent:function(e,t){this.setEditSeriesIDToParent(e),this.setEditSeriesIDTypeToParent(t)},setEditSeriesIDToParent:function(e){this.getMenuElement(".add-edit-seriesOptions").data("seriesoptionsId",e)},setEditSeriesIDTypeToParent:function(e){this.getMenuElement(".add-edit-seriesOptions").data("seriesoptionsidtype",e)},getEditSeriesInfoFromParent:function(){return{id:this.getEditSeriesIDFromParent(),idType:this.getEditSeriesIDTypeFromParent()}},getEditSeriesIDFromParent:function(){return this.getMenuElement(".add-edit-seriesOptions").data("seriesoptionsId")},getEditSeriesIDTypeFromParent:function(){return this.getMenuElement(".add-edit-seriesOptions").data("seriesoptionsidtype")},onClickEditSeriesOptions:function(e,t){var a=t===this.ENUM_ID_TYPES.INDEX?e:this.getSeriesOptionsIndexById(e),i=this.getSeriesOptionsByIndex(a);this.onClickAddNewSeriesOptions(i.userAddedMetricSeries),this.resetSeriesOptions(),this.setErrorBarsSeriesOptions(i),this.setDeltaBarsSeriesOptions(i),this.setSeriesUserOptions(i),this.setEditSeriesInfoToParent(e,t),["bar","column","area","datamarkers","line"].includes(i.type.toLowerCase())&&(this.setSeriesCustomEditor(i,"tooltip","popupseriesTooltip","seriesTooltipEditor"),this.setSeriesCustomEditor(i,"dataLabels","popupcustomSeriesLabel","customSeriesLabelEditor"))},setSeriesCustomEditor:function(e,t,a,i){var n=e[t];if(this.showHideSeriesCustomEditor(n&&n.status?n.status:"default",i),this.getMenuElement("#"+a).val(n&&n.status?n.status:"default"),n&&"on"===n.status){var o=this.getMenuElement("#"+i),r="tooltip"===t?n.customTooltip:n.customLabels;this.context.setCustomEditorFontSize(o,r),o.html(r)}},showHideSeriesCustomEditor:function(e,t){"on"===e?this.getMenuElement("#"+t).closest(".row").show():this.getMenuElement("#"+t).closest(".row").hide(),"true"===this.getMenuElement("#"+t).closest(".vitara-accordion-field").find(".ui-accordion-header").attr("aria-expanded")?this.context.resetCustomEditor(t,!0):"true"!==this.getMenuElement("#"+t).closest(".vitara-accordion-field").find(".ui-accordion-header").attr("aria-expanded")&&this.context.resetCustomEditor(t,!1)},onClickDeleteSeriesOptions:function(e,t){this.deleteSeriesOptionsByIndex(t&&t===this.ENUM_ID_TYPES.INDEX?e:this.getSeriesOptionsIndexById(e)),this.context.eInterface.menuOptions.saveCallback.save(JSON.stringify(this.context.getState()))},setSeriesListeners:function(){var e=this;vitaraJQ(e.context.getPropMenuContainer()).off("click","#cancelSeriesOptions").on("click","#cancelSeriesOptions",(function(){e.setSeriesOptionsTableView()})),vitaraJQ(e.context.getPropMenuContainer()).off("click","#applySeriesOptions").on("click","#applySeriesOptions",(function(){e.onClickApplySeriesOptions()})),vitaraJQ(e.context.getPropMenuContainer()).off("click","#applyNewSeriesOptions").on("click","#applyNewSeriesOptions",(function(){e.onClickApplySeriesOptions(!0)})),vitaraJQ(e.context.getPropMenuContainer()).off("click",".seriesOptionsEdit").on("click",".seriesOptionsEdit",(function(){e.onClickEditSeriesOptions(vitaraJQ(this).data("seriesoptionsid"),vitaraJQ(this).data("seriesoptionsidtype"))})),vitaraJQ(e.context.getPropMenuContainer()).off("click","#addNewMetricSeries").on("click","#addNewMetricSeries",(function(){e.onClickAddNewSeriesOptions(!0)})),vitaraJQ(e.context.getPropMenuContainer()).off("click",".seriesOptionsDelete").on("click",".seriesOptionsDelete",(function(){e.onClickDeleteSeriesOptions(vitaraJQ(this).data("seriesoptionsid"),vitaraJQ(this).data("seriesoptionsidtype")),e.setSeriesOptionsTableView()}))},onRepeatMarkerStateChange:function(e){1==+e?(this.getMenuElement("#popupmaintainInfographicAspectRatio").parent().hide(),this.getMenuElement("#popupunitsPerRow").parent().parent().show(),this.getMenuElement("#popupinfographicFillDirection").parent().hide()):(this.getMenuElement("#popupmaintainInfographicAspectRatio").parent().show(),this.getMenuElement("#popupunitsPerRow").parent().parent().hide())},onInfographicFillChange:function(e){1!=+e?(this.getMenuElement("#popupinfographicFillDirection").parent().hide(),this.getMenuElement("#popupinfographicFillMetricSelect").parent().hide(),this.getMenuElement("#popupinfographicMaxValue").parent().hide(),this.getMenuElement("#popupinfographicUnfilledColor").parent().parent().hide()):(this.getMenuElement("#popupinfographicFillDirection").parent().show(),this.getMenuElement("#popupinfographicMaxValue").parent().show(),this.getMenuElement("#popupinfographicFillMetricSelect").parent().show(),this.getMenuElement("#popupinfographicUnfilledColor").parent().parent().show())},hideInfographicView:function(){this.getMenuElement("#popuprepeatMarker").parent().hide(),this.getMenuElement(".dataMarkerWebOptions").next("hr").hide(),this.getMenuElement("#popupinfoMarkerType").parent().hide(),this.getMenuElement("#popupmaintainInfographicAspectRatio").parent().hide(),this.getMenuElement("#popupinfographicFill").parent().hide(),this.getMenuElement("#popupinfographicUnfilledColor").parent().parent().hide(),this.getMenuElement("#popupunitsPerRow").parent().parent().hide(),this.onInfographicFillChange(!1),this.getMenuElement(".dataMarkerWebOptions").hide(),this.getMenuElement("#popuperrorBarsEnable").closest("section").show()},showHideAggDataByOption:function(e){var t,a;"bar"===e||"column"===e?null===(t=this.getMenuElement("#popupaggDataBy"))||void 0===t||t.closest(".row").show():null===(a=this.getMenuElement("#popupaggDataBy"))||void 0===a||a.closest(".row").hide()},updateOnSeriesViewTypeChange:function(e){this.setInfographicOptionView({type:e}),this.showHideLineStyle(e),this.showHideDeltaBarOptions(e),this.showHideLineSmooth(e),this.showHideConnectNullPoints(e),this.showHideMarkerOptions(),this.showHideGradientPickerProp(),this.showHideMarkerLinkOption(e),this.showHideAggDataByOption(e)},setInfographicOptionView:function(e){if("dataMarkers"===e.type){if(this.getMenuElement("#popuperrorBarsEnable").closest("section").hide(),this.getMenuElement(".dataMarkerWebOptions").next("hr").show(),this.getMenuElement("#popuprepeatMarker").parent().show(),this.getMenuElement("#popuprepeatMarker").prop("checked",1==+e.repeatMarker),this.getMenuElement("#popupunitsPerRow").prop("value",e.unitsPerRow?+e.unitsPerRow:1),this.onRepeatMarkerStateChange(e.repeatMarker),this.addSelectedMarkerToSeriesView("infoMarkerType",e.infoMarkerType,e.infographicCustomSVGEnable,e.infographicCustomSVGPath),this.getMenuElement("#popupinfoMarkerType").parent().show(),this.getMenuElement("#popupinfographicFill").parent().show(),this.getMenuElement(".dataMarkerWebOptions").show(),this.getMenuElement("#popupinfographicFill").prop("checked",1==+e.infographicFill),e.infographicFillPercentageMetric&&this.getMenuElement("#popupinfographicFillMetricSelect").val(e.infographicFillPercentageMetric),e.infographicMaxValue&&this.getMenuElement("#popupinfographicFillMetricSelect").val()===e.infographicFillPercentageMetric)this.getMenuElement("#popupinfographicMaxValue").val(e.infographicMaxValue);else vitaraJQ("#popupinfographicFillMetricSelect").val()?this.onInfographicFillPercentageMetricChange(vitaraJQ("#popupinfographicFillMetricSelect").val()):this.getMenuElement("#popupinfographicMaxValue").val(1);this.onInfographicFillChange(e.infographicFill)}else this.hideInfographicView()},addSelectedMarkerToSeriesView:function(e,t,a,i){this.context.getMarkerGrid().setMarkerSelectionSvg(e,{"selected-icon":t||"square","custom-path":a,"infographic-path":i})},onInfographicFillPercentageMetricChange:function(e){var t=this.context.eInterface.menuOptions.fetchCallback.getInfograpgicScaledMaximumValueOfSeries(e);vitaraJQ("#popupinfographicMaxValue").val(t)},getViewIdentifiers:function(){return{uiClass:"seriesOptions",uiId:"seriesOptionsId"}}});const $e=Ze;var et=i(8397);function tt(e){this.init(e)}Object.assign(tt.prototype,Ge.prototype,{ATTR_CONDITIONS:[{text:"Select",value:"select"},{text:"Equal To",value:"equalto"}],ENUM_PLOTLINE_ATTR_OPTIONS:{equalto:"Equal To",between:"Between",regex:"Regular Expression"},ENUM_SOURCE_TYPE:{METRIC:"metric",ATTRIBUTE:"attribute"},init:function(e){e&&(this.context=e)},setContext:function(e){this.context=e},setPlotLineListeners:function(){var e=this;vitaraJQ(e.context.getPropMenuContainer()).off("click","#addNewPlotLine").on("click","#addNewPlotLine",(function(){e.onClickAddNewPlotLine(),e.resetPlUserOptions(),e.onChangeAggregation(),e.setPlUserOptions(e.getDefaultPlOptions()),e.resetOptionsAsChartType(!0)})),vitaraJQ(e.context.getPropMenuContainer()).off("click","#cancelPLOptions").on("click","#cancelPLOptions",(function(){e.setPlotLinesTableView()})),vitaraJQ(e.context.getPropMenuContainer()).off("click","#applyPLOptions").on("click","#applyPLOptions",(function(){e.onClickApplyPlOptions()})),vitaraJQ(e.context.getPropMenuContainer()).off("click",".plotLineEdit").on("click",".plotLineEdit",(function(){e.onClickEditPlOptions(vitaraJQ(this).data("plotlineid")),e.onChangeAggregation(),e.resetOptionsAsChartType(!1)})),vitaraJQ(e.context.getPropMenuContainer()).off("click",".plotLineDelete").on("click",".plotLineDelete",(function(){e.onClickDeletePlOptions(vitaraJQ(this).data("plotlineid")),e.setPlotLinesTableView()})),vitaraJQ(e.context.getPropMenuContainer()).off("change","#popupplAggregationSelect").on("change","#popupplAggregationSelect",(function(){e.onChangeAggregation(vitaraJQ(this).val())})),vitaraJQ(e.context.getPropMenuContainer()).off("change","#popupplColSelect").on("change","#popupplColSelect",(function(){e.onChangePLSource(vitaraJQ(this).val()),e.displayTargetField(e.hasTargetOptions()&&!e.context.eInterface.dataHelper.isAttribute(vitaraJQ(this).val()))})),vitaraJQ(e.context.getPropMenuContainer()).off("change","#popuppllblDisplay").on("change","#popuppllblDisplay",(function(){vitaraJQ(this).prop("checked")?e.context.getMenuElement(".plotLineTitleFormattingFields").show():e.context.getMenuElement(".plotLineTitleFormattingFields").hide()})),vitaraJQ(e.context.getPropMenuContainer()).off("change","#popupplSeriesSelect").on("change","#popupplSeriesSelect",(function(t){e.resetOptionsAsChartType(!1,t)}))},getPlotLinesTableViewHtml:function(){var e=this;function t(t){switch(t.aggregation){case"fixedValue":return t.value;case"x%":return t.value+" Percentage";case"xRank":return t.value+" Percentile";case"equalto":return e.ENUM_PLOTLINE_ATTR_OPTIONS.equalto+": "+t.value;default:return t.aggregation}}var a=this.context.getPlotLines(),i="",n=!1;if(i+="<tr>",i+='<td width="40%"></td>',i+='<td width="40%"></td>',i+='<td width="20%"></td>',i+="</tr>",a&&a.length&&a.length>0){for(var o=0;o<a.length;o++)+a[o].dangle||(i+="<tr>",i+="<td>"+a[o].label+"</td>",i+="<td>"+t(a[o])+"</td>",i+="<td>",i+='<a data-type="plotLine" data-plotLineId="'+o+'" class="plotLineEdit" href="javascript:void(0);">Edit</a>',i+="/",i+='<a data-type="plotLine" data-plotLineId="'+o+'" class="plotLineDelete" href="javascript:void(0);">Delete</a></td>',i+="</tr>");n=!0}if(a&&a.length&&a.length>0){for(o=0;o<a.length;o++)+!a[o].dangle||(i+='<tr style="opacity:0.6;">',i+='<td><i title="'+a[o].dangleMsg+'" class="fa-info" style="cursor:pointer;"></i>'+a[o].label+"</td>",i+="<td>"+t(a[o])+"</td>",i+="<td>",i+='<a data-type="plotLine" data-plotLineId="'+o+'" class="plotLineDelete" href="javascript:void(0);">Delete</a></td>',i+="</tr>");n=!0}return n||(i+="<tr>",i+='<td colspan="2">',i+=e.context.eInterface.translateText("No PlotLine(s) found"),i+="<td>",i+="</tr>"),i},setPlotLinesTableViewHtml:function(){this.context.getMenuElement(".manage-plotLines table").html(this.getPlotLinesTableViewHtml())},setPlotLinesTableView:function(){this.setPlotLinesTableViewHtml(),this.context.getMenuElement(".manage-plotLines").show(),this.context.getMenuElement("#addNewPlotLine").show(),this.context.getMenuElement(".add-edit-plotLines").hide(),this.context.getMenuElement("#applyPLOptions").hide(),this.context.getMenuElement("#cancelPLOptions").hide(),this.context.getMenuElement(".plotLineFields").closest("div").find("hr").hide(),this.context.getMenuElement(".plotLineFields").hide()},hasTargetOptions:function(){var e=this.context.getMenuElement("#popupplSeriesSelect");return e&&e[0]&&e[0].options&&e[0].options.length},displayTargetField:function(e){if(e){var t=this.context.getMenuElement("#popupplSeriesSelect");t.parent().show(),-1===t[0].selectedIndex&&t.val(0)}else this.context.getMenuElement("#popupplSeriesSelect").parent().hide()},setOptionsForSourceAndTargetFields:function(){var e=this.context.eInterface.menuOptions.fetchCallback.fetchPlotLineSourceOptions(this.context.eInterface.menuOptions.fetchCallback.hasAttributeThresholdSupport());e=e.map((function(e){return{text:e.name,value:e.name,id:e.id}}));this.setDropdownOptions(this.context.getMenuElement("#popupplColSelect"),e,(function(e){return e}));var t=this.context.getMenuElement("#popupplSeriesSelect"),a=this.context.eInterface.dataHelper.isAttribute(this.context.getMenuElement("#popupplColSelect").val());"BubbleChart"===this.context.eInterface.menuOptions.chartType?(t.parent().show(),vitaraJQ("label",t.parent()).text("Orientation"),this.setDropdownOptions(t,[{text:"Horizontal",value:0},{text:"Vertical",value:2},{text:"Slope",value:3,id:"plSlope"}])):this.context.isDualAxisEnabled()?(t.parent().show(),this.setDropdownOptions(t,[{text:"Primary Value Axis",value:0},{text:"Secondary Value Axis",value:1}])):t.parent().hide(),a&&t.parent().hide(),t=null,this.onChangePLSource()},getPlotLineByLabel:function(e){return this.context.getPlotLines()[et.findIndex(this.context.getPlotLines(),(function(t){return t.label===e}))]},getPlotLineByUID:function(e){return this.context.getPlotLines()[et.findIndex(this.context.getPlotLines(),(function(t){return t.uid===e}))]},getPlotLineUID:function(e){return this.getPlotLineByLabel(e).uid},isPlotLine:function(e){return-1!==et.findIndex(this.context.getPlotLines(),(function(t){return t.label===e}))},getPlotLineLabel:function(){for(var e=(-1!==this.getEditPLIDFromParent()?this.getEditPLIDFromParent():this.context.getPlotLines().length)+1,t="Plot Line "+e;this.isPlotLine(t);)t="Plot Line "+ ++e;return t},getDefaultPlOptions:function(){return{lblEnable:!1,formatting:{color:"#a3a3a3",width:2,dashStyle:"solid",lblEnable:!1,label:{align:"left",style:{color:"#656368",fontSize:13,fontFamily:"Arial"}}}}},getPlUserOptions:function(){var e,t={},a={};if(e=utils.sanitizeContent(this.context.getMenuElement("#popupplSeriesSelect").val()),t.aggregation=this.context.getMenuElement("#popupplAggregationSelect").val(),t.type=this.context.getMenuElement("#popupplAggregationSelect").data("type"),t.aggregation&&"select"!==t.aggregation&&""!==t.aggregation||"3"===e)return t.source=this.context.getMenuElement("#popupplColSelect").val(),t.sourceId=this.context.getMenuElement("#popupplColSelect option:selected").attr("id"),t.type&&"attribute"===t.type?t.target=2:t.target=this.context.getMenuElement("#popupplSeriesSelect").val()||0,t.slopeValue=utils.sanitizeContent(this.context.getMenuElement("#popupslopeValue").val()),t.value=+t.slopeValue?"":utils.sanitizeContent(this.context.getMenuElement("#popupplValue").val()),t.type&&t.type===this.ENUM_SOURCE_TYPE.ATTRIBUTE&&(t.value=this.context.sanitizeContent(t.value),t.elementId=this.getSelectedInputSuggestionId("#popupplValue")),t.label=this.context.sanitizeContent(this.context.getMenuElement("#popupplLabel").val())||this.getPlotLineLabel(),t.text=this.context.getMenuElement("#plLabelEditor").cleanHtml()||" ",t.lblEnable=this.context.getMenuElement("#popuppllblDisplay").prop("checked"),a.color=this.context.getMenuElement("#popupplColor").val()||this.getDefaultPlOptions().formatting.color,a.width=this.context.getMenuElement("#popupplWidth").val(),a.dashStyle=this.context.getMenuElement("#popupplDashStyle").val(),a.label={text:t.text,align:this.context.getMenuElement("#popuppllblAlign").val(),useHTML:!0,style:null},t.formatting=a,this.simplify(t),t},setButtonActive:function(e,t){t&&""!==t&&"normal"!==t?(e.data("prevval",0),e.addClass("active"),e.prop("checked",!0)):(e.data("prevval",1),e.removeClass("active"),e.prop("checked",!1))},getFontSizeCst:function(e){return e&&e.fontSize&&e.fontSize.match&&e.fontSize.match("px$")?e.fontSize.replace("px",""):e.fontSize},setFontSizeCst:function(e){e&&e.fontSize&&(e.fontSize=e.fontSize+"px")},setPlUserOptions:function(e){this.context.getMenuElement("#popupplLabel").val(e.label);var t=this.context.getMenuElement("#plLabelEditor"),a=e.text||e.label||this.getPlotLineLabel();t.html(a),this.context.setCustomEditorFontSize(t,a),this.context.getMenuElement("#popuppllblDisplay").prop("checked",e.lblEnable),this.context.getMenuElement("#popuppllblDisplay").trigger("change"),e.aggregation?this.context.getMenuElement("#popupplAggregationSelect").val(e.aggregation):this.context.getMenuElement("#popupplAggregationSelect").eq(0).attr("selected","selected"),e.source?this.context.getMenuElement("#popupplColSelect").val(e.source):this.context.getMenuElement("#popupplColSelect option").eq(0).attr("selected","selected"),e.target?this.context.getMenuElement("#popupplSeriesSelect").val(e.target):this.context.getMenuElement("#popupplSeriesSelect option").eq(0).attr("selected","selected"),this.context.getMenuElement("#popupplValue").val(e.type===this.ENUM_SOURCE_TYPE.ATTRIBUTE?utils.decodeHTMLString(e.value):e.value),this.context.getMenuElement("#popupslopeValue").val(e.slopeValue),this.context.setVitaraColorPicker("#popupplColor",e.formatting.color),this.context.getMenuElement("#popupplWidth").val(e.formatting.width),this.context.getMenuElement("#popupplDashStyle").val(e.formatting.dashStyle),e.formatting.label&&(this.context.getMenuElement("#popuppllblAlign").val(e.formatting.label.align),e.formatting.label.style&&(this.context.setCustomFormatEditorStyle("plLabelEditor",this.getLabelStyle(e.formatting.label.style),e.text||e.label||this.getPlotLineLabel()),this.context.getMenuElement("#popuppllblSize").val(this.getFontSizeCst(e.formatting.label.style)),this.context.getMenuElement("#popuppllblfntName").val(e.formatting.label.style.fontFamily),this.context.setVitaraColorPicker("#popuppllblColor",e.formatting.label.style.color),this.setButtonActive(this.context.getMenuElement("#pllblBold"),e.formatting.label.style.fontWeight),this.setButtonActive(this.context.getMenuElement("#pllblItalic"),e.formatting.label.style.fontStyle),this.setButtonActive(this.context.getMenuElement("#pllblUnderline"),e.formatting.label.style["text-decoration"])))},resetPlUserOptions:function(){this.setPlUserOptions({aggregation:"select",label:"",text:"",lblEnable:!1,slopeValue:"",value:"",formatting:{color:"",width:"",label:{align:"",style:{color:"",fontWeight:"",fontStyle:"",fontFamily:"","text-decoration":"",fontSize:""}}}}),this.setEditPLIDToParent(-1)},setEditPLIDToParent:function(e){this.context.getMenuElement(".add-edit-plotLines").data("plId",e)},getEditPLIDFromParent:function(){return this.context.getMenuElement(".add-edit-plotLines").data("plId")},getNewUIDForPL:function(){for(var e=this.getNewId();-1!==et.findIndex(this.context.getPlotLines(),(function(t){return t.uid===e}));)this.getNewUIDForPL();return e},onClickAddNewPlotLine:function(e){this.context.getMenuElement(".manage-plotLines").hide(),this.context.getMenuElement("#addNewPlotLine").hide(),this.context.getMenuElement("#cancelPLOptions").show(),this.context.getMenuElement(".add-edit-plotLines").show(),this.context.getMenuElement("#applyPLOptions").show(),this.context.getMenuElement(".plotLineFields").closest("div").find("hr").show(),this.context.getMenuElement(".plotLineFields").show()},onClickApplyPlOptions:function(){var e=this.getPlUserOptions();if(e){var t=this.getEditPLIDFromParent();this.context.getPlotLines()[t]?(this.context.getPlotLines()[t]=this.checkSlopeValue(t,e),this.context.getPlotLines()[t]=vitaraJQ.extend(!0,this.context.getPlotLines()[t],e),delete this.context.getPlotLines()[t].sourceID,this.updatePlThresholds()):(e.uid=this.getNewUIDForPL(),this.context.getPlotLines().push(vitaraJQ.extend(!0,this.getDefaultPlOptions(),e))),this.context.eInterface.menuOptions.saveCallback.save(JSON.stringify(this.context.getState())),this.setPlotLinesTableView()}},checkSlopeValue:function(e,t){var a,i=this.context.getPlotLines()[e];t.slopeValue&&i&&(null==i||delete i.cValue,null==i||null===(a=i.formatting)||void 0===a||delete a.value);return i},savePlotlineData:function(){this.context.getState().plotLines=this.context.state.plotLines,this.context.saveCallback()},onClickEditPlOptions:function(e){var t=this.context.getPlotLines()[e];this.onClickAddNewPlotLine(),this.resetPlUserOptions(),t.source&&(this.onChangePLSource(t.source),this.displayTargetField(this.hasTargetOptions()&&!this.context.eInterface.dataHelper.isAttribute(t.source))),this.setPlUserOptions(t),this.setEditPLIDToParent(e)},onClickDeletePlOptions:function(e){this.context.getPlotLines().splice(e,1),this.savePlotlineData()},onChangeAggregation:function(e){e=e||this.context.getMenuElement("#popupplAggregationSelect").val(),-1!==["fixedValue","x%","xRank","equalto","between","regex"].indexOf(e)?(this.context.getMenuElement("#popupplValue").parent().show(),this.setAttributeSuggestions(),"between"===e?this.context.getMenuElement("#popupplValue2").parent().show():this.context.getMenuElement("#popupplValue2").parent().hide()):(this.context.getMenuElement("#popupplValue").parent().hide(),this.context.getMenuElement("#popupplValue2").parent().hide())},showHideTextSlopeValue:function(e){if("BubbleChart"===this.context.menuOptions.chartType){var t=this.context.getMenuElement("#popupslopeValue"),a=this.context.getMenuElement("#popupplSeriesSelect").val();e||3==+a?t.parent().show():t.parent().hide()}},onChangePLSource:function(e){var t=e||this.context.getMenuElement("#popupplColSelect").val(),a=this.context.getField("plAggregationSelect");a&&a.options&&!this.context.eInterface.dataHelper.isAttribute(t)?(this.context.getMenuElement("#popupplAggregationSelect").data("type",this.ENUM_SOURCE_TYPE.METRIC),this.setDropdownOptions(this.context.getMenuElement("#popupplAggregationSelect"),a.options)):(this.context.getMenuElement("#popupplAggregationSelect").data("type",this.ENUM_SOURCE_TYPE.ATTRIBUTE),this.setDropdownOptions(this.context.getMenuElement("#popupplAggregationSelect"),this.ATTR_CONDITIONS))},onChangePlotlineType:function(e){if("BubbleChart"===this.context.menuOptions.chartType){var t=e?e.target.value:this.context.getMenuElement("#popupplSeriesSelect").val(),a=this.context.getMenuElement("#popupplColSelect"),i=this.context.getMenuElement("#popupplAggregationSelect");"3"===t?(a.attr("disabled",!0),i.attr("disabled",!0),this.showHideTextSlopeValue(!0)):(a.attr("disabled",!1),i.attr("disabled",!1),this.showHideTextSlopeValue(!1))}},resetOptionsAsChartType:function(e,t){"BubbleChart"===this.context.eInterface.menuOptions.chartType&&(e?(this.context.getMenuElement("#popupplSeriesSelect").val(0),this.showHideTextSlopeValue(!1)):this.onChangePlotlineType(t))},isPlotLinesEnabledToChart:function(){return this.context.getPlotLines().length>0},getPlotLinesAsOptions:function(e){var t=this,a=[];return this.context.getPlotLines().forEach((function(i){e&&i.type&&i.type===t.ENUM_SOURCE_TYPE.ATTRIBUTE||a.push(i.label)})),this.context.getAsDropDownOptions(a)},setPlotLinesAsOptions:function(e){this.setDropdownOptions(e,[{text:"Select",value:""}].concat(this.getPlotLinesAsOptions()))},appendPlotLinesAsOptions:function(e){this.appendDropDownOptions(e,this.getPlotLinesAsOptions(!0))},isPlSpecificTarget:function(e){return"Chart Background"===e},appendPlotLinesSpecificTargetOptions:function(e){this.appendDropDownOptions(e,[{text:"Chart Background",value:"Chart Background"}])},addPlSpecificThresholdSourceAndTargetOptions:function(e,t){this.isPlotLinesEnabledToChart()&&(this.appendPlotLinesAsOptions(e),this.appendPlotLinesSpecificTargetOptions(t))},plotLineThresholdConditions:[{text:"Select",value:""},{text:"Above The Line",value:"Above The Line"},{text:"Below The Line",value:"Below The Line"}],setPlotLineThresholdConditions:function(e){this.setDropdownOptions(e,this.plotLineThresholdConditions),e.data("type",this.context.ENUM_THRESHOLD_TYPE.PLOT_LINE)},setThresholdConditionsIfPlotLine:function(e,t){this.isPlotLine(e)&&this.setPlotLineThresholdConditions(t)},updatePlThresholds:function(e){for(var t in this.context.thresholds)for(var a=0;a<this.context.thresholds[t].length;a++)this.context.thresholds[t][a].pluid&&(this.context.thresholds[t][a].source=this.getPlotLineByUID(this.context.thresholds[t][a].pluid).label)},getLabelStyle:function(e){var t={};return e.fontFamily&&(t["font-family"]=e.fontFamily),e.fontSize&&(t["font-size"]=parseInt(e.fontSize)+"px"),e.color&&(t.color=e.color),e.fontWeight&&(t["font-weight"]=e.fontWeight),e.fontStyle&&(t["font-style"]=e.fontStyle),e["text-decoration"]&&(t["text-decoration"]=e["text-decoration"]),t},getViewIdentifiers:function(){return{uiClass:"plotLines",uiId:"plotLinesId"}},setAttributeSuggestions:function(){var e=this.context.getMenuElement("#popupplColSelect").find(":selected").val(),t=this.context.getMenuElement("#popupplColSelect").val();e&&this.context.eInterface.dataHelper.isAttribute(e)?this.context.getMenuElement("#popupplValue").is(":visible")&&this.setInputSuggestions(this.context.getMenuElement("#popupplValue"),this.context.eInterface.menuOptions.fetchCallback.fetchColumnItems(t,!1)):this.destroyInputSuggestions(this.context.getMenuElement("#popupplValue"))}});const at=tt;var it=i(8397);function nt(e){this.init(e)}Object.assign(nt.prototype,Ge.prototype,{init:function(e){e&&(this.context=e)},getViewIdentifiers:function(){return{uiClass:"plotbandOption",uiId:"plotbandOptionsId"}},savePlotbandData:function(e){this.context.getStateManager().setProperty(e,e),this.context.saveCallback()},ENUM_PLOTBANDS_AGGR_OPTIONS:{rowValue:"Row Value",sum:"Sum",count:"Count",max:"Max",min:"Min",first:"First",last:"Last",percentile:"Percentile",percentage:"Percentage"},computePlotbands:function(){var e=this.context,t=this.context.getStateManager().getProperty("plotbands"),a={},i=t[t.length-1].pos,n=e.getMenuElement("#plotbandOptionsId").val();a.metric=e.getMenuElement("#popupbandMetricSelect").val(),a.aggregation=e.getMenuElement("#popupbandAggregation").val(),a.percentage=e.getMenuElement("#popupbandPercentageValue").val(),a.percentile=e.getMenuElement("#popupbandXPercentValue").val(),a.fixedValue=e.getMenuElement("#popupbandFixedValue").val(),a.color=e.getMenuElement("#popupbandColor").val(),a.name=""!==n?"Band"+t[n].pos:"Band"+(i+1),a.pos=""!==n?t[n].pos:i+1,""===n?t.push(a):""!==n&&(t[t.indexOf(t[n])]=a),this.savePlotbandData(t)},resetEditorFields:function(){var e=this.context;e.getMenuElement("#plotbandOptionsId").val(""),e.getMenuElement("#popupbandFixedValue").val(""),e.getMenuElement("#popupbandXPercentValue").val(""),e.getMenuElement("#popupbandPercentageValue").val(""),e.setVitaraColorPicker("#popupbandColor","",null,null,"palette")},setPlotBandsListeners:function(){var e=this,t=this.context,a=t.getPropMenuContainer();vitaraJQ(a).off("click","#applyPlotband").on("click","#applyPlotband",(function(){e.computePlotbands(),e.managePlotBandClick()})),vitaraJQ(a).off("click","#cancelPlotbands").on("click","#cancelPlotbands",(function(){e.resetEditorFields(),e.managePlotBandClick()})),vitaraJQ(a).off("click","#managePlotbands").on("click","#managePlotbands",(function(){e.managePlotBandClick()})),vitaraJQ(a).off("click","#addNewPlotBands").on("click","#addNewPlotBands",(function(){e.resetEditorFields(),e.addPlotbandsClick(),e.setBandVisibilityOptions()})),vitaraJQ(a).off("click",".plotbandEdit").on("click",".plotbandEdit",(function(){var a=t.getStateManager().getProperty("plotbands"),i=vitaraJQ(this).data("bandcolid"),n=vitaraJQ(this).data("bandidtype"),o=a[i],r=t.getMenuElement("#popupbandColor").closest(".row");t.getMenuElement("#idtype").val(n),t.getMenuElement("#plotbandOptionsId").val(i),t.getMenuElement("#popupbandMetricSelect").val(o.metric),t.getMenuElement("#popupbandAggregation").val(o.aggregation),t.getMenuElement("#popupbandFixedValue").val(o.fixedValue),t.getMenuElement("#popupbandXPercentValue").val(o.percentile),t.getMenuElement("#popupbandPercentageValue").val(o.percentage),t.setVitaraColorPicker("#popupbandColor",o.color),0===i?r.hide():0!==i&&r.show(),t.setAGGuageXPercentValField("bandAggregation",o.aggregation),t.setBulletPlotBandFields("bandMetricSelect",o.metric),e.addPlotbandsClick()})),vitaraJQ(a).off("click",".plotbandDelete").on("click",".plotbandDelete",(function(){var a=t.getStateManager().getProperty("plotbands"),i=vitaraJQ(this).data("bandcolid");a.splice(i,1),vitaraJQ(this).closest("tr").remove(),e.savePlotbandData(a),e.refreshManagePlotband()}))},getPlotbandsRenderData:function(){var e=this,t=[],a={"data-type":"plotband",href:"javascript:void(0);"},i=this.context.getStateManager().getProperty("plotbands");return it.each(i,(function(i,n){var o,r,s,l=e.ENUM_PLOTBANDS_AGGR_OPTIONS[i.aggregation]||i.aggregation;"percentage"===i.aggregation?l="Percentage - "+i.percentage:"xpercent"===i.aggregation&&(l="Percentile - "+i.percentile),"fixed"===i.metric&&(l=i.fixedValue),i.pId,o="Band "+i.pos,r=i.metric+" - "+l,s={"data-bandidType":"id","data-bandcolid":n},"Band0"===i.name?t.push([o,r,it.extend({class:"plotbandEdit"},a,s)]):t.push([o,r,it.extend({class:"plotbandEdit"},a,s),it.extend({class:"plotbandDelete"},a,s)])})),t},refreshManagePlotband:function(){var e=this.context.getMenuElement(".manage-plotbandOption table");this.setTableData(e,this.getPlotbandsRenderData(),!0,"No plotband(s) found")},managePlotBandClick:function(){var e=this.context;this.refreshManagePlotband(),e.getMenuElement(".manage-plotbandOption").show(),e.getMenuElement(".add-edit-plotbandOption").hide(),e.getMenuElement("#addNewPlotBands").show(),e.getMenuElement("#applyPlotband").hide(),e.getMenuElement("#cancelPlotbands").hide()},addPlotbandsClick:function(){var e=this.context;e.getMenuElement(".manage-plotbandOption").hide(),e.getMenuElement(".add-edit-plotbandOption").show(),e.getMenuElement("#addNewPlotBands").hide(),e.getMenuElement("#applyPlotband").show(),e.getMenuElement("#cancelPlotbands").show()},setBandVisibilityOptions:function(){this.context.getMenuElement("#popupbandMetricSelect").prop("selectedIndex",1),this.context.getMenuElement("#popupbandAggregation").prop("selectedIndex",0),this.context.getMenuElement("#popupbandColor").closest(".row").show(),this.context.getMenuElement("#popupbandAggregation").parent().show(),this.context.getMenuElement("#popupbandXPercentValue").parent().hide(),this.context.getMenuElement("#popupbandPercentageValue").parent().hide(),this.context.getMenuElement("#popupbandFixedValue").parent().hide()}});const ot=nt;var rt=i(8397);function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ct(i.key),i)}}function ut(e,t,a){return(t=ct(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ct(e){var t=function(e,t){if("object"!=st(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=st(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==st(t)?t:String(t)}var pt=function(){function e(t,a,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ut(this,"menuArea",void 0),ut(this,"chartArea",void 0),ut(this,"propMenuContainer",void 0),ut(this,"seriesElements",void 0),ut(this,"mSeriesElements",[]),ut(this,"autoHideMenu",!0),ut(this,"self",this),ut(this,"state",{}),ut(this,"markerTypes",[]),ut(this,"EVENT_NAMESPACE","vitara-propmenu-custom"),ut(this,"compatabilityManager",{getLabelStyle:this.getLabelStyle.bind(this),getFontSizeFromHTML:this.getFontSizeFromHTML.bind(this)}),ut(this,"menuOptions",null),ut(this,"saveColorHistoryKey","vitara.recentColors"),ut(this,"recentColors",[]),ut(this,"paletteColors",[]),ut(this,"propertyEditorProperties",{}),ut(this,"checkListControl",new Re),ut(this,"cursorPosition",{range:null,containerId:""}),ut(this,"stateManager",{setProperty:function(e,t){this.context.state[e]=t},getProperty:function(e){return this.context.state[e]}}),ut(this,"getCompatibilityManager",(function(){return this.compatabilityManager})),ut(this,"setDropdownOptions",(function(e,t,a){e.empty(),this.appendDropDownOptions(e,t,a)})),ut(this,"getCursorPosition",(function(){return this.cursorPosition})),ut(this,"setCursorPosition",(function(e,t){this.cursorPosition.range=e,this.cursorPosition.containerId=t})),ut(this,"createMenuButton",(function(){vitaraJQ(".vitara-chart-editor",this.getChartArea()).remove(),this.menuButton=new K({wrapperId:"menuArea"+this.getMenuID(),wrapperClassName:"vitara-chart-editor",className:"editor-popup-opener notopened",text:"Edit",parent:this.getChartArea()}),this.menuButton.addClickHandler(".editor-popup-opener",this.openPropertyMenu)})),ut(this,"isDualAxisEnabled",(function(){return-1!==rt.findIndex(this.getSeries(),(function(e){return 1==e.yAxis}))})),ut(this,"extendDefaults",(function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e})),ut(this,"ENUM_THRESHOLD_TYPE",{PLOT_LINE:"plotLine"}),ut(this,"getThemeColors",(function(){return this.paletteColors?this.paletteColors:null})),ut(this,"convertToRGB",(function(){if(!this.isStartsWithRGB(this.paletteColors[0]))for(var e=0;e<this.paletteColors.length;e++)this.paletteColors[e]=this.hexToRGBA(this.paletteColors[e])})),ut(this,"openPropertyEditorForSelectedChart",(function(e){this.markerTypes=[],this.getEventHandler().destroy(),this.getCustomEventHandler().destroy(),this.getEventHandler().setErrorHandler(),e.stopPropagation(),this.context.parentProps||this.eInterface.menuOptions.fetchCallback.setParentProps(),this.eInterface.openEditor(0,!0)})),ut(this,"getPlotLinesUIManager",(function(){return this.plotLinesUIManager||(this.plotLinesUIManager=new at(this)),this.plotLinesUIManager})),ut(this,"initCustomWaterfallFields",(function(){var e=this;this.getMenuElement(".vitara-accordion-field").accordion({collapsible:!0,active:!1,animate:!1,heightStyle:"content",classes:{"ui-accordion-header-active":"accordion-active","ui-accordion-content":"accordion-content"},activate:function(e,t){},create:function(t,a){if(e.getState().wfPlotOptions)for(var i=e.getMenuElement(".vitara-accordion-field"),n=vitaraJQ(".ui-accordion-content",i),o=e.getState().wfPlotOptions,r=e.eInterface.menuOptions.fetchCallback.chartSpecificFetch().disableBreakBy(),s=0;s<n.length;s++){var l=vitaraJQ(n[s]).prev("h3").text(),u=vitaraJQ(n[s]);o[l]&&(vitaraJQ(n[s]).prev("h3").text(o[l].title),vitaraJQ(n[s]).prev("h3").attr("data-metricId",l),vitaraJQ("#popupwfEnableBreakBy",u).prop("checked",o[l].breakBy),o[l].breakBy&&(vitaraJQ("#popupwfAggregationSelector",u).prop("disabled",!0),vitaraJQ("#popupwfIsNonAdditive",u).prop("disabled",!0)),vitaraJQ("#popupwfAggregationSelector",u).val(o[l].aggregation),"xpercent"===o[l].aggregation?(vitaraJQ("#popupwfXPercentValue",u).parent().show(),vitaraJQ("#popupwfXPercentValue",u).val(o[l].xPercent)):vitaraJQ("#popupwfXPercentValue",u).parent().hide(),vitaraJQ("#popupwfIsSubtrahend",u).prop("checked",o[l].subtrahend),o[l].subtrahend&&vitaraJQ("#popupwfIsNonAdditive",u).prop("disabled",!0),vitaraJQ("#popupwfIsNonAdditive",u).prop("checked",o[l].nonAdditive),o[l].nonAdditive&&vitaraJQ("#popupwfIsSubtrahend",u).prop("disabled",!0),vitaraJQ("#popupwfMetricColor",u).val(o[l].color)),r&&(vitaraJQ("#popupwfEnableBreakBy",u).prop("checked",!1),vitaraJQ("#popupwfEnableBreakBy",u).prop("disabled",!0))}}})})),this.chartContext=t,this.eInterface=a,this.state=i||{},this.waterfall=new Me(this),this.context=t,this.setEventHandler(),this.getPlotLinesUIManager(),this.getThresholdsUIManager(),this.getSeriesUIManager(),this.getPlotBandsUIManager(),this.renderedChart=this.eInterface.chartRef.renderedChart}var t,a,i;return t=e,(a=[{key:"setChartContext",value:function(e){this.chartContext=e,this.renderedChart=e.renderedChart}},{key:"setEditorInterfaceContext",value:function(e){this.eInterface=e}},{key:"getChartContext",value:function(){return this.chartContext}},{key:"getField",value:function(e){return this.eInterface.fields[e]}},{key:"getEditorContext",value:function(){return this.eInterface}},{key:"getDataHelper",value:function(){return this.eInterface.getDataHelper()}},{key:"getStateManager",value:function(){return this.stateManager.context||(this.stateManager.context=this),this.stateManager}},{key:"getPropMenuContainer",value:function(){return this.eInterface.getPropMenuContainer()}},{key:"getModalContainer",value:function(){return this.eInterface.getModalContainer()}},{key:"setEventHandler",value:function(){this.eventHandler=new Fe({context:this})}},{key:"getEventHandler",value:function(){return this.eventHandler||(this.eventHandler=new Fe({context:this})),this.eventHandler}},{key:"getFetchCallback",value:function(){return this.eInterface.menuOptions.fetchCallback}},{key:"getColDefinitions",value:function(){return this.eInterface.menuOptions.columnDefs}},{key:"setAutoHide",value:function(e){this.eInterface.options.autoHide=e}},{key:"getAutoHide",value:function(){return this.eInterface.options.autoHide}},{key:"getCustomEditor",value:function(){return this.customEditorControl||(this.customEditorControl=new se({context:this,stateManager:this.getStateManager(),compatabilityManager:this.getCompatibilityManager(),fetchCallback:this.getFetchCallback(),colDefinitions:this.getColDefinitions()})),this.customEditorControl}},{key:"getMarkerGrid",value:function(){return this.markerGrid||(this.markerGrid=new Ie({context:this,fetchCallback:this.eInterface.menuOptions.fetchCallback,stateManager:this.getStateManager()})),this.markerGrid}},{key:"getToggleMarkerType",value:function(){return this.toggleMarkerType||(this.toggleMarkerType=ye),this.toggleMarkerType}},{key:"getSelectDropDown",value:function(){return this.selectDropDown||(this.selectDropDown=new Le({context:this,stateManager:this.getStateManager(),fetchCallback:this.getFetchCallback(),colDefinitions:this.getColDefinitions(),utils:this.chartContext.utils})),this.selectDropDown}},{key:"processMenuButtonAutoHide",value:function(){this.getAutoHide()||(this.state.userKnowsEditor=!0,this.setAutoHide(!0))}},{key:"appendDropDownOptions",value:function(e,t,a){var i=[];vitaraJQ.each(t,(function(e,t){i.push(a?a(t):{value:t.value,text:t.text})})),this.getSelectDropDown().addDropDownOptions(e,i)}},{key:"setFieldAvailabiltyForVariWide",value:function(){var e=this.eInterface.getElementRef("#popupbarColumnVariwide").prop("checked");this.eInterface.getElementRef("#popupseriesTypeWidth").spinner({disabled:e}),this.eInterface.getElementRef("#popupbarColumnSpacing").spinner({disabled:e}),this.eInterface.getElementRef("#popupbarColumnGrouping").prop("disabled",e),this.getCustomEventHandler().tooglePolarProperty(!!e)}},{key:"getCustomEventHandler",value:function(){return this.eInterface.eventHandler}},{key:"toggleVariwideOptionsDisplay",value:function(){if(this.getMetricTitles().length<2){var e=this.eInterface.getElementRef("#popupbarColumnVariwide");e.prop("checked",!1),e.closest("div").hide()}this.setFieldAvailabiltyForVariWide()}},{key:"getMenuID",value:function(){return this.eInterface.menuOptions.id}},{key:"setMenuArea",value:function(e){menuArea=e}},{key:"getDrillBackButton",value:function(){return this.chartContext.drillBackButton}},{key:"getMenuButton",value:function(){return this.menuButton}},{key:"getMenuArea",value:function(){return vitaraJQ(".menuArea"+this.getMenuID())}},{key:"getChartArea",value:function(){return this.eInterface.getChartArea()}},{key:"getElementRef",value:function(e){return this.eInterface.getElementRef(e)}},{key:"getSeriesElements",value:function(){return seriesElements}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){this.state=e}},{key:"updatePropsFromState",value:function(e){this.paletteColors=e.colors}},{key:"getPlotLines",value:function(){return this.state.plotLines||(this.state.plotLines=[]),this.state.plotLines}},{key:"cleanUpPlotLines",value:function(e,t){var a=this;rt.forEach(this.getPlotLines(),(function(i,n){i&&(-1===t.indexOf(i.source)?a.getPlotLines().splice(n,1):e||1!=i.target||a.getPlotLines().splice(n,1))}))}},{key:"setPlotLines",value:function(e){this.state.plotLines=e}},{key:"getSeries",value:function(){return this.state.series}},{key:"setSeriesOptions",value:function(e){this.state.series=e}},{key:"getSeriesOptions",value:function(e){return this.seriesOptions&&!e||(this.seriesOptions=this.eInterface.menuOptions.fetchCallback.fetchSeries()),this.seriesOptions}},{key:"setFieldProperty",value:function(e,t,a){var i=this.eInterface.getElementRef(e);i&&i.length>0&&i.prop(t,a)}},{key:"setFieldValue",value:function(e,t){var a=this.eInterface.getElementRef(e);a&&a.length>0&&a.val(t)}},{key:"getDropDownTextValue",value:function(e){return this.chartContext.utils.decodeStringValue(e)}},{key:"restoreFormData",value:function(){this.state=JSON.parse(this.eInterface.menuOptions.fetchCallback.fetch()||"{}"),void 0===this.state&&(this.state={}),void 0!==this.state&&void 0!==this.state&&this.state.thresholds&&(this.eInterface.thresholds=this.state.thresholds),this.autoHideMenu=this.eInterface.menuOptions.fetchCallback.fetchAutoHideMenu()}},{key:"getColorHistory",value:function(){return this.getValueFromSessionStorage(this.saveColorHistoryKey)||[]}},{key:"saveToColorHistory",value:function(){this.saveToSessionStorage(this.saveColorHistoryKey,JSON.stringify(this.recentColors))}},{key:"getValueFromSessionStorage",value:function(e){return JSON.parse(sessionStorage.getItem(e))}},{key:"saveToSessionStorage",value:function(e,t){sessionStorage.setItem(e,t)}},{key:"setPropMenuLayout",value:function(){var e=this.eInterface;this.getRTLLayout()&&(e.getMenuElement(".propertymenu").addClass("rtl"),e.getMenuElement("#popuprtlLayout").prop("checked",!0))}},{key:"getRTLLayout",value:function(){return this.state?void 0===this.state.rtlLayout||null===this.state.rtlLayout?this.eInterface.menuOptions.fetchCallback.isRtl():+this.state.rtlLayout:this.eInterface.menuOptions.fetchCallback.isRtl()}},{key:"saveFormData",value:function(e,t){if(void 0!==e){var a;if("customSeriesColors"===e)return this.state.colors=this.paletteColors,void this.saveCallback();"seriesByAttribute"===e?void 0!==this.state.series&&delete this.state.series:"bgOpacitySlider"===e?(this.state.chartAreaBGColor&&(this.state.chartAreaBGColor=this.hexToRGBA(this.convertToHex(this.state.chartAreaBGColor),t/100)),this.state.plotAreaBGColor&&(this.state.plotAreaBGColor=this.hexToRGBA(this.convertToHex(this.state.plotAreaBGColor),t/100))):"chartAreaBGColor"!==e&&"plotAreaBGColor"!==e||this.state.bgOpacitySlider&&t&&(t=this.hexToRGBA(this.convertToHex(t),this.state.bgOpacitySlider/100));var i=[{name:e,value:t}];a={};var n=this;vitaraJQ.each(i,(function(){var e=this.value,t=this.name.split("["),i=n.buildInputObject(t,e);vitaraJQ.extend(!0,a,i)})),vitaraJQ.extend(!0,this.state,a),(this.propertyEditorProperties.drillChart||this.chartContext.drillingEnabled)&&(this.state.drillChart={},vitaraJQ.extend(!0,this.state.drillChart,a)),this.saveCallback()}}},{key:"saveCallback",value:function(){var e=this.state;delete e.chartInstance,this.eInterface.menuOptions.saveCallback.saveDrillWrapper(JSON.stringify(e))}},{key:"getMetricTitles",value:function(e){var t=e||this.eInterface.dataHelper,a=t.getTitles(),i=t.getNumAttributes();return a.slice(i,a.length)}},{key:"getAttributeTitles",value:function(){return this.eInterface.dataHelper.getTitles().slice(0,this.eInterface.dataHelper.getNumAttributes())}},{key:"getAsDropDownOptions",value:function(e){var t=[];if(!rt.isArray(e))return t;for(var a=0;a<e.length;a++)t.push({text:this.getDropDownTextValue(e[a]),value:e[a]});return t}},{key:"getAsDropDownOptionsCustom",value:function(e,t){var a=[];if(!e||!e.length)return a;for(var i=0;i<e.length;i++)0===i&&a.push({text:this.getDropDownTextValue(t||"Select"),value:""}),a.push({text:this.getDropDownTextValue(e[i]),value:e[i]});return a}},{key:"getValueZoneMetricTitlesAsOptions",value:function(){return this.getAsDropDownOptions(this.eInterface.menuOptions.fetchCallback.fetchValueMetricTitles())}},{key:"getMetricTitlesAsOptions",value:function(){return this.getAsDropDownOptions(this.getMetricTitles())}},{key:"getTitlesAsOptions",value:function(){return this.eInterface.menuOptions.interface?this.getAsDropDownOptions(this.eInterface.menuOptions.interface.getTitles()):[]}},{key:"getSeriesAsOptions",value:function(){this.fetchSeriesElements();var e=[];return rt.each(this.seriesElements,(function(t){e.push(t.name)})),this.getAsDropDownOptions(e)}},{key:"getColumnOptions",value:function(){var e=this.eInterface.dataHelper;if(e){var t=e.getMstrDataSetInfo(),a=e.getNumAttributes(),i=[];t.columns&&t.columnTitles&&rt.times(t.columns.length,(function(e){i.push({colId:e,columnId:t.columns[e],headerName:t.columnTitles[e],isMetric:e>=a})})),this.eInterface.menuOptions.columnDefs=i}}},{key:"setTagToDisplayRange",value:function(e){this.eInterface.getElementRef(".thresholdFields").length>0&&(this.eInterface.getMenuElement(".thresholdFields").first().find("#popupSourceValueRange").remove(),this.eInterface.getElementRef(".thresholdFields").first().prepend(vitaraJQ.parseHTML('<h7 id="popupSourceValueRange" class="rangeText">'+e+"</h7>")[0]))}},{key:"getAllColumns",value:function(){var e="";for(var t in e+='<option value=""> --Select-- </option> selected',this.eInterface.menuOptions.columnDefs){var a=this.eInterface.menuOptions.columnDefs[t];null!==a&&""!==a&&void 0!==a&&(e+='<option value="'+a.headerName+'">',e+=a.headerName,e+="</option>")}return e}},{key:"isSeriesByMetric",value:function(e){for(var t=this.eInterface.dataHelper.getTitles(),a=this.eInterface.dataHelper.numAttributes,i=t.slice(a,t.length),n=0;n<e.length;n++)if(-1===vitaraJQ.inArray(e[n].name,i))return!1;return!0}},{key:"getDate",value:function(e){var t;try{t=vitaraJQ.datepicker.parseDate(dateFormat,e.value)}catch(e){t=null}return t}},{key:"changeCallback",value:function(e,t,a){var i=this.eInterface.menuOptions.changeCallback(e,t,a)||"{}";if(void 0!==i){if(void 0!==i.disable&&i.disable.length>0)for(var n=0;n<i.disable.length;n++){var o=i.disable[n];vitaraJQ("#"+o).prop("disabled",!0)}if(void 0!==i.hide&&i.hide.length>0)for(n=0;n<i.hide.length;n++)o=i.hide[n],vitaraJQ("#"+o).closest(".field_container").hide()}}},{key:"onEnableDrill",value:function(e){var t=this,a=this.chartContext.dataHelper.getTitles(),i=this.chartContext.dataHelper.numAttributes;a=a.slice(0,i),this.state.drillChart||(this.state.drillChart={chart:{}}),rt.each(a,(function(e){t.state.drillChart.chart[e]={chart:"line",target:"",property:{}}}));var n=e.source,o=e.target,r=e.chartType;this.state.drillChart.chart[n]={chart:r,target:o,property:{}},this.state.drillChart.initial={chart:"",target:o,property:{}},this.state.drillChart.chart[o]={chart:r,target:"",property:{}},this.state.currentDrillLevel=n,this.state.groupSelected=[],this.propertyEditorProperties.editor=r,this.propertyEditorProperties.source=n,this.context.drillDisabled=!1,this.saveCallback(),this.setDrillPropertiesSelection()}},{key:"onResetDrill",value:function(){this.state.drillChart&&(this.state.drillChart=void 0,this.chartContext.drillDisabled=!0),this.saveCallback(),this.setDrillPropertiesSelection()}},{key:"modifyDrillState",value:function(e,t){e?this.state.drillChart&&this.state.drillChart.chart&&(this.state.drillChart.chart[e]||(this.state.drillChart.chart[e]={chart:"line",target:"",property:{}},this.chartContext.parentProps||this.eInterface.menuOptions.fetchCallback.setParentProps(),this.saveCallback())):t&&this.state.drillChart&&(e=this.state.drillChartTarget)&&this.state.drillChart.chart&&(this.state.drillChart.chart[e]={chart:t,target:"",property:{}},this.chartContext.parentProps||this.eInterface.menuOptions.fetchCallback.setParentProps(),this.saveCallback())}},{key:"copyErrorLogToClipBoard",value:function(){this.eInterface.menuOptions.fetchCallback.copySelectionToClipboard()}},{key:"initCustomComponents",value:function(e){this.addTextSpinner(e)}},{key:"setTileShape",value:function(e){this.state.tileShape=e}},{key:"processDisableProperties",value:function(){var e=this.eInterface.menuOptions.fetchCallback.fetchPropertiesToDisable();if(e&&e.length)for(var t=0;t<e.length;t++)this.eInterface.getElementRef("#popup"+e[t]).parent().remove();this.setDataLabelFormatSelection(),this.setDrillPropertiesSelection()}},{key:"showHideCustomOptions",value:function(){this.setAGGuageXPercentValField("startValueAggregation"),this.setAGGuageXPercentValField("endValueAggregation"),this.setBulletPlotBandFields("startValueMetricSelect"),this.setBulletPlotBandFields("endValueMetricSelect"),this.setAGGuageXPercentValField("sStartValueAggregation"),this.setAGGuageXPercentValField("sEndValueAggregation"),this.setBulletPlotBandFields("sStartValueMetricSelect"),this.setBulletPlotBandFields("sEndValueMetricSelect"),this.setAGGuageXPercentValField("cStartValueAggregation"),this.setAGGuageXPercentValField("cEndValueAggregation"),this.setBulletPlotBandFields("cStartValueMetricSelect"),this.setBulletPlotBandFields("cEndValueMetricSelect"),this.setAGGuageXPercentValField("maxAggregationSelect"),this.setAGGuageXPercentValField("minAggregationSelect"),this.setAGGuageXPercentValField("targetAggregationSelect")}},{key:"onChangeAutoComputeYStart",value:function(e,t){e=e||this.eInterface.getElementRef("#popupwfAutoComputeYStart"),+(t=t||+this.eInterface.getElementRef("#popupwfAutoComputeYStart").prop("checked"))&&(this.state.startValueMetricSelect="",this.state.startValueAggregation="",this.state.startValueXPercentValue="",this.eInterface.getElementRef("#popupstartValueMetricSelect").val("select"),this.eInterface.getElementRef("#popupstartValueAggregation").val("select"),this.eInterface.getElementRef("#popupstartValueXPercentValue").val("")),this.setAGGuageXPercentValField("startValueAggregation"),this.setBulletPlotBandFields("startValueMetricSelect"),vitaraJQ(e).parent().siblings().each((function(){+t?vitaraJQ(this).children().each((function(){vitaraJQ(this).attr("disabled",!0)})):vitaraJQ(this).children().each((function(){vitaraJQ(this).attr("disabled",!1)}))}))}},{key:"updateFieldLabel",value:function(e,t){this.eInterface.getElementRef(e).prev().html(t)}},{key:"setFieldValueToState",value:function(e,t){this.state[e]=t,this.eInterface.getElementRef("#popup"+e).val(t)}},{key:"setFieldVisibility",value:function(e,t){t?this.eInterface.getElementRef(e).parent().show():this.eInterface.getElementRef(e).parent().hide()}},{key:"setAGGuageXPercentValField",value:function(e,t,a){t=t||this.state[e];var i=null,n=null;if("maxAggregationSelect"===e)"zero"===t&&(t="fixed",this.setFieldValueToState(e,"fixed"),this.setFieldValueToState("maxAggFixedValue","0")),"xpercent"===t?(n="maxAggXPercentValue",this.setFieldVisibility("#popup"+n,!0)):this.eInterface.getElementRef("#popupmaxAggXPercentValue").parent().hide(),"fixed"===t?(n="maxAggFixedValue",this.setFieldVisibility("#popup"+n,!0)):this.eInterface.getElementRef("#popupmaxAggFixedValue").parent().hide();else if("minAggregationSelect"===e)"zero"===t&&(t="fixed",this.setFieldValueToState(e,"fixed"),this.setFieldValueToState("minAggFixedValue","0")),"xpercent"===t?(n="minAggXPercentValue",this.setFieldVisibility("#popup"+n,!0)):this.eInterface.getElementRef("#popupminAggXPercentValue").parent().hide(),"fixed"===t?(n="minAggFixedValue",this.setFieldVisibility("#popup"+n,!0)):this.eInterface.getElementRef("#popupminAggFixedValue").parent().hide();else if("targetAggregationSelect"===e)"xpercent"===t?(n="targetAggXPercentValue",this.setFieldVisibility("#popup"+n,!0)):this.eInterface.getElementRef("#popuptargetAggXPercentValue").parent().hide();else if("bandAggregation"===e||"startValueAggregation"===e||"endValueAggregation"===e||"sStartValueAggregation"===e||"sEndValueAggregation"===e||"cStartValueAggregation"===e||"cEndValueAggregation"===e){var o=e.replace("Aggregation","")+"PercentageValue",r=e.replace("Aggregation","")+"XPercentValue";"percentage"===t?(n=o,this.setFieldVisibility("#popup"+r,!1)):"xpercent"!==t&&"xpercentage"!==t||(n=r,this.setFieldVisibility("#popup"+o,!1)),n?this.setFieldVisibility("#popup"+n,!0):(this.setFieldVisibility("#popup"+o,!1),this.setFieldVisibility("#popup"+r,!1),n=null)}a&&("change"===a.type||"onAggregationSelectChange"===a.type)&&n&&(i=this.eInterface.getElementRef("#popup"+n).val())&&(this.state[e]=t,this.saveFormData(n,i))}},{key:"setBulletPlotBandFields",value:function(e,t,a){t=t||this.state[e];var i="#popup"+e.replace("MetricSelect","")+"Aggregation",n="#popup"+e.replace("MetricSelect","")+"FixedValue",o="#popup"+e.replace("MetricSelect","")+"XPercentValue",r="#popup"+e.replace("MetricSelect","")+"PercentageValue";if("fixed"===t){this.eInterface.getElementRef(n).parent().show(),this.eInterface.getElementRef(i).parent().hide(),this.eInterface.getElementRef(r).parent().hide(),"xpercent"!==this.eInterface.getElementRef(i).val()&&"xpercentage"!==this.eInterface.getElementRef(i).val()||this.eInterface.getElementRef(o).parent().hide();var s=this.eInterface.getElementRef(n).val();a&&("change"===a.type||"onBandMetricSelectChange"===a.type)&&s&&(this.state[e]=t,this.saveFormData(n.replace("#popup",""),s))}else{this.eInterface.getElementRef(n).parent().hide(),this.eInterface.getElementRef(i).parent().show(),"percentage"===this.eInterface.getElementRef(i).val()?(this.eInterface.getElementRef(r).parent().show(),this.eInterface.getElementRef(o).parent().hide()):"xpercent"!==this.eInterface.getElementRef(i).val()&&"xpercentage"!==this.eInterface.getElementRef(i).val()||(this.eInterface.getElementRef(o).parent().show(),this.eInterface.getElementRef(r).parent().hide());var l=this.eInterface.getElementRef("#popup"+e);if(void 0!==t&&l&&l.length>0&&t!==l[0].value){var u=this.eInterface.getElementRef(i);u&&u.length>0&&(u[0].value="select",this.eInterface.getElementRef(r).parent().hide(),this.eInterface.getElementRef(o).parent().hide())}}}},{key:"setCalendarMenuOptions",value:function(e){var t=this,a=this.eInterface.getElementRef("#popupcalDomain");a&&a.length>0&&a[0].options&&rt.each(a[0].options,(function(a){""!==a.value&&"x_day month"!==a.value&&"week month"!==a.value&&(a.style.display=e?"none":"",e&&a.selected&&(a.selected=!1,t.getState().calDomain=""))}));var i=this.eInterface.getElementRef("#popupWeek_Start_Day");if(i&&i.length>0&&(i[0].disabled=e),e){var n=this.eInterface.getElementRef("#popupcalType");n&&n.length>0&&n.val("hijri")}}},{key:"setDateTypeFieldVisibility",value:function(e){"month"!==this.getFetchCallback().chartSpecificFetch().fetchCHMSubDomain()||"metric"===e?this.setFieldVisibility("#popupdateDisplayFormat",!1):this.setFieldVisibility("#popupdateDisplayFormat",!0)}},{key:"setSankeyLinkColorFields",value:function(e,t){var a=this.eInterface.getElementRef("#"+e);t?a.parent().parent().hide():a.parent().parent().show()}},{key:"addAndProcessCustomEditor",value:function(){var e=this.eInterface.menuOptions.fetchCallback.fetchCustomLabelEditorOptions();if(e){var t=this.state.customLabelEditorSelect||"customLabel",a=this.eInterface.getElementRef("#popupcustomLabelEditorSelect")[0];a&&(rt.forEach(a.options,(function(e,t){a.options.remove(t)})),rt.each(e,(function(e,i){a.options[i]=new Option(e.text,e.value,!1,e.value===t)}))),this.setCustomEditorFields(t)}}},{key:"setCustomEditorFields",value:function(e){var t=this.eInterface.getElementRef("#"+e+"Editor").parent(),a=this.eInterface.getElementRef("#apply"+e).parent().parent(),i=vitaraJQ("div.field_container",t.parent());rt.each(i,(function(e,i){0===i||e===t[0]||e===a[0]?e.hidden=!1:e.hidden=!0}))}},{key:"setSimpleKPITitleField",value:function(e){void 0===e&&(e=1==+this.state.enableTrellis),this.eInterface.getElementRef("#popuplabel_simpleKPI").attr("disabled",1==+e)}},{key:"updateSimpleKPIFontSizes",value:function(e){var t=this;"function"==typeof e&&rt.each(["simpleKPIFontSize","simpleKPI2FontSize","simpleKPITextFontSize","chartTitleFontSize"],(function(a){var i=t.getStateManager().getProperty(a);t.eInterface.getElementRef("#popup"+a).val(e(i))}))}},{key:"setCutomGradientStopsSelection",value:function(e,t){var a=this;this.eInterface.getElementRef("#thresholdGradientSelector").empty(),t||(t=e.invert?this.chartContext.utils.getColorScalesAndRanges(e.endColor,e.startColor,e.stops):this.chartContext.utils.getColorScalesAndRanges(e.startColor,e.endColor,e.stops));var i=this.getColorPalleteHtml(t.colorScales,"thresholdCustomStops","thresholdCustomStopsInput",t.colorRanges);i.unshift('<span style="display:inline-block;width:fit-content;margin-right:5px;"><span class="gradientSelectionText">Color</span><span class="gradientSelectionText">End %</span></span>'),this.eInterface.getElementRef("#thresholdGradientSelector").append(i),this.setVitaraColorPicker(".thresholdCustomStopsInput"),this.eInterface.getElementRef(".thresholdGradientRange").off("change").on("change",(function(e){a.updateGradientThresholdRanges(parseInt(e.target.id.replace("thresholdGradientRange_","")),parseFloat(e.target.value))})),this.eInterface.getElementRef(".thresholdGradientRange").off("keypress paste").on("keypress paste",this.validateNumericInput)}},{key:"updateGradientThresholdRanges",value:function(e,t){var a,i=this.getGradientThresholdRanges(),n=this.getGradientThresholdColors();if(i[e-1]>t){i.splice(e,1);for(var o=0;o<i.length;o++)if(i[o]>t){a=o;break}i.splice(a,0,t)}else if(i[e+1]<t){for(i.splice(e,1),o=i.length-1;o>-1;o--)if(i[o]<t){a=o;break}i.splice(a+1,0,t)}var r=this.thresholdsUIManager.getGradientOptionsFromUI();this.setCutomGradientStopsSelection(r,{colorScales:n,colorRanges:i})}},{key:"getGradientThresholdRanges",value:function(){var e=this.eInterface.getElementRef(".thresholdGradientRange"),t=[0];return rt.each(e,(function(e){t.push(parseFloat(e.value))})),t}},{key:"getGradientThresholdColors",value:function(){var e=this.eInterface.getElementRef(".thresholdCustomStopsInput"),t=[];return rt.each(e,(function(e){t.push(e.value)})),t}},{key:"processCheckBoxSelection",value:function(e,t){("labelsEnable"==e||"labelsEnableMnMx"==e)&&this.toogleLblsAndMnMxLblsCheckState(e,t)}},{key:"toogleLblsAndMnMxLblsCheckState",value:function(e,t){"labelsEnable"==e?this.setDataLabelEnableFields(t):t||(this.eInterface.getElementRef("#popuplabelsEnable").prop("checked",!1),this.state.labelsEnable=0)}},{key:"setDataLabelEnableFields",value:function(e){var t=this,a=this.eInterface.menuOptions.fetchCallback.fetchDataLabelTypes();a||(a=["labelsMin","labelsMax","labelsFirst","labelsLast","labelsOdd","labelsEven"]),rt.each(a,(function(a){t.eInterface.getElementRef("#popup"+a).prop("checked",e),t.state[a]=e}))}},{key:"setFieldsForBackwardCompatibility",value:function(){1==+this.state.labelsEnableMnMx&&(this.state.labelsMin=1,this.state.labelsMax=1,this.eInterface.getElementRef("#popuplabelsMin").prop("checked",!0),this.eInterface.getElementRef("#popuplabelsMax").prop("checked",!0),this.chartContext.showLastDataLabel&&(this.state.labelsLast=1,this.eInterface.getElementRef("#popuplabelsLast").prop("checked",!0)),this.state.labelsEnableMnMx=0)}},{key:"setDataLabelFormatSelection",value:function(){this.eInterface.menuOptions.fetchCallback.fetchCustomDataLabel()?(this.eInterface.getElementRef("#popupdataLabelsDisplayStyle").prop("disabled",!0),this.eInterface.getElementRef("#popupkpiDataLabelFormat").prop("disabled",!0)):(this.eInterface.getElementRef("#popupdataLabelsDisplayStyle").prop("disabled",!1),this.eInterface.getElementRef("#popupkpiDataLabelFormat").prop("disabled",!1))}},{key:"getCustomFormatFromEditor",value:function(e){return this.eInterface.getElementRef("#"+e+"Editor").cleanHtml()}},{key:"setDrillPropertiesSelection",value:function(){this.eInterface.menuOptions.fetchCallback.fetchDrillStatus()?(this.eInterface.getElementRef("#popupdrillChartTarget").prop("disabled",!1),this.eInterface.getElementRef("#popupdrillChartType").prop("disabled",!1),this.eInterface.getElementRef("#drillPropertyEditor").prop("disabled",!1),this.eInterface.getElementRef("#popupdrillChartPreviewTooltip").prop("disabled",!1)):(this.eInterface.getElementRef("#popupdrillingEnable").prop("checked",!1),this.eInterface.getElementRef("#popupdrillChartTarget").prop("disabled",!0),this.eInterface.getElementRef("#popupdrillChartType").prop("disabled",!0),this.eInterface.getElementRef("#drillPropertyEditor").prop("disabled",!0),this.eInterface.getElementRef("#popupdrillChartPreviewTooltip").prop("disabled",!0),this.chartContext.dataHelper.numAttributes<=1&&this.eInterface.getElementRef("#popupdrillingEnable").prop("disabled",!0))}},{key:"setBackwardCompatibleOptions",value:function(e){var t=this;rt.each(e,(function(e){var a,i,n=(null===(a=t.getState())||void 0===a?void 0:a[e])||(null===(i=t.getState())||void 0===i?void 0:i[e]);void 0!==t.chartContext.vizProps[e]&&n!==t.chartContext.vizProps[e]&&(t.state[e]?t.state[e]=t.chartContext.vizProps[e]:t.state[t.eInterface.menuOptions.id][e]=t.chartContext.vizProps[e],t.eInterface.getElementRef("#popup"+e).prop("checked",+t.chartContext.vizProps[e]))}))}},{key:"setmSeriesElements",value:function(e){var t=this;this.mSeriesElements=[],rt.each(e,(function(e){t.mSeriesElements.push(e)}))}},{key:"getSeriesName",value:function(){return this.eInterface.getElementRef("#popupseries").val()}},{key:"getSeriesType",value:function(){return this.eInterface.getElementRef("#popupseriesType").val()}},{key:"getSeriesYAxis",value:function(){var e=this.eInterface.getElementRef("#popupseriesYAxis").val();return e||0}},{key:"getSeriesColor",value:function(){return this.eInterface.getElementRef("#popupseriesColor").val()}},{key:"setSeriesElementsProperties",value:function(e,t,a,i){function n(n){for(var o=0;o<n.length;o++)if(n[o].name===e){n[o].type=t,n[o].yAxis=Number(a),n[o].color=i;break}}n(this.seriesElements),n(this.mSeriesElements)}},{key:"setSeriesElementOptions",value:function(e){for(var t=0;t<this.seriesElements.length;t++)if(this.seriesElements[t].name===e){void 0!==this.seriesElements[t].type&&this.eInterface.getElementRef("#popupseriesType").val(this.seriesElements[t].type),void 0!==this.seriesElements[t].yAxis&&this.eInterface.getElementRef("#popupseriesYAxis").val(Number(this.seriesElements[t].yAxis)),this.eInterface.getElementRef("#popuperrorBarsEnable").prop("checked",1==+this.seriesElements[t].ebEnabled),1==+this.seriesElements[t].ebEnabled&&(this.eInterface.getElementRef("#popuperrorBarsLowSeries").val(this.seriesElements[t].ebLowSeries),this.eInterface.getElementRef("#popuperrorBarsHighSeries").val(this.seriesElements[t].ebHighSeries),this.eInterface.getElementRef("#popuperrorBarsSeriesColor").val(this.seriesElements[t].ebColor)),void 0!==this.seriesElements[t].color&&this.setVitaraColorPicker("#popupseriesColor",this.seriesElements[t].color);break}}},{key:"updateSeriesType",value:function(){this.setSeriesElementOptions(this.getSeriesName())}},{key:"setSeriesElemToAllfields",value:function(){for(var e=this.getSeriesOptions(this.seriesElements),t=0;t<allFields.length;t++)if("series"===allFields[t].id){allFields[t].options=e;break}}},{key:"fetchSeriesElements",value:function(){var e={isSeriesFetch:!0};this.seriesElements=this.eInterface.menuOptions.fetchCallback.fetchSeries(e),this.setmSeriesElements(this.seriesElements)}},{key:"toggleStartAndEndValueOption",value:function(e){var t=this.eInterface,a=vitaraJQ(t.getPropMenuContainer()).find(".axes").find(':contains("Value Axis")'),i='[original-name="Start Value"]',n='[original-name="End Value"]';+e&&this.isSecondaryAxisReq(this.seriesElements)?(a.find(i).hide(),a.find(n).hide()):(a.find(i).show(),a.find(n).show())}},{key:"processMetricLabel",value:function(){var e={isLabelFetch:!0},t=this.eInterface.menuOptions.fetchCallback.fetchLabel(e),a=this.eInterface.getElementRef("#popuplabel_simpleKPI");a&&0!==a.length&&this.eInterface.getElementRef("#popuplabel_simpleKPI").attr("value",t)}},{key:"processSeriesAxisSelectionOption",value:function(){this.eInterface.menuOptions.fetchCallback.fetchDualAxisEnableOption()||this.eInterface.getElementRef("#popupseriesYAxis").parents().eq(0).remove()}},{key:"isSecondaryAxisReq",value:function(e){for(var t=!1,a=0;a<e.length;a++)"1"==e[a].yAxis&&(t=!0);return t}},{key:"getParentElemForAxesLayout",value:function(){return vitaraJQ(this.getPropMenuContainer()).find("div").find(':contains("Select Axis")').parents("div").eq(0).parents("div").eq(0)}},{key:"getCategoryAxisLayout",value:function(e){return e.find("div").find(':contains("Category Axis")').parents("div").eq(0)}},{key:"getPrimaryValueAxisLayout",value:function(e){return e.find("div").find(':contains("Value Axis")').parents("div").eq(0)}},{key:"getSecondaryValueAxisLayout",value:function(e){return e.find("div").find(':contains("Secondary value Axis")').parents("div").eq(0)}},{key:"getSecondaryCategoryAxisLayout",value:function(e){return e.find("div").find(':contains("Dynamic Width Axis")').parents("div").eq(0)}},{key:"toogleCategoryAxisVisibility",value:function(e){var t=this.getCategoryAxisLayout(this.getParentElemForAxesLayout());e?t.show():t.hide()}},{key:"tooglePrimaryValueAxisVisibility",value:function(e){var t=this.getPrimaryValueAxisLayout(this.getParentElemForAxesLayout());e?t.show():t.hide()}},{key:"toogleSecondaryValueAxisVisibility",value:function(e){var t=this.getSecondaryValueAxisLayout(this.getParentElemForAxesLayout());e?t.show():t.hide()}},{key:"toggleSecondaryCategoryAxisVisibility",value:function(e){var t=this.getSecondaryCategoryAxisLayout(this.getParentElemForAxesLayout());e?t.show():t.hide()}},{key:"setAxisLayout",value:function(e){switch(e){case"categoryAxis":this.toogleCategoryAxisVisibility(!0),this.tooglePrimaryValueAxisVisibility(!1),this.toogleSecondaryValueAxisVisibility(!1);break;case"primaryValueAxis":this.toogleCategoryAxisVisibility(!1),this.tooglePrimaryValueAxisVisibility(!0),this.toogleSecondaryValueAxisVisibility(!1);break;case"secondaryValueAxis":this.toogleCategoryAxisVisibility(!1),this.tooglePrimaryValueAxisVisibility(!1),this.toogleSecondaryValueAxisVisibility(!0)}}},{key:"toggleSecondaryCategoryAxisVisibilityByVariwide",value:function(){this.eInterface.menuOptions.fetchCallback.isSecondaryCategoryAxisEnabled()?vitaraJQ(this.getPropMenuContainer()).find("div").find(':contains("Dynamic Width Axis")').parents().eq(0).show():vitaraJQ(this.getPropMenuContainer()).find("div").find(':contains("Dynamic Width Axis")').parents().eq(0).hide()}},{key:"toogleSecondaryValueAxisVisibilityBySeriesElems",value:function(){this.isSecondaryAxisReq(this.seriesElements)?vitaraJQ(this.getPropMenuContainer()).find("div").find(':contains("Secondary Value Axis")').parents().eq(0).show():vitaraJQ(this.getPropMenuContainer()).find("div").find(':contains("Secondary Value Axis")').parents().eq(0).hide()}},{key:"isTrue",value:function(e){return"1"===e||"true"===e||!0===e||1===e}},{key:"setSeriesColorsCustomizedFlag",value:function(e){this.state.seriesColorsCustomized=e}},{key:"invertPaletteColors",value:function(){this.paletteColors.reverse()}},{key:"setSeriesColorsInState",value:function(e){this.state.seriesColors=e}},{key:"getSeriesColorsSelectedValue",value:function(){return this.eInterface.getElementRef("#popupseriesColors").val()}},{key:"fetchPaletteColors",value:function(e,t){var a={};a.seriesColors=e||this.state.seriesColors||this.state.seriesMapColors;var i=this.eInterface.menuOptions.fetchCallback.fetchColors(a);if(null!=i&&null!=i||(a.seriesColors=void 0),void 0===a.seriesColors){var n=this.chartContext.getCustomPaletteDefaults();a.seriesColors=n||this.getSeriesColorsSelectedValue(),this.setSeriesColorsInState(a.seriesColors)}return a.invertColors=void 0!==t?t:this.state.invertColors,this.eInterface.menuOptions.fetchCallback.fetchColors(a)}},{key:"processCustomColorOptionSelect",value:function(){this.setSeriesColorsCustomizedFlag(!0),this.state.colors=this.paletteColors}},{key:"hexToRGBA",value:function(e,t){return e.indexOf("rgba")>-1?"rgba("+chroma(e).rgba().toString()+")":t||0===t?"rgba("+chroma(e).alpha(t).rgba().toString()+")":"rgb("+chroma(e).rgb().toString()+")"}},{key:"getPaletteInHex",value:function(e){var t=this,a=[];return a=rt.cloneDeep(e),rt.each(a,(function(e,i){a[i]=t.convertToHex(e).replace("#","")})),a}},{key:"getColorInHex",value:function(e){return 0==e.indexOf("#")&&4==e.length||7==e.length?e:this.convertToHex(e)}},{key:"convertToHex",value:function(e){return this.chartContext.utils.convertToHex(e)}},{key:"addOpacitySlider",value:function(){var e=this,t=this.eInterface.getElementRef(".vitara_opacity_slider");t.length<1||rt.each(t,(function(t){var a=vitaraJQ("#custom-handle",vitaraJQ(t)),i=100;void 0!==e.state[t.id]&&""!==e.state[t.id]&&" "!==e.state[t.id]&&(i=+e.state[t.id]),vitaraJQ(t).slider({create:function(){a.text(vitaraJQ(this).slider("value"))},slide:function(e,t){a.text(t.value)},change:function(t,a){e.saveFormData(t.target.id,a.value)},value:i})}))}},{key:"addTextSpinner",value:function(e){var t=this,a=vitaraJQ(".vitara_text_spinner",e);a.length<1||rt.each(a,(function(e){e.onkeypress=t.validateNumericInput,e.onpaste=t.validateNumericInput;var a=e.min?e.min:e.id.indexOf("Font")>-1?0:1;vitaraJQ(e).spinner({create:function(t,a){t.target.value&&vitaraJQ(e).spinner("value",parseInt(t.target.value))},min:a})}))}},{key:"initDatePickerWidget",value:function(e){this.eInterface.getElementRef(".vitara-datepicker").datepicker({changeMonth:!0,changeYear:!0})}},{key:"validateNumericInput",value:function(e){var t="keypress"==(e=e||event).type?String.fromCharCode(e.keyCode||e.which):(e.clipboardData||window.clipboardData).getData("Text");if(void 0===e.key){var a=e.which||e.keyCode;if(a>31&&a<48||a>57&&a<127)return!1}else if(1===e.key.length&&/[^\d][.\d]*/gi.test(t))return!1}},{key:"removeOpacitySlider",value:function(){this.eInterface.getElementRef(".vitara_opacity_slider").slider("destroy")}},{key:"removeTextSpinner",value:function(){this.eInterface.getElementRef(".vitara_text_spinner").spinner("destroy")}},{key:"resetProperties",value:function(){this.markerTypes=[],this.propertyEditorProperties.drillChart&&(this.propertyEditorProperties.drillChart=!1)}},{key:"processCustomizeColorPaletteSetup",value:function(e,t){this.isTrue(this.state.seriesColorsCustomized)?this.paletteColors=this.state.colors:this.paletteColors=this.fetchPaletteColors(e,t),null!==this.paletteColors&&this.paletteColors.length&&this.paletteColors.length>0?(this.eInterface.getElementRef("#customSeriesColors").parent().show(),this.addCustomPaletteToPopUp(this.paletteColors),this.setCustomizePaletteListener()):this.eInterface.getElementRef("#customSeriesColors").parent().hide()}},{key:"removeCustomTooltip",value:function(){vitaraJQ(".mentions-container").remove()}},{key:"setCustomFormatEditorStyle",value:function(e,t,a){var i=this.eInterface.getElementRef("#"+e);if(i&&i[0]){var n=this.eInterface.getCustomEditor().getCustomLabel(e,t,null,a);this.setCustomEditorFontSize(i,n),i.html(n)}}},{key:"setCustomEditorFontSize",value:function(e,t){if(e&&e[0]){var a=vitaraJQ(".vitara_text_spinner",e[0].parentNode);a&&a.length>0&&a.val(this.getFontSizeFromHTML(t))}}},{key:"resetCustomEditor",value:function(e,t){var a=this.eInterface.getMenuElement("#"+e);this.setCustomFormatEditorStyle(e,{});var i={};a&&a[0]&&(i.colorPicker=vitaraJQ("input.colorpicker",a[0].parentNode),i.bold=vitaraJQ('a.btn[data-edit="bold"]',a[0].parentNode),i.italic=vitaraJQ('a.btn[data-edit="italic"]',a[0].parentNode),i.underline=vitaraJQ('a.btn[data-edit="underline"]',a[0].parentNode),i.alignment=vitaraJQ('a.btn[data-original-title="Align"]',a[0].parentNode).find("i")),i.colorPicker&&i.colorPicker[0]&&!0===t&&this.setVitaraColorPicker(".vitaracolorpicker","","","","",a[0].parentNode),i.bold&&i.bold[0]&&this.setFieldProperty(i.bold[0],"class","btn btn-default"),i.italic&&i.italic[0]&&this.setFieldProperty(i.italic[0],"class","btn btn-default"),i.underline&&i.underline[0]&&this.setFieldProperty(i.underline[0],"class","btn btn-default"),i.alignment&&i.alignment[0]&&this.setFieldProperty(i.alignment[0],"class","fa-align-left")}},{key:"onCustomMarkerClickHandler",value:function(e){var t=vitaraJQ(e.target).closest(".btn-toolbar").length?vitaraJQ(e.target).closest(".btn-toolbar")[0].dataset.target:void 0;if(t){if(-1!==["thresholdCustomLabelMarker","customCategoryLabelMarker","customLabelMarker","stackTotalLabelMarker","customTooltipMarker"].indexOf(e.id)){vitaraJQ(t).focus();var a=document.createRange(),i=window.getSelection(),n=this.getCursorPosition();n.range&&"#".concat(n.containerId)===t?(i.removeAllRanges(),i.addRange(n.range)):(a.selectNodeContents(vitaraJQ(t)[0]),a.collapse(!1),i.removeAllRanges(),i.addRange(a))}e.selection["custom-path"]?vitaraJQ("#".concat(e.id)).trigger("change",["insertText [vm-custom-".concat(e.selection["infographic-path"],"]"),t]):vitaraJQ("#".concat(e.id)).trigger("change",["insertText [vm-".concat(e.selection["selected-icon"],"]"),t])}else this.getMarkerGrid().setMarkerSelectionSvg(e.id,e.selection),"none"!==vitaraJQ(e.target).attr("action")&&(e.selection["custom-path"]?(this.state.svgMarkerOptions||(this.state.svgMarkerOptions={}),this.state.svgMarkerOptions[e.id]={"custom-path":!0,"infographic-path":e.selection["infographic-path"]}):this.state.svgMarkerOptions&&this.state.svgMarkerOptions[e.id]&&(this.state.svgMarkerOptions[e.id]["custom-path"]=e.selection["custom-path"]),this.saveFormData(e.id,e.selection["selected-icon"]))}},{key:"saveEditorCaretPosition",value:function(e){var t=window.getSelection().getRangeAt(0).cloneRange();this.setCursorPosition(t,e.currentTarget.id)}},{key:"addPropMenuListeners",value:function(){var e=this;vitaraJQ(e.getPropMenuContainer()).off("click",".initial_gear").on("click",".initial_gear",(function(t){e.propertyEditorProperties.drillChart=!0,e.propertyEditorProperties.editor=t.target.parentElement.parentElement.children[1].value,e.propertyEditorProperties.source=t.target.parentElement.parentElement.parentElement.getElementsByClassName("drillChartTarget")[0].value,e.openPropertyEditorForSelectedChart(t)})),vitaraJQ(".format-editor").on("keyup",e.saveEditorCaretPosition.bind(e)),vitaraJQ(".format-editor").on("click",e.saveEditorCaretPosition.bind(e)),vitaraJQ(".spriteMarker").off("click").on("click",(function(t){t.stopPropagation();var a=t.currentTarget.id.replace("popup","");e.getToggleMarkerType().call(this,{id:a,enableCustom:-1!==["infoMarkerType","thresholdCustomLabelMarker","markerType","thresholdMarkerType","startValMarkerType","endValMarkerType","iconType","gridThresholdIcon","seriesMarkerType","customCategoryLabelMarker","customLabelMarker","stackTotalLabelMarker","customTooltipMarker"].indexOf(a),targetContainer:vitaraJQ(e.getPropMenuContainer()),selection:{"selected-icon":vitaraJQ(t.currentTarget).attr("selected-icon"),"custom-path":vitaraJQ(t.currentTarget).attr("custom-path"),"infographic-path":vitaraJQ(t.currentTarget).attr("infographic-path")},baseFilePath:e.eInterface.menuOptions.fetchCallback.fetchBaseFilePath(),versionPackage:e.eInterface.menuOptions.fetchCallback.fetchVersionPackage()},(function(i){e.onCustomMarkerClickHandler({selection:i,target:t.currentTarget,id:a})}))}))}},{key:"processBackgroundPropertiesSetup",value:function(){var e=this;vitaraJQ(e.getPropMenuContainer()).off("change","#popupbgHAlign").on("change","#popupbgHAlign",(function(){e.setCustomValueField("#popupbgHAlign",e.eInterface.getElementRef("#popupbgHAlign").val())})),vitaraJQ(e.getPropMenuContainer()).off("change","#popupbgVAlign").on("change","#popupbgVAlign",(function(){e.setCustomValueField("#popupbgVAlign",e.eInterface.getElementRef("#popupbgVAlign").val())})),vitaraJQ(e.getPropMenuContainer()).off("change","#popupbgScale").on("change","#popupbgScale",(function(){e.setCustomValueField("#popupbgScale",e.eInterface.getElementRef("#popupbgScale").val())})),"custom"!==e.eInterface.getElementRef("#popupbgHAlign").val()&&e.eInterface.getElementRef("#popupbgHAlignValue").parent().hide(),"custom"!==e.eInterface.getElementRef("#popupbgVAlign").val()&&e.eInterface.getElementRef("#popupbgVAlignValue").parent().hide(),"custom"!==e.eInterface.getElementRef("#popupbgScale").val()&&e.eInterface.getElementRef("#popupbgScaleValue").parent().hide()}},{key:"setCustomValueField",value:function(e,t){"custom"===t?this.eInterface.getElementRef(e+"Value").parent().show():this.eInterface.getElementRef(e+"Value").parent().hide()}},{key:"addCustomPaletteToPopUp",value:function(e){var t=this.eInterface.getElementRef("#customSeriesColors");t.empty(),this.removePaletteWarningLabel();var a=this.getColorPalleteHtml(e,"customSeriesColors","customSeriesColorsInput");t.append(a),e.msg&&""!==e.msg&&this.setColorsWarningMsg(e.msg,t),t=null}},{key:"getColorPalleteHtml",value:function(e,t,a,i){for(var n=[],o=0;o<e.length;o++){var r='<span class="color_palette_list colorpalette">';r+='<input type="hidden" data-preval="" name="'+t+"["+o+']" id="popup'+t+o+'" class="'+a+'" value="'+this.getColorInHex(e[o])+'" />',i&&(o===e.length-1?r+='<input class="vitara-chart-editor-text-field form-control colorscale-textbox-control thresholdGradientRange" type="text" disabled="true" id="thresholdGradientRange_'+(o+1)+'" value="'+i[o+1]+'"></input>':r+='<input class="vitara-chart-editor-text-field form-control colorscale-textbox-control thresholdGradientRange" type="text" id="thresholdGradientRange_'+(o+1)+'" value="'+i[o+1]+'" maxLength=2></input>'),r+="</span>",n.push(r)}return n.push('<span class="color_palette_bg color_palette_list colorpalette"><input type="hidden" data-preval="" id="colorPickerAdder"></input></span>'),n}},{key:"removePaletteWarningLabel",value:function(){this.eInterface.getElementRef("#"+this.getPPEWLabelID()).remove()}},{key:"getNewRowInsert",value:function(e){return vitaraJQ.parseHTML("<div id="+e+' class="col-md-12 margin-top-10 field_container"></div>')}},{key:"getPPEWLabelID",value:function(){return"paletteParseErrorWarning"+this.eInterface.menuOptions.ID}},{key:"getNewWarngLabel",value:function(e){return vitaraJQ.parseHTML('<i class="fa-exclamation-triangle vitara-editor-warning-icon">&nbsp</i><label class="vitara-chart-editor-label section-heading" style="width=100% !important">'+e+"</label>")}},{key:"setColorsWarningMsg",value:function(e,t){t.parent().before(vitaraJQ(this.getNewRowInsert(this.getPPEWLabelID())).append(this.getNewWarngLabel(e)))}},{key:"isStartsWithRGB",value:function(e){var t=!1;return"rgb"===e.substring(0,3)&&(t=!0),t}},{key:"setPaletteColor",value:function(e,t){this.paletteColors[e]=t}},{key:"removePaletteColorAtIndex",value:function(e){0!==this.paletteColors.length&&e>-1&&this.paletteColors.splice(e,1)}},{key:"processColorPickerAdderChange",value:function(e){var t=this.eInterface.getElementRef("#customSeriesColors").children().length;this.addNewColorPaletteToPaletteList(this.paletteColors.length,e,t),this.setCustomizePaletteListener()}},{key:"getColorPickerIndex",value:function(e){return this.eInterface.getElementRef("#"+e).parent().parent().index()}},{key:"removeColorPickerFromPaletteAtIndex",value:function(e){var t=this.getColorPickerIndex(e)+1;this.eInterface.getElementRef("#customSeriesColors span:nth-child("+t+")").remove()}},{key:"setSeriesColorsToCustom",value:function(e){this.eInterface.getElementRef("#popupseriesColors").val("custom"),this.state.seriesColors="custom",this.removePaletteWarningLabel()}},{key:"setCustomizePaletteListener",value:function(){var e=this;rt.each(vitaraJQ(".customSeriesColorsInput"),(function(t,a){e.eInterface.editorRef.setVitaraColorPicker("#"+t.id,e.paletteColors[a],e.changePaletteColor.bind(e))})),this.setVitaraColorPicker("#colorPickerAdder","",this.changePaletteColor.bind(this))}},{key:"sanitizeContent",value:function(e){return this.context.utils.sanitizeContent(e)}},{key:"changePaletteColor",value:function(e,t){var a=e.target;""===t&&(t=null);var i=vitaraJQ(a).attr("id");if(this.setSeriesColorsCustomizedFlag(!0),this.setSeriesColorsToCustom(),null!==t){if("colorPickerAdder"===i&&(this.removeVitaraColorPickerListener(),this.setPaletteColor(this.paletteColors.length,this.hexToRGBA(t)),this.processColorPickerAdderChange(this.convertToHex(t))),"colorPickerAdder"!==i){var n=this.getColorPickerIndex(i);this.setPaletteColor(n,this.hexToRGBA(t))}this.updateRecentColors(e,t)}null===t&&"colorPickerAdder"!==i&&(n=this.getColorPickerIndex(i),this.removePaletteColorAtIndex(n),this.removeColorPickerFromPaletteAtIndex(i)),vitaraJQ(a).val(t);var o="customSeriesColors";this.changeCallback(o,vitaraJQ(a).data("prevval"),null!==t?this.hexToRGBA(t):""),this.saveFormData(o,vitaraJQ(a).val())}},{key:"setVitaraColorPicker",value:function(e,t,a,i,n,o){if(0===e.indexOf("#")){var r=vitaraJQ(e,o||this.getPropMenuContainer());if(r.hasClass("vitaracolorpicker"))try{return void r.vitaracolorpicker("update",t)}catch(e){var s=r.parent();r.appendTo(r.parent().parent()),s.empty()}}n&&!this.getThemeColors()&&(n="custom"),vitaraJQ(e,o||this.getPropMenuContainer()).vitaracolorpicker({color:t,showOn:"button",basePalette:this.getPaletteInHex(this.getThemeColors()),initialHistory:this.getColorHistory(),customHistoryClose:!0,sliders:"wva",indicatorStyle:i||"normal",defaultPalette:n||"custom"}).off("changecolor").on("changecolor",a||this.updateRecentColors.bind(this))}},{key:"updateCustomEditorFormat",value:function(e,t){var a=this.eInterface.getElementRef(e);a&&a.length>0&&a.html(t)}},{key:"destroyVitaraColorPicker",value:function(e,t){try{this.recentColors=[],vitaraJQ(e,t||this.getPropMenuContainer()).vitaracolorpicker("destroy")}catch(e){}}},{key:"updateVitaraColorPickerHistory",value:function(e){try{this.eInterface.getElementRef(e).vitaracolorpicker("updateHistory",this.recentColors)}catch(e){}}},{key:"updateRecentColors",value:function(e,t){t&&(0===this.recentColors.length&&(this.recentColors=this.getColorHistory(),-1===this.recentColors.indexOf(t)&&(this.recentColors.length>9&&this.recentColors.splice(0,1),this.recentColors.push(t))),this.recentColors.length>10&&this.recentColors.splice(10),this.saveToColorHistory(),this.updateVitaraColorPickerHistory(".colorpicker"),this.updateVitaraColorPickerHistory(".customSeriesColorsInput"),this.updateVitaraColorPickerHistory("#colorPickerAdder"))}},{key:"removeVitaraColorPickerListener",value:function(){this.destroyVitaraColorPicker(".customSeriesColorsInput"),this.destroyVitaraColorPicker("#colorPickerAdder")}},{key:"addNewColorPaletteToPaletteList",value:function(e,t,a){var i='<span class="color_palette_list colorpalette">';i+='<input type="hidden" data-preval="" name="customSeriesColors['+e+']" id="popupcustomSeriesColors'+e+'" class="customSeriesColorsInput" value="'+t+'" />',i+="</span>",1===a?this.eInterface.getElementRef("#customSeriesColors").prepend(i):this.eInterface.getElementRef("#customSeriesColors span:nth-last-child(2)").after(i)}},{key:"setBuildVersionTag",value:function(){var e=this.eInterface.getElementRef('label:contains("buildVersionLabel")'),t=e.parent().parent().prev().remove();e.parent().prepend(t),e.addClass("build-version-label"),e.addClass("fullWidth"),e.html(this.eInterface.menuOptions.fetchCallback.fetchBuildVersion())}},{key:"processKPIRingCustomProps",value:function(){for(var e=["popupkpiRing1MaxSelection","popupkpiRing2MaxSelection","popupkpiRing3MaxSelection"],t=0;t<e.length;t++)"Fixed Value"===this.eInterface.getElementRef("#"+e[t]).val()?this.eInterface.getElementRef("#"+e[t].replace("Selection","Value")).parent().show():this.eInterface.getElementRef("#"+e[t].replace("Selection","Value")).parent().hide()}},{key:"buildInputObject",value:function(e,t){if(e.length<1)return t;var a=e[0];"]"===a.slice(-1)&&(a=a.slice(0,-1));var i={};if(1===e.length)i[a]=t;else{e.shift();var n=this.buildInputObject(e,t);i[a]=n}return i}},{key:"getStyleKey",value:function(e){return e.indexOf("customTooltip")>-1?"toolTipStyle":e.indexOf("customLabel")>-1?"textStyle":e.indexOf("smChartTitle")>-1?"chartTitle":e.indexOf("customCategoryLabel")>-1?"xAxis":void 0}},{key:"getLabelStyle",value:function(e){var t=this.getStyleKey(e),a={},i=this.getState();return t?(i[t+"FontName"]&&(a["font-family"]=i[t+"FontName"]),i[t+"FontSize"]&&(a["font-size"]=parseInt(i[t+"FontSize"])+"px"),i[t+"Color"]&&(a.color=i[t+"Color"]),1==i[t+"Bold"]&&(a["font-weight"]="bold"),1==i[t+"Italic"]&&(a["font-style"]="italic"),1==i[t+"Underline"]&&(a["text-decoration"]="underline"),a):a}},{key:"resetLabelStyle",value:function(e){var t=this.getStyleKey(e);t&&(this.getStateManager().setProperty(t+"FontName",""),this.getStateManager().setProperty(t+"FontSize",""),this.getStateManager().setProperty(t+"Color",""),this.getStateManager().setProperty(t+"Bold",0),this.getStateManager().setProperty(t+"Italic",0),this.getStateManager().setProperty(t+"Underline",0))}},{key:"getFontSizeFromHTML",value:function(e){var t;if(e){var a=e.indexOf("font-size");if(-1!==a){var i=e.substring(a+10);if(i){var n=i.indexOf(";");if(-1!==n&&(t=parseFloat(i.substring(0,n)),!isNaN(t)))return t}}}return this.defaultFontSize}},{key:"getPlotBandsUIManager",value:function(){return this.plotBandsUIManager||(this.plotBandsUIManager=new ot(this)),this.plotBandsUIManager}},{key:"getThresholdsUIManager",value:function(){return this.thresholdsUIManager||(this.thresholdsUIManager=new Xe({context:this,utils:this.chartContext.utils})),this.thresholdsUIManager}},{key:"getSeriesUIManager",value:function(){return this.mSeriesViewCntrlr||(this.mSeriesViewCntrlr=new $e({context:this})),this.mSeriesViewCntrlr}},{key:"getMenuElement",value:function(e){return this.eInterface.getElementRef(e)}}])&&lt(t.prototype,a),i&&lt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),dt=i(9153),ht=i(9348),gt=i(8397);function mt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function ft(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(a),!0).forEach((function(t){bt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,xt(i.key),i)}}function bt(e,t,a){return(t=xt(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xt(e){var t=function(e,t){if("object"!=vt(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=vt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vt(t)?t:String(t)}var St=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),bt(this,"getSeriesUIManager",(function(){return this.propMenuHelper.getSeriesUIManager()})),bt(this,"getCustomEventHandler",(function(){var e,t;this.customEventHandler.getBaseContext()!==this&&(this.customEventHandler.setBaseContext(vitaraJQ.extend(this,this.eventHandler)),null===(e=(t=this.customEventHandler).setEditorInterface)||void 0===e||e.call(t,this));return this.customEventHandler})),bt(this,"getColDefinitions",(function(){return this.menuOptions.columnDefs})),this.setOptions(t),this.options.autoHideMenu=!0,this.chartRef=t.context,this.dataHelper=this.chartRef.dataHelper,window.utils=this.chartRef.utils,this.processChartButtons(),this.setVitaraPropMenuHelper(),this.setMenuOptions(t),this.propMenuHelper.getColumnOptions()}var t,a,i;return t=e,(a=[{key:"setOptions",value:function(e){this.options=vitaraJQ.extend({},this.getDefaultOptions(),e)}},{key:"getDefaultOptions",value:function(){return{autoHideMenu:!0}}},{key:"setVitaraPropMenuHelper",value:function(){this.propMenuHelper=new pt(this.chartRef,this,this.options.state)}},{key:"setCurrentMenuIndex",value:function(e){this.options.currentMenuIndex=e}},{key:"getOptions",value:function(){return this.options}},{key:"setMenuOptions",value:function(e){this.menuOptions=e.menuOptions,this.menuOptions.fetchCallback||(this.menuOptions.fetchCallback=this.chartRef.fetchCallbacks()),this.menuOptions.saveCallback||(this.menuOptions.saveCallback=this.chartRef.saveCallBacks()),this.menuOptions.chartCallback||(this.menuOptions.chartCallback=this.chartRef.changeCallBack),this.menuOptions.changeCallback||(this.menuOptions.changeCallback=this.chartRef.changeCallBack)}},{key:"removeTrellisProperty",value:function(e){var t,a;return null!==(t=(a=this.menuOptions.fetchCallback).fetchSmallMultipleCheck)&&void 0!==t&&t.call(a)&&"GenericTrellis"!==this.menuOptions.chartType&&e.find((function(t,a){"TrellisProperties"===t.id&&(e[a].containers=t.containers.slice(1,t.containers.length))})),e}},{key:"getEditorOptions",value:function(e){var t,a={};return e?(t=JSON.parse(this.menuOptions.fetchCallback.fetch()),a.state=vitaraJQ.extend(this.options.context.getPropMenuDefaults(),t),a.editor=this.options.context.platformContext.getPropertyEditor(this.options.context,!0),a.structure=this.options.structure,a.context=this.options.context,a.menuOptions=this.options.menuOptions,a.autoHide=this.options.autoHide,a.autoHideMenu=this.options.autoHideMenu,a.currentMenuIndex=this.options.currentMenuIndex,a):this.options}},{key:"initEditorCreation",value:function(e,t){var a=this,i=this.getEditorOptions(t);try{var n;this.chartRef=i.context,this.setCurrentMenuIndex(e),this.fields=i.editor.getFields()||(new ht.Z).fields,this.chartContext=i.context,this.disabledProps=(null===(n=i.editor.context)||void 0===n?void 0:n.getPropertiesToDisable())||[],this.version=(new Date).getTime(),i.editor&&i.editor.getCustomProperty&&i.editor.getFields&&(i.structure=this.getStructure(i.editor),i.structure.fields=this.removeTrellisProperty(i.structure.fields));try{var o;this.processCurrentMenuIndex(i.structure.panels),this.editorRef=new z(!0,i.context.domNode,i.structure,i.state,this,i.props,i.currentMenuIndex),this.eventHandler=this.customEventHandler=this.getEditorEventHandler(this.propMenuHelper,this),this.eventHandler.setChartAboutData(),this.eventHandler.setCustomEventHandlers(),this.getCustomEventHandler().setCustomEventHandlers(),this.setAccordionEventHandler(vitaraJQ(".panel-left",this.getPopup())),this.propMenuHelper.addTextSpinner(this.editorRef.getParentContainer()),"function"==typeof this.menuOptions.enableStorage&&this.menuOptions.enableStorage.call(this.menuOptions.context),"function"==typeof(null===(o=this.options)||void 0===o||null===(o=o.editor)||void 0===o?void 0:o.onPropMenuCreated)&&this.options.editor.onPropMenuCreated.call(this),this.propMenuHelper.getEventHandler().broadcastEvent(this.getPopup(),this.propMenuHelper.getEventHandler().getEvent("onEditorViewCreated",this.getCustomEventHandler().getEventNS(),null,null,this.getPopup())),vitaraJQ(".modal-dialog").draggable({containment:vitaraJQ(".rootContainer")}),this.propMenuHelper.setTagToDisplayRange(""),vitaraJQ(".modal-content").resizable(this.editorRef.getPopUpWindowResizableOptions()),this.propMenuHelper.processCustomizeColorPaletteSetup(),this.propMenuHelper.getSeriesUIManager().setSeriesOptionsTableView(),this.propMenuHelper.getPlotLinesUIManager().setPlotLinesTableView(),this.propMenuHelper.processBackgroundPropertiesSetup(),this.propMenuHelper.processKPIRingCustomProps(),this.propMenuHelper.getMarkerGrid().processMarkerGridSetup(),this.propMenuHelper.fetchSeriesElements(),this.propMenuHelper.setFieldsForBackwardCompatibility();try{this.propMenuHelper.getSeriesUIManager().removeDataMarkerSeriesTypeOption(),this.propMenuHelper.setPropMenuLayout(),this.propMenuHelper.processSeriesAxisSelectionOption(),this.propMenuHelper.processDisableProperties(),this.propMenuHelper.processMetricLabel(),this.propMenuHelper.initDatePickerWidget(),this.propMenuHelper.addOpacitySlider(),this.propMenuHelper.showHideCustomOptions(),this.propMenuHelper.onChangeAutoComputeYStart(),this.propMenuHelper.checkListControl.create()}catch(e){console.error(e)}this.getCustomEditor().addTooltipCustomization({fonts:this.getField("customTooltipEditor").options,markers:this.getField("markerType").options,container:this.getModalContainer(),dialog:this.getMenuElement(".modal-dialog")}),this.propMenuHelper.addPropMenuListeners(),gt.each(this.getMenuElement('[data-role="editor-toolbar"]').find(".colorpicker"),(function(e){a.editorRef.setVitaraColorPicker(e,"",null,"arrow")}))}catch(e){console.log(e)}this.propMenuHelper.getEventHandler().setAccordionEventHandler(),this.editorRef&&(this.setCloseMenuAction(i.menuOptions.ID),this.propMenuHelper.processMenuButtonAutoHide())}catch(e){console.log(e)}}},{key:"processCurrentMenuIndex",value:function(e){var t=this.options.currentMenuIndex;if(isNaN(+t)&&"string"==typeof t){var a=gt.findIndex(e,(function(e){return e.id===t}));this.options.currentMenuIndex=-1===a?void 0:a}this.options.currentMenuIndex=this.options.currentMenuIndex||0}},{key:"getEditorEventHandler",value:function(e,t){return this.options.editor.getCustomEventHandler&&"function"==typeof this.options.editor.getCustomEventHandler?this.options.editor.getCustomEventHandler(e,t):new dt.Z(this.propMenuHelper,this)}},{key:"destroy",value:function(){var e,t,a,i;this.propMenuHelper.removeVitaraColorPickerListener(),this.propMenuHelper.removeOpacitySlider(),this.propMenuHelper.removeTextSpinner(),this.propMenuHelper.removeCustomTooltip(),null===(e=(t=this.propMenuHelper.getEventHandler()).destroy)||void 0===e||e.call(t),this.propMenuHelper.resetProperties(),null===(a=(i=this.getCustomEventHandler()).destroy)||void 0===a||a.call(i),this.getPopup().remove(),this.propMenuHelper.checkListControl.destroy(),this.allFields=this.chartContext=this.fields=null,this.disabledProps=this.customEventHandler=this.editorRef=this.eventHandler=null,this.propMenuHelper.resetProperties()}},{key:"getEventNS",value:function(){return".vitara-propmenu-custom"}},{key:"getStructure",value:function(e){var t;return{panels:this.getPanelList(e.getCustomProperty()),fields:this.updateStructureWithFields(e.getCustomProperty(),e.getFields(),null===(t=e.context)||void 0===t?void 0:t.getPropertiesToDisable())}}},{key:"translateText",value:function(e){return this.chartRef.utils.convertStringLanguage(e)}},{key:"setCloseMenuAction",value:function(e){var t=this;vitaraJQ(".modal-header .close",this.editorRef.getParentContainer()).off("click").on("click",(function(){t.editorRef.getParentContainer().empty(),vitaraJQ("#modalWindow"+e,t.editorRef.getParentContainer()).hide(),t.destroy()}))}},{key:"setAccordionEventHandler",value:function(e){this.propMenuHelper.getEventHandler().setAccordionEventHandler(e)}},{key:"getChartContext",value:function(){return this.chartContext}},{key:"getChartRef",value:function(){return this.chartRef}},{key:"setAllFields",value:function(){this.allFields=this.menuOptions.fetchCallback.fetchPropertyEditor().getFields()}},{key:"getField",value:function(e){var t;return null===(t=this.fields)||void 0===t?void 0:t[e]}},{key:"getDataHelper",value:function(){return this.dataHelper}},{key:"getPopup",value:function(){return this.editorRef.getParentContainer()}},{key:"getPropMenuContainer",value:function(){return this.getPopup()}},{key:"getModalContainer",value:function(){return this.editorRef.getOverlay()}},{key:"getChartArea",value:function(){return vitaraJQ(this.chartRef.domNode)}},{key:"getElementRef",value:function(e){return this.editorRef.getElementRef(e)}},{key:"getMenuElement",value:function(e){return this.getElementRef(e)}},{key:"getFieldValue",value:function(e){return this.editorRef.getElementRef(e).val()}},{key:"setFieldValue",value:function(e,t){this.editorRef.getElementRef(e).val(t)}},{key:"getElementHTML",value:function(e){return this.editorRef.getElementRef(e).html()}},{key:"setElementHTML",value:function(e,t){this.editorRef.getElementRef(e).html(t)}},{key:"processChartButtons",value:function(){this.createMenuButton(),this.options.autoHideMenu?(this.hideChartButtons(),this.initPropMenuAutoHide()):this.showChartButtons()}},{key:"initPropMenuAutoHide",value:function(){var e=this;vitaraJQ(this.getChartArea()).mousemove((function(t){var a=t.clientX-e.getChartArea().offset().left,i=t.clientY-e.getChartArea().offset().top,n=e.getChartArea()[0].clientWidth;if(e.getChartArea()[0].clientHeight>=i&&n>=a?e.showChartButtons.bind(e)():e.hideChartButtons.bind(e)(),"DrillChartEditor"==e.menuOptions.chartType){vitaraJQ(e.getChartArea()).find(".drillChartBackButton").find("div").find("a").remove();var o=e.chartContext.vizProps;o.currentDrillLevel!=o.drillChart.initial.target?vitaraJQ(this).find(".drillChartBackButton.notopened").show():vitaraJQ(this).find(".drillChartBackButton.notopened").hide()}})),vitaraJQ(this.getChartArea()).mouseleave(this.hideChartButtons.bind(e)),this.hideChartButtons.bind(e)()}},{key:"hideChartButtons",value:function(){this.getMenuButton().hideElement()}},{key:"showChartButtons",value:function(){this.getMenuButton().showElement()}},{key:"getMenuButton",value:function(){return this.menuButton}},{key:"createMenuButton",value:function(){var e=this;vitaraJQ(".vitara-chart-editor",this.getChartArea()).remove(),this.menuButton=new K({wrapperId:"menuArea"+this.chartRef.propertyMenuId,wrapperClassName:"vitara-chart-editor",className:"editor-popup-opener notopened",text:"Edit",parent:this.getChartArea()}),this.menuButton.addClickHandler(".editor-popup-opener",(function(){e.openEditor()}))}},{key:"openEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;try{var a;null==this||null===(a=this.options)||void 0===a||null===(a=a.menuOptions)||void 0===a||a.enableStorage(),this.initEditorCreation(e,t),this.editorRef.show(),this.propMenuHelper.getEventHandler().setBaseEventHandler(),vt(this.options.currentMenuIndex)==vt(123)&&this.switchTab(this.options.currentMenuIndex)}catch(e){console.log(e)}}},{key:"switchTab",value:function(e){(e||vt(e)==vt(123))&&this.getMenuElement('.panel-left a[href="#popupcollapse'.concat(e,'"]')).trigger("click")}},{key:"getPanelList",value:function(e){var t=[];return gt.each(e,(function(e){t.push({label:e.label,id:e.id})})),t}},{key:"callEventListener",value:function(e,t){this.eventHandler[t]&&this.eventHandler[t](e)}},{key:"updateChartContext",value:function(e,t){var a;this.chartRef=e,this.chartContext=e,this.dataHelper=e.dataHelper,null===(a=this.editorRef)||void 0===a||a.setContext(e),this.propMenuHelper.setChartContext(e),this.options.state=t,this.propMenuHelper.setState(t),this.propMenuHelper.updatePropsFromState(t),this.propMenuHelper.getColumnOptions()}},{key:"updateStructureWithFields",value:function(e,t,a){var i=this,n=[];return gt.each(e,(function(e){var t={id:e.id,containers:[]};gt.each(e.containers,(function(e){var a,n={};(null===(a=e.headers)||void 0===a?void 0:a.length)>0&&"collapsable"===e.type&&!e.sections?(n=ft(ft({},e),{},{data:[]}),gt.each(e.data,(function(e){var t=i.createData(e.label,e.fields);t&&n.data.push(t)}))):n=i.createContainers(e.title,e.data||e.sections,e.type?e.type:void 0,e.class?e.class:void 0),t.containers.push(n)})),n.push(t)})),n}},{key:"getCustomEditor",value:function(){return this.customEditor||(this.customEditor=new se({context:this.chartRef,fetchCallback:this.menuOptions.fetchCallback,compatabilityManager:this.propMenuHelper.getCompatibilityManager(),stateManager:this.propMenuHelper.getStateManager(),colDefinitions:this.getColDefinitions(),menuContext:this})),this.customEditor}},{key:"getColumnOptions",value:function(){var e=this.dataHelper;if(e){var t={},a=e.getNumAttributes(),i=[];t.columns&&t.columnTitles&&gt.times(t.columns.length,(function(e){i.push({colId:e,columnId:t.columns[e],headerName:t.columnTitles[e],isMetric:e>=a})})),this.menuOptions.columnDefs=i}}},{key:"createContainers",value:function(e,t,a,i){var n=this,o={title:e};return a&&"collapsable"===a?(o.type=a,o.sections=[],gt.each(t,(function(e){o.sections.push(n.createContainers(e.header,e.data))}))):(o.data=[],gt.each(t,(function(e){var t=n.createData(e.label,e.fields);t&&o.data.push(t)}))),i&&(o.class=i),o}},{key:"getActiveMenu",value:function(){var e=this.getMenuElement("#popupaccordion"+this.editorRef.getID()).find("a.active");if(e)return this.editorRef.structure.panels.find((function(t){return t.label===e.attr("original-name")}))}},{key:"getMenuList",value:function(){return this.menuOptions&&this.menuOptions.fetchCallback&&this.menuOptions.fetchCallback.fetchPropertyEditor?this.menuOptions.fetchCallback.fetchPropertyEditor():[]}},{key:"getPopUpMenus",value:function(){return this.getMenuList()&&this.getMenuList().getCustomProperty?this.getMenuList().getCustomProperty():[]}},{key:"getMenuHtml",value:function(e,t){if(e){var a=gt.findIndex(this.getPopUpMenus(),(function(t){return t.label===e})),i=t||"",n=this.getPopUpMenus()[a];if(n)return{html:this.editorRef.createSection(n,a,i),id:"popupcollapse"+a}}}},{key:"refreshMenuByLabel",value:function(e,t,a){var i=this.getMenuHtml(e,t);i&&(this.getMenuElement("#"+i.id).replaceWith(i.html),this.initCustomComponents(this.getMenuElement("#"+i.id)),"function"==typeof a&&a())}},{key:"createData",value:function(e,t){var a=this,i={label:e,fields:[]};return gt.each(t,(function(e){-1===a.disabledProps.indexOf(e)?i.fields.push(a.getFieldDetails(e)):i=void 0})),i}},{key:"getFieldDetails",value:function(e){return this.fields[e]}},{key:"showEditor",value:function(){this.editorRef.show()}},{key:"hideEditor",value:function(){this.editorRef.hide()}},{key:"setCustomizePaletteListener",value:function(){this.propMenuHelper.setVitaraColorPicker("#colorPickerAdder","",this.propMenuHelper.changePaletteColor)}},{key:"getNewWarngLabel",value:function(e){return vitaraJQ.parseHTML('<i class="fa-exclamation-triangle vitara-editor-warning-icon">&nbsp</i><label class="vitara-chart-editor-label section-heading" style="width=100% !important">'+e+"</label>")}},{key:"getNewRowInsert",value:function(e){return vitaraJQ.parseHTML("<div id="+e+' class="col-md-12 margin-top-10 field_container"></div>')}},{key:"setColorsWarningMsg",value:function(e,t){t.parent().before(vitaraJQ(this.getNewRowInsert(this.getPPEWLabelID())).append(this.getNewWarngLabel(e)))}},{key:"convertToHex",value:function(e){return this.chartRef.utils.convertToHex(e)}},{key:"getColorInHex",value:function(e){return this.convertToHex(e).replace("#","")}},{key:"getColorPalleteHtml",value:function(e,t,a,i){for(var n=[],o=0;o<e.length;o++){var r='<span class="color_palette_list colorpalette">';r+='<input type="hidden" data-preval="" name="'+t+"["+o+']" id="popup'+t+o+'" class="'+a+'" value="'+this.getColorInHex(e[o])+'" />',i&&(o===e.length-1?r+='<input class="vitara-chart-editor-text-field form-control colorscale-textbox-control thresholdGradientRange" type="text" disabled="true" id="thresholdGradientRange_'+(o+1)+'" value="'+i[o+1]+'"></input>':r+='<input class="vitara-chart-editor-text-field form-control colorscale-textbox-control thresholdGradientRange" type="text" id="thresholdGradientRange_'+(o+1)+'" value="'+i[o+1]+'" maxLength=2></input>'),r+="</span>",n.push(r)}return n.push('<span class="color_palette_bg color_palette_list colorpalette"><input type="hidden" data-preval="" id="colorPickerAdder"></input></span>'),n}},{key:"getPPEWLabelID",value:function(){return"paletteParseErrorWarning"+this.editorRef.menuOptions.id}},{key:"removePaletteWarningLabel",value:function(){this.getMenuElement("#"+this.getPPEWLabelID()).remove()}},{key:"addCustomPaletteToPopUp",value:function(e){var t=this.getMenuElement("#customSeriesColors");t.empty(),this.removePaletteWarningLabel();var a=this.getColorPalleteHtml(e,"customSeriesColors","customSeriesColorsInput");t.append(a),e.msg&&""!==e.msg&&this.setColorsWarningMsg(e.msg,t),t=null}},{key:"setSeriesColorsInState",value:function(e){this.editorRef.menuOptions.state.seriesColors=e}},{key:"getSeriesColorsSelectedValue",value:function(){return this.getMenuElement("#popupseriesColors").val()}},{key:"fetchPaletteColors",value:function(e,t){var a={},i=this.editorRef.menuOptions.state;a.seriesColors=e||i.seriesColors||i.seriesMapColors;var n=self.editorRef.menuOptions.fetchCallback.fetchColors(a);if(null!=n&&null!=n||(a.seriesColors=void 0),void 0===a.seriesColors){var o=self.chartRef.getCustomPaletteDefaults();a.seriesColors=o||this.getSeriesColorsSelectedValue(),this.setSeriesColorsInState(a.seriesColors)}return a.invertColors=void 0!==t?t:i.invertColors,self.editorRef.menuOptions.fetchCallback.fetchColors(a)}},{key:"isTrue",value:function(e){return"1"===e||"true"===e||!0===e||1===e}},{key:"setColorsToPalette",value:function(){var e=this;gt.each(self.getMenuElement(".customSeriesColorsInput.vitaracolorpicker"),(function(t){e.editorRef.setVitaraColorPicker({id:t.id,defaultColor:t.val(),type:"arrow"})}))}},{key:"processCustomizeColorPaletteSetup",value:function(e,t){var a=this.editorRef.menuOptions.state;this.isTrue(a.seriesColorsCustomized)?this.paletteColors=a.colors:this.paletteColors=this.fetchPaletteColors(e,t),null!==this.paletteColors&&this.paletteColors.length&&this.paletteColors.length>0?(this.getMenuElement("#customSeriesColors").parent().show(),this.addCustomPaletteToPopUp(this.paletteColors),this.setColorsToPalette(),this.setCustomizePaletteListener()):this.getMenuElement("#customSeriesColors").parent().hide()}}])&&yt(t.prototype,a),i&&yt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ct(e,t,a,i,n={}){let o=Object.assign({context:e,editor:t,state:a||{},menuOptions:i},n);return new St(o)}var Mt=i(6486),Et=function(e,t,a){this.context=e,this.chartDataMapper=t,this.isHC=a};Et.prototype={scriptClass:"mstrmojo.plugins.VitaraCharts.v533169.helper.plotlines.plotLineHelper",ENUM_AGGREGATIONS:{MIN:"min",MAX:"max",AVG:"avg",SUM:"sum",FIRST:"first",LAST:"last",FIXED_VALUE:"fixedValue",XPERCENT:"x%",XPERCENTILE:"xRank"},ENUM_LBL_ALIGN:{HIGH:"left",MIDDLE:"center",LOW:"right"},ENUM_SOURCE_TYPE:{METRIC:"metric",ATTRIBUTE:"attribute"},destroy:function(){this.context=null,this.chartDataMapper=null},getIsHC:function(){return this.isHC},setIsHC:function(e){this.isHC=e},setChartDataMapper:function(e){this.chartDataMapper=e},getChartDataMapper:function(){if(void 0===this.chartDataMapper)throw new Error("chartDataMapper not set");return this.chartDataMapper},setContext:function(e){this.context=e},getPlotLineByUID:function(e,t){return t[Mt.findIndex(t,(function(t){return t.uid===e}))]},getFormattedValue:function(e,t){var a=this.getChartDataMapper(),i=a.getColumnIndex(t.source,a.originalTitles);return this.context.utils.shortenNumber({rawVal:e,fv:this.context.utils.formatMetricLike(e,a.getMetricFormatObject(i))},this.context.vizProps.dataLabelDisplayFormat)},getHCCategoryPosition:function(e,t,a){var i,n,o,r=-1,s=[];function l(t,o,l,u){l===a&&-1!==(r=-1===r&&(o[t].name||o[t])===e?t:r)&&(void 0===i&&(i=void 0===s[s.length-1]?0:s[s.length-1]),void 0===n&&u&&(n=s[s.length-1]-i))}return function e(t,a){for(var i=t.length,n=0,o=a||0;n<i;)l(n,t,o,!1),t[n].categories&&e(t[n].categories,o+1),l(n,t,o,!0),n++,s[o]=void 0===s[o]?1:s[o]+1}(t),void 0!==i&&"undefined"!==n&&(o=a===s.length-1?i:i-1+(n/2+.5)),o},getAttributeValueById:function(e){var t=this.getChartDataMapper();return t&&e.elementId&&e.sourceId&&t.getAttributeValueById(t.dataRows,t.getColumnIndexById(e.sourceId),e.elementId)||e.value},getValue:function(e){if(e.type===this.ENUM_SOURCE_TYPE.ATTRIBUTE){if(!this.hcGroupedCategories)return;return this.getHCCategoryPosition(this.getAttributeValueById(e),this.hcGroupedCategories,e.meta?e.meta.searchDepth:void 0)}if(e.aggregation){var t=this.getChartDataMapper(),a=t.stats(),i=null,n=e.sourceId?t.getColumnIndexById(e.sourceId):t.getColumnIndex(e.source,t.originalTitles);switch(e.aggregation){case this.ENUM_AGGREGATIONS.MIN:i=a.getMinValue(n);break;case this.ENUM_AGGREGATIONS.MAX:i=a.getMaxValue(n);break;case this.ENUM_AGGREGATIONS.AVG:i=a.getAvgValue(n);break;case this.ENUM_AGGREGATIONS.SUM:i=a.getSum(n);break;case this.ENUM_AGGREGATIONS.FIRST:i=a.getFirstValue(n);break;case this.ENUM_AGGREGATIONS.LAST:i=a.getLastValue(n);break;case this.ENUM_AGGREGATIONS.FIXED_VALUE:i=this.chartDataMapper.isMetricOfPercentageData(n)?parseFloat(e.value)/100:e.value;break;case this.ENUM_AGGREGATIONS.XPERCENT:i=isNaN(e.value)?e.value:a.getXPercent(n,e.value);break;case this.ENUM_AGGREGATIONS.XPERCENTILE:i=isNaN(e.value)?e.value:a.getXPercentile(n,e.value)}return i}},trToHCOptions:function(e){if(e.formatting)return e.formatting.zIndex=5,e.formatting.id=e.uid,e.formatting.className="vitara-plot-line-"+e.uid,e.lblEnable?e.formatting.label.className="vitara-plot-line-title-"+e.uid:delete e.formatting.label,e.formatting},processPlotLine:function(e){if(+e.slopeValue||(e.cValue=e.formatting.value=this.getValue(e)),this.setLabelPosition(e),this.setPlotlineLabel(e.formatting.value,e),this.getIsHC())return this.trToHCOptions(e)},computePlotLines:function(e){if(e&&(e=this.cleanUpPlotLines(e))&&e.length)for(var t=0;t<e.length;t++)e[t].slopeValue||(e[t].type===this.ENUM_SOURCE_TYPE.ATTRIBUTE?e[t].cValue=e[t].value:e[t].cValue=this.getValue(e[t]),this.setPlotlineLabel(e[t].cValue,e[t]))},getHCPlotLines:function(e,t){if(e){this.hcGroupedCategories=t,this.setIsHC(!0);var a=this,i=[];return e&&e.length&&e.forEach((function(e){e.dangle||i.push(a.processPlotLine(e))})),i}},translateToVerticalAlign:function(e){return"left"===e?"top":"center"===e?"middle":"right"===e?"bottom":""},setLabelPosition:function(e){e&&e.formatting&&e.formatting.label&&e.formatting.label.align&&(e.formatting=e.formatting?e.formatting:{},e.formatting.label=e.formatting.label?e.formatting.label:{},e.formatting.label.verticalAlign=this.translateToVerticalAlign(e.formatting.label.align),e.formatting.label.textAlign=e.formatting.label.align)},getSamplePlotLines:function(){return[{label:"Plot line 1",type:"plotline",source:"metric1",isGlobal:!0,target:"series1",fixedValue:50,formatting:{color:"#FF0000",width:2}},{label:"Plot line 2",type:"plotline",source:"Sales ($) (millions)",isGlobal:!0,target:"series1",aggregation:"min",formatting:{color:"#FF0000",width:2}}]},getHCPlotLineByValue:function(e,t){return t[Mt.findIndex(t,(function(t){return t.options.value==e}))]},isAttributeType:function(e){return"attribute"===e.type},getTargetAxis:function(e,t){return e.target<2?t.yAxis[e.target]:t.xAxis[e.target%2]},getHCPlotLineBBox:function(e,t){var a=null,i=this.getTargetAxis(e,t),n=i&&i.plotLinesAndBands?this.getHCPlotLineByValue(e.cValue,i.plotLinesAndBands):void 0;return n&&(a=n.svgElem.element.getBBox()),a},drawRectange:function(e,t,a,i,n,o){return n.rect(e,t,a,i).attr(o).add()},drawHCPlotBackground:function(e,t,a,i){if(e){var n,o,r,s,l=this.isAttributeType(t)?!e.inverted:e.inverted,u=this.getHCPlotLineBBox(t,e);u&&(a?(n=l?u.x:e.plotBox.x,o=l?u.y:e.plotBox.y,s=l?e.plotBox.height:u.y-e.plotBox.y,r=l?e.plotBox.width-u.x+e.plotBox.x:e.plotBox.width):(n=l?e.plotBox.x:u.x,o=l?e.plotBox.y:u.y,r=l?u.x-e.plotBox.x:e.plotBox.width,s=l?e.plotBox.height:e.plotBox.height-u.y+e.plotBox.y),this.drawRectange(n,o,r,s,e.renderer,i))}},drawHCPlotBackgroundVertical:function(e,t,a,i){if(e){var n,o,r,s,l=this.getHCPlotLineBBox(t,e);l&&(a?(n=l.x,o=l.y,s=e.plotBox.height,r=e.plotBox.x+e.plotBox.width-l.x):(n=e.plotBox.x,o=l.y,r=l.x-e.plotBox.x,s=e.plotBox.height),this.drawRectange(n,o,r,s,e.renderer,i))}},drawHCPlotBackground2:function(e,t,a,i){if(e){if(this.isAttributeType(t))return void this.drawHCPlotBackground(e,t,a,i);var n,o,r,s,l,u;l=this.getHCPlotLineBBox(t,e),u=this.getHCPlotLineBBox({target:0,cValue:0},e);t.onLeft?l&&u&&(a?(n=e.plotBox.x,o=e.plotBox.y,s=e.plotBox.height,r=l.x-e.plotBox.x):(n=l.x,o=l.y,r=u.x-l.x,s=e.plotBox.height)):l&&u&&(a?(n=l.x,o=l.y,s=e.plotBox.height,r=e.plotBox.width-l.x+e.plotBox.x):(n=u.x,o=u.y,r=l.x-u.x,s=e.plotBox.height)),this.drawRectange(n,o,r,s,e.renderer,i)}},setContextPlotLines:function(e){this.context&&(this.context.vizProps.plotLines=e,this.context.updateChartSavedState(this.context.vizProps),this.context.propMenuPropertyState.plotLines=this.context.vizProps.plotLines)},isDualAxisEnabled:function(){return-1!==Mt.findIndex(this.context.vizProps.series,(function(e){return 1==e.yAxis}))},cleanUpPlotLines:function(e){var t=this.getAvailableSources(),a=t.map((function(e){return e.name})),i=t.map((function(e){return e.id})),n=this.isDualAxisEnabled(),o=!1;return Mt.forEach(e,(function(t,r){t&&(-1===(t.sourceId?i.indexOf(t.sourceId):a.indexOf(t.source))?(e[r].dangle=!0,e[r].dangleMsg="source not available",o=!0):n||1!=t.target?e[r].dangle&&(e[r].dangle=!1,e[r].dangleMsg="",o=!0):(e[r].dangle=!0,e[r].dangleMsg="target axis not available",o=!0))})),o&&this.setContextPlotLines(e),Mt.filter(e,(function(e){return!e.dangle}))},getAvailableSources:function(){var e=this.getChartDataMapper();if(!e)return this.context&&this.context.dataHelper?this.context.dataHelper.getTitles():[];if(this.context&&this.context.getPlotLineSourceOptions)return this.context.getPlotLineSourceOptions(!0,e);var t=Mt.map(e&&e.getXCategories(),(function(e){return{name:e.name,id:e.id}})),a=e.getColumnNameIdMap().slice(e.numAttributes,e.numColumns);return[].concat(t,a)},getMetricTitles:function(){var e=this.getChartDataMapper().originalTitles||this.context.dataHelper.getTitles();return e.slice(this.getChartDataMapper().numAttributes||this.context.dataHelper.numAttributes,e.length)},setPlotlineLabel:function(e,t){if(t.text&&t.formatting.label&&t.formatting.label.text){var a=t.type===this.ENUM_SOURCE_TYPE.ATTRIBUTE?t.value:this.getFormattedValue(e,t);t.formatting.label.text=t.text.split("&amp;[plotline.value]").join(a,t),t.formatting.label.text=t.formatting.label.text.split("&amp;[plotline.source]").join(t.source),t.formatting.label.text=t.formatting.label.text.split("&amp;[plotline.title]").join(t.label),t.formatting.label.text=this.context.utils.addMarkersIconsInTooltip(t.formatting.label.text)}}};const Tt={ENUM_TASKS:{CHECK_PRIVILEGES:"checkUserPrivileges",CHECK_ACCESS_RIGHTS:"VitaraGetAccessRights"},getGlobalTaskResponse:function(e){if(window.vitaramojo.global.taskResponseMap&&void 0!==window.vitaramojo.global.taskResponseMap[e])return window.vitaramojo.global.taskResponseMap[e]},setGlobalTaskResponse:function(e,t){window.vitaramojo.global.taskResponseMap||(window.vitaramojo.global.taskResponseMap={}),window.vitaramojo.global.taskResponseMap[e]=t},getTaskProcUrl:function(){if(isMstrLibraryEditMode())return mstrConfig.taskURL;var e=isMSTRAspxServer()?"asp":"servlet";return mstrAppPath()+e+"/"+mstrConfig.taskURL},getVerifyUserPrivileges:function(){if(void 0!==this.getGlobalTaskResponse(this.ENUM_TASKS.CHECK_PRIVILEGES))return this.getGlobalTaskResponse(this.ENUM_TASKS.CHECK_PRIVILEGES);var e,t=this,a=t.utils.vitaraPropEditorUserPrivilege(),i={},n=!1;return void 0!==a&&"0"!=a&&"-1"!=a?(e={taskId:"checkUserPrivileges",taskEnv:"xhr",privilegeTypes:a},e=t.utils.addCSRFTokenToTaskParams(e),vitaraJQ.ajax({url:t.getTaskProcUrl(),async:!1,data:e,method:"GET",success:function(e,a,n){i.success=!0;var o=vitaraJQ.parseXML(e),r=vitaraJQ(o).find("privilege")[0];i.privilege=vitaraJQ(r).attr("type"),i.val=vitaraJQ(r).attr("value"),t.utils.reportTime(t.scriptClass,"task request checkUserPrivileges successfull")}}).fail((function(e,a,i){t.utils.reportTime(t.scriptClass,"task request checkUserPrivileges failed"),console.error(i)})),i.success&&i.privilege===a&&"1"===i.val?n=!0:t.utils.reportTime(t.scriptClass,"user privilege verified to false")):n=!0,this.setGlobalTaskResponse(this.ENUM_TASKS.CHECK_PRIVILEGES,n),n},getVerifyACLS:function(){if(void 0!==this.getGlobalTaskResponse(this.ENUM_TASKS.CHECK_ACCESS_RIGHTS))return this.getGlobalTaskResponse(this.ENUM_TASKS.CHECK_ACCESS_RIGHTS);var e,t=this,a={},i=t.utils.getACLS(),n=!1;if(i){if(mstrApp&&mstrApp.docModel&&mstrApp.docModel.oid?(e={taskId:"VitaraGetAccessRights",taskEnv:"xhr","Object ID":mstrApp.docModel.oid,"Object Type":55},e=t.utils.addCSRFTokenToTaskParams(e),vitaraJQ.ajax({url:t.getTaskProcUrl(),async:!1,data:e,method:"GET",success:function(e,i,n){a.success=!0,a.acl=vitaraJQ(vitaraJQ.parseXML(e)).find("acl").text(),t.utils.reportTime(t.scriptClass,"task request VitaraGetAccessRights successfull")}}).fail((function(e,a,i){t.utils.reportTime(t.scriptClass,"task request VitaraGetAccessRights failed"),console.error(i)}))):console.error("unable to get oid"),a.success&&void 0!==a.acl)for(var o={READ:4,WRITE:8,USE:64,EXECUTE:128,DELETE:16,FULLCONTROL:255},r=0;r<i.length;r++){var s=o[i[r].toLocaleUpperCase().trim()];if(s){if((s&a.acl)!==s){n=!1,t.utils.reportTime(t.scriptClass,"user ACL - "+i[r]+" verified to false");break}n=!0}else t.utils.reportTime(t.scriptClass,"user ACL - "+i[r]+" is not valid")}}else n=!0;return this.setGlobalTaskResponse(this.ENUM_TASKS.CHECK_ACCESS_RIGHTS,n),n}};var kt,At=i(6486),wt={CONTEXT_MENU_SELECTOR:"vitara-context-menu-target",ENUM_PROPERTY_KEY:{tooltip:"tooltipEnable",datalabel:"labelsEnable",legend:"legendEnable",palette:"seriesColors"},ENUM_PROPERTY_LISTENERS:{labelsEnable:"updateDataLabelState"},ENUM_PROPERTY_NAME:{tooltip:"Tooltip",datalabel:"DataLabel",legend:"Legend",palette:"Color Palette",series_yAxis:"Value Axis",series_color:"Series Color",xAxisRevDir:"Invert Data",yAxisRevDir:"Invert Data",sYAxisRevDir:"Invert Data",markerEnable:"Marker",series_marker:"Marker",markerType:"Marker Type",markerSize:"Marker Size",seriesTypeWidth:"Bar/Column Width",barColumnSpacing:"Bar/Column Spacing",catAxis:"Category Axis",valAxis:"Value Axis",sValAxis:"Secondary Value Axis",sCatAxis:"Dynamic Width Axis",invertedAxis:"Invert Axes"},ENUM_HORIZONTAL_AXIS_POSITION:{0:"Show on Top",1:"Show on Bottom"},ENUM_VERTICAL_AXIS_POSITION:{0:"Show on Right",1:"Show on Left"},ENUM_AXIS_VISIBILITY:{0:"Show Axis",1:"Hide Axis"},getRenderedChartType:function(){var e=this.getRenderer().getRenderedChartInstance?this.getRenderer().getRenderedChartInstance():null;return e&&e[0]?e[0].getRenderOptions().chart.type:"bar"},isRenderedChartInverted:function(){var e=this.getRenderer().getRenderedChartInstance?this.getRenderer().getRenderedChartInstance():null;return!(!e||!e[0])&&1==+e[0].getRenderOptions().chart.inverted},getPropertyDisplayName:function(e){if(this.ENUM_PROPERTY_NAME[e])return this.ENUM_PROPERTY_NAME[e];var t=this.getRenderedChartType(),a=this.isRenderedChartInverted(),i=this.getPropertyValueForContextMenu(e);switch(e){case"xAxisOppSide":return"bar"===t||a?this.ENUM_VERTICAL_AXIS_POSITION[+(1==+i)]:this.ENUM_HORIZONTAL_AXIS_POSITION[+(1==+i)];case"yAxisOppSide":return"bar"===t||a?this.ENUM_HORIZONTAL_AXIS_POSITION[+(1==+i)]:this.ENUM_VERTICAL_AXIS_POSITION[+(1==+i)];case"sYAxisOppSide":return"bar"===t||a?this.ENUM_HORIZONTAL_AXIS_POSITION[+(1!=+i)]:this.ENUM_VERTICAL_AXIS_POSITION[+(1!=+i)];case"sXAxisOppSide":return"bar"===t||a?this.ENUM_VERTICAL_AXIS_POSITION[+(1!=+i)]:this.ENUM_HORIZONTAL_AXIS_POSITION[+(1!=+i)];case"xAxisLabelHide":case"yAxisLabelHide":case"sYAxisLabelHide":case"sXAxisLabelHide":return this.ENUM_AXIS_VISIBILITY[+(1!=+i)]}return e},createGraphicModels:function(){var e={children:[]},t=this;try{var a=this.readDataFromMSTR();a||(e=this.getCreateCustomGraphicModel(e)),At.each(a,(function(a){var i,n,o=a.headers,r=a.values[0],s={},l={packageName:o[0]?o[0].name:"",className:o[1]?o[1].name:"",value:r.rv,formattedValue:r.v};a.headers&&At.each(a.headers,(function(e){s[e.attributeSelector.tid]?s[e.attributeSelector.tid][0].n=s[e.attributeSelector.tid][0].n+" "+e.attributeSelector.n:s[e.attributeSelector.tid]=[At.merge({id:e.attributeSelector.eid,n:e.attributeSelector.n},e.attributeSelector)]})),n={selector:o[0].attributeSelector,zoneData:[{dropZoneIndex:0,keepParent:!1}]},(i=t.createNewGraphicModel(l,s,a.headers,n,!0)).idValueMapping=a.idValueMapping,e.children.push(i)}))}catch(t){return e}return e},getGridCustomGraphicModel:function(e,t){var a={packageName:t[0]?t[0].value:"",className:t[1]?t[1].value:""};return this.createNewGraphicModel(a,e,null,null,!0)||null},createNewGraphicModel:function(e,t,a,i,n){var o=new mstrmojo.customviz.GraphicModel;return o.setCustomProperties(e),o.setSelector(t,n),o.setDrillOptions((null==i?void 0:i.selector)||{},(null==i?void 0:i.zoneData)||[]),o.setGroupOptions(n?a:[]),o},getCreateCustomGraphicModel:function(e){return e=0===this.dataInterface.getTotalCols()?this.createGraphicModelWithNoMetrics(e):this.createGraphicModelWithNoAttributes(e)},createGraphicModelWithNoMetrics:function(e){var t=this;return At.each(this.dataInterface.getRowHeaders().titles,(function(a){At.each(a.es,(function(i){var n,o={};o[a.id||i.id]=[i];var r={packageName:i.n||"",className:a.n||""};(n=t.createNewGraphicModel(r,o,null,null,!0))&&e.children.push(n)}))})),e},createGraphicModelWithNoAttributes:function(e){var t=this;return At.each(this.dataInterface.getColHeaders().titles[0].es,(function(a,i){var n=null;if(a.id||a.oid){var o,r,s,l=null===(o=t.dataInterface)||void 0===o?void 0:o.getMetricValue(0,i),u={},c={packageName:"",className:"",value:(null==l||null===(r=l.getValue)||void 0===r?void 0:r.call(l))||"",formattedValue:null==l||null===(s=l.getRawValue)||void 0===s?void 0:s.call(l)};u[a.oid||a.id]=[At.merge({id:a.id,n:a.n})],n=t.createNewGraphicModel(c,u,null,null,!1)}n&&e.children.push(n)})),e},getGraphicModel:function(e){if(!this.getGraphicModels||!e)return null;var t=this.getContextMenuSelector(e);return(t=!e.selector&&e.selectorFunc?e.selectorFunc():e.selector)?this.getGraphicModels().children.filter((function(e){return At.isEqual(e.getSelector(),t)}))[0]:null},getContextMenuSelector:function(e){var t,a=!1;if(this.selectedPoints&&this.selectedPoints.length>0){if(t=[],At.each(this.selectedPoints,(function(i){t.push(i.selector),a||(a=At.isEqual(e.selector,i.selector))})),a)return 1!==this.selectedPoints.length&&t;this.resetSelectionForContextMenu()}return!1},resetSelectionForContextMenu:function(){this.handlePointSelection({target:this.getRenderer().getRenderedHCInstance?this.getRenderer().getRenderedHCInstance()[0].container:[window]},!0)},isMSTRContextMenuSupported:function(){return"function"==typeof this.handleContextMenuSelection},addContextMenu:function(){var e=this;e.handleContextMenuSelection&&vitaraJQ("."+this.CONTEXT_MENU_SELECTOR,this.domNode).off("contextmenu").on("contextmenu",(function(t){t.e&&(t=t.e),t.stopPropagation();var a=e.getTargetDataFromEvent(t),i=e.getGraphicModel(a);e.handleContextMenuSelection(t,i?vitaraJQ.extend(!0,{},i,{targetData:e.setTargetDataObject(a)}):i)}))},getTargetSelectorFromEvent:function(e){var t=this.getTargetElementFromEvent(e).getAttribute("class");return t?t.split(" "):[]},getTargetElementFromEvent:function(e){return vitaraJQ(e.target).closest("."+this.CONTEXT_MENU_SELECTOR)[0]},getSeriesNameFromLegendElement:function(e){var t=vitaraJQ(".vitara-legend-text",this.getTargetElementFromEvent(e));if(t&&t.length>0){var a=t.text(),i=this.getDataHelper();return i?i.parseMSTRText(a):a}return""},updateConfigProperties:function(e,t,a){var i=this;if("series_marker"===e.key&&-1!==t.indexOf("vitara-legend-item"))(n=this.getSeriesNameFromLegendElement(a))&&(e.currentValue=i.isMarkerEnabledOnSeries(n),e.onClick=function(e){i.updateSeriesMarkerEnabled(e,n)});else if("series_yAxis"===e.key&&-1!==t.indexOf("vitara-legend-item")){var n;(n=this.getSeriesNameFromLegendElement(a))&&(e.subMenuConfig[0].currentValue=i.getPropertyFromSeries(n,"yAxis")+"",e.subMenuConfig[0].onClick=function(e){i.updateSeriesProperties("yAxis",+e,n)})}return e},setTargetDataObject:function(e){return e},setCustomMenuConfigVisibility:function(e,t){if(t.target){var a=this,i=this.getTargetSelectorFromEvent(t),n=this.getConfigPropertiesForContextMenu(i),o=this.getConfigPropertiesToHideForContextMenu(i);At.each(e,(function(e){-1!==o.indexOf(e.key)?e.isShown=!1:(-1!==n.indexOf(e.key)&&(e.isShown=!0,e=a.updateConfigProperties(e,i,t)),e.onClick&&(e.onClick=e.onClick.bind(t)))}))}return e},getCustomMenuConfig:function(e,t){return this.getRenderer().enableDocumentStorage&&this.getRenderer().enableDocumentStorage(),this._super(this.setCustomMenuConfigVisibility(e,t),t)},getTargetDataFromEvent:function(e){return e.target&&e.target.point?e.target.point:this.getHoverPointFromEvent(e)},getHoverPointFromEvent:function(e){var t=null;return this.getRenderer().getRenderedHCInstance&&e.target&&At.each(this.getRenderer().getRenderedHCInstance(),(function(a){if(a&&a.container){var i=vitaraJQ(e.target).closest(".highcharts-container");i&&i[0]&&a.container.id===i[0].id&&(t=a.hoverPoint)}})),t},getContextMenuConfig:function(e){return{common:this.getContextMenuCommonConfig(),custom:this.getContextMenuCustomConfig(e)}},setPropertyToChartState:function(e,t){try{this.propMenuPropertyState&&(this.propMenuPropertyState[e]=t,this.updateChartSavedState(this.propMenuPropertyState),this.updateVizPropertiesFromMenuState(this.propMenuPropertyState),this.rePlot.call(this))}catch(e){console.log(e)}},getPropertyValueForContextMenu:function(e){return void 0===this.getVizProps()[e]?this.getRenderer().getPropMenuDefaults()[e]||this.getPropertyDefault(e):this.getVizProps()[e]},getPropertyListener:function(e,t){return e.listener?e.listener:this.ENUM_PROPERTY_LISTENERS[t]?this[this.ENUM_PROPERTY_LISTENERS[t]].bind(this):null},getPropertyDefault:function(e){switch(e){case"seriesColors":return this.getRenderer().getRenderedChartInstance&&this.getRenderer().getRenderedChartInstance()[0]&&this.getRenderer().getRenderedChartInstance()[0].getColorPalette?this.getRenderer().getRenderedChartInstance()[0].getColorPalette():"";case"tooltipEnable":return!0;case"series_yAxis":return"0";default:return""}},openPropertyMenu:function(e){this.getRenderer().editorInterfaceRef.openEditor(e)},getCustomMenuItemConfig:function(e){var t=this,a=this.getPropertyKey(e.key),i=this.getPropertyListener(e,a);switch(e.type){case mstrmojo.CUSTOM_CONTEXT_MENU.TOGGLE:return{isShown:e.isShown,type:mstrmojo.CUSTOM_CONTEXT_MENU.TOGGLE,name:e.name,key:e.key,currentValue:e.currentValue||0!=+t.getPropertyValueForContextMenu(a),onClick:i||function(e){t.setPropertyToChartState(a,e)}};case mstrmojo.CUSTOM_CONTEXT_MENU.SEPARATOR:return{type:mstrmojo.CUSTOM_CONTEXT_MENU.SEPARATOR};case mstrmojo.CUSTOM_CONTEXT_MENU.SUBMENU:return e.subMenuType===mstrmojo.CUSTOM_CONTEXT_MENU.MULTI_SELECT_LIST?{isShown:e.isShown,type:mstrmojo.CUSTOM_CONTEXT_MENU.SUBMENU,name:e.name,key:e.key,subMenuConfig:e.items}:{isShown:e.isShown,type:mstrmojo.CUSTOM_CONTEXT_MENU.SUBMENU,name:e.name,key:e.key,subMenuConfig:[{type:mstrmojo.CUSTOM_CONTEXT_MENU.SINGLE_SELECT_LIST,currentValue:e.currentValue||t.getPropertyValueForContextMenu(a)||e.items[0].value,onClick:i||function(e){"more"===e?t.openPropertyMenu():t.setPropertyToChartState(a,e)},items:e.items}]};case mstrmojo.CUSTOM_CONTEXT_MENU.NORMAL:return{isShown:e.listener?e.isShown:e.isShown&&!isMSTRStatePresentation(),type:mstrmojo.CUSTOM_CONTEXT_MENU.NORMAL,name:e.name,key:e.key,onClick:e.listener?e.listener:function(){t.openPropertyMenu(t.getTargetPropMenuFromEvent(this))}}}},getSubMenuConfig:function(e){},getTargetPropMenuFromEvent:function(e){var t=this.getTargetSelectorFromEvent(e);if(t){if(At.includes(t,"vitara-legend-item"))return"legend";if(At.includes(t,"vitara-axis"))return"axes"}return 0},getCustomContextMenuItems:function(){return["tooltip","datalabel","legend","markerEnable","series_marker","xAxisLabelHide","xAxisOppSide","sXAxisLabelHide","sXAxisOppSide","yAxisLabelHide","yAxisOppSide","sYAxisLabelHide","sYAxisOppSide","invertedAxis","separator","format","separator","catAxis","valAxis","sValAxis","sCatAxis","palette","series_yAxis","series_color"]},getChartSpecificConfigProperties:function(e){return[]},getDefaultConfigForContextMenu:function(){return["tooltip","datalabel","legend","palette"]},getConfigPropertiesForContextMenu:function(e){return(At.includes(e,"vitara-point")?this.getDefaultConfigForContextMenu():At.includes(e,"vitara-category-axis")?["xAxisLabelHide","xAxisOppSide"]:At.includes(e,"vitara-value-axis")||At.includes(e,"vitara-value-axis-0")?["yAxisLabelHide","yAxisOppSide"]:At.includes(e,"vitara-value-axis-1")?["sYAxisLabelHide","sYAxisOppSide"]:At.includes(e,"vitara-legend-item")||At.includes(e,"vitara-legend-text")?["legend","series_color"]:At.includes(e,"vitara-category-axis-1")?["sXAxisLabelHide","sXAxisOppSide"]:this.getDefaultConfigForContextMenu()).concat(this.getChartSpecificConfigProperties(e))},getConfigPropertiesToHideForContextMenu:function(){return isMSTRStatePresentation()?["format","series_color"]:[]},updateDataLabelState:function(e){if(this.propMenuPropertyState){var t=this,a=this.getRenderer().getDataLabelTypes();a||(a=["labelsMin","labelsMax","labelsFirst","labelsLast","labelsOdd","labelsEven"]),At.each(a,(function(a){t.propMenuPropertyState[a]=e})),t.propMenuPropertyState.labelsEnable=e,t.updateChartSavedState(t.propMenuPropertyState),t.updateVizPropertiesFromMenuState(t.propMenuPropertyState),t.rePlot.call(t)}},getContextMenuCommonConfig:function(){return[{type:mstrmojo.DEFAULT_CONTEXT_MENU.KEEP_ONLY},{type:mstrmojo.DEFAULT_CONTEXT_MENU.EXCLUDE},{type:mstrmojo.DEFAULT_CONTEXT_MENU.DRILL},{type:mstrmojo.DEFAULT_CONTEXT_MENU.SHOW_DATA},{type:mstrmojo.DEFAULT_CONTEXT_MENU.GO_TO_TARGETS}]},getContextMenuCustomConfig:function(e){var t=this,a=[];return At.each(this.getCustomContextMenuItems(e),(function(i){a.push(t.getCustomMenuItemConfig(t.getCustomContextMenuTypes(i,e,!1)))})),a},getGraphicModelsBySelector:function(e,t){var a=this,i=[],n=this.getGraphicModels(),o={attribute:mstrmojo.customviz.PICKED_TYPE.METRIC,metric:mstrmojo.customviz.PICKED_TYPE.METRIC,criteria:mstrmojo.customviz.PICKED_CRITERIA.INTERSECTION};return At.each(n.children,(function(n){a.canPickGraphicModel(e,t,n,o)&&i.push(n)})),i},addContextMenuToDataPoints:function(){this.addContextMenuClass(".vitara-point")},addContextMenuToAxisLabels:function(){this.addContextMenuClass(".vitara-axis")},addContextMenuToLegend:function(){this.addContextMenuClass(".vitara-legend-item")},addContextMenuToChartContainer:function(){this.addContextMenuClass(".vitara-chart-container")},addContextMenuToDataLabels:function(){this.addContextMenuClass(".vitara-datalabel")},addContextMenuClass:function(e){vitaraJQ(e,this.domNode).addClass(this.CONTEXT_MENU_SELECTOR)},processContextMenu:function(){this.showMSTRContextMenu()&&(this.addContextMenuToAxisLabels(),this.addContextMenuToDataPoints(),this.addContextMenuToLegend(),this.addContextMenuToChartContainer(),this.addContextMenuToDataLabels(),this.addContextMenu())},showMSTRContextMenu:function(){return!0},getPropertyKey:function(e){return this.ENUM_PROPERTY_KEY[e]||e},getSeriesNameFromGraphicModel:function(e){return e&&e.targetData?e.targetData.series.userOptions.name:""},updateSeriesProperties:function(e,t,a){var i=this.getSeriesOptionsIndexByName(a);if(-1!==i){var n={},o=this.getRenderer().getSeriesOptions();n[e]=t,o[i]=vitaraJQ.extend(!0,{},o[i],n),this.setPropertyToChartState("series",o)}},getSeriesOptionsIndexByName:function(e){return At.findIndex(this.getRenderer().getSeriesOptions(),(function(t){return t.name===e}))},isSecondaryCategoryAxisEnabled:function(){return!1},isPrimaryValueAxisEnabled:function(){return-1!==At.findIndex(this.getRenderer().getSeriesOptions(),(function(e){return 0==+e.yAxis}))},isSecondaryValueAxisEnabled:function(){return-1!==At.findIndex(this.getRenderer().getSeriesOptions(),(function(e){return 1==+e.yAxis}))},getPropertyFromSeries:function(e,t){var a=this.getSeriesOptionsIndexByName(e);return-1!==a&&this.getRenderer().getSeriesOptions()[a][t]},isMarkerEnabledOnSeries:function(e){var t=this.getPropertyFromSeries(e,"marker");return!(!t||!t.enabled)},updateSeriesMarkerEnabled:function(e,t){var a=vitaraJQ.extend(!0,this.getPropertyFromSeries(t,"marker"),{enabled:e});this.updateSeriesProperties("marker",a,t)},getCustomContextMenuTypes:function(e,t,a){var i=this;switch(e){case"separator":return{type:mstrmojo.CUSTOM_CONTEXT_MENU.SEPARATOR};case"format":return{type:mstrmojo.CUSTOM_CONTEXT_MENU.NORMAL,name:"Format",key:e};case"xAxisLabelHide":case"xAxisOppSide":case"sXAxisLabelHide":case"sXAxisOppSide":case"yAxisLabelHide":case"yAxisOppSide":case"sYAxisLabelHide":case"sYAxisOppSide":return{isShown:a,type:mstrmojo.CUSTOM_CONTEXT_MENU.NORMAL,name:i.getPropertyDisplayName(e),key:e,listener:function(){var t=i.getPropertyValueForContextMenu(e);i.setPropertyToChartState(e,1==+t?0:1)}};case"series_color":return{isShown:a,type:mstrmojo.CUSTOM_CONTEXT_MENU.NORMAL,name:i.getPropertyDisplayName(e),key:e,listener:function(){i.openPropertyMenu("series")}};case"palette":return{isShown:a,type:mstrmojo.CUSTOM_CONTEXT_MENU.SUBMENU,name:i.getPropertyDisplayName(e),key:e,items:this.getSubMenuItemsForPalette()};case"series_yAxis":return{isShown:a,type:mstrmojo.CUSTOM_CONTEXT_MENU.SUBMENU,name:i.getPropertyDisplayName(e),key:e,currentValue:i.getPropertyFromSeries(i.getSeriesNameFromGraphicModel(t),"yAxis")+"",listener:function(e){i.updateSeriesProperties("yAxis",+e,i.getSeriesNameFromGraphicModel(t))},items:[{name:"Primary",value:"0"},{name:"Secondary",value:"1"}]};case"series_marker":return{isShown:a,type:mstrmojo.CUSTOM_CONTEXT_MENU.TOGGLE,name:i.getPropertyDisplayName(e),key:e,currentValue:i.isMarkerEnabledOnSeries(i.getSeriesNameFromGraphicModel(t)),listener:function(e){var a=i.getSeriesNameFromGraphicModel(t);i.updateSeriesMarkerEnabled(e,a)}};case"catAxis":case"valAxis":case"sValAxis":case"sCatAxis":return{isShown:a,type:mstrmojo.CUSTOM_CONTEXT_MENU.SUBMENU,name:i.getPropertyDisplayName(e),key:e,subMenuType:mstrmojo.CUSTOM_CONTEXT_MENU.MULTI_SELECT_LIST,items:this.getSubMenuItemsForAxis(e)};default:return{isShown:a,type:mstrmojo.CUSTOM_CONTEXT_MENU.TOGGLE,name:i.getPropertyDisplayName(e),key:e}}},getSubMenuItemsForAxis:function(e){var t=[];switch(e){case"catAxis":t=["xAxisLabelHide","xAxisOppSide"];break;case"valAxis":t=["yAxisLabelHide","yAxisOppSide"];break;case"sValAxis":t=["sYAxisLabelHide","sYAxisOppSide"];break;case"sCatAxis":t=["sXAxisLabelHide","sXAxisOppSide"];break;default:t=[]}var a=this,i=[];return At.each(t,(function(e){i.push(a.getCustomMenuItemConfig(a.getCustomContextMenuTypes(e,null,!0)))})),i},getSubMenuItemsForPalette:function(){var e=[{name:"Default",value:"default"},{name:"Corporate",value:"Corporate1"},{name:"Accent",value:"Accent"},{name:"Blues",value:"Blues"}];return isMSTRStatePresentation()||e.push({name:"More",value:"more"}),e}},It={supportNEE:!0,supportPagination:!0,preExport:function(){this.processPreExportUpdates(),this.addScrollToDomNode()},canScrollDown:function(){return"scroll"===vitaraJQ(this.domNode)[0].style.overflow&&Math.ceil(this.domNode.scrollTop+this.domNode.clientHeight)<Math.floor(this.exportChartDimens.h)},canScrollRight:function(){return"scroll"===vitaraJQ(this.domNode)[0].style.overflow&&Math.ceil(this.domNode.scrollLeft+this.domNode.clientWidth)<Math.floor(this.exportChartDimens.w)},reportReadyForExport:function(){isExporting()&&(mstrApp.getThemeClassName&&mstrApp.getThemeClassName().indexOf("dark")>0&&vitaraD3.select(this.domNode).attr("style","background-color:#353739;"),this.raiseExportToPDFEvent())},raiseExportToPDFEvent:function(){this.raiseEvent({name:"renderFinished",id:this.k})},processPreExportUpdates:function(){},addScrollToDomNode:function(){var e=vitaraJQ(".vitara-chart-container",this.domNode),t=e.height(),a=e.width();e.height("fit-content"),e.width("fit-content");var i=e.height(),n=e.width();this.exportChartDimens={h:i,w:n};var o=this.exportChartDimens.h/t,r=this.exportChartDimens.w/a,s=!1;o>1?(s=!0,e.height(Math.ceil(o)*t)):e.height(this.exportChartDimens.h),r>1?(s=!0,e.width(Math.ceil(r)*a)):e.width(this.exportChartDimens.w),s&&(vitaraJQ(this.domNode)[0].style.overflow="scroll")}},Pt=i(6486);function Dt(e,t,a){var i;return i=function(e,t){if("object"!=Lt(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=Lt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Lt(i)?i:String(i))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}mstrmojo.requiresCls("mstrmojo.CustomVisBase","mstrmojo.models.template.DataInterface"),isMSTRDesktop()||window.isAndroid||mstrmojo.requiresCls("mstrmojo._HasSelector");const Ot=mstrmojo.declare(mstrmojo.CustomVisBase,[mstrmojo._HasSelector,R,F,D,wt,It],(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(kt={init:function(e){this._super(e),this.logger=VitaraGlobal.Logger.getLogger(this.getInstanceId()),this.VITARA_TEMP_STYLES="temp_styles_hc_support",this.FRESH_PLOT_FIELDS=["allowUrlsToVisual","ibcsShowTopXCats"],this.FORCE_FRESH_PLOT,this.LAST_SAVE_INFO_KEY="lastSaveInfo"},getRenderer:function(){return this.mRendererInstance||(this.mRendererInstance=this.getVisualInstance(),this.mRendererInstance=Pt.assign(this.mRendererInstance,Tt),this.mRendererInstance.getChartNodePosition=this.getChartNodePosition.bind(this),this.mRendererInstance.getZoneReader=this.getZoneReader,this.mRendererInstance.zonesModel=this.zonesModel,this.mRendererInstance.getEditorName=this.getEditorName),this.mRendererInstance},getUtils:function(){return this.getRenderer().utils},extractDigits:function(e){if(!e)return 0;return/\d+/.exec(e+"")[0]},getPosition:function(){return isMSTRMobile()?(this.heightClean=this.extractDigits(this.height),this.widthClean=this.extractDigits(this.width),this.leftClean=this.extractDigits(this.left),this.topClean=this.extractDigits(this.top)):(this.heightClean=this.extractDigits(this.fmts.height),this.widthClean=this.extractDigits(this.fmts.width),this.leftClean=this.extractDigits(this.fmts.left),this.topClean=this.extractDigits(this.fmts.top),!this.topClean&&this.fmts.p_fmts&&(this.topClean=this.extractDigits(this.fmts.p_fmts.height)-this.heightClean)),{width:this.widthClean,height:this.heightClean,left:this.leftClean,top:this.topClean}},initPosition:function(){this.position=this.getPosition(),vitaraJQ(this.domNode).css({position:"absolute",width:this.position.width+"px",height:this.position.height+"px",left:this.position.left+"px",top:this.position.top+"px"}),this.logger.log(this.logger.LEVEL.DEBUG,"plot conatiner info: "+JSON.stringify(this.position))},getUniqueIdInContainer:function(e){return this.dataHelper&&this.dataHelper.data?(e||"")+this.dataHelper.getContainerKey():""},getUniqueChartNodeID:function(){return this.getUniqueIdInContainer("VitaraNode")},getChartNodePosition:function(){return this.chartNodePosition},setChartNodePosition:function(e){this.chartNodePosition=e},getDataHelper:function(){return this.dataHelper},getInstanceId:function(){return this.node&&this.node.k||this.node&&this.node.id||this.id},getSessionInfo:function(e){return this.vsi&&!e||(this.vsi=this.getTaskResults(),this.vsi&&!this.vsi.suc&&void 0!==this.vsi.err&&this.logError(this.vsi.err)),this.vsi},getWaterMark:function(){if(isMSTRDesktop()||mobilecheck&&!0===mobilecheck()||isExporting()||isMSTRStatePresentation())return!1;var e=this.getSessionInfo();return!!(e&&e.data&&e.data.wm&&""!==e.data.wm)&&e.data.wm},getUsrAlerts:function(){var e=this.getSessionInfo();if(e&&e.data&&e.data.alt)return e.data.alt},appendNewChartNode:function(e){var t=this.getUniqueChartNodeID(),a=vitaraJQ(e).width(),i=vitaraJQ(e).height();vitaraJQ(e).append("<div id="+t+" data-html2canvas-ignore> </div>"),this.chartNode=vitaraJQ("#"+t,e)[0];var n=this.getWaterMark();n&&(a-=10,n&&this.getUsrAlerts()?vitaraJQ(e).append("<div id='vitara-watermark' style='white-space:nowrap;width:9px;top:"+(i-12)+"px;position:absolute;left:"+a+"px'>                                                <span class='watermark watermark-main'>"+n+"</span>"):vitaraJQ(e).append("<div id='vitara-watermark' style='width:9px;top:"+(i-12)+"px;position:absolute;left:"+a+"px'>                                                <span class='watermark watermark-main'><a href='http://vitara.co' target='_blank' rel='noopener noreferrer'>http://vitara.co</a>&nbsp;&nbsp;("+this.mRendererInstance.getVersion()+")</span>")),vitaraJQ(this.chartNode).height(i),vitaraJQ(this.chartNode).width(a),vitaraJQ(this.chartNode).addClass("vitara vitara-chart-container vitara-theme-custom"),this.setChartNodePosition({width:a,height:i})},setInstanceVizProps:function(e){this.mRendererInstance&&(this.mRendererInstance.propMenuPropertyState=e,this.mRendererInstance.vizProps=e)},updateInstanceVizProps:function(e){this.setInstanceVizProps(e)}},"getUniqueIdInContainer",(function(e){return this.dataHelper&&this.dataHelper.data?(e||"")+this.dataHelper.getContainerKey():""})),"setChartProps",(function(e){this.getRenderer().dataHelper=e.dataHelper,this.getRenderer().position=e.position,this.getRenderer().domNode=e.domNode,this.getRenderer().vizProps=e.vizProps,this.getRenderer().chartNode=e.chartNode,this.getRenderer().propMenuPropertyState=e.propMenuPropertyState})),"clearPlotArea",(function(e){vitaraD3.select(e).selectAll("*").remove()})),"reportMessageAndEnd",(function(e,t,a){if(this.clearPlotArea(t),vitaraD3.select(t).append("div").attr("class","vitara vitara-chart-error").append("div").attr("class","panel").attr("style","margin:10px;").append("h5").html(e),a&&a.allowReplot){var i=this;vitaraD3.select(t).select(".vitara-chart-error").append("div").attr("style","margin:10px;").append("button").attr("class","btn btn-secondary").html("Retry").on("click",(function(e){i.getSessionInfo(!0),i.rePlot()}))}this.getRenderer().endChartRendering(!0)})),"validateMinCriteria",(function(e,t){return{valid:t>0,message:"Include at least one metric to see the chart"}})),"validateData",(function(){var e=this.isEmptyGrid(this.dataInterface)?0:this.dataInterface.getRowTitles().size(),t=this.isEmptyGrid(this.dataInterface)?0:this.dataInterface.getTotalCols(),a=this.validateMinCriteria(e,t);return!!a.valid||(this.reportMessageAndEnd(a.message,this.domNode),!1)})),"cancelDebouncedPlot",(function(){this.debouncedPlotFunc&&this.debouncedPlotFunc.cancel&&this.debouncedPlotFunc.cancel()})),"cancelDebouncedSetProperty",(function(e){this.debouncedSetPropFunc&&this.debouncedSetPropFunc.cancel&&this.debouncedSetPropFunc.cancel()})),"cancelDebouncedRePlot",(function(){this.debouncedRePlotFunc&&this.debouncedRePlotFunc.cancel&&this.debouncedRePlotFunc.cancel()})),"clearDebouncedFuncs",(function(){this.cancelDebouncedPlot(),this.cancelDebouncedSetProperty(),this.cancelDebouncedRePlot()})),Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(kt,"update",(function(e){this.clearDebouncedFuncs(),this.setDataInitialized&&this.setDataInitialized(!1);var t=this._super(e);try{if(!e)return this.destroyMSTRData(),t;this.error||!1===t||e&&e.data&&void 0!==e.data.eg?this.dataInterface&&(this.destroyMSTRData(),this.dataInterface.data!==e.data&&(this.dataInterface.data=e.data)):this.readDataFromMSTR()}catch(e){console.error(e)}return t})),"initExtProps",(function(t){this.logger.log(this.logger.LEVEL.INFO,"started processing chart state.");if(this.vizProps={},this.getRenderer().vizProps={},this.vizPropsXML="",this.dataInterface.data.extProps)try{this.vizPropsXML=this.dataInterface.data.extProps.vitaraExt}catch(e){this.logger.error(e)}var a={};try{this.vizPropsXML?(this.logger.log(this.logger.LEVEL.INFO,"vizPropsXML: "+this.vizPropsXML),a=vitaraJQ.extend({},this.vizParser.getVizPropsFromXML(this.vizPropsXML)),this.logger.log(this.logger.LEVEL.INFO,"processed vizPropsXML: "+JSON.stringify(a,null,2))):this.getProperties&&"function"==typeof this.getProperties&&(a=Pt.cloneDeep(this.getProperties()),this.logger.log(this.logger.LEVEL.INFO,"props from getProperties: "+JSON.stringify(a,null,2))),a["vitara-chartState"]?a=JSON.parse(this.getUtils().atob(a["vitara-chartState"])):a.vitaraGridChartState?a=JSON.parse(this.getUtils().atob(a.vitaraGridChartState)):a.vitaraMicroChartState&&(a=JSON.parse(this.getUtils().atob(a.vitaraMicroChartState))),a.hasOwnProperty("columnResize")&&(a.gridChartPresent=!0)}catch(t){throw this.logger.error(e),t}this.setMstrDataInfoToState(a),a=this.processVersionCompatibility(a),this.logger.log(this.logger.LEVEL.INFO,"props after version compatability: "+JSON.stringify(a,null,2));var i=Pt.cloneDeep(this.processPropMenuPropertyState(a));i=this.processBackwardsCompatibility(i,this.getRenderer().getVersion()),this.updateVizPropertiesFromMenuState(Pt.cloneDeep(i)),this.propMenuPropertyState=i,this.setChartVersion(),this.getRenderer().vizProps=this.vizProps,this.getRenderer().propMenuPropertyState=this.propMenuPropertyState,this.logger.log(this.logger.LEVEL.INFO,"propMenuPropertyState: "+JSON.stringify(this.propMenuPropertyState,null,2))})),"setMstrDataInfoToState",(function(e){this.dataHelper&&this.dataHelper.setMstrDataInfoToState(e,this.dataHelper.getMstrDataSetInfo())})),"processChartSpecificCompatabilityChecks",(function(e){return e})),"processBackwardsCompatibility",(function(e,t){return e=this.vizParser.processVersionCompatabilityChecks(e,t),e=this.vizParser.processCrossVisualCompatabilityChecks(e),e=this.vizParser.processDataIdentifierOptions(e),this.processNameBasedStateProperties(e)})),"processNameBasedStateProperties",(function(e){if(this.dataHelper.data.data){var t=this.dataHelper.getIDlocaleNameMap(this.dataHelper.data.data),a=this.dataHelper.getlocaleNameIDMap(this.dataHelper.data.data);!e.IDlocaleNameMap&&!e.localeNameIDMap||Pt.isEqual(e.IDlocaleNameMap,t)&&Pt.isEqual(e.localeNameIDMap,a)||(e.prevNameIDMaps={IDlocaleNameMap:e.IDlocaleNameMap,localeNameIDMap:e.localeNameIDMap}),e.IDlocaleNameMap=t,e.localeNameIDMap=a}return e=this.vizParser.sanitizeSavedState(e),e=this.vizParser.getCustomTooltipWithLocaleName(e),e=this.processChartSpecificCompatabilityChecks(e),this.getRenderer().updateThresholdAndPlotLineState(e)})),"processVersionCompatibility",(function(e){var t,a;return e=null===(t=(a=this.getRenderer()).addVersionCompatibleDefaults)||void 0===t?void 0:t.call(a,e),this.getRenderer().vizParser.mapVersionUpdatedProperties(e)})),"setChartVersion",(function(){var e;null!==(e=this.propMenuPropertyState)&&void 0!==e&&e.version&&this.propMenuPropertyState.version!==this.getRenderer().getPropEditorVersion()&&(this.lastSavedVersion=this.propMenuPropertyState.version),this.propMenuPropertyState.version=this.getRenderer().getPropEditorVersion()})),"getVizProps",(function(){return this.vizProps})),"updatePropertyToChartState",(function(){return!0})),Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(kt,"getClsPlotLineHelper",(function(){return Et})),"isSecondaryCategoryAxisEnabled",(function(){return!1})),"addDelayToTooltip",(function(e){})),"setProperty",(function(e,t,a){var i;this.debouncedSetPropFunc||(this.debouncedSetPropFunc=Pt.debounce(this._super,this.setPropDebounceDelay||500,{leading:!1,trailing:!0,maxWait:5e3})),null!==(i=this.mRendererInstance)&&void 0!==i&&i.isDocumentStorageEnabled()&&this.debouncedSetPropFunc(e,t&&"string"==typeof t?t.encodeHTML().encodeHTML():t,a)})),"rePlot",(function(){this.getRenderer().addDelayedSpinner(200),this.getUtils().markStart(this.scriptClass),this.getRenderer().destroyChart(),this.getRenderer().startChartRendering(),this.getRenderer().turnOffHCAnimationForReplot(),this.chartNode&&vitaraJQ(this.chartNode).empty();var e=this;Pt.defer((function(){try{if(e.validatePlot()){var t=!0;e.FORCE_FRESH_PLOT&&(t=!1,e.FORCE_FRESH_PLOT=!1),e.getRenderer().vitaraPlot.call(e.getRenderer(),t)}}catch(t){e.getRenderer().handleVizError(t)}}))})),"getDebouncedReplot",(function(){return this.debouncedRePlotFunc||(this.debouncedRePlotFunc=Pt.debounce(this.rePlot.bind(this),500,{leading:!0,trailing:!1,maxWait:1e3})),this.debouncedRePlotFunc})),"processStateVersionUpdate",(function(e){return this.getRenderer().processStateVersionUpdate(e)})),"processSaveData",(function(e){return this.lastSavedVersion===e.version||(e=this.processStateVersionUpdate(e),this.restoreEditorState=!0,this.lastSavedVersion=e.version),e})),"setParentProps",(function(){this.parentProps=vitaraJQ.extend(!0,{},this.propMenuPropertyState)})),"getSaveInfoForState",(function(){return{dataSetId:this.dataHelper&&this.dataHelper.getDataSetId(),version:this.getRenderer().getPropEditorVersion(),locale:this.getUtils().localeSelected()}})),Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(kt,"getSaveInfoFromState",(function(e){return e[this.LAST_SAVE_INFO_KEY]})),"setSaveInfoToState",(function(e){e[this.LAST_SAVE_INFO_KEY]=this.getSaveInfoForState()})),"updateVisualProps",(function(e){if(this.propMenuPropertyState=this.processSaveData(e),this.propMenuPropertyState.currentDrillLevel=void 0,!isExporting()&&this.setProperty){this.setSaveInfoToState(this.propMenuPropertyState);var t=this.vizParser.getCustomTooltipWithIds(this.propMenuPropertyState),a=this;setTimeout((function(){try{a.getUtils().logMessage("saving to document storage.");var e=JSON.stringify(t)||"";a.setProperty(a.saveStatePeristanceKey,a.getUtils().btoa(e),{suppressData:!0})}catch(e){console.error("error saving to document chart-state")}}),1)}this.updatePropsToSessionStorage(this.propMenuPropertyState),this.updateVizPropertiesFromMenuState(this.propMenuPropertyState),this.setParentProps(this.propMenuPropertyState),this.restoreEditorState&&(this.getRenderer().editorInterfaceRef.propMenuHelper.restoreFormData(),this.restoreEditorState=!1),this.getDebouncedReplot()()})),"checkDeltaBarSupport",(function(){return!1})),"isTrellisMode",(function(){return!1})),"checkTrellisMode",(function(){var e,t;return!(!isMSTRDashBoard()&&!isMSTRDesktop()||null===(e=(t=this.mRendererInstance).isTrellisMode)||void 0===e||!e.call(t))})),"sharedCatAxisSupport",(function(){return!1})),"getCustomDefaultPaletteColors",(function(){})),"hasPartialIBCSFeatureSupport",(function(){return!1})),"getCustomPaletteList",(function(){return[]})),Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(kt,"getDefaultPropertyValues",(function(){return this.getRenderer().vizParser.propDefaults})),"processPropMenuPropertyState",(function(e){if(!e.version){var t,a,i=Pt.clone(null===(t=(a=this.getRenderer()).getDefaultPropertyValues)||void 0===t?void 0:t.call(a));delete i["vitara-chartState"];for(var n={textStyleFontSize:"",textStyleBold:"",textStyleItalic:"",textStyleFontName:"",textStyleUnderline:"",mstrDataInfo:""},o=0;o<7;o++)n["colorStopStart"+o]="",n["colorStopEnd"+o]="",n["colorStopFillColor"+o]="";e=this.getRenderer().vizParser.sanitizeObject(e,i,n)}return e=this.getPropMenuSupportData(e)})),"getPropMenuSupportData",(function(e){return this.getRenderer().vizParser.getPropMenuSupportData(e)})),"updateVizPropertiesFromMenuState",(function(e){this.vizProps=vitaraJQ.extend(e,this.processVisualizationPropertiesJSON(e)),this.getRenderer().vizProps=this.vizProps,this.getRenderer().propMenuPropertyState=this.propMenuPropertyState})),"updateVizPropertiesForDrillChart",(function(e){var t=e.currentDrillLevel,a={};for(var i in a=t==e.drillChart.initial.target?e.drillChart.initial.property:e.drillChart.chart[t].property)e[i]=a[i];return e})),"processVisualizationPropertiesJSON",(function(e){return this.getExtPropsJSONParser().call(this.vizParser,e)})),"getExtPropsXMLParser",(function(){return this.vizParser.getChartOptions})),"getExtPropsJSONParser",(function(){return this.vizParser.getChartOptionsFromJSON})),"loadNewStyleSheet",(function(e,t,a,i){if(t&&document.getElementById(t))return a(),!0;var n=document.createElement("link");return n.id=t,n.rel="stylesheet",n.href=(isExporting()?vitaraChartsExportServerPath():vitaraChartsPath())+e+"?v="+(new Date).getTime().toString(),n.type="text/css",a&&(n.onload=a),i&&(n.onerror=i),document.querySelector("head").appendChild(n),!1})),"getStateVizProps",(function(e){var t;if(null!==(t=e.mRendererInstance)&&void 0!==t&&t.drillingEnabled){var a=e.mRendererInstance.propMenuPropertyState.drillChartTarget,i=e.mRendererInstance.propMenuPropertyState.drillChart.chart[a].property;return vitaraJQ.extend(e.mRendererInstance.renderedChartInstances[1].vizProps,i)}return e.mRendererInstance.vizProps})),Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(kt,"getEditorState",(function(e){var t;return null!==(t=e.mRendererInstance)&&void 0!==t&&t.drillingEnabled?vitaraJQ.extend(!0,this.getRenderer().getPropMenuDefaults(),this.getStateVizProps(e)):vitaraJQ.extend(!0,this.getRenderer().getPropMenuDefaults(),this.getStateVizProps(e),e.mRendererInstance.platformContext.propMenuPropertyState)})),"createEditor",(function(e){var t,a=this.getEditorState(e);isExporting()||isMSTRStatePresentation()||!this.mRendererInstance||(null!==(t=this.mRendererInstance)&&void 0!==t&&t.editorInterfaceRef&&!this.mRendererInstance.vizProps.drillingEnable?this.mRendererInstance.editorInterfaceRef.updateChartContext(this.mRendererInstance,a):this.mRendererInstance.editorInterfaceRef=new Ct(e.mRendererInstance,this.getEditor(e.mRendererInstance),a,e.mRendererInstance.setPropertyMenuToChart()))})),"enableContextMenu",(function(){isMSTRMobile()||isExporting()||(this.contextMenuEnabled=!0)})),"getUniqueIdInContainer",(function(e){return this.dataHelper&&this.dataHelper.data?(e||"")+this.dataHelper.getContainerKey():""})),"setTemporaryWorkarounds",(function(){this.cleanupChartInstance(),this.mRendererInstance.getBackgroundImagePath=function(){return vitaraBackgroundImagePath()}})),"updateBackgroundImageLoadStatus",(function(){})),"updateChartSavedState",(function(e){var t=this;if(!isExporting()&&t.setProperty){var a=t.vizParser.getCustomTooltipWithIds(e);setTimeout((function(){try{logMessage("saving to document storage.");var e=JSON.stringify(a)||"";t.setProperty(t.saveStatePeristanceKey,t.getUtils().btoa(e),{suppressData:!0})}catch(e){console.error("error saving to document "+e)}}),1)}this.updatePropsToSessionStorage(e)})),"updatePropsToSessionStorage",(function(e){sessionStorage.setItem(this.saveStateLocalKey,JSON.stringify(e))})),"isPropMenuEditorRequired",(function(){return!(isMSTRMobile()||isMSTRStatePresentation()||isExporting())&&""!==this.getEditorName()})),"getResultPropMenuChecks",(function(){var e=!1;try{return this.isPropMenuEditorRequired()&&(isMSTRDashBoard()||isMSTRDesktop()?e=!0:this.getRenderer().getVerifyUserPrivileges()&&(e=this.getRenderer().getVerifyACLS())),e}catch(e){this.getUtils().reportTime(this.scriptClass,"error occurred while processing prop menu checks"),console.error(e)}})),Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(kt,"getResultContextMenuChecks",(function(){var e=!1;try{return this.isContextMenuRequired()&&(isMSTRDashBoard()||isMSTRDesktop()?e=!0:this.getRenderer().getVerifyUserPrivileges()&&(e=this.getRenderer().getVerifyACLS())),e}catch(e){this.getUtils().reportTime(this.scriptClass,"error occurred while processing prop menu checks"),console.error(e)}})),"isContextMenuRequired",(function(){var e=!0;if(isMSTRStatePresentation()){e=!1;var t=this.getUtils().getCustomProperties();"true"!==t["statePresentation.contextMenu"]&&"1"!==t["statePresentation.contextMenu"]||(e=!0)}return!(isMSTRMobile()||!e||isExporting())&&""!==this.getEditorName()})),"isContextMenuEnabled",(function(){return this.contextMenuEnabled&&this.getResultContextMenuChecks()})),"initContextMenu",(function(){this.isContextMenuEnabled()&&this.processContextMenu()})),"initPropMenu",(function(e){if(this.getRenderer().showPropMenuOnError(e)){if(!isMSTRMobile()&&!isExporting()){var t=this;this.contextMenuEnabled=!0,Pt.defer((function(){t.getResultPropMenuChecks()&&t.createEditor.call(t,t)}))}}else this.contextMenuEnabled=!1})),"cleanupChartInstance",(function(){this.mRendererInstance.editorInterfaceRef=null})),"onComplete",(function(e){this.initPropMenu(e),this.reportReadyForExport()})),"enableUseAsFilter",(function(){return!0})),"setFilterMenu",(function(){"function"==typeof this.addUseAsFilterMenuItem&&this.enableUseAsFilter()&&(this.addUseAsFilterMenuItem(),this.logger.log(this.logger.LEVEL.INFO,"enabled use as filter menu"))})),"getTaskResults",(function(){var e=this,t={suc:!1,data:null,msg:""},a={taskId:"VitaraLMT",taskEnv:"xhr",pkg:e.getUtils().atob("Vml0YXJhQ2hhcnRz"),viz:e.mRendererInstance.cssClass,vdt:e.getUtils().atob(e.mRendererInstance.getBuild().t),vnm:e.mRendererInstance.getBuild().n};return a=e.getUtils().addCSRFTokenToTaskParams(a),vitaraJQ.ajax({url:e.mRendererInstance.getTaskProcUrl(),async:!1,data:a,method:"GET",success:function(a,i,n){try{if(!a)throw"invalid result on ajax req for url:"+e.mRendererInstance.getTaskProcUrl()+"VitaraLMT.";t.suc=!0,t.data={res:vitaraJQ(vitaraJQ.parseXML(a)).find("res").text(),wm:vitaraJQ(vitaraJQ.parseXML(a)).find("wm").text(),msg:vitaraJQ(vitaraJQ.parseXML(a)).find("msg").text(),alt:vitaraJQ(vitaraJQ.parseXML(a)).find("alt").text(),tkns:vitaraJQ(vitaraJQ.parseXML(a)).find("tkns").text()},t.msg=""}catch(e){t.suc=!1,t.err=e}e.getUtils().reportTime(e.mRendererInstance.scriptClass,"vlm task req succ")}}).fail((function(a,i,n){t.suc=!1,t.err="ajax req failed for url:"+e.mRendererInstance.getTaskProcUrl()+"VitaraLMT, errorThrown: "+n,e.getUtils().reportTime(e.mRendererInstance.scriptClass,"vlm task failed")})),t})),Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(kt,"cleanUpStyleSheets",(function(){if(isMSTRLibrary()&&void 0!==this.getUtils().getIEVersion()){this.logger.log(this.logger.LEVEL.INFO,"validate and clean-up styleSheets.");var e=!1;if(document.styleSheets)for(var t=0;t<document.styleSheets.length;t++)document.styleSheets[t]&&document.styleSheets[t].href&&-1!==document.styleSheets[t].href.indexOf("global.css")&&-1!==document.styleSheets[t].href.indexOf("plugins/Vitara")&&(e?(document.styleSheets[t].disabled=!0,this.logger.log(this.logger.LEVEL.INFO,"styleSheet disabled "+document.styleSheets[t].href)):e=!document.styleSheets[t].disabled);this.logger.log(this.logger.LEVEL.INFO,"done clean-up of styleSheets.")}})),"getVersion",(function(){return this.getRenderer().getVersion()})),"addTemporaryStyles",(function(){if(!document.getElementById(this.VITARA_TEMP_STYLES)){var e=document.createElement("style");e.id=this.VITARA_TEMP_STYLES,document.head.appendChild(e),document.getElementById(this.VITARA_TEMP_STYLES).sheet.insertRule(".vitara .highcharts-root {fill:transparent;}",e.sheet.cssRules.length||0)}})),"loadCustomStyles",(function(e){this.loadNewStyleSheet("custom/customStyles.css","VitaraChartStyles_User_Custom",e,(function(){e(!0)}))})),"loadGlobalCss",(function(e){this.loadNewStyleSheet("style/vitaraGlobal.css","VitaraChartStyles_Global",function(){e()}.bind(this),(function(){e(!0)}))})),"clearCssTimeOuts",(function(){this.cssLoadtimeOuts&&this.cssLoadtimeOuts.length>0&&(console.log("clearing CSS load timeouts"),Pt.each(this.cssLoadtimeOuts,(function(e){clearTimeout(e)})))})),"loadStyleSheets",(function(e){var t=this.getVersion();"object"!=Lt(mstrmojo.plugins.VitaraCharts.v533169.cssFileState)&&(mstrmojo.plugins.VitaraCharts.v533169.cssFileState={});var a,i=this,n=!1;mstrmojo.plugins.VitaraCharts.v533169.cssFileState[t]&&"loading"===mstrmojo.plugins.VitaraCharts.v533169.cssFileState[t].state?(i.logger.log(i.logger.LEVEL.INFO,"waiting to complete load chart styles."),i.clearCssTimeOuts(),i.cssLoadtimeOuts.push(setTimeout((function(){i.loadStyleSheets(e)}),100))):(a=function(a){a?(i.logger.error(a),mstrmojo.plugins.VitaraCharts.v533169.cssFileState[t].state="notloaded"):(i.logger.log(i.logger.LEVEL.INFO,"loaded chart styles."),mstrmojo.plugins.VitaraCharts.v533169.cssFileState[t].state="loaded"),n||(n=!0,i.logger.log(i.logger.LEVEL.INFO,"continuing to plot."),e())},mstrmojo.plugins.VitaraCharts.v533169.cssFileState[t]||(mstrmojo.plugins.VitaraCharts.v533169.cssFileState[t]={}),mstrmojo.plugins.VitaraCharts.v533169.cssFileState[t].state="loading",i.addTemporaryStyles(),i.logger.log(i.logger.LEVEL.INFO,"attempting to load chart styles."),isMSTRLibrary()&&!isMstrLibraryEditMode()||isMSTRMobile()?i.loadCustomStyles(a):i.loadGlobalCss(a),i.cssLoadtimeOuts.push(setTimeout((function(){n?i.logger.warn("timed out attempt to load chart styles, plot in progress."):(n=!0,i.logger.warn("timed out attempt to load , continuing to plot."),e())}),2e3)))})),"preloadCustomFonts",(function(e){var t=this.getUtils().getCustomFonts(),a={},i=0,n=this;document.fonts&&t&&t.length&&document.fonts.forEach((function(o){-1!==t.indexOf(o.family)&&"loaded"!==o.status&&(a[o.family]=!1,o.load().then((function(e){a[e.family]=!0})).catch((function(e){n.logger.error(e)})).finally((function(t){i++,Pt.keys(a).length===i&&(Pt.each(a,(function(e,t){e||(n.logger.log(n.logger.LEVEL.INFO,"failed to load fontFamily:".concat(t)),console.log("failed to load fontFamily:".concat(t)))})),e())})))})),Pt.keys(a).length||e()})),"loadExternalFiles",(function(e){this.logger.log(this.logger.LEVEL.INFO,"attempting to load external files."),this.cssLoadtimeOuts=[],this.loadStyleSheets(function(){this.clearCssTimeOuts(),isMSTRMobile()||isMSTRLibrary()&&isMSTRDesktop()?this.getUtils().readCustomPropertiesMobile(function(){this.logger.log(this.logger.LEVEL.INFO,"loaded custom properties for mobile."),this.preloadCustomFonts(e)}.bind(this)):(this.getUtils().getLanguageMap(this.getRenderer().getBaseFilePath()),this.getUtils().readCustomPropertiesAtUrl(this.getRenderer().getPropertiesFilePath(),this.getRenderer().getIBCSPropertiesFilePath()),this.logger.log(this.logger.LEVEL.INFO,"loaded custom properties."),this.preloadCustomFonts(e))}.bind(this))})),"setChartSaveStateKeys",(function(){this.propertyMenuId=this.getUniqueIdInContainer.call(this,this.getEditorName()),this.saveStatePeristanceKey="vitara-chartState",this.saveStateLocalKey=this.saveStatePeristanceKey+this.propertyMenuId})),Dt(Dt(Dt(Dt(Dt(kt,"initLib",(function(){try{this.initPosition(),this.getRenderer().position=this.position,this.initDataInterface(),this.getRenderer().dataHelper=this.dataHelper,this.setChartSaveStateKeys(),this.getRenderer().setChartSaveStateKeys(),this.getUtils().reportTime(this.scriptClass,"done processing data"),this.initExtProps(),this.getUtils().reportTime(this.scriptClass,"done reading external properties"),Pt.templateSettings.interpolate=/{([\s\S]+?)}/g,vitaraJQ(this.domNode).addClass("vitara"),this.logger.log(this.logger.LEVEL.INFO,"done initiating position, data and props.")}catch(e){throw e}})),"validatePlot",(function(){if(isMSTRDesktop()||mobilecheck&&!0===mobilecheck()||isExporting()||isMSTRStatePresentation())return!0;var e,t=this.getSessionInfo();if(t&&!t.suc||t&&!t.data)throw t.msg;return(e=t.data)&&"0"===e.res&&this.reportMessageAndEnd(e.msg,this.chartNode,{allowReplot:!0}),!(!e||"1"!==e.res)})),"loadChartSpecificExternalFiles",(function(e){if(this.logger.log(this.logger.LEVEL.INFO,"attempting to load any external files needed further."),isMSTRDesktop()&&!isMSTRLibrary()||isExporting())return this.logger.warn(this.logger.LEVEL.INFO,"skipping file load: platform doesn't support jsonp, continuing to plot."),void e();var t=this,a=[].concat(t.getRenderer().getInfographicUtils().getCustomSVGIconList(t.getVizProps()));t.getRenderer().getInfographicUtils().loadSVGMarkersMobile((function(){t.logger.log(t.logger.LEVEL.INFO,"loaded custom svgs, continuing to plot."),e()}),a),this.logger.log(this.logger.LEVEL.INFO,"loading custom svgs: "+JSON.stringify(a,null,2))})),"internalPlot",(function(){var e=this;e.debouncedPlotFunc||(e.debouncedPlotFunc=Pt.debounce((function t(){try{e.logger.log(e.logger.LEVEL.INFO,"started internal plot."),vitaraJQ(e.domNode).on("contextmenu",(function(e){e.stopPropagation()})),vitaraJQ(e.domNode).on("mousedown",(function(e){e.stopPropagation()})),e.getUtils().markStart(e.scriptClass),e.logger.log(e.logger.LEVEL.INFO,"cleared plot area."),e.getRenderer().startChartRendering(),e.vizParser=e.getRenderer().vizParser,e.defaultChartColors=Pt.cloneDeep(e.getRenderer().defaultChartColors);try{this.getRenderer().domNode=e.domNode,e.setTemporaryWorkarounds(),e.initLib(),e.getRenderer().publishChartRendering()}catch(t){if(e.logger.error(t),"No_Data"===t.message)return e.reportMessageAndEnd("No data returned.",e.domNode);if("Metrics_In_Rows"===t.message)return e.reportMessageAndEnd("Please add metrics in columns and attributes in rows to see the chart.",e.domNode);throw t}if(!e.validateData())return void e.logger.log(e.logger.LEVEL.INFO,"invalid/no data to plot, ending plot.");if(e.logger.log(e.logger.LEVEL.INFO,"has valid inputs/data, continuing plot."),e.appendNewChartNode(e.domNode),e.getRenderer().chartNode=this.chartNode,Pt.defer((function(){try{e.validatePlot()&&(e.logger.log(e.logger.LEVEL.INFO,"further validated plot, continuing to plot."),e.getRenderer().destroyChart(),e.loadChartSpecificExternalFiles(e.getRenderer().vitaraPlot.bind(e.getRenderer())))}catch(t){e.getRenderer().handleVizError(t)}})),e.windowZIndex){for(var a in this.logger.log(this.logger.LEVEL.INFO,"windowZIndex: "+e.windowZIndex),e.windowZIndex)vitaraJQ(a).css("z-index",e.windowZIndex[a]);e.windowZIndex=null}}catch(t){this.logger.error(t),e.getRenderer().handleVizError(t)}finally{e.debounceByTrailingEnd||(this.logger.log(this.logger.LEVEL.INFO,"setting up debounce to trailing from leading to handle chart resize etc."),e.debouncedPlotFunc.cancel(),e.debounceByTrailingEnd=!0,e.debouncedPlotFunc=Pt.debounce(t,100,{leading:!1,trailing:!0,maxWait:1e3})),this.logger.log(this.logger.LEVEL.INFO,"end of internal plot.")}}),800,{leading:!0,trailing:!1,maxWait:1e3}),this.logger.log(this.logger.LEVEL.INFO,"created debounced plot, with 800ms wait.")),e.debouncedPlotFunc(),this.logger.log(this.logger.LEVEL.INFO,"initiated debounced plot.")})),"plot",(function(){var e=this,t=this.getRenderer();t.disableDocumentStorage();try{this.logger.reset("plot"),this.logger.mark("plot"),this.logger.log(this.logger.LEVEL.INFO,"initiated plot."),t.addSpinner(),e.setFilterMenu(),t.setGlobals(),e.cleanUpStyleSheets(),vitaraJQ((function(){setTimeout((function(){e.loadExternalFiles((function(){e.logger.log(e.logger.LEVEL.INFO,"done loading external files."),e.internalPlot()}))}),0)}))}catch(e){t.handleVizError(e)}this.logger.log(this.logger.LEVEL.INFO,"end of plot.")}))))},7510:(e,t,a)=>{"use strict";a.d(t,{o:()=>n});var i=a(6486),n=function(e){this.data=e,this.scriptClass="filterSelectionHandler"};vitaraJQ.extend(n.prototype,{createAttributeNamePath:function(e,t){var a=t>=0&&t<=this.data.getNumAttributes()-1?t:this.data.getNumAttributes()-1;return this.data.createAttributeNamePath(e,a+1)},getMatchingSelector:function(e,t){var a=null;if(t){var n=this.createAttributeNamePath(e,this.data.getNumAttributes());a=t[i.join(n," ")]}return a},getSelMapRoot:function(){return this.data&&this.data.getSelMapRoot&&this.data.getSelMapRoot()||"root"},getMatchingAttributeSelectorByName:function(e,t){if(t){var a=t[e=i.join(e," ")];return a||(a=t[this.getSelMapRoot()+" "+e]),a}return null},getMatchingAttributeSelector:function(e,t,a){return this.getMatchingAttributeSelectorByName(this.createAttributeNamePath(e,t),a)},getNodeName:function(e){return this.data&&this.data.parseStringValue?utils.sanitizeContent(this.data.parseStringValue(e)):isMSTRDashBoard()||isMSTRMobile()||isMSTRDesktop()?utils.sanitizeContent(e):utils.sanitizeContent(utils.decodeHTMLString(e))},getGridGroupSelection:function(e){var t=this,a={};return vitaraJQ.each(e,(function(e,i){var n,o,r=i.index,s=i.value,l=null===(n=t.data.tuCache)||void 0===n?void 0:n[r];if(l){var u=null===(o=l.es)||void 0===o?void 0:o.find((function(e){return e.n===s}));if(u){var c=u.id,p=u.n;a[l.id]=[{n:p,eid:c,id:c,isSelectAttr:!0,tid:l.id}]}}})),a},createSelectorMap:function(){var e=this,t=null,a=this.data.getTreeData();if(a){utils.markStart(this.scriptClass),t=[];var n=[],o=[];return function a(r,s){!function(a,r){n.push(e.getNodeName(a.name));var s=i.join(n," ");if(a.attributeSelector){o.push(a.attributeSelector);var l={};i.each(o,(function(e){l[e.tid]=[i.merge({id:e.eid,n:e.n},e)]})),t[s]=l}if(a.metricSelector){var u={};i.each(o,(function(e){u[e.tid]=[i.merge({id:e.eid,n:e.n},e)]})),t[s]=u}}(r),i.forEach(r.children,(function(e){a(e,s++)})),n.pop(),o.pop()}(a,0),utils.reportTime(this.scriptClass,"Done creating selector map"),t}}})},6700:(e,t,a)=>{var i={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-nz":6319,"./en-nz.js":6319,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-tw":4152,"./zh-tw.js":4152};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=o,e.exports=n,n.id=6700}}]);
mstrmojo.plugins.VitaraCharts.v533169[272] = mstrmojo.plugins.VitaraCharts.v533169[272] || {};
