(()=>{"use strict";function t(){}function e(e){return null==e?t:function(){return this.querySelector(e)}}function n(){return[]}function r(t){return null==t?n:function(){return this.querySelectorAll(t)}}function i(t){return function(){return this.matches(t)}}function a(t){return function(e){return e.matches(t)}}var o=Array.prototype.find;function l(){return this.firstElementChild}var s=Array.prototype.filter;function u(){return Array.from(this.children)}function c(t){return new Array(t.length)}function f(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function E(t,e,n,r,i,a){for(var o,l=0,s=e.length,u=a.length;l<u;++l)(o=e[l])?(o.__data__=a[l],r[l]=o):n[l]=new f(t,a[l]);for(;l<s;++l)(o=e[l])&&(i[l]=o)}function d(t,e,n,r,i,a,o){var l,s,u,c=new Map,E=e.length,d=a.length,h=new Array(E);for(l=0;l<E;++l)(s=e[l])&&(h[l]=u=o.call(s,s.__data__,l,e)+"",c.has(u)?i[l]=s:c.set(u,s));for(l=0;l<d;++l)u=o.call(t,a[l],l,a)+"",(s=c.get(u))?(r[l]=s,s.__data__=a[l],c.delete(u)):n[l]=new f(t,a[l]);for(l=0;l<E;++l)(s=e[l])&&c.get(h[l])===s&&(i[l]=s)}function h(t){return t.__data__}function _(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function p(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}f.prototype={constructor:f,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var g="http://www.w3.org/1999/xhtml";const m={svg:"http://www.w3.org/2000/svg",xhtml:g,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function A(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),m.hasOwnProperty(e)?{space:m[e],local:t}:t}function S(t){return function(){this.removeAttribute(t)}}function N(t){return function(){this.removeAttributeNS(t.space,t.local)}}function L(t,e){return function(){this.setAttribute(t,e)}}function T(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function y(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function v(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function I(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function O(t){return function(){this.style.removeProperty(t)}}function R(t,e,n){return function(){this.style.setProperty(t,e,n)}}function M(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function C(t,e){return t.style.getPropertyValue(e)||I(t).getComputedStyle(t,null).getPropertyValue(e)}function b(t){return function(){delete this[t]}}function x(t,e){return function(){this[t]=e}}function D(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function w(t){return t.trim().split(/^|\s+/)}function B(t){return t.classList||new G(t)}function G(t){this._node=t,this._names=w(t.getAttribute("class")||"")}function P(t,e){for(var n=B(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function U(t,e){for(var n=B(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function F(t){return function(){P(this,t)}}function V(t){return function(){U(this,t)}}function Y(t,e){return function(){(e.apply(this,arguments)?P:U)(this,t)}}function H(){this.textContent=""}function k(t){return function(){this.textContent=t}}function j(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function W(){this.innerHTML=""}function X(t){return function(){this.innerHTML=t}}function z(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function $(){this.nextSibling&&this.parentNode.appendChild(this)}function K(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Z(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===g&&e.documentElement.namespaceURI===g?e.createElement(t):e.createElementNS(n,t)}}function q(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function J(t){var e=A(t);return(e.local?q:Z)(e)}function Q(){return null}function tt(){var t=this.parentNode;t&&t.removeChild(this)}function et(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function nt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function rt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function it(t,e,n){return function(){var r,i=this.__on,a=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var o=0,l=i.length;o<l;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=e);this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}function at(t,e,n){var r=I(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ot(t,e){return function(){return at(this,t,e)}}function lt(t,e){return function(){return at(this,t,e.apply(this,arguments))}}G.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var st=[null];function ut(t,e){this._groups=t,this._parents=e}function ct(){return new ut([[document.documentElement]],st)}ut.prototype=ct.prototype={constructor:ut,select:function(t){"function"!=typeof t&&(t=e(t));for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a)for(var o,l,s=n[a],u=s.length,c=i[a]=new Array(u),f=0;f<u;++f)(o=s[f])&&(l=t.call(o,o.__data__,f,s))&&("__data__"in o&&(l.__data__=o.__data__),c[f]=l);return new ut(i,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}(t):r(t);for(var e=this._groups,n=e.length,i=[],a=[],o=0;o<n;++o)for(var l,s=e[o],u=s.length,c=0;c<u;++c)(l=s[c])&&(i.push(t.call(l,l.__data__,c,s)),a.push(l));return new ut(i,a)},selectChild:function(t){return this.select(null==t?l:function(t){return function(){return o.call(this.children,t)}}("function"==typeof t?t:a(t)))},selectChildren:function(t){return this.selectAll(null==t?u:function(t){return function(){return s.call(this.children,t)}}("function"==typeof t?t:a(t)))},filter:function(t){"function"!=typeof t&&(t=i(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var o,l=e[a],s=l.length,u=r[a]=[],c=0;c<s;++c)(o=l[c])&&t.call(o,o.__data__,c,l)&&u.push(o);return new ut(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,h);var n,r=e?d:E,i=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=a.length,l=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var f=i[c],p=a[c],g=p.length,m=_(t.call(f,f&&f.__data__,c,i)),A=m.length,S=s[c]=new Array(A),N=l[c]=new Array(A);r(f,p,S,N,u[c]=new Array(g),m,e);for(var L,T,y=0,v=0;y<A;++y)if(L=S[y]){for(y>=v&&(v=y+1);!(T=N[v])&&++v<A;);L._next=T||null}}return(l=new ut(l,i))._enter=s,l._exit=u,l},enter:function(){return new ut(this._enter||this._groups.map(c),this._parents)},exit:function(){return new ut(this._exit||this._groups.map(c),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),l=new Array(i),s=0;s<o;++s)for(var u,c=n[s],f=r[s],E=c.length,d=l[s]=new Array(E),h=0;h<E;++h)(u=c[h]||f[h])&&(d[h]=u);for(;s<i;++s)l[s]=n[s];return new ut(l,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=p);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,l=n[a],s=l.length,u=i[a]=new Array(s),c=0;c<s;++c)(o=l[c])&&(u[c]=o);u.sort(e)}return new ut(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,l=a.length;o<l;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=A(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?N:S:"function"==typeof e?n.local?v:y:n.local?T:L)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?O:"function"==typeof e?M:R)(t,e,null==n?"":n)):C(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?b:"function"==typeof e?D:x)(t,e)):this.node()[t]},classed:function(t,e){var n=w(t+"");if(arguments.length<2){for(var r=B(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Y:e?F:V)(n,e))},text:function(t){return arguments.length?this.each(null==t?H:("function"==typeof t?j:k)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?W:("function"==typeof t?z:X)(t)):this.node().innerHTML},raise:function(){return this.each($)},lower:function(){return this.each(K)},append:function(t){var e="function"==typeof t?t:J(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,n){var r="function"==typeof t?t:J(t),i=null==n?Q:"function"==typeof n?n:e(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(tt)},clone:function(t){return this.select(t?nt:et)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),o=a.length;if(!(arguments.length<2)){for(l=e?it:rt,r=0;r<o;++r)this.each(l(a[r],e,n));return this}var l=this.node().__on;if(l)for(var s,u=0,c=l.length;u<c;++u)for(r=0,s=l[u];r<o;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?lt:ot)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};const ft=ct;var Et={value:()=>{}};function dt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ht(r)}function ht(t){this._=t}function _t(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function pt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Et,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ht.prototype=dt.prototype={constructor:ht,on:function(t,e){var n,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),o=-1,l=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<l;)if(n=(t=a[o]).type)i[n]=pt(i[n],t.name,e);else if(null==e)for(n in i)i[n]=pt(i[n],t.name,null);return this}for(;++o<l;)if((n=(t=a[o]).type)&&(n=_t(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ht(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};const gt=dt;var mt,At,St=0,Nt=0,Lt=0,Tt=0,yt=0,vt=0,It="object"==typeof performance&&performance.now?performance:Date,Ot="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Rt(){return yt||(Ot(Mt),yt=It.now()+vt)}function Mt(){yt=0}function Ct(){this._call=this._time=this._next=null}function bt(t,e,n){var r=new Ct;return r.restart(t,e,n),r}function xt(){yt=(Tt=It.now())+vt,St=Nt=0;try{!function(){Rt(),++St;for(var t,e=mt;e;)(t=yt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--St}()}finally{St=0,function(){for(var t,e,n=mt,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:mt=e);At=t,wt(r)}(),yt=0}}function Dt(){var t=It.now(),e=t-Tt;e>1e3&&(vt-=e,Tt=t)}function wt(t){St||(Nt&&(Nt=clearTimeout(Nt)),t-yt>24?(t<1/0&&(Nt=setTimeout(xt,t-It.now()-vt)),Lt&&(Lt=clearInterval(Lt))):(Lt||(Tt=It.now(),Lt=setInterval(Dt,1e3)),St=1,Ot(xt)))}function Bt(t,e,n){var r=new Ct;return e=null==e?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,n),r}Ct.prototype=bt.prototype={constructor:Ct,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Rt():+n)+(null==e?0:+e),this._next||At===this||(At?At._next=this:mt=this,At=this),this._call=t,this._time=n,wt()},stop:function(){this._call&&(this._call=null,this._time=1/0,wt())}};var Gt=gt("start","end","cancel","interrupt"),Pt=[];function Ut(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(s){var u,c,f,E;if(1!==n.state)return l();for(u in i)if((E=i[u]).name===n.name){if(3===E.state)return Bt(a);4===E.state?(E.state=6,E.timer.stop(),E.on.call("interrupt",t,t.__data__,E.index,E.group),delete i[u]):+u<e&&(E.state=6,E.timer.stop(),E.on.call("cancel",t,t.__data__,E.index,E.group),delete i[u])}if(Bt(function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(s))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),u=0,c=-1;u<f;++u)(E=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=E);r.length=c+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=bt(function(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:Gt,tween:Pt,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function Ft(t,e){var n=Yt(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Vt(t,e){var n=Yt(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Yt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ht(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var kt,jt=180/Math.PI,Wt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xt(t,e,n,r,i,a){var o,l,s;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),t*r<e*n&&(t=-t,e=-e,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*jt,skewX:Math.atan(s)*jt,scaleX:o,scaleY:l}}function zt(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var l=[],s=[];return a=t(a),o=t(o),function(t,r,i,a,o,l){if(t!==i||r!==a){var s=o.push("translate(",null,e,null,n);l.push({i:s-4,x:Ht(t,i)},{i:s-2,x:Ht(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,l,s),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Ht(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,l,s),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Ht(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,l,s),function(t,e,n,r,a,o){if(t!==n||e!==r){var l=a.push(i(a)+"scale(",null,",",null,")");o.push({i:l-4,x:Ht(t,n)},{i:l-2,x:Ht(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,l,s),a=o=null,function(t){for(var e,n=-1,r=s.length;++n<r;)l[(e=s[n]).i]=e.x(t);return l.join("")}}}var $t=zt(function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Wt:Xt(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),Kt=zt(function(t){return null==t?Wt:(kt||(kt=document.createElementNS("http://www.w3.org/2000/svg","g")),kt.setAttribute("transform",t),(t=kt.transform.baseVal.consolidate())?Xt((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Wt)},", ",")",")");function Zt(t,e){var n,r;return function(){var i=Vt(this,t),a=i.tween;if(a!==n)for(var o=0,l=(r=n=a).length;o<l;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function qt(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=Vt(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===e){i[s]=l;break}s===u&&i.push(l)}a.tween=i}}function Jt(t,e,n){var r=t._id;return t.each(function(){var t=Vt(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Yt(t,r).value[e]}}function Qt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function te(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ee(){}var ne=.7,re=1/ne,ie="\\s*([+-]?\\d+)\\s*",ae="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",le=/^#([0-9a-f]{3,8})$/,se=new RegExp(`^rgb\\(${ie},${ie},${ie}\\)$`),ue=new RegExp(`^rgb\\(${oe},${oe},${oe}\\)$`),ce=new RegExp(`^rgba\\(${ie},${ie},${ie},${ae}\\)$`),fe=new RegExp(`^rgba\\(${oe},${oe},${oe},${ae}\\)$`),Ee=new RegExp(`^hsl\\(${ae},${oe},${oe}\\)$`),de=new RegExp(`^hsla\\(${ae},${oe},${oe},${ae}\\)$`),he={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _e(){return this.rgb().formatHex()}function pe(){return this.rgb().formatRgb()}function ge(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=le.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?me(e):3===n?new Ne(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ae(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ae(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=se.exec(t))?new Ne(e[1],e[2],e[3],1):(e=ue.exec(t))?new Ne(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ce.exec(t))?Ae(e[1],e[2],e[3],e[4]):(e=fe.exec(t))?Ae(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ee.exec(t))?Oe(e[1],e[2]/100,e[3]/100,1):(e=de.exec(t))?Oe(e[1],e[2]/100,e[3]/100,e[4]):he.hasOwnProperty(t)?me(he[t]):"transparent"===t?new Ne(NaN,NaN,NaN,0):null}function me(t){return new Ne(t>>16&255,t>>8&255,255&t,1)}function Ae(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ne(t,e,n,r)}function Se(t,e,n,r){return 1===arguments.length?((i=t)instanceof ee||(i=ge(i)),i?new Ne((i=i.rgb()).r,i.g,i.b,i.opacity):new Ne):new Ne(t,e,n,null==r?1:r);var i}function Ne(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Le(){return`#${Ie(this.r)}${Ie(this.g)}${Ie(this.b)}`}function Te(){const t=ye(this.opacity);return`${1===t?"rgb(":"rgba("}${ve(this.r)}, ${ve(this.g)}, ${ve(this.b)}${1===t?")":`, ${t})`}`}function ye(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ve(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ie(t){return((t=ve(t))<16?"0":"")+t.toString(16)}function Oe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Me(t,e,n,r)}function Re(t){if(t instanceof Me)return new Me(t.h,t.s,t.l,t.opacity);if(t instanceof ee||(t=ge(t)),!t)return new Me;if(t instanceof Me)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,s=(a+i)/2;return l?(o=e===a?(n-r)/l+6*(n<r):n===a?(r-e)/l+2:(e-n)/l+4,l/=s<.5?a+i:2-a-i,o*=60):l=s>0&&s<1?0:o,new Me(o,l,s,t.opacity)}function Me(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ce(t){return(t=(t||0)%360)<0?t+360:t}function be(t){return Math.max(0,Math.min(1,t||0))}function xe(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function De(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}Qt(ee,ge,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_e,formatHex:_e,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Re(this).formatHsl()},formatRgb:pe,toString:pe}),Qt(Ne,Se,te(ee,{brighter(t){return t=null==t?re:Math.pow(re,t),new Ne(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?ne:Math.pow(ne,t),new Ne(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ne(ve(this.r),ve(this.g),ve(this.b),ye(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Le,formatHex:Le,formatHex8:function(){return`#${Ie(this.r)}${Ie(this.g)}${Ie(this.b)}${Ie(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Te,toString:Te})),Qt(Me,function(t,e,n,r){return 1===arguments.length?Re(t):new Me(t,e,n,null==r?1:r)},te(ee,{brighter(t){return t=null==t?re:Math.pow(re,t),new Me(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?ne:Math.pow(ne,t),new Me(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ne(xe(t>=240?t-240:t+120,i,r),xe(t,i,r),xe(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Me(Ce(this.h),be(this.s),be(this.l),ye(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ye(this.opacity);return`${1===t?"hsl(":"hsla("}${Ce(this.h)}, ${100*be(this.s)}%, ${100*be(this.l)}%${1===t?")":`, ${t})`}`}}));const we=t=>()=>t;function Be(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):we(isNaN(t)?e:t)}const Ge=function t(e){var n=function(t){return 1===(t=+t)?Be:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):we(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Se(t)).r,(e=Se(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=Be(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function Pe(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),l=new Array(i);for(n=0;n<i;++n)r=Se(e[n]),a[n]=r.r||0,o[n]=r.g||0,l[n]=r.b||0;return a=t(a),o=t(o),l=t(l),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=l(t),r+""}}}Pe(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,l=r<e-1?t[r+2]:2*a-i;return De((n-r/e)*e,o,i,a,l)}}),Pe(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],l=t[(r+2)%e];return De((n-r/e)*e,i,a,o,l)}});var Ue=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fe=new RegExp(Ue.source,"g");function Ve(t,e){var n,r,i,a=Ue.lastIndex=Fe.lastIndex=0,o=-1,l=[],s=[];for(t+="",e+="";(n=Ue.exec(t))&&(r=Fe.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,s.push({i:o,x:Ht(n,r)})),a=Fe.lastIndex;return a<e.length&&(i=e.slice(a),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)l[(n=s[r]).i]=n.x(t);return l.join("")})}function Ye(t,e){var n;return("number"==typeof e?Ht:e instanceof ge?Ge:(n=ge(e))?(e=n,Ge):Ve)(t,e)}function He(t){return function(){this.removeAttribute(t)}}function ke(t){return function(){this.removeAttributeNS(t.space,t.local)}}function je(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function We(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function Xe(t,e,n){var r,i,a;return function(){var o,l,s=n(this);if(null!=s)return(o=this.getAttribute(t))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,s));this.removeAttribute(t)}}function ze(t,e,n){var r,i,a;return function(){var o,l,s=n(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,s));this.removeAttributeNS(t.space,t.local)}}function $e(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function Ke(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function Ze(t,e){return function(){Ft(this,t).delay=+e.apply(this,arguments)}}function qe(t,e){return e=+e,function(){Ft(this,t).delay=e}}function Je(t,e){return function(){Vt(this,t).duration=+e.apply(this,arguments)}}function Qe(t,e){return e=+e,function(){Vt(this,t).duration=e}}var tn=ft.prototype.constructor;function en(t){return function(){this.style.removeProperty(t)}}var nn=0;function rn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function an(){return++nn}var on=ft.prototype;rn.prototype=function(t){return ft().transition(t)}.prototype={constructor:rn,select:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=e(t));for(var i=this._groups,a=i.length,o=new Array(a),l=0;l<a;++l)for(var s,u,c=i[l],f=c.length,E=o[l]=new Array(f),d=0;d<f;++d)(s=c[d])&&(u=t.call(s,s.__data__,d,c))&&("__data__"in s&&(u.__data__=s.__data__),E[d]=u,Ut(E[d],n,r,d,E,Yt(s,r)));return new rn(o,this._parents,n,r)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=r(t));for(var i=this._groups,a=i.length,o=[],l=[],s=0;s<a;++s)for(var u,c=i[s],f=c.length,E=0;E<f;++E)if(u=c[E]){for(var d,h=t.call(u,u.__data__,E,c),_=Yt(u,n),p=0,g=h.length;p<g;++p)(d=h[p])&&Ut(d,e,n,p,h,_);o.push(h),l.push(u)}return new rn(o,l,e,n)},selectChild:on.selectChild,selectChildren:on.selectChildren,filter:function(t){"function"!=typeof t&&(t=i(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var o,l=e[a],s=l.length,u=r[a]=[],c=0;c<s;++c)(o=l[c])&&t.call(o,o.__data__,c,l)&&u.push(o);return new rn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s,u=e[l],c=n[l],f=u.length,E=o[l]=new Array(f),d=0;d<f;++d)(s=u[d]||c[d])&&(E[d]=s);for(;l<r;++l)o[l]=e[l];return new rn(o,this._parents,this._name,this._id)},selection:function(){return new tn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=an(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],s=l.length,u=0;u<s;++u)if(o=l[u]){var c=Yt(o,e);Ut(o,t,n,u,l,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new rn(r,this._parents,t,n)},call:on.call,nodes:on.nodes,node:on.node,size:on.size,empty:on.empty,each:on.each,on:function(t,e){var n=this._id;return arguments.length<2?Yt(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?Ft:Vt;return function(){var o=a(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}(n,t,e))},attr:function(t,e){var n=A(t),r="transform"===n?Kt:Ye;return this.attrTween(t,"function"==typeof e?(n.local?ze:Xe)(n,r,Jt(this,"attr."+t,e)):null==e?(n.local?ke:He)(n):(n.local?We:je)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=A(t);return this.tween(n,(r.local?$e:Ke)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?$t:Ye;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=C(this,t),o=(this.style.removeProperty(t),C(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,en(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=C(this,t),l=n(this),s=l+"";return null==l&&(this.style.removeProperty(t),s=l=C(this,t)),o===s?null:o===r&&s===i?a:(i=s,a=e(r=o,l))}}(t,r,Jt(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,l="end."+o;return function(){var s=Vt(this,t),u=s.on,c=null==s.value[o]?a||(a=en(e)):void 0;u===n&&i===c||(r=(n=u).copy()).on(l,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=C(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,a,n)),r}return a._value=e,a}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Jt(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Yt(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?Zt:qt)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ze:qe)(e,t)):Yt(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Je:Qe)(e,t)):Yt(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Vt(this,t).ease=e}}(e,t)):Yt(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Vt(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var l={value:o},s={value:function(){0===--i&&a()}};n.each(function(){var n=Vt(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(s)),n.on=e}),0===i&&a()})},[Symbol.iterator]:on[Symbol.iterator]};var ln={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function sn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}ft.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}(this,t)})},ft.prototype.transition=function(t){var e,n;t instanceof rn?(e=t._id,t=t._name):(e=an(),(n=ln).time=Rt(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],s=l.length,u=0;u<s;++u)(o=l[u])&&Ut(o,t,e,u,l,n||sn(o,e));return new rn(r,this._parents,t,e)};const{abs:un,max:cn,min:fn}=Math;function En(t){return{type:t}}function dn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=gn(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function hn(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _n(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=gn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}function pn(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function gn(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?we(e):("number"===i?Ht:"string"===i?(n=ge(e))?(e=n,Ge):Ve:e instanceof ge?Ge:e instanceof Date?hn:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?dn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?_n:Ht:pn))(t,e)}["w","e"].map(En),["n","s"].map(En),["n","w","e","s","nw","ne","sw","se"].map(En);const mn=Math.sqrt(50),An=Math.sqrt(10),Sn=Math.sqrt(2);function Nn(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=mn?10:a>=An?5:a>=Sn?2:1;let l,s,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),s=Math.round(e*u),l/u<t&&++l,s/u>e&&--s,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),s=Math.round(e/u),l*u<t&&++l,s*u>e&&--s),s<l&&.5<=n&&n<2?Nn(t,e,2*n):[l,s,u]}function Ln(t,e,n){return Nn(t=+t,e=+e,n=+n)[2]}function Tn(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yn(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vn(t){let e,n,r;function i(t,r,i=0,a=t.length){if(i<a){if(0!==e(r,r))return a;do{const e=i+a>>>1;n(t[e],r)<0?i=e+1:a=e}while(i<a)}return i}return 2!==t.length?(e=Tn,n=(e,n)=>Tn(t(e),n),r=(e,n)=>t(e)-n):(e=t===Tn||t===yn?t:In,n=t,r=t),{left:i,center:function(t,e,n=0,a=t.length){const o=i(t,e,n,a-1);return o>n&&r(t[o-1],e)>-r(t[o],e)?o-1:o},right:function(t,r,i=0,a=t.length){if(i<a){if(0!==e(r,r))return a;do{const e=i+a>>>1;n(t[e],r)<=0?i=e+1:a=e}while(i<a)}return i}}}function In(){return 0}const On=vn(Tn),Rn=On.right,Mn=(On.left,vn(function(t){return null===t?NaN:+t}).center,Rn);function Cn(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function bn(t){return+t}var xn=[0,1];function Dn(t){return t}function wn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Bn(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=wn(i,r),a=n(o,a)):(r=wn(r,i),a=n(a,o)),function(t){return a(r(t))}}function Gn(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=wn(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=Mn(t,e,1,r)-1;return a[n](i[n](e))}}function Pn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Un,Fn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vn(t){if(!(e=Fn.exec(t)))throw new Error("invalid format: "+t);var e;return new Yn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Yn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Hn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function kn(t){return(t=Hn(Math.abs(t)))?t[1]:NaN}function jn(t,e){var n=Hn(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Vn.prototype=Yn.prototype,Yn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Wn={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jn(100*t,e),r:jn,s:function(t,e){var n=Hn(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Un=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Hn(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Xn(t){return t}var zn,$n,Kn,Zn=Array.prototype.map,qn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Jn(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)===(e=+e))return[t];const r=e<t,[i,a,o]=r?Nn(e,t,n):Nn(t,e,n);if(!(a>=i))return[];const l=a-i+1,s=new Array(l);if(r)if(o<0)for(let t=0;t<l;++t)s[t]=(a-t)/-o;else for(let t=0;t<l;++t)s[t]=(a-t)*o;else if(o<0)for(let t=0;t<l;++t)s[t]=(i+t)/-o;else for(let t=0;t<l;++t)s[t]=(i+t)*o;return s}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,a=function(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?Ln(e,t,n):Ln(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}(t,e,n);switch((r=Vn(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(kn(e)/3)))-kn(Math.abs(t)))}(a,o))||(r.precision=i),Kn(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,kn(e)-kn(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-kn(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return $n(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,a=e(),o=0,l=a.length-1,s=a[o],u=a[l],c=10;for(u<s&&(i=s,s=u,u=i,i=o,o=l,l=i);c-- >0;){if((i=Ln(s,u,n))===r)return a[o]=s,a[l]=u,e(a);if(i>0)s=Math.floor(s/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,u=Math.floor(u*i)/i}r=i}return t},t}function Qn(){var t=function(){var t,e,n,r,i,a,o=xn,l=xn,s=gn,u=Dn;function c(){var t,e,n,s=Math.min(o.length,l.length);return u!==Dn&&(t=o[0],e=o[s-1],t>e&&(n=t,t=e,e=n),u=function(n){return Math.max(t,Math.min(e,n))}),r=s>2?Gn:Bn,i=a=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(o.map(t),l,s)))(t(u(e)))}return f.invert=function(n){return u(e((a||(a=r(l,o.map(t),Ht)))(n)))},f.domain=function(t){return arguments.length?(o=Array.from(t,bn),c()):o.slice()},f.range=function(t){return arguments.length?(l=Array.from(t),c()):l.slice()},f.rangeRound=function(t){return l=Array.from(t),s=Cn,c()},f.clamp=function(t){return arguments.length?(u=!!t||Dn,c()):u!==Dn},f.interpolate=function(t){return arguments.length?(s=t,c()):s},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,c()}}()(Dn,Dn);return t.copy=function(){return e=t,Qn().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());var e},Pn.apply(t,arguments),Jn(t)}function tr(t){return"string"==typeof t?new ut([[document.querySelector(t)]],[document.documentElement]):new ut([[t]],st)}function er(t){return function(){return t}}zn=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Xn:(e=Zn.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),a.push(t.substring(i-=l,i+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?Xn:function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(Zn.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Vn(t)).fill,n=t.align,f=t.sign,E=t.symbol,d=t.zero,h=t.width,_=t.comma,p=t.precision,g=t.trim,m=t.type;"n"===m?(_=!0,m="g"):Wn[m]||(void 0===p&&(p=12),g=!0,m="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var A="$"===E?i:"#"===E&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",S="$"===E?a:/[%p]/.test(m)?s:"",N=Wn[m],L=/[defgprs%]/.test(m);function T(t){var i,a,s,E=A,T=S;if("c"===m)T=N(t)+T,t="";else{var y=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:N(Math.abs(t),p),g&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),y&&0===+t&&"+"!==f&&(y=!1),E=(y?"("===f?f:u:"-"===f||"("===f?"":f)+E,T=("s"===m?qn[8+Un/3]:"")+T+(y&&"("===f?")":""),L)for(i=-1,a=t.length;++i<a;)if(48>(s=t.charCodeAt(i))||s>57){T=(46===s?o+t.slice(i+1):t.slice(i))+T,t=t.slice(0,i);break}}_&&!d&&(t=r(t,1/0));var v=E.length+t.length+T.length,I=v<h?new Array(h-v+1).join(e):"";switch(_&&d&&(t=r(I+t,I.length?h-T.length:1/0),I=""),n){case"<":t=E+t+T+I;break;case"=":t=E+I+t+T;break;case"^":t=I.slice(0,v=I.length>>1)+E+t+T+I.slice(v);break;default:t=I+E+t+T}return l(t)}return p=void 0===p?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),T.toString=function(){return t+""},T}return{format:f,formatPrefix:function(t,e){var n=f(((t=Vn(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(kn(e)/3))),i=Math.pow(10,-r),a=qn[8+r/3];return function(t){return n(i*t)+a}}}}({thousands:",",grouping:[3],currency:["$",""]}),$n=zn.format,Kn=zn.formatPrefix;const nr=Math.abs,rr=Math.atan2,ir=Math.cos,ar=Math.max,or=Math.min,lr=Math.sin,sr=Math.sqrt,ur=1e-12,cr=Math.PI,fr=cr/2,Er=2*cr;function dr(t){return t>=1?fr:t<=-1?-fr:Math.asin(t)}const hr=Math.PI,_r=2*hr,pr=1e-6,gr=_r-pr;function mr(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class Ar{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?mr:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return mr;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,a){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,l=n-t,s=r-e,u=a-t,c=o-e,f=u*u+c*c;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(f>pr)if(Math.abs(c*l-s*u)>pr&&i){let E=n-a,d=r-o,h=l*l+s*s,_=E*E+d*d,p=Math.sqrt(h),g=Math.sqrt(f),m=i*Math.tan((hr-Math.acos((h+f-_)/(2*p*g)))/2),A=m/g,S=m/p;Math.abs(A-1)>pr&&this._append`L${t+A*u},${e+A*c}`,this._append`A${i},${i},0,0,${+(c*E>u*d)},${this._x1=t+S*l},${this._y1=e+S*s}`}else this._append`L${this._x1=t},${this._y1=e}`}arc(t,e,n,r,i,a){if(t=+t,e=+e,a=!!a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(r),l=n*Math.sin(r),s=t+o,u=e+l,c=1^a,f=a?r-i:i-r;null===this._x1?this._append`M${s},${u}`:(Math.abs(this._x1-s)>pr||Math.abs(this._y1-u)>pr)&&this._append`L${s},${u}`,n&&(f<0&&(f=f%_r+_r),f>gr?this._append`A${n},${n},0,1,${c},${t-o},${e-l}A${n},${n},0,1,${c},${this._x1=s},${this._y1=u}`:f>pr&&this._append`A${n},${n},0,${+(f>=hr)},${c},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Sr(t){return t.innerRadius}function Nr(t){return t.outerRadius}function Lr(t){return t.startAngle}function Tr(t){return t.endAngle}function yr(t){return t&&t.padAngle}function vr(t,e,n,r,i,a,o){var l=t-n,s=e-r,u=(o?a:-a)/sr(l*l+s*s),c=u*s,f=-u*l,E=t+c,d=e+f,h=n+c,_=r+f,p=(E+h)/2,g=(d+_)/2,m=h-E,A=_-d,S=m*m+A*A,N=i-a,L=E*_-h*d,T=(A<0?-1:1)*sr(ar(0,N*N*S-L*L)),y=(L*A-m*T)/S,v=(-L*m-A*T)/S,I=(L*A+m*T)/S,O=(-L*m+A*T)/S,R=y-p,M=v-g,C=I-p,b=O-g;return R*R+M*M>C*C+b*b&&(y=I,v=O),{cx:y,cy:v,x01:-c,y01:-f,x11:y*(i/N-1),y11:v*(i/N-1)}}function Ir(){var t=Sr,e=Nr,n=er(0),r=null,i=Lr,a=Tr,o=yr,l=null,s=function(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new Ar(e)}(u);function u(){var u,c,f,E=+t.apply(this,arguments),d=+e.apply(this,arguments),h=i.apply(this,arguments)-fr,_=a.apply(this,arguments)-fr,p=nr(_-h),g=_>h;if(l||(l=u=s()),d<E&&(c=d,d=E,E=c),d>ur)if(p>Er-ur)l.moveTo(d*ir(h),d*lr(h)),l.arc(0,0,d,h,_,!g),E>ur&&(l.moveTo(E*ir(_),E*lr(_)),l.arc(0,0,E,_,h,g));else{var m,A,S=h,N=_,L=h,T=_,y=p,v=p,I=o.apply(this,arguments)/2,O=I>ur&&(r?+r.apply(this,arguments):sr(E*E+d*d)),R=or(nr(d-E)/2,+n.apply(this,arguments)),M=R,C=R;if(O>ur){var b=dr(O/E*lr(I)),x=dr(O/d*lr(I));(y-=2*b)>ur?(L+=b*=g?1:-1,T-=b):(y=0,L=T=(h+_)/2),(v-=2*x)>ur?(S+=x*=g?1:-1,N-=x):(v=0,S=N=(h+_)/2)}var D=d*ir(S),w=d*lr(S),B=E*ir(T),G=E*lr(T);if(R>ur){var P,U=d*ir(N),F=d*lr(N),V=E*ir(L),Y=E*lr(L);if(p<cr)if(P=function(t,e,n,r,i,a,o,l){var s=n-t,u=r-e,c=o-i,f=l-a,E=f*s-c*u;if(!(E*E<ur))return[t+(E=(c*(e-a)-f*(t-i))/E)*s,e+E*u]}(D,w,V,Y,U,F,B,G)){var H=D-P[0],k=w-P[1],j=U-P[0],W=F-P[1],X=1/lr(((f=(H*j+k*W)/(sr(H*H+k*k)*sr(j*j+W*W)))>1?0:f<-1?cr:Math.acos(f))/2),z=sr(P[0]*P[0]+P[1]*P[1]);M=or(R,(E-z)/(X-1)),C=or(R,(d-z)/(X+1))}else M=C=0}v>ur?C>ur?(m=vr(V,Y,D,w,d,C,g),A=vr(U,F,B,G,d,C,g),l.moveTo(m.cx+m.x01,m.cy+m.y01),C<R?l.arc(m.cx,m.cy,C,rr(m.y01,m.x01),rr(A.y01,A.x01),!g):(l.arc(m.cx,m.cy,C,rr(m.y01,m.x01),rr(m.y11,m.x11),!g),l.arc(0,0,d,rr(m.cy+m.y11,m.cx+m.x11),rr(A.cy+A.y11,A.cx+A.x11),!g),l.arc(A.cx,A.cy,C,rr(A.y11,A.x11),rr(A.y01,A.x01),!g))):(l.moveTo(D,w),l.arc(0,0,d,S,N,!g)):l.moveTo(D,w),E>ur&&y>ur?M>ur?(m=vr(B,G,U,F,E,-M,g),A=vr(D,w,V,Y,E,-M,g),l.lineTo(m.cx+m.x01,m.cy+m.y01),M<R?l.arc(m.cx,m.cy,M,rr(m.y01,m.x01),rr(A.y01,A.x01),!g):(l.arc(m.cx,m.cy,M,rr(m.y01,m.x01),rr(m.y11,m.x11),!g),l.arc(0,0,E,rr(m.cy+m.y11,m.cx+m.x11),rr(A.cy+A.y11,A.cx+A.x11),g),l.arc(A.cx,A.cy,M,rr(A.y11,A.x11),rr(A.y01,A.x01),!g))):l.arc(0,0,E,T,L,g):l.lineTo(B,G)}else l.moveTo(0,0);if(l.closePath(),u)return l=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-cr/2;return[ir(r)*n,lr(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:er(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:er(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:er(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:er(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:er(+t),u):i},u.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:er(+t),u):a},u.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:er(+t),u):o},u.context=function(t){return arguments.length?(l=null==t?null:t,u):l},u}function Or(t,e,n){this.k=t,this.x=e,this.y=n}var Rr,Mr,Cr;Or.prototype={constructor:Or,scale:function(t){return 1===t?this:new Or(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Or(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new Or(1,0,0),Or.prototype,mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={}),(Cr=Rr||(Rr={}))[Cr.METRIC=0]="METRIC",Cr[Cr.REFERENCE_METRIC=1]="REFERENCE_METRIC",Cr[Cr.MIN_VALUE=2]="MIN_VALUE",Cr[Cr.MAX_VALUE=3]="MAX_VALUE",Cr[Cr.BREAK_BY=4]="BREAK_BY",Cr[Cr.COLOR_BY=5]="COLOR_BY",Cr[Cr.TOOLTIP=6]="TOOLTIP",mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={}),function(t){t[t.NONE=0]="NONE",t[t.DOTTED_LINE_TYPE=1]="DOTTED_LINE_TYPE",t[t.DASHED_LINE_TYPE=2]="DASHED_LINE_TYPE",t[t.THIN_LINE_TYPE=3]="THIN_LINE_TYPE",t[t.THICK_LINE_TYPE=4]="THICK_LINE_TYPE"}(Mr||(Mr={})),mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var br=.3+.38,xr=.98,Dr=xr;mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var wr="transparent",Br="#4D4D4D",Gr="#ec7b75",Pr="#35383a";mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={}),mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var Ur,Fr,Vr,Yr=function(){return Yr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Yr.apply(this,arguments)};(Vr=Fr||(Fr={})).ENTIRE_GRAPH_SECTION="entireGraphSection",Vr.AXIS_SECTION="axisSection",Vr.DATA_LABELS_AND_MARKERS_SECTION="dataLabelsAndMarkersSection",Vr.NEEDLE_SECTION="needleSection",Vr.REFERENCE_LINES_SECTION="referenceLinesSection",Vr.BANDS_SECTION="bandsSection",Vr.EMPTY_VIZ_WARNING_MESSAGE="emptyVizWarningMessage",Vr.VIZ_FIRST_TAB_SECTION="vizFirstTabSection",Vr.VIZ_SECOND_TAB_SECTION="vizSecondTabSection",Vr.AXIS_OPTIONS_SECTION="axisOptionsSection",Vr.AXIS_NUMBER_OF_LABELS_SECTION="axisNumberOfLabelsSection",Vr.AXIS_INTERVAL_VALUE_SECTION="axisIntervalValueSection",Vr.AXIS_GRADUATED_SCALE_NUMBER_OF_POINTS_SECTION="axisGraduatedScaleNumberOfPointsSection",Vr.CONTAINER_FIT_HIDEABLE_LAYOUT="containerFitHideableLayout",Vr.SHAPE_HIDEABLE_LAYOUT="hideableSectionGaugeShape",Vr.LAYOUT_HIDEABLE_LAYOUT="layoutSection",Vr.DATA_LABELS_HIDEABLE_LAYOUT="dataLabelsHideableLayout",Vr.AXIS_HIDEABLE_LAYOUT="axisHideableLayout",Vr.REFERENCE_LINES_HIDEABLE_LAYOUT="referenceLinesHideableLayout",Vr.SHAPE_SELECTOR_WITH_COLOR_BY="shapeSelectorWithColorBy",Vr.SHAPE_SELECTOR_WITHOUT_COLOR_BY="shapeSelectorWithoutColorBy",Vr.GAUGE_CORNERS="gaugeCorners",Vr.GAUGE_SIZE_TYPE="gaugeSizeType",Vr.GAUGE_SIZE="gaugeSize",Vr.GAUGE_DEGREE="gaugeDegree",Vr.NEEDLE_ENABLED="needleEnabled",Vr.DATA_LABELS_ENABLED="dataLabelsEnabled",Vr.DATA_LABELS_DISPLAY="dataLabelsDisplay",Vr.AXIS_ENABLED="axisEnabled",Vr.AXIS_LABELS_POSITION="axisLabelsPosition",Vr.AXIS_SPLIT_TYPE="axisSplitType",Vr.AXIS_LABELS_NUMBER="axisLabelsNumber",Vr.AXIS_INTERVAL_VALUE="axisIntervalValue",Vr.AXIS_GRADUATED_SCALE_ENABLED="axisGraduatedScaleEnabled",Vr.AXIS_GRADUATED_SCALE_NUMBER_OF_POINTS="axisGraduatedScaleNumberOfPoints",Vr.AXIS_MINIMUM_VALUE_LAYOUT="axisMinimumValueLayout",Vr.AXIS_MINIMUM_SOURCE="axisMinimumValueSource",Vr.AXIS_MINIMUM_VALUE="axisMinimumValue",Vr.AXIS_MINIMUM_METRIC="axisMinimumMetric",Vr.AXIS_MAXIMUM_VALUE_LAYOUT="axisMaximumValueLayout",Vr.AXIS_MAXIMUM_SOURCE="axisMaximumValueSource",Vr.AXIS_MAXIMUM_VALUE="axisMaximumValue",Vr.AXIS_MAXIMUM_METRIC="axisMaximumMetric",Vr.TEXT_AND_FORM_ITEM="textAndFormItem",Vr.SELECTED_LABELS_TYPE="selectedLabelType",Vr.SELECTED_SHAPE="selectedShape",Vr.SHAPE_COLOR_BY_ELEMENT="shapeColorByElement",Vr.FONT_FAMILY="fontFamily",Vr.FONT_STYLE="fontStyle",Vr.FONT_SIZE="fontSize",Vr.FONT_COLOR="fontColor",Vr.FONT_WRAP="fontWrap",Vr.ENTIRE_GRAPH_FONT_OPTIONS="entireGraphFontOptions",Vr.AXIS_FONT_OPTIONS="axisFontOptions",Vr.METRIC_VALUE_FONT_OPTIONS="metricValueFontOptions",Vr.METRIC_NAME_FONT_OPTIONS="metricNameFontOptions",Vr.ATTRIBUTES_LABELS_FONT_OPTIONS="attributesLabelsFontOptions",Vr.REFERENCE_LINES_FONT_OPTIONS="referenceLinesFontOptions",Vr.AXIS_LINE_STYLE="axisLineStyle",Vr.AXIS_LINE_COLOR="axisLineColor",Vr.LABELS_TEXT_SIZE_TYPE="labelsTextSizeType",Vr.METRIC_VALUE_SHAPE_OPTIONS="metricValueShapeOptions",Vr.LABEL_BREAK_BY_ATTRIBUTE="labelBreakByAttribute",Vr.BACKGROUND_SHAPE_OPTIONS="backgroundShapeOptions",Vr.COLOR_BY_ELEMENTS_SHAPE_OPTIONS="colorByElementsShapeOptions",Vr.SHAPE_FILL_COLOR="fillColor",Vr.SHAPE_FILL_OPACITY="fillOpacity",Vr.SHAPE_BORDER_STYLE="borderStyle",Vr.SHAPE_BORDER_COLOR="borderColor",Vr.NEEDLE_SHAPE_OPTIONS="needleShapeOptions",Vr.SELECTED_BAND="selectedBand",Vr.BANDS_SHAPE_OPTIONS="bandsShapeOptions",Vr.SELECTED_REFERENCE_LINE="selectedReferenceLine",Vr.REFERENCE_LINE_LABEL_ENABLED="referenceLineLabelEnabled",Vr.REFERENCE_LINE_MARKER_OPTIONS_SECTION="referenceLineMarkerOptionsSection",Vr.REFERENCE_LINE_MARKER_STYLE="referenceLineMarkerStyle",Vr.REFERENCE_LINE_MARKER_COLOR="referenceLineMarkerColor",Vr.SELECTED_LAYOUT="selectedLayout",Vr.GRID_LAYOUT_SECTION="gridLayoutSection",Vr.STACKED_LAYOUT_SECTION="stackedLayoutSection",Vr.LAYOUT_GRID_NUMBER_OF_COLUMNS="layoutGridNumberOfColumns",Vr.LAYOUT_STACKED_AUTO_PLAY="layoutStackedAutoPlay",Vr.REFERENCE_LINES="referenceLines",Vr.REFERENCE_LINE_LABEL_POSITION="referenceLineLabelPosition",Vr.REFERENCE_LINE_LABEL_DISPLAY="referenceLineLabelDisplay",Vr.REFERENCE_LINE_VALUE_LAYOUT="referenceLineValueLayout",Vr.REFERENCE_LINE_VALUE="referenceLineValue",Vr.BANDS="bands",Vr.BANDS_HIDEABLE_LAYOUT="bandsHideableLayout",Vr.BAND_MIN_VALUE="bandMinValue",Vr.BAND_MAX_VALUE="bandMaxValue",Vr.BAND_COLOR="bandColor",Vr.BANDS_COLOR_BY="bandsColorBy",Vr.BANDS_TYPE_SELECTOR="bandsTypeSelector",Vr.CONTAINER_FIT="containerFit",Vr.ACTIVE_GAUGE_INDEX="activeGaugeIndex",Vr.BANDS_WARNING="bandsWarning",Vr.BANDS_TOP_SECTION_LAYOUT="bandsTopSectionLayout",Vr.GLOBAL_DOSSIER_FONT="globalDossierFont",Vr.NUMBER_OF_LABELS_INCORRECT_ERROR_MESSAGE="numberOfLabelsIncorrectErrorMessage",Vr.NUMBER_OF_POINTS_INCORRECT_ERROR_MESSAGE="numberOfPointsIncorrectErrorMessage",Vr.TAB_SELECTOR="tabSelector",Vr.METRIC_VALUE_LABEL_FONT_SECTION="metricValueLabelFontSection",Vr.OTHER_LABELS_FONT_SECTION="otherLabelsFontSection";var Hr=((Ur={})[Fr.GAUGE_CORNERS]={squared:"squared",rounded:"rounded"},Ur[Fr.GAUGE_SIZE_TYPE]={auto:"auto",manual:"manual"},Ur[Fr.GAUGE_DEGREE]={degree180:180,degree270:270,degree360:360},Ur[Fr.AXIS_LABELS_POSITION]={inside:"inside",outside:"outside"},Ur[Fr.AXIS_SPLIT_TYPE]={number:"number",interval:"interval"},Ur[Fr.AXIS_MINIMUM_SOURCE]={fixed:"fixed",metric:"metric"},Ur[Fr.AXIS_MAXIMUM_SOURCE]={fixed:"fixed",metric:"metric"},Ur[Fr.SELECTED_LABELS_TYPE]={METRIC_VALUE:"metricValue",METRIC_NAME:"metricName",BREAK_BY:"breakBy"},Ur[Fr.SELECTED_SHAPE]={METRIC_VALUE:0,COLOR_BY:0,BACKGROUND:1},Ur[Fr.SELECTED_LAYOUT]={GRID:0,STACKED:1,HORIZONTAL:2,VERTICAL:3,AUTO_FIT:4},Ur[Fr.REFERENCE_LINE_LABEL_POSITION]={inside:"inside",outside:"outside"},Ur[Fr.LABELS_TEXT_SIZE_TYPE]={AUTO:0,FIXED:1},Ur[Fr.REFERENCE_LINE_MARKER_STYLE]={DOT:"dot",DIAMOND:"diamond",TRIANGLE:"triangle",LINE:"line"},Ur[Fr.CONTAINER_FIT]={AUTO:"auto",FIT_TO_CONTAINER:"fitToContainer"},Ur[Fr.BANDS_TYPE_SELECTOR]={percentage:"%",numeric:"123"},Ur[Fr.BANDS_COLOR_BY]={BAND_OF_VALUE:0,ALL_BANDS:1},Ur),kr={fontFamily:"Open Sans",fontStyle:[!1,!1,!1,!1],fontColor:Pr,fontWrap:!1},jr={fontFamily:"Open Sans",fontStyle:[!1,!1,!1,!1],fontColor:Pr},Wr=Yr(Yr({},jr),{fontSize:"INDETERMINATE"}),Xr=Yr(Yr({},jr),{fontSize:9}),zr=Yr(Yr({},kr),{fontSize:""}),$r=Yr(Yr({},jr),{fontSize:""}),Kr={fillColor:"#F2F2F2",fillOpacity:100,borderStyle:Mr.THIN_LINE_TYPE,borderColor:"#F2F2F2"},Zr={fillColor:"#35383a",fillOpacity:100,borderStyle:Mr.THIN_LINE_TYPE,borderColor:"#35383a"},qr={fillColor:Gr,fillOpacity:100,borderStyle:Mr.THIN_LINE_TYPE,borderColor:Gr},Jr="allBands",Qr=function(t){var e,n,r=function(t){var e,n,r=(null===(e=null==t?void 0:t.model)||void 0===e?void 0:e.docModel)||(null===(n=null==t?void 0:t.controller)||void 0===n?void 0:n.model),i=null==r?void 0:r.plt.colors.map(function(t){return n=(255&(e=t)).toString(16),r=(e>>8&255).toString(16),i=(e>>16&255).toString(16),1===n.length&&(n="0".concat(n)),1===r.length&&(r="0".concat(r)),1===i.length&&(i="0".concat(i)),"#".concat(n).concat(r).concat(i);var e,n,r,i});return i||null}(t),i={fillColor:null==r?void 0:r[0],fillOpacity:100,borderStyle:Mr.THIN_LINE_TYPE,borderColor:null==r?void 0:r[0]};return(e={})[Fr.ENTIRE_GRAPH_SECTION]=null,e[Fr.AXIS_SECTION]=null,e[Fr.DATA_LABELS_AND_MARKERS_SECTION]=null,e[Fr.NEEDLE_SECTION]=null,e[Fr.REFERENCE_LINES_SECTION]=null,e[Fr.BANDS_SECTION]=null,e[Fr.TEXT_AND_FORM_ITEM]=Fr.ENTIRE_GRAPH_SECTION,e[Fr.SELECTED_SHAPE]=Hr[Fr.SELECTED_SHAPE].METRIC_VALUE,e[Fr.SELECTED_LABELS_TYPE]=Hr[Fr.SELECTED_LABELS_TYPE].METRIC_VALUE,e[Fr.SHAPE_COLOR_BY_ELEMENT]="",e[Fr.EMPTY_VIZ_WARNING_MESSAGE]=null,e[Fr.VIZ_FIRST_TAB_SECTION]=null,e[Fr.VIZ_SECOND_TAB_SECTION]=null,e[Fr.AXIS_OPTIONS_SECTION]=null,e[Fr.AXIS_GRADUATED_SCALE_NUMBER_OF_POINTS_SECTION]=null,e[Fr.AXIS_NUMBER_OF_LABELS_SECTION]=null,e[Fr.AXIS_INTERVAL_VALUE_SECTION]=null,e[Fr.CONTAINER_FIT_HIDEABLE_LAYOUT]=null,e[Fr.SHAPE_HIDEABLE_LAYOUT]=null,e[Fr.LAYOUT_HIDEABLE_LAYOUT]=null,e[Fr.DATA_LABELS_HIDEABLE_LAYOUT]=null,e[Fr.AXIS_HIDEABLE_LAYOUT]=null,e[Fr.REFERENCE_LINES_HIDEABLE_LAYOUT]=null,e[Fr.GRID_LAYOUT_SECTION]=null,e[Fr.STACKED_LAYOUT_SECTION]=null,e[Fr.SHAPE_SELECTOR_WITH_COLOR_BY]=null,e[Fr.SHAPE_SELECTOR_WITHOUT_COLOR_BY]=null,e[Fr.GAUGE_CORNERS]=Hr[Fr.GAUGE_CORNERS].rounded,e[Fr.GAUGE_SIZE_TYPE]=Hr[Fr.GAUGE_SIZE_TYPE].auto,e[Fr.GAUGE_SIZE]=.65,e[Fr.GAUGE_DEGREE]=Hr[Fr.GAUGE_DEGREE].degree180,e[Fr.NEEDLE_ENABLED]=!1,e[Fr.DATA_LABELS_ENABLED]=!0,e[Fr.DATA_LABELS_DISPLAY]=[!1,!0,0],e[Fr.AXIS_ENABLED]=!1,e[Fr.AXIS_LABELS_POSITION]=Hr[Fr.AXIS_LABELS_POSITION].inside,e[Fr.AXIS_SPLIT_TYPE]=Hr[Fr.AXIS_SPLIT_TYPE].number,e[Fr.AXIS_LABELS_NUMBER]=5,e[Fr.AXIS_INTERVAL_VALUE]=0,e[Fr.AXIS_GRADUATED_SCALE_ENABLED]=!1,e[Fr.AXIS_GRADUATED_SCALE_NUMBER_OF_POINTS]=2,e[Fr.AXIS_MINIMUM_VALUE_LAYOUT]=null,e[Fr.AXIS_MINIMUM_SOURCE]="",e[Fr.AXIS_MINIMUM_VALUE]=0,e[Fr.AXIS_MINIMUM_METRIC]="",e[Fr.AXIS_MAXIMUM_VALUE_LAYOUT]=null,e[Fr.AXIS_MAXIMUM_SOURCE]=Hr[Fr.AXIS_MAXIMUM_SOURCE].metric,e[Fr.AXIS_MAXIMUM_VALUE]=0,e[Fr.AXIS_MAXIMUM_METRIC]="",e[Fr.FONT_FAMILY]="",e[Fr.FONT_STYLE]=[!1,!1,!1,!1],e[Fr.FONT_SIZE]=0,e[Fr.FONT_COLOR]="",e[Fr.FONT_WRAP]=!1,e[Fr.ENTIRE_GRAPH_FONT_OPTIONS]=Wr,e[Fr.AXIS_FONT_OPTIONS]=Xr,e[Fr.METRIC_VALUE_FONT_OPTIONS]=$r,e[Fr.METRIC_NAME_FONT_OPTIONS]=zr,e[Fr.ATTRIBUTES_LABELS_FONT_OPTIONS]={},e[Fr.REFERENCE_LINES_FONT_OPTIONS]={},e[Fr.AXIS_LINE_STYLE]=Mr.THIN_LINE_TYPE,e[Fr.AXIS_LINE_COLOR]="#E0E0E0",e[Fr.SHAPE_BORDER_STYLE]=Mr.THIN_LINE_TYPE,e[Fr.SHAPE_BORDER_COLOR]="",e[Fr.SHAPE_FILL_COLOR]="",e[Fr.SHAPE_FILL_OPACITY]=100,e[Fr.LABELS_TEXT_SIZE_TYPE]=Hr[Fr.LABELS_TEXT_SIZE_TYPE].AUTO,e[Fr.METRIC_VALUE_SHAPE_OPTIONS]=i,e[Fr.LABEL_BREAK_BY_ATTRIBUTE]="",e[Fr.BACKGROUND_SHAPE_OPTIONS]=Kr,e[Fr.COLOR_BY_ELEMENTS_SHAPE_OPTIONS]={},e[Fr.NEEDLE_SHAPE_OPTIONS]=Zr,e[Fr.SELECTED_BAND]="",e[Fr.BANDS_SHAPE_OPTIONS]=((n={})[Jr]=qr,n),e[Fr.SELECTED_REFERENCE_LINE]="",e[Fr.REFERENCE_LINE_LABEL_ENABLED]=!0,e[Fr.REFERENCE_LINE_MARKER_OPTIONS_SECTION]=null,e[Fr.REFERENCE_LINE_MARKER_STYLE]={},e[Fr.REFERENCE_LINE_MARKER_COLOR]={},e[Fr.SELECTED_LAYOUT]=Hr[Fr.SELECTED_LAYOUT].GRID,e[Fr.LAYOUT_GRID_NUMBER_OF_COLUMNS]=3,e[Fr.LAYOUT_STACKED_AUTO_PLAY]=!0,e[Fr.REFERENCE_LINES]=[],e[Fr.BANDS]=[],e[Fr.BANDS_COLOR_BY]=Hr[Fr.BANDS_COLOR_BY].BAND_OF_VALUE,e[Fr.BANDS_TYPE_SELECTOR]=Hr[Fr.BANDS_TYPE_SELECTOR].numeric,e[Fr.CONTAINER_FIT]=Hr[Fr.CONTAINER_FIT].AUTO,e[Fr.ACTIVE_GAUGE_INDEX]=1,e[Fr.BANDS_TOP_SECTION_LAYOUT]=null,e[Fr.GLOBAL_DOSSIER_FONT]="",e[Fr.NUMBER_OF_LABELS_INCORRECT_ERROR_MESSAGE]=null,e[Fr.NUMBER_OF_POINTS_INCORRECT_ERROR_MESSAGE]=null,e[Fr.TAB_SELECTOR]=0,e[Fr.BANDS_HIDEABLE_LAYOUT]=null,e[Fr.METRIC_VALUE_LABEL_FONT_SECTION]=null,e[Fr.OTHER_LABELS_FONT_SECTION]=null,e},ti="unifiedProperty";function ei(t,e,n,r){for(var i=0,a=t;i<a.length;i++){var o=a[i];r(n[o],o)}for(var l=0,s=e;l<s.length;l++)for(var u=s[l],c=n[u],f=0,E=Object.entries(c);f<E.length;f++){var d=E[f],h=d[0];r(d[1],u,h)}}mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={}),mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var ni,ri,ii;(ii=ri||(ri={}))[ii.METRIC=1]="METRIC",ii[ii.REFERENCE_LINES=2]="REFERENCE_LINES",ii[ii.MINIMUM_VALUE=3]="MINIMUM_VALUE",ii[ii.MAXIMUM_VALUE=4]="MAXIMUM_VALUE",ii[ii.BREAK_BY=5]="BREAK_BY",ii[ii.TOOLTIP=6]="TOOLTIP",ii[ii.DRAG_ATTRIBUTE_HERE=7]="DRAG_ATTRIBUTE_HERE",ii[ii.DRAG_METRIC_HERE=8]="DRAG_METRIC_HERE",ii[ii.GAUGE_IS_NOT_SUPPORTED_MESSAGE=9]="GAUGE_IS_NOT_SUPPORTED_MESSAGE",ii[ii.NOT_ENOUGH_DATA_OR_VISUALIZATION_INCOMPLETE_MESSAGE=10]="NOT_ENOUGH_DATA_OR_VISUALIZATION_INCOMPLETE_MESSAGE",ii[ii.ADD_1_OR_MORE_METRICS=11]="ADD_1_OR_MORE_METRICS",ii[ii.GAUGE_SHAPE=12]="GAUGE_SHAPE",ii[ii.ROUNDED=13]="ROUNDED",ii[ii.SQUARED=14]="SQUARED",ii[ii.GAUGE_SIZE_WITH_INTERVAL=15]="GAUGE_SIZE_WITH_INTERVAL",ii[ii.AUTO=16]="AUTO",ii[ii.MANUAL=17]="MANUAL",ii[ii.NEEDLE=18]="NEEDLE",ii[ii.DATA_LABELS=19]="DATA_LABELS",ii[ii.AXIS=20]="AXIS",ii[ii.NUMBER_OF_LABELS=21]="NUMBER_OF_LABELS",ii[ii.INTERVAL_VALUE=22]="INTERVAL_VALUE",ii[ii.GRADUATED_SCALE=23]="GRADUATED_SCALE",ii[ii.NUMBER_OF_POINTS=24]="NUMBER_OF_POINTS",ii[ii.INSIDE=25]="INSIDE",ii[ii.OUTSIDE=26]="OUTSIDE",ii[ii.NUMBER=27]="NUMBER",ii[ii.INTERVAL=28]="INTERVAL",ii[ii.FIXED=29]="FIXED",ii[ii.ENTIRE_GRAPH=30]="ENTIRE_GRAPH",ii[ii.DATA_LABELS_AND_MARKERS=31]="DATA_LABELS_AND_MARKERS",ii[ii.BANDS=32]="BANDS",ii[ii.WRAP_TEXT=33]="WRAP_TEXT",ii[ii.AXIS_LABELS=34]="AXIS_LABELS",ii[ii.LINES=35]="LINES",ii[ii.SHOW_DATA_LABELS=36]="SHOW_DATA_LABELS",ii[ii.FONT=37]="FONT",ii[ii.SHAPE=38]="SHAPE",ii[ii.METRIC_VALUE=39]="METRIC_VALUE",ii[ii.BACKGROUND=40]="BACKGROUND",ii[ii.FILL=41]="FILL",ii[ii.BORDER=42]="BORDER",ii[ii.ALL_BANDS=43]="ALL_BANDS",ii[ii.DISPLAY=44]="DISPLAY",ii[ii.MARKER=45]="MARKER",ii[ii.MINIMUM=46]="MINIMUM",ii[ii.MAXIMUM=47]="MAXIMUM",ii[ii.METRIC_NAME=48]="METRIC_NAME",ii[ii.COLOR_BY=49]="COLOR_BY",ii[ii.TEXT_SIZE=50]="TEXT_SIZE",ii[ii.CONSTANT=51]="CONSTANT",ii[ii.REMOVE=52]="REMOVE",ii[ii.ADD=53]="ADD",ii[ii.LINE_LABEL=54]="LINE_LABEL",ii[ii.VALUE=55]="VALUE",ii[ii.LINE=56]="LINE",ii[ii.DOT=57]="DOT",ii[ii.DIAMOND=58]="DIAMOND",ii[ii.TRIANGLE=59]="TRIANGLE",ii[ii.COLOR=60]="COLOR",ii[ii.MIN=61]="MIN",ii[ii.MAX=62]="MAX",ii[ii.BAND=63]="BAND",ii[ii.BAND_OF_VALUE_TOOLTIP=64]="BAND_OF_VALUE_TOOLTIP",ii[ii.COLOR_BY_ALL_BANDS_TOOLTIP=65]="COLOR_BY_ALL_BANDS_TOOLTIP",ii[ii.VALUES_CANNOT_OVERLAP=66]="VALUES_CANNOT_OVERLAP",ii[ii.GAUGE=67]="GAUGE",ii[ii.GAUGE_SUMMARY=68]="GAUGE_SUMMARY",ii[ii.GAUGE_REQUIREMENTS=69]="GAUGE_REQUIREMENTS",ii[ii.GAUGE_USE_CASE=70]="GAUGE_USE_CASE",ii[ii.MINIMUM_CANNOT_BE_GREATER_THAN_MAXIMUM_MESSAGE=71]="MINIMUM_CANNOT_BE_GREATER_THAN_MAXIMUM_MESSAGE",ii[ii.INTERVAL_VALUE_INCORRECT_MESSAGE=72]="INTERVAL_VALUE_INCORRECT_MESSAGE",ii[ii.NUMBER_OF_LABELS_INCORRECT_MESSAGE=73]="NUMBER_OF_LABELS_INCORRECT_MESSAGE",ii[ii.NUMBER_OF_POINTS_INCORRECT_MESSAGE=74]="NUMBER_OF_POINTS_INCORRECT_MESSAGE",ii[ii.TYPE=75]="TYPE";var ai=((ni={})[ri.METRIC]="Metric",ni[ri.REFERENCE_LINES]="Reference Lines",ni[ri.MINIMUM_VALUE]="Minimum Value",ni[ri.MAXIMUM_VALUE]="Maximum Value",ni[ri.BREAK_BY]="Break By",ni[ri.TOOLTIP]="Tooltip",ni[ri.DRAG_ATTRIBUTE_HERE]="Drag attribute here",ni[ri.DRAG_METRIC_HERE]="Drag metric here",ni[ri.GAUGE_IS_NOT_SUPPORTED_MESSAGE]="Gauge is supported only on environments 11.3.1 or higher",ni[ri.NOT_ENOUGH_DATA_OR_VISUALIZATION_INCOMPLETE_MESSAGE]="Either there is not enough data to display the visualization or the visualization configuration is incomplete.",ni[ri.ADD_1_OR_MORE_METRICS]="Add 1 or more #metrics####",ni[ri.GAUGE_SHAPE]="Gauge shape",ni[ri.ROUNDED]="Rounded",ni[ri.SQUARED]="Squared",ni[ri.GAUGE_SIZE_WITH_INTERVAL]="Gauge size (0.01-1.0)",ni[ri.AUTO]="Auto",ni[ri.MANUAL]="Manual",ni[ri.NEEDLE]="Needle",ni[ri.DATA_LABELS]="Data Labels",ni[ri.AXIS]="Axis",ni[ri.NUMBER_OF_LABELS]="Number of labels",ni[ri.INTERVAL_VALUE]="Interval value",ni[ri.GRADUATED_SCALE]="Graduated scale",ni[ri.NUMBER_OF_POINTS]="Number of points",ni[ri.INSIDE]="Inside",ni[ri.OUTSIDE]="Outside",ni[ri.NUMBER]="Number",ni[ri.INTERVAL]="Interval",ni[ri.FIXED]="Fixed",ni[ri.ENTIRE_GRAPH]="Entire Graph",ni[ri.DATA_LABELS_AND_MARKERS]="Data Labels and Markers",ni[ri.BANDS]="Bands",ni[ri.WRAP_TEXT]="Wrap Text",ni[ri.AXIS_LABELS]="Axis labels",ni[ri.LINES]="Lines",ni[ri.SHOW_DATA_LABELS]="Show data labels",ni[ri.FONT]="Font",ni[ri.SHAPE]="Shape",ni[ri.METRIC_VALUE]="Metric Value",ni[ri.BACKGROUND]="Background",ni[ri.FILL]="Fill",ni[ri.BORDER]="Border",ni[ri.ALL_BANDS]="All Bands",ni[ri.DISPLAY]="Display",ni[ri.MARKER]="Marker",ni[ri.MINIMUM]="Minimum",ni[ri.MAXIMUM]="Maximum",ni[ri.METRIC_NAME]="Metric Name",ni[ri.COLOR_BY]="Color By",ni[ri.TEXT_SIZE]="Text Size",ni[ri.CONSTANT]="Constant",ni[ri.REMOVE]="Remove",ni[ri.ADD]="Add",ni[ri.LINE_LABEL]="Line label",ni[ri.VALUE]="Value",ni[ri.LINE]="Line",ni[ri.DOT]="Dot",ni[ri.DIAMOND]="Diamond",ni[ri.TRIANGLE]="Triangle",ni[ri.COLOR]="Color",ni[ri.MIN]="Min",ni[ri.MAX]="Max",ni[ri.BAND]="Band",ni[ri.BAND_OF_VALUE_TOOLTIP]="The ring color will change based on band ranges",ni[ri.COLOR_BY_ALL_BANDS_TOOLTIP]="A needle will indicate the value with all bands displayed",ni[ri.VALUES_CANNOT_OVERLAP]="Values cannot overlap",ni[ri.GAUGE]="Gauge",ni[ri.GAUGE_SUMMARY]="Measure key indicators progress to particular target",ni[ri.GAUGE_REQUIREMENTS]="Uses 0+ ##attributes### and 1+ #metrics###",ni[ri.GAUGE_USE_CASE]="Example: Compare number of delayed flights versus number of all flights",ni[ri.MINIMUM_CANNOT_BE_GREATER_THAN_MAXIMUM_MESSAGE]="The Minimum value cannot be greater than the Maximum value. Please change the Minimum or Maximum value.",ni[ri.INTERVAL_VALUE_INCORRECT_MESSAGE]="The Interval value does not allow for a correct spacing of the axis labels. Please enter a different Interval value.",ni[ri.NUMBER_OF_LABELS_INCORRECT_MESSAGE]="Max number of Labels is 150",ni[ri.NUMBER_OF_POINTS_INCORRECT_MESSAGE]="Max number of points is 20",ni[ri.TYPE]="Type",ni),oi="Gauge.",li=function(t){return mstrmojo.descP(oi,t,ai[t])};function si(t){return si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(t)}function ui(t,e,n){return(e=function(t){var e=function(t){if("object"!=si(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=si(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==si(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var ci="nameSelect",fi="style",Ei="sizeAndColor",di="wrapText",hi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={tagName:"VerticalLayout",key:t.section,className:"font-layout",children:[]},a=ui(ui(ui(ui(ui(ui(ui(ui({},"title",{tagName:"Text",className:"section-header-text",text:{desc:3433,name:"Font"}}),ci,{tagName:"FontSelect",key:t.fontName||"fontName",ariaLabel:{desc:2027,name:"Font"},className:"select-font-name",disabled:n.fontName}),fi,{tagName:"MultiSelectBarLogic",key:t.fontStyle||"fontStyle",disabled:n.fontStyle,className:"dossier-font-style",checked:[!1,!1,!1,!1],innerClassName:"font-style-icons",options:["bold","italic","underline","underscore"]}),Ei,{tagName:"HorizontalLayout",className:"size-and-color",children:[{tagName:"InputNumber",key:t.fontSize||"fontSize",disabled:n.fontSize,format:"pt",min:1,value:12,isValueString:r.isFontSizeString,showStepper:!0},{tagName:"ColorPicker",key:t.fontColor||"fontColor",disabled:n.fontColor}]}),"horizontalAlign",{tagName:"Radio",key:t.textAlignment||"textAlignment",className:t.textAlignmentStyle||"toggle-button-radio _4item",innerClassName:"font-style-icons",horizontal:!0,useIcons:!0,useButtons:!0,options:t.textAlignmentOptions||["align-left","align-center","align-right","justify"]}),"verticalAlign",{tagName:"Radio",key:t.verticalAlign||"verticalAlign",className:"toggle-button-radio _3item",innerClassName:"vertical-align-icons",horizontal:!0,useIcons:!0,useButtons:!0,options:["top","middle","bottom"]}),"rotation",{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"Text",text:{desc:12283,name:"Rotation"}},{tagName:"Select",key:t.rotation||"rotation",ariaLabel:{desc:12283,name:"Rotation"},className:"select-font-name",options:n.NGM_ROTATION?[{desc:2066,name:"Horizontal",value:0},{desc:2069,name:"Vertical",value:270}]:[{desc:4604,name:"Auto"},{desc:2066,name:"Horizontal"},{desc:2069,name:"Vertical"},{desc:2056,name:"Custom"}]}]}),di,{tagName:"Checkbox",key:t.wrapText||"wrapText",text:li(ri.WRAP_TEXT)});return e.length>0&&Object.keys(a).forEach(function(t){return e.includes(t)||delete a[t]}),Object.keys(a).forEach(function(t){return i.children.push(a[t])}),i};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var _i=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},pi=(Fr.EMPTY_VIZ_WARNING_MESSAGE,function(t){return{tagName:"Text",className:"section-header-text",text:t}});mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var gi,mi,Ai,Si,Ni;li(ri.SHOW_DATA_LABELS),Fr.DATA_LABELS_ENABLED,li(ri.COLOR_BY),li(ri.BACKGROUND),li(ri.METRIC_VALUE),li(ri.BACKGROUND),Fr.SHAPE_SELECTOR_WITH_COLOR_BY,Fr.SHAPE_SELECTOR_WITHOUT_COLOR_BY,Fr.SHAPE_COLOR_BY_ELEMENT,li(ri.METRIC_VALUE),Hr[Fr.SELECTED_LABELS_TYPE].METRIC_VALUE,li(ri.METRIC_NAME),Hr[Fr.SELECTED_LABELS_TYPE].METRIC_NAME,li(ri.BREAK_BY),Hr[Fr.SELECTED_LABELS_TYPE].BREAK_BY,Fr.SELECTED_LABELS_TYPE,Fr.LABEL_BREAK_BY_ATTRIBUTE,Fr.LABELS_TEXT_SIZE_TYPE,li(ri.AUTO),li(ri.FIXED);Fr.DATA_LABELS_AND_MARKERS_SECTION,pi(li(ri.FONT)),li(ri.TEXT_SIZE),void 0===(Si=Fr.METRIC_VALUE_LABEL_FONT_SECTION)&&(Si="fontSection"),hi({fontName:Fr.FONT_FAMILY,fontStyle:Fr.FONT_STYLE,fontSize:Fr.FONT_SIZE,fontColor:Fr.FONT_COLOR,section:Si},[ci,fi,Ei]),function(t){void 0===t&&(t="fontSection"),hi({fontName:Fr.FONT_FAMILY,fontStyle:Fr.FONT_STYLE,fontSize:Fr.FONT_SIZE,fontColor:Fr.FONT_COLOR,wrapText:Fr.FONT_WRAP,section:t},[ci,fi,Ei,di])}(Fr.OTHER_LABELS_FONT_SECTION),pi(li(ri.SHAPE)),gi=Fr.SHAPE_FILL_COLOR,mi=Fr.SHAPE_FILL_OPACITY,Ai=li(ri.FILL),_i(Ai?[{tagName:"Text",className:"format-select-text",text:Ai}]:[],[{tagName:"ColorPicker",key:gi},{tagName:"InputNumber",value:100,format:" %",min:0,max:100,key:mi,showStepper:!1,applyChangeOnFocusOut:!1}],!0),function(t,e,n){var r=[{tagName:"Select",key:t,ariaLabel:{desc:19279,name:"Lines"},isValueNumber:!0,innerClassName:"lines",options:[{value:0,name:{desc:2057,name:"None"}},{value:1,name:{desc:19532,name:"1 point dotted"}},{value:2,name:{desc:19530,name:"1 point dashed"}},{value:3,name:{desc:19531,name:"1 point solid"}},{value:4,name:{desc:19533,name:"2 point solid"}}],icons:["none","dot","dash","solid","solid-thick"]},{tagName:"ColorPicker",key:e}];_i(n?[{tagName:"Text",className:"format-select-text",text:n}]:[],r,!0)}(Fr.SHAPE_BORDER_STYLE,Fr.SHAPE_BORDER_COLOR,li(ri.BORDER)),mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={}),mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={}),(Ni={})[Fr.ENTIRE_GRAPH_SECTION]=li(ri.ENTIRE_GRAPH),Ni[Fr.AXIS_SECTION]=li(ri.AXIS),Ni[Fr.DATA_LABELS_AND_MARKERS_SECTION]=li(ri.DATA_LABELS_AND_MARKERS),Ni[Fr.NEEDLE_SECTION]=li(ri.NEEDLE),Ni[Fr.BANDS_SECTION]=li(ri.BANDS),Ni[Fr.REFERENCE_LINES_SECTION]=li(ri.REFERENCE_LINES),mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var Li=[Fr.ENTIRE_GRAPH_FONT_OPTIONS,Fr.AXIS_FONT_OPTIONS,Fr.METRIC_VALUE_FONT_OPTIONS,Fr.METRIC_NAME_FONT_OPTIONS],Ti=[Fr.AXIS_FONT_OPTIONS,Fr.METRIC_VALUE_FONT_OPTIONS,Fr.METRIC_NAME_FONT_OPTIONS],yi=[Fr.ATTRIBUTES_LABELS_FONT_OPTIONS,Fr.REFERENCE_LINES_FONT_OPTIONS];mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={}),mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var vi=function(t,e){var n,r=t.tag,i=void 0===r?"div":r,a=t.classes,o=void 0===a?[]:a,l=t.content,s=void 0===l?"":l,u=t.style,c=void 0===u?{}:u,f=t.otherAttributes,E=void 0===f?{}:f;void 0===e&&(e=!0);var d=document.createElement(i);return(n=d.classList).add.apply(n,o),d.innerHTML=e?mstrmojo.string.encodeHtmlString(s):s,Object.assign(d.style,c),Object.entries(E).forEach(function(t){var e=t[0],n=t[1];d.setAttribute(e,mstrmojo.string.encodeHtmlString(n))}),d};function Ii(t){return Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(t)}mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var Oi=function(t,e){return t.zonesModel.getDropZoneObjectsByIndex(e).length>0},Ri=function(t,e){return t.zonesModel.getDropZoneObjectsByIndex(e)},Mi=function(t,e,n){return mstrmojo.num.formatByMask(t.model.data.nf[e].nfs,n)},Ci=function(t){return t*Math.PI/180},bi=function(t){return 180*t/Math.PI},xi=function(t){return 1.328147*t},Di=function(t){return.75292857248934*t},wi=function(t){var e=[];return[Rr.METRIC,Rr.REFERENCE_METRIC,Rr.MIN_VALUE,Rr.MAX_VALUE].forEach(function(n){var r=function(t,e){return t.zonesModel.getDropZoneObjectsByIndex(e).length}(t,n);e.push.apply(e,Array(r).fill(n))}),e},Bi=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=[];return r&&a.push("underline"),i&&a.push("line-through"),{fontWeight:e?"bold":"normal",fontStyle:n?"italic":"normal",textDecoration:a.join(" ")||"none currentcolor solid"}},Gi=function(t){return document.getElementById(t.getCustomProperty("gaugeId"))},Pi=function(t,e){return t.getGraphicModels().filter(function(t){return t.getCustomProperty("gaugeId")===e.id})},Ui=function(t,e){var n=Math.abs(t);return n>=105&&n<=255?"outside"===e?"end":"start":n>75&&n<105||n>255&&n<285?"middle":"outside"===e?"start":"end"},Fi=function(t){return t===Hr[Fr.GAUGE_DEGREE].degree180?[Ci(-180),Ci(0)]:t===Hr[Fr.GAUGE_DEGREE].degree270?[Ci(-225),Ci(45)]:[Ci(-90),Ci(270)]},Vi=function(t){switch(t){case Mr.NONE:return"0 0";case Mr.DOTTED_LINE_TYPE:return"1 1";case Mr.DASHED_LINE_TYPE:return"3 3";case Mr.THIN_LINE_TYPE:case Mr.THICK_LINE_TYPE:return"1 0"}},Yi=function(t){if("object"!==Ii(t)||null===t)return t;var e;if(Array.isArray(t)){var n=(e=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([],t,!0))[0];n&&"object"===Ii(n)&&e.forEach(function(t,n){e[n]=Yi(t)})}else e={},Object.entries(t).forEach(function(t){var n=t[0],r=t[1];e[n]=Yi(r)});return e},Hi=function(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(!(e.right<i.left||e.left>i.right||e.bottom<i.top||e.top>i.bottom))return!0}return!1};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var ki=function(t,e){var n=new(0,mstrmojo.customviz.GraphicModel),r=e.attributeSelector;return n.setSelector(r,r.isSelectAttr),n.setDrillOptions(r,[{dropZoneIndex:Rr.BREAK_BY,keepParent:!1},{dropZoneIndex:Rr.COLOR_BY,keepParent:!1}]),n.setGroupOptions([e]),n},ji=function(t,e){var n=new(0,mstrmojo.customviz.GraphicModel);return n.setSelector(e.metricSelector,!1),n},Wi=function(t,e,n){var r=e.properties,i=n.source,a=n.value,o=n.metric;if(r[i]===Hr[i].fixed)return{raw:r[a],formatted:Mi(e,0,r[a])};var l=t.find(function(t){return t.id===r[o]});return{raw:l.rv,formatted:l.v}},Xi=function(t,e){var n;return null===(n=e.find(function(e){var n;return null===(n=e.headers[t])||void 0===n?void 0:n.name}))||void 0===n?void 0:n.headers[t].attributeSelector.tid};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var zi,$i=function(t,e,n){t.errorMessage=e,t.errorDetails=n,t.displayError()},Ki={default:{message:li(ri.NOT_ENOUGH_DATA_OR_VISUALIZATION_INCOMPLETE_MESSAGE),details:(zi=li(ri.ADD_1_OR_MORE_METRICS),zi.replace(/####/g,"</span>").replace("#",'<span class="ghost-vis-txt-metric">'))},envNotSupported:{message:li(ri.GAUGE_IS_NOT_SUPPORTED_MESSAGE),details:""}};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var Zi=function(){return Zi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Zi.apply(this,arguments)},qi=function(t,e,n){var r=t.fontFamily,i=t.fontStyle,a=Bi(i),o=a.fontWeight,l=a.fontStyle,s=a.textDecoration,u=tr(n).append("svg"),c=[];return u.selectAll("text").data(e).enter().append("text").attr("font-family",r).style("font-weight",o).style("font-style",l).style("text-decoration",s).text(function(t){return t}).each(function(){var t=this.getBoundingClientRect().width;c.push(t/10)}),u.append("text").attr("font-family",r).text("t t").each(function(){var t=this.getBoundingClientRect().width;c[32]=t/10-2*c["t".charCodeAt(0)]}),u.remove(),c},Ji=function(t){var e=t.text,n=t.fontArrayWidth,r=t.fontSize,i=Math.max.apply(Math,n);return e?e.split("").map(function(t){return t.charCodeAt(0)<n.length?n[t.charCodeAt(0)]:i}).reduce(function(t,e){return e+t})*xi(r):0},Qi=function(t){for(var e=t.maxLabelWidth,n=t.label,r=t.numberOfCharactersInSingleLine,i=t.fontArrayWidth,a=t.fontSize,o=r+1;Ji({text:"".concat(n.substring(0,o),"..."),fontArrayWidth:i,fontSize:a})>e&&o>0;)o-=1;return o<=0?"":"".concat(n.substring(0,o),"...")},ta=function(t){var e=t.maxLabelWidth,n=t.label,r=t.labelWidth/n.length,i=Math.floor(e/r);return Qi(Zi(Zi({},t),{numberOfCharactersInSingleLine:i}))},ea=function(t){var e,n=t.maxLabelWidth,r=t.label,i=t.fontArrayWidth,a=t.fontSize,o=t.numberOfCharactersInSingleLine,l=t.dividedText,s=t.isLastLine,u=r.split(" "),c=!1,f=u[0];if(f.length>o)e=Qi({maxLabelWidth:n,label:f,numberOfCharactersInSingleLine:o,fontArrayWidth:i,fontSize:a}),c=!0;else{for(var E=f,d=1;d<u.length&&(f+=" ".concat(u[d])).length<=o;d++)E=f;e=E,s&&e.length<r.length&&(e=Qi({maxLabelWidth:n,label:f,fontArrayWidth:i,numberOfCharactersInSingleLine:o,fontSize:a}),c=!0)}return l.push(e),[c,r.substring(e.length+1)]},na=function(t){var e,n=t.maxLabelWidth,r=t.label,i=t.labelWidth,a=t.fontArrayWidth,o=t.fontSize,l=t.maxNumberOfTextLines,s=t.isText,u=t.maxWidthSecondLineOfTotal,c=[],f=r,E=i/f.length,d=Math.floor(n/E);if(s)for(var h=!1,_=r,p=0;p<l;p++)!h&&_&&(h=(e=ea({label:_,numberOfCharactersInSingleLine:d,dividedText:c,isLastLine:p===l-1,maxLabelWidth:n,fontArrayWidth:a,fontSize:o}))[0],_=e[1]);else{var g=void 0,m=d;c.push(f.substring(0,m)),g=f.substring(m);var A=Math.floor(u/E);g.length>A&&(g="".concat(g.substring(0,A-3),"...")),f.substring(0,m)&&c.push(g)}return c},ra=function(t,e,n,r,i,a){var o=a.needleEnabled,l=a.gaugeDegree,s=a.dataLabelsEnabled,u=(i-90)*Math.PI/180,c=Math.abs(-n*Math.sin(u))+10;if(r===Hr.axisLabelsPosition.outside)return t/2-c;if(r===Hr.axisLabelsPosition.inside){if(o&&(l===Hr.gaugeDegree.degree180||l===Hr.gaugeDegree.degree270))return.9*e;if(!s)return.9*e}return.75*e},ia=function(t,e){var n=[t.node().getBoundingClientRect()];t.selectAll(".".concat(e)).nodes().forEach(function(t){var e=t.getBoundingClientRect();Hi(n,t.getBoundingClientRect())&&(e.left<n[0].left||e.right>n[0].right||e.top<n[0].top||e.bottom>n[0].bottom)&&t.remove()})};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var aa=function(t,e,n,r,i,a){if("middle"===Ui(bi(e(t)),n)&&a>10){if("outside"===n)return r+.25*i;if("inside"===n)return r-.25*i}return r},oa=function(t,e,n,r,i,a,o){var l=r.axisLabelsPosition,s=r.axisGraduatedScaleEnabled,u=r.axisFontOptions,c=r.axisLineColor,f=r.axisLineStyle,E=r.referenceLines,d=u.fontFamily,h=u.fontStyle,_=u.fontSize,p=u.fontColor,g=u.fontWrap,m=xi(_),A=n.minValue,S=n.maxValue,N=e.gaugeDegree,L=e.centerPosition,T=e.outerRadius,y=e.gaugeContainerWidth,v=e.gaugeThickness,I=Fi(N),O=function(t,e){var n=t.outerRadius,r=t.innerRadius,i=t.gaugeThickness;return e===Hr.axisLabelsPosition.outside?{x1:n+.3*i,x2:n+br*i,labelDistanceRadius:n+xr*i}:{x1:r-.3*i,x2:r-br*i,labelDistanceRadius:r-xr*i}}(e,l),R=function(t,e,n){for(var r=t.axisLabelsNumber,i=t.axisSplitType,a=t.axisGraduatedScaleNumberOfPoints,o=t.axisGraduatedScaleEnabled,l=e.gaugeDegree,s=n.minValue,u=n.maxValue,c=function(t,e){var n,r,i=t.axisLabelsNumber,a=t.axisGraduatedScaleEnabled,o=t.axisGraduatedScaleNumberOfPoints,l=t.axisSplitType,s=t.axisIntervalValue,u=e.gaugeRange;return l===Hr.axisSplitType.interval&&s>0?r=u/(n=a&&o>0?s/(o+1):s):l===Hr.axisSplitType.number&&(n=u/((r=a&&o>0&&i>0?i+(i-1)*o:i)-1)),{rangeBetweenTicks:n,numberOfTicks:r}}(t,e),f=c.rangeBetweenTicks,E=c.numberOfTicks,d=[],h=[],_=[],p=0;p<E;p++)d.push(s.raw+f*p),i===Hr.axisSplitType.number&&o&&a>0&&r>0&&(0!==p&&p%(a+1)!==0||h.push(s.raw+f*p)),i===Hr.axisSplitType.interval&&o&&a>0&&(0!==p&&p%(a+1)!==0||h.push(s.raw+f*p));return h.length>0?_=d.filter(function(t){return!h.includes(t)}):h=d,1===r&&i===Hr.axisSplitType.number&&(h=[]).push(u.raw),i===Hr.axisSplitType.interval&&h[h.length-1]!==u.raw&&h.push(u.raw),(l===Hr.gaugeDegree.degree360&&i===Hr.axisSplitType.number&&1!==r||l===Hr.gaugeDegree.degree360&&i===Hr.axisSplitType.interval)&&h.shift(),{majorTicks:h,minorTicks:_}}(r,e,n),M=R.majorTicks,C=R.minorTicks,b=Bi(h),x=b.fontWeight,D=b.fontStyle,w=b.textDecoration,B=Qn().domain([A.raw,S.raw]).range(I),G=t.append("g").selectAll("g").data(M).enter().append("g").attr("transform",function(t){return"translate(".concat(L.x,", ").concat(L.y,") rotate(").concat(bi(B(t)),")")});f!==Mr.NONE&&G.append("line").attr("x1",O.x1).attr("x2",O.x2).attr("stroke",c).attr("stroke-dasharray",Vi(f)).attr("stroke-width",f===Mr.THICK_LINE_TYPE?2:1),G.append("text").attr("class","axis-label").attr("x",function(t){return aa(t,B,l,O.labelDistanceRadius,v,m)}).style("font-family",d).style("font-size",m).style("font-weight",x).style("font-style",D).style("text-decoration",w).style("word-break","".concat(g?"break-word":"normal")).attr("fill",p).style("alignment-baseline","middle").style("text-anchor",function(t){return Ui(bi(B(t)),l)}).attr("transform",function(t){return"rotate(".concat(0-bi(B(t)),", ").concat(aa(t,B,l,O.labelDistanceRadius,v,m),", ").concat(0,") translate(0, 0)")}).text(function(t){var e=function(t,e,n,r,i){var a=Mi(t,0,e);return Hr.gaugeDegree.degree360===r&&n[n.length-1]===e?"(".concat(a,") ").concat(i.formatted):a}(i,t,M,N,A),n=Ji({text:e,fontArrayWidth:a.axis,fontSize:m}),o=ra(y,O.labelDistanceRadius,T,l,bi(B(t)),r);return n>o?ta({maxLabelWidth:o,label:e,labelWidth:n,fontArrayWidth:a.axis,fontSize:m}):e});var P=t.selectAll(".axis-label").nodes(),U=P.filter(function(t){return!!Hi(o,t.getBoundingClientRect())||(o.push(t.getBoundingClientRect()),!1)}),F=0;U.forEach(function(e){t.selectAll(".axis-label").filter(function(t,n){return n===P.indexOf(e)-F&&(F++,!0)}).remove()}),o=[],ia(t,"axis-label"),E.length>0&&ia(t,"reference-label"),s&&C.length>0&&f!==Mr.NONE&&t.append("g").selectAll("g").data(C).enter().append("line").attr("x1",O.x1).attr("x2",O.x2).attr("stroke",c).attr("stroke-dasharray",Vi(f)).attr("stroke-width",f===Mr.THICK_LINE_TYPE?2:1).attr("transform",function(t){return"translate(".concat(L.x,", ").concat(L.y,") rotate(").concat(bi(B(t)),")")})};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var la=function(t,e,n){var r=t.centerPosition,i=e.fontFamily,a=e.fontStyle,o=e.fontSize,l=e.fontColor,s=Bi(a),u=s.fontWeight,c=s.fontStyle,f=s.textDecoration,E=xi(o);return{transform:"translate(".concat(r.x,"px, ").concat(r.y+n,"px) translate(-50%, 0%)"),height:"".concat(E,"px"),lineHeight:"".concat(E,"px"),fontSize:"".concat(E,"px"),fontFamily:i,color:l,fontWeight:u,fontStyle:c,textDecoration:f}},sa=function(t,e,n,r,i,a,o){var l=["data-label"],s=r.fontOptions,u=r.label,c=r.maxContainerWidth,f=r.labelOffset,E=r.fontFamilyWidth,d=r.currentLabelHeight,h=r.wrapAllowed,_=r.isSecondAttributeNameLabel,p=t.gaugeThickness,g=t.innerRadius,m=s.fontSize,A=s.fontWrap,S=xi(m),N=!1,L=u,T=Ji({text:u,fontArrayWidth:E,fontSize:S}),y=[],v=i?c-p:c;o&&(v=2.7*g),T>v&&(A&&h?(y.push.apply(y,na({maxLabelWidth:v,label:u,labelWidth:T,maxNumberOfTextLines:2,isText:!0,maxWidthSecondLineOfTotal:v,fontArrayWidth:E,fontSize:S})),L=y[0]):L=ta({maxLabelWidth:v,label:u,labelWidth:T,fontArrayWidth:E,fontSize:S}));var I=i?f+a:f,O=la(t,s,I),R=vi({classes:l,content:L,style:O});if(e.appendChild(R),n.push(R.getBoundingClientRect()),A&&h&&y.length>1){var M=y[1],C=Ji({text:M,fontArrayWidth:E,fontSize:S}),b=_?4.7*p:p;C>v-b&&(M=ta({maxLabelWidth:v-b,label:y[1],labelWidth:C,fontArrayWidth:E,fontSize:S}));var x=la(t,s,I+d),D=vi({classes:l,content:M,style:x});e.appendChild(D),n.push(D.getBoundingClientRect()),N=!0}return N},ua=function(t,e,n,r,i,a,o){var l=i.dataLabelsDisplay,s=i.metricValueFontOptions,u=i.metricNameFontOptions,c=i.attributesLabelsFontOptions,f=i.needleEnabled,E=i.gaugeDegree,d=function(t,e){var n=e.metricNameFontOptions,r=e.metricValueFontOptions,i=e.attributesLabelsFontOptions;return{valueLabelContainerHeight:xi(r.fontSize),metricLabelContainerHeight:xi(n.fontSize),firstAttributeContainerHeight:t.attributeIds[0]?xi(1.3*i[t.attributeIds[0]].fontSize):0,secondAttributeContainerHeight:t.attributeIds[1]?xi(1.3*i[t.attributeIds[1]].fontSize):0}}(r,i),h=function(t,e,n,r){var i,a,o,l,s,u=r.valueLabelContainerHeight,c=r.firstAttributeContainerHeight,f=n.needleEnabled,E=n.dataLabelsDisplay,d=t.gaugeThickness,h=t.gaugeDegree,_=E[0],p=E[1],g=!_&&p,m=_&&!p,A=p&&_,S=e.label.length>1;return f&&A?h===Hr.gaugeDegree.degree180?(o=(a=2*d)+u+d,s=(l=a+u+d)+c):h===Hr.gaugeDegree.degree270?(o=(a=4*d)+u+d,s=(l=a+u+d)+c):(a=-1*d-u,o=1*d,s=(l=d)+c):!f&&A&&(a=-d/2-u,o=d/2,s=(l=d/2)+c),(g||m)&&(i=function(t,e,n,r){var i,a,o,l,s=t.gaugeThickness,u=t.gaugeDegree,c=e.valueLabelContainerHeight,f=e.metricLabelContainerHeight,E=e.firstAttributeContainerHeight;return n?u===Hr.gaugeDegree.degree180?(i=2*s,l=(o=a=2*s)+E):u===Hr.gaugeDegree.degree270?(i=4*s,a=4*s,l=(o=4*s)+E):(i=-2*s-c,a=-2*s-f,o=-2*s-E,l=2*s):(i=-c/2,a=-f/2,o=r?-E-s:-E/2,l=s),{metricValueOffset:i,metricNameOffset:a,firstAttributeNameOffset:o,secondAttributeNameOffset:l}}(t,r,f,S),a=i.metricValueOffset,o=i.metricNameOffset,l=i.firstAttributeNameOffset,s=i.secondAttributeNameOffset),{metricValueOffset:a,metricNameOffset:o,firstAttributeNameOffset:l,secondAttributeNameOffset:s}}(e,r,i,d),_=h.metricValueOffset,p=h.metricNameOffset,g=h.firstAttributeNameOffset,m=h.secondAttributeNameOffset,A=d.valueLabelContainerHeight,S=d.metricLabelContainerHeight,N=d.firstAttributeContainerHeight,L=d.secondAttributeContainerHeight,T=function(t,e){var n=t.innerRadius,r=t.gaugeThickness,i=e.needleEnabled;return{metricValueMaxContainerWidth:i?2*n-2*r:2*n,metricNameMaxContainerWidth:2*n+1.5*r,firstAttributeMaxContainerWidth:2*n+1.5*r,secondAttributeMaxContainerWidth:i?2*n-r:2*n}}(e,i),y=T.metricValueMaxContainerWidth,v=T.metricNameMaxContainerWidth,I=T.firstAttributeMaxContainerWidth,O=T.secondAttributeMaxContainerWidth,R=r.value,M=r.label,C=n.groupLabel,b=l[0],x=l[1],D=null!==C,w=M.length>1,B=!1,G=x&&(E===Hr.gaugeDegree.degree180||f&&E===Hr.gaugeDegree.degree270);if(x&&function(t,e,n,r){var i=r.fontOptions,a=r.label,o=r.maxContainerWidth,l=r.labelOffset,s=r.fontFamilyWidth,u=i.fontSize,c=xi(u),f=a,E=Ji({text:f,fontArrayWidth:s,fontSize:c});E>o&&(f=ta({maxLabelWidth:o,label:f,labelWidth:E,fontArrayWidth:s,fontSize:c}));var d=la(e,i,l),h=vi({classes:["data-label"],content:f,style:d});t.appendChild(h),n.push(h.getBoundingClientRect())}(t,e,o,{label:R.formatted,fontOptions:s,fontFamilyWidth:a.metricValueLabel,labelOffset:_,maxContainerWidth:y,currentLabelHeight:A,wrapAllowed:!1,isSecondAttributeNameLabel:!1}),b&&D){var P={label:M[0],fontOptions:c[r.attributeIds[0]],fontFamilyWidth:a[r.attributeIds[0]],labelOffset:g,maxContainerWidth:I,currentLabelHeight:N,wrapAllowed:!0,isSecondAttributeNameLabel:!1};if(B=sa(e,t,o,P,!1,0,G),w){var U=function(t,e,n){var r=t.needleEnabled,i=t.gaugeDegree,a=!(r&&i===Hr.gaugeDegree.degree360),o=e;return r||n||(o=!1),i===Hr.gaugeDegree.degree360&&r&&!n&&(o=!1,a=!0),{allowSecondAttributeWrap:a,adjustedWasFirstLabelWrapped:o}}(i,B,x),F=U.allowSecondAttributeWrap,V=U.adjustedWasFirstLabelWrapped,Y={label:M[1],fontOptions:c[r.attributeIds[1]],fontFamilyWidth:a[r.attributeIds[1]],labelOffset:m,maxContainerWidth:O,currentLabelHeight:L,wrapAllowed:F,isSecondAttributeNameLabel:!0};sa(e,t,o,Y,V,N,G)}}if(b&&!D){var H={label:M[0],fontOptions:u,fontFamilyWidth:a.metricNameLabel,labelOffset:p,maxContainerWidth:v,currentLabelHeight:S,wrapAllowed:!0,isSecondAttributeNameLabel:!1};sa(e,t,o,H,!1,0,G)}};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var ca=1500;mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var fa,Ea=function(){return Ea=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ea.apply(this,arguments)},da=Hr.gaugeDegree,ha=da.degree180,_a=da.degree270,pa=da.degree360,ga=.14-(.5-.28),ma=-(.5-.035),Aa="metric",Sa="attribute",Na=((fa={})[ha]=1.8,fa[_a]=1,fa[pa]=1,fa),La=function(t,e,n){switch(t){case ha:return e&&!n?-.07:n?.17500000000000002:.035;case _a:return n?ga:ma;default:return 0}},Ta=function(t,e,n,r){var i=t.properties,a=t.parsedData.attributeIds,o=i.needleEnabled,l=i.dataLabelsDisplay,s=i.dataLabelsEnabled,u=i.attributesLabelsFontOptions,c=i.metricValueFontOptions,f=i.labelsTextSizeType,E=i.gaugeDegree,d=l[0],h=l[1],_=a[n],p=null==r?void 0:r[n],g=e===Aa?c:u[_],m=f===Hr.labelsTextSizeType.AUTO,A=d&&s,S=h&&s,N={shouldAffectCalculations:!1,isAutoTextSize:m,canWrap:!(!(null==g?void 0:g.fontWrap)||!p),fontSize:0,autoSpaceAspectRatioCoefficient:0,longestWrappableAttributeLabel:p,additionalAspectRatioCoefficient:0,wrapLimitCoefficient:0};if(e===Aa)N.shouldAffectCalculations=S&&(o||E===ha&&!A),N.additionalAspectRatioCoefficient=La(E,!A,o),N.fontSize=m?14:Number(g.fontSize),N.autoSpaceAspectRatioCoefficient=.09641532756489493;else{var L=2===r.length,T=!o&&!S;if(N.shouldAffectCalculations=A&&(o||E!==pa)&&!(T&&0===n),N.fontSize=1.3*(m?14/1.618:Number(g.fontSize)),N.autoSpaceAspectRatioCoefficient=.09641532756489493,0!==n||S&&(o||E!==_a)||(N.additionalAspectRatioCoefficient=La(E,L,o)),1===n&&T&&(N.additionalAspectRatioCoefficient=La(E,!1,o)),N.canWrap){var y=0;h&&(E===ha||o&&E===_a)?y=.86:o?o&&(y=.58):y=.58,y-=.07*n,N.wrapLimitCoefficient=y}}return N};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var ya=Hr.selectedLayout,va=ya.GRID,Ia=ya.HORIZONTAL,Oa=ya.VERTICAL,Ra=ya.STACKED,Ma=Hr.gaugeDegree.degree360,Ca=function(t,e,n,r,i){void 0===i&&(i=0);var a=t.properties,o=t.parsedData,l=a.containerFit,s=o.gauges.length,u=Hr.containerFit.AUTO,c=e.selectedLayout,f=1===s||c===Ra,E=function(t,e,n,r,i,a){var o=t.domNode,l=o.clientHeight,s=o.clientWidth,u=e.layoutGridNumberOfColumns,c=Math.ceil(n/u),f=r*((l-a*Math.max(Math.min(l/s*u*r,c),1))/l);return f>i?{containerAspectRatio:i,finalAspectRatioCoefficient:i,finalVerticalSpaceTakenByText:0}:{containerAspectRatio:f,finalAspectRatioCoefficient:r,finalVerticalSpaceTakenByText:a}}(t,e,s,n,r,i),d=E.containerAspectRatio,h=E.finalAspectRatioCoefficient,_=E.finalVerticalSpaceTakenByText;if(f)return function(t,e,n){void 0===n&&(n=0);var r=t.domNode,i=r.clientWidth,a=r.clientHeight,o=Math.min(i,(a-n)*e);return{gaugeContainerWidth:o,gaugeContainerHeight:o/e+n}}(t,h,i);if(l===u){var p=function(t,e,n,r){var i=t.domNode,a=i.clientWidth,o=i.clientHeight,l=e.layoutGridNumberOfColumns,s=e.selectedLayout;if(1===n||s===Ra)return 1;var u=a/o/r;switch(s){case va:return Math.max(u,Math.min(l,n));case Ia:return Math.max(Math.ceil(u),1);case Oa:return Math.max(u,1)}}(t,e,s,d);return function(t,e,n,r){var i=t.domNode.clientWidth,a=Math.max(Math.floor(i/e),75);return{gaugeContainerWidth:a,gaugeContainerHeight:Math.floor(a/n)+r}}(t,p,h,_)}return function(t,e,n,r,i){var a=t.domNode,o=a.clientWidth,l=a.clientHeight,s=e.layoutGridNumberOfColumns,u=e.selectedLayout,c=0,f=Math.ceil(n/s),E=(l-i*f)*r;switch(u){case va:c=Math.min(o/s,E/f);break;case Ia:c=Math.min(o/n,E);break;case Oa:c=Math.min(o,E/n)}c=Math.floor(Math.max(c,75));var d=Math.floor(c/r)+i;return t.shouldAddScrollbars=c*s>o||d*f>l,{gaugeContainerWidth:c,gaugeContainerHeight:d}}(t,e,s,h,_)},ba=function(t,e){var n=t.properties,r=n.labelsTextSizeType,i=n.gaugeSize,a=n.gaugeDegree,o=n.needleEnabled,l=r===Hr.labelsTextSizeType.AUTO,s=function(t){var e=t.properties,n=t.parsedData,r=e.gaugeSize,i=e.gaugeDegree,a=n.attributeIds,o=function(t){var e=t.parsedData,n=t.properties,r=t.domNode,i=e.gauges,a=n.dataLabelsDisplay,o=n.dataLabelsEnabled,l=n.attributesLabelsFontOptions,s=a[0],u=[0,0];return s&&o&&i[0].attributeIds.length>0&&i.forEach(function(t){u.forEach(function(e,n){if(t.label[n]&&t.label[n].includes(" ")){var i=t.attributeIds[n],a=l[i],o=function(t,e,n){var r=e.fontFamily,i=e.fontStyle,a=Bi(i),o=a.fontWeight,l=a.fontStyle,s=a.textDecoration,u="".concat(10,"pt"),c=vi({tag:"span",content:n,style:{fontSize:u,fontWeight:o,fontStyle:l,textDecoration:s,fontFamily:r}});t.append(c);var f=c.getBoundingClientRect().width;return c.remove(),f}(r,a,t.label[n]);o>e&&(u[n]=o/10)}})}),u}(t);return[Ta(t,Aa),a[0]?Ta(t,Sa,0,o):null,a[1]?Ta(t,Sa,1,o):null].filter(function(t){return null==t?void 0:t.shouldAffectCalculations}).map(function(t){return Ea(Ea({},t),{additionalAspectRatioCoefficient:t.additionalAspectRatioCoefficient*r*Na[i],fontSize:xi(t.fontSize),autoSpaceAspectRatioCoefficient:xi(t.autoSpaceAspectRatioCoefficient)*r*Na[i]})})}(t),u=Na[a];if(a===Ma||!o&&0===s.length)return Ca(t,e,u,u,0);u+=(1-i)/4;var c,f=function(t,e){var n=t.labelsTextSizeType===Hr.labelsTextSizeType.AUTO,r={autoSpaceAspectRatioCoefficient:0,spaceTakenForElements:[]},i=e.filter(function(t){return t.canWrap}).sort(function(t,e){return e.longestWrappableAttributeLabel-t.longestWrappableAttributeLabel});n&&(r.autoSpaceAspectRatioCoefficient=e.reduce(function(t,e){var n=e.canWrap,r=e.autoSpaceAspectRatioCoefficient,i=e.longestWrappableAttributeLabel,a=e.additionalAspectRatioCoefficient,o=e.wrapLimitCoefficient;return t+(r+a)*(n&&i>13.483333333333334*o?2:1)},0));var a=[],o=e.reduce(function(t,e){var n=e.fontSize,r=e.additionalAspectRatioCoefficient;return{space:t.space+n,additionalAspectRatioCoefficient:t.additionalAspectRatioCoefficient+r}},{space:0,additionalAspectRatioCoefficient:0});return a.push(Ea(Ea({},o),{maximumWidthToApply:1/0})),i.forEach(function(t,e){a.push({space:a[e].space+t.fontSize,additionalAspectRatioCoefficient:a[0].additionalAspectRatioCoefficient,maximumWidthToApply:t.longestWrappableAttributeLabel*t.fontSize/t.wrapLimitCoefficient})}),r.spaceTakenForElements=a,r}(n,s),E=f.autoSpaceAspectRatioCoefficient,d=f.spaceTakenForElements;if(l){var h=14/Di(.12)/i;c=function(t,e,n,r){return Ca(t,e,n/(1+r),n,0)}(t,e,u,E),c.gaugeContainerWidth<h&&(l=!1)}return l||(c=function(t,e,n,r){var i=t.properties.gaugeSize,a={gaugeContainerWidth:0,gaugeContainerHeight:0};return n.forEach(function(n){var o=n.maximumWidthToApply,l=n.space,s=n.additionalAspectRatioCoefficient;o>a.gaugeContainerWidth*i&&(a=Ca(t,e,r/(1+s*r),r,l))}),a}(t,e,d,u)),c};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var xa=function(){return xa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},xa.apply(this,arguments)},Da=function(t,e,n){if(t<=0||e<=0)return 0;var r=t/e*n;return r<0?0:r>n?n:r},wa=function(t,e){return e.colorByElementsShapeOptions[t]?e.colorByElementsShapeOptions[t]:e.metricValueShapeOptions};function Ba(t,e){var n=gn(t.startAngle,t.endAngle);return function(r){return t.endAngle=n(r),e(t)}}var Ga=function(t,e,n,r,i){var a=e.innerRadius,o=e.outerRadius,l=e.startAngle,s=e.centerPosition,u=e.endAngle,c=e.cornerRadius,f=Ir().innerRadius(a).outerRadius(o).startAngle(Ci(l)).endAngle(function(t){return t.endAngle}).cornerRadius(c),E=t.append("path").attr("transform","translate(".concat(s.x,", ").concat(s.y,")")).datum({endAngle:Ci(u),startAngle:Ci(l)}).attr("d",f).attr("fill",r.fillColor).style("opacity",r.fillOpacity/100).attr("graphicModelId",n.getCustomProperty("gaugeId"));i&&E.transition().duration(ca).attrTween("d",function(t){return Ba(t,f)})},Pa=function(t,e,n,r,i){var a=e.innerRadius,o=e.outerRadius,l=e.startAngle,s=e.centerPosition,u=e.endAngle,c=e.cornerRadius,f=function(t){return{lineColor:t.borderColor,lineWidth:t.borderStyle===Mr.THICK_LINE_TYPE?2:1,lineStyle:t.borderStyle,dashArray:Vi(t.borderStyle)}}(r),E=f.lineColor,d=f.dashArray,h=f.lineWidth,_=Ir().innerRadius(a).outerRadius(o).startAngle(Ci(l)).endAngle(function(t){return t.endAngle}).cornerRadius(c),p=t.append("path").attr("transform","translate(".concat(s.x,", ").concat(s.y,")")).datum({endAngle:Ci(u),startAngle:Ci(l)}).attr("d",_).attr("fill",wr).attr("stroke",E).attr("stroke-dasharray",d).attr("stroke-width",h).attr("graphicModelId",n.getCustomProperty("gaugeId"));i&&p.transition().duration(ca).attrTween("d",function(t){return Ba(t,_)})},Ua=function(t,e,n,r){var i=t.bands,a=r.gaugeCorners,o=1===i.bandData.length;i.bandData.forEach(function(r,l){var s=0===l,u=l===i.bandData.length-1;a===Hr.gaugeCorners.rounded&&(s||u)?(Fa(t,e,n,r,!0,!1,!1),s&&!o&&Fa(t,e,n,r,!1,!0,!1),u&&!o&&Fa(t,e,n,r,!1,!1,!0)):Fa(t,e,n,r,!1,!1,!1)})},Fa=function(t,e,n,r,i,a,o){var l=t.maxValue,s=t.minValue,u=t.graphicModels,c=e.gaugeDegree,f=l.raw-s.raw,E=r.value.min-s.raw,d=r.value.max-s.raw,h=Da(E,f,c),_=Da(d,f,c),p=c===Hr.gaugeDegree.degree360?h:h-c/2,g=c===Hr.gaugeDegree.degree360?_:_-c/2;a&&(p=g-Da((d-E)/2,f,c)),o&&(g-=Da((d-E)/2,f,c));var m=xa(xa({},e),{startAngle:p,endAngle:g,cornerRadius:i?e.cornerRadius:0}),A=r.shapeOptions;Ga(n,m,u[0],r.shapeOptions,!1),A.borderStyle!==Mr.NONE&&Pa(n,m,u[0],A,!1);var S=A.borderStyle,N=A.borderColor,L=A.fillColor;if(S!==Mr.NONE&&N!==L&&(a||o)){var T=e.innerRadius,y=e.outerRadius,v=xa(xa({},e),{startAngle:(a?p:g)-1,endAngle:(a?p:g)+1,innerRadius:T+1,outerRadius:y-1,cornerRadius:0});Ga(n,v,u[0],r.shapeOptions,!1)}};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var Va=function(t,e,n,r){t.transition().duration(ca).attrTween("transform",function(){return Ve("translate(".concat(r.x,", ").concat(r.y,") rotate(").concat(e+180,")"),"translate(".concat(r.x,", ").concat(r.y,") rotate(").concat(n,")"))})},Ya=function(t,e){var n=t.group,r=t.position,i=e.radius,a=e.color,o=e.opacity;n.append("circle").attr("fill",a).attr("cx",r.x).attr("cy",r.y).attr("r",i).style("opacity",o)},Ha=function(t,e,n,r){var i=t.group,a=t.position,o=t.angle,l=t.opacity,s=t.color,u=i.append("path").attr("fill",s).attr("d",e).style("opacity",l);r?Va(u,n,o,a):u.attr("transform","translate(".concat(a.x,", ").concat(a.y,") rotate(").concat(o,")"))};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var ka=function(t,e){Object.keys(t).forEach(function(n){e.includes(n)||delete t[n]})},ja=function(t,e,n){var r=Ri(n,Rr.BREAK_BY).map(function(t){return t.id});function i(e,n){var r=t[Fr.ENTIRE_GRAPH_FONT_OPTIONS][e];return r===function(t){switch(t){case Fr.FONT_COLOR:case Fr.FONT_SIZE:return"INDETERMINATE";case Fr.FONT_FAMILY:return"?";case Fr.FONT_WRAP:return!1}}(e)?n[e]:r}ka(t[Fr.ATTRIBUTES_LABELS_FONT_OPTIONS],r);for(var a=0,o=r;a<o.length;a++){var l=o[a];t[Fr.ATTRIBUTES_LABELS_FONT_OPTIONS][l]||(t[Fr.ATTRIBUTES_LABELS_FONT_OPTIONS][l]={fontFamily:i(Fr.FONT_FAMILY,Wr),fontStyle:t[Fr.ENTIRE_GRAPH_FONT_OPTIONS].fontStyle,fontSize:t[Fr.LABELS_TEXT_SIZE_TYPE]===Hr[Fr.LABELS_TEXT_SIZE_TYPE].AUTO?"":t[Fr.METRIC_NAME_FONT_OPTIONS].fontSize,fontColor:i(Fr.FONT_COLOR,Wr),fontWrap:!1})}ka(t[Fr.REFERENCE_LINES_FONT_OPTIONS],e);for(var s=0,u=e;s<u.length;s++){var c=u[s];t[Fr.REFERENCE_LINES_FONT_OPTIONS][c]||(t[Fr.REFERENCE_LINES_FONT_OPTIONS][c]=Yi(Xr))}},Wa=function(t,e,n,r){var i=Oi(t,r);e[n]?function(t,e,n){void 0===n&&(n=!1);var r=[Rr.METRIC,Rr.REFERENCE_METRIC,Rr.MIN_VALUE,Rr.MAX_VALUE];return n&&r.push(Rr.TOOLTIP),r.some(function(n){return Ri(t,n).some(function(t){return t.id===e})})}(t,e[n],!0)||(e[n]=Ri(t,Rr.METRIC)[0].id):e[n]=i?Ri(t,r)[0].id:Ri(t,Rr.METRIC)[0].id};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var Xa,za,$a={type:"set",targets:[Fr.CONTAINER_FIT_HIDEABLE_LAYOUT,Fr.SHAPE_HIDEABLE_LAYOUT,Fr.LAYOUT_HIDEABLE_LAYOUT,Fr.DATA_LABELS_HIDEABLE_LAYOUT,Fr.AXIS_HIDEABLE_LAYOUT,Fr.REFERENCE_LINES_HIDEABLE_LAYOUT,Fr.BANDS_HIDEABLE_LAYOUT]};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var Ka={tagName:"VerticalLayout",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between",children:[{tagName:"Text",text:li(ri.LINE_LABEL)},{tagName:"Switch",key:Fr.REFERENCE_LINE_LABEL_ENABLED}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",key:Fr.REFERENCE_LINE_VALUE_LAYOUT,children:[{tagName:"Text",text:li(ri.VALUE)},{tagName:"Input",key:Fr.REFERENCE_LINE_VALUE,dataType:"number",applyChangeOnFocusOut:!0}]},{tagName:"Radio",horizontal:!0,key:Fr.REFERENCE_LINE_LABEL_POSITION,className:"toggle-button-radio _2item",options:[{name:li(ri.INSIDE),value:Hr[Fr.REFERENCE_LINE_LABEL_POSITION].inside},{name:li(ri.OUTSIDE),value:Hr[Fr.REFERENCE_LINE_LABEL_POSITION].outside}],useButtons:!0,useIcons:!1,useTooltips:!1},{tagName:"MultiSelectBarLogic",className:"horizontal-flex-space-between _2item-stretch",key:Fr.REFERENCE_LINE_LABEL_DISPLAY,options:["abc","123"],type:"label",checked:[!0,!0]}]},Za={tagName:"EditableList",key:Fr.REFERENCE_LINES,hideableLayoutKey:Fr.REFERENCE_LINES_HIDEABLE_LAYOUT,listElementTemplateString:JSON.stringify(Ka),title:li(ri.REFERENCE_LINES),listElementTitle:li(ri.CONSTANT),defaultTemplateProperties:(Xa={},Xa[Fr.REFERENCE_LINE_LABEL_ENABLED]=!0,Xa[Fr.REFERENCE_LINE_LABEL_POSITION]=Hr[Fr.REFERENCE_LINE_LABEL_POSITION].outside,Xa[Fr.REFERENCE_LINE_LABEL_DISPLAY]=[!0,!0],Xa[Fr.REFERENCE_LINE_VALUE]=0,Xa[Fr.REFERENCE_LINE_VALUE_LAYOUT]="",Xa),listElementTitleIsEditable:"static",tooltipStrings:{deleteButton:li(ri.REMOVE),addSectionButton:li(ri.ADD)},func:$a,contextMenuItems:[{title:{desc:8970,name:"Expand All"},itemIndex:"expand"},{title:{desc:8971,name:"Collapse All"},itemIndex:"collapse"}],newElementPosition:"top",componentsVisibility:(za={},za[Fr.REFERENCE_LINE_LABEL_ENABLED]="all",za[Fr.REFERENCE_LINE_LABEL_POSITION]="all",za[Fr.REFERENCE_LINE_LABEL_DISPLAY]="all",za[Fr.REFERENCE_LINE_VALUE_LAYOUT]="static",za[Fr.REFERENCE_LINE_VALUE]="static",za)};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var qa=function(){return qa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},qa.apply(this,arguments)};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var Ja=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},Qa=function(t,e){var n=Oi(e,Rr.MIN_VALUE);if(Wa(e,t,Fr.AXIS_MINIMUM_METRIC,Rr.MIN_VALUE),Wa(e,t,Fr.AXIS_MAXIMUM_METRIC,Rr.MAX_VALUE),t[Fr.AXIS_MINIMUM_SOURCE]||(t[Fr.AXIS_MINIMUM_SOURCE]=n?Hr[Fr.AXIS_MINIMUM_SOURCE].metric:Hr[Fr.AXIS_MINIMUM_SOURCE].fixed),e.isIOS){var r=t.attributesLabelsFontOptions,i=t.axisFontOptions,a=t.entireGraphFontOptions,o=t.metricNameFontOptions,l=t.metricValueFontOptions,s=t.referenceLinesFontOptions;Ja(Ja([i,a,o,l],Object.values(r),!0),Object.values(s),!0).forEach(function(t){to(t)})}t[Fr.REFERENCE_LINES]=function(t,e){var n=function(t){var e=wi(t);return t.dataInterface.getColTitles().titles[0].es.filter(function(t,n){return e[n]===Rr.REFERENCE_METRIC}).map(function(t){return{title:t.n,key:t.oid}})}(t),r=function(t,e){var n=e.map(function(t){return t.key});return t.filter(function(t){var e=t.isDynamic,r=t.key;return!(e&&!n.includes(r))})}(e,n),i=function(t,e){return t.map(function(t){if(!t.isDynamic)return t;var n=e.find(function(e){return e.key===t.key});return qa(qa({},t),n)})}(r,n),a=function(t,e){var n=t.map(function(t){return t.key}),r=e.filter(function(t){var e=t.key;return!n.includes(e)});if(r.length){var i=Yi(Za.defaultTemplateProperties);return r.length&&Object.keys(Za.defaultTemplateProperties).forEach(function(t){"static"===Za.componentsVisibility[t]&&delete i[t]}),r.map(function(t){return qa(qa({},t),{isDynamic:!0,isValid:!0,isEnabled:!0,properties:i})})}return[]}(i,n);return a.length&&a.forEach(function(t){"bottom"===Za.newElementPosition?i.push(t):i.unshift(t)}),i}(e,t[Fr.REFERENCE_LINES]),t[Fr.LABEL_BREAK_BY_ATTRIBUTE]=function(t,e,n){var r,i=Oi(t,Rr.BREAK_BY),a=e[n];if(""===a){if(i)return Ri(t,Rr.BREAK_BY)[0].id}else if(!function(t,e){return Ri(t,Rr.BREAK_BY).some(function(t){return t.id===e})}(t,a))return null===(r=Ri(t,Rr.BREAK_BY)[0])||void 0===r?void 0:r.id;return a}(e,t,Fr.LABEL_BREAK_BY_ATTRIBUTE);var u=t.referenceLines.map(function(t){return t.key});if(ja(t,u,e),e.isReadOnly||function(t,e){var n=e.controller.model.defmts.find(function(t){return"Text"===t.n}),r=(null==n?void 0:n.props.FormattingFont.Name)||t[Fr.FONT_FAMILY];t[Fr.GLOBAL_DOSSIER_FONT]!==r&&(function(t,e,n){ei(Li,yi,n,function(n){n[t]=e})}(Fr.FONT_FAMILY,r,t),t[Fr.GLOBAL_DOSSIER_FONT]=r)}(t,e),function(t,e){ka(t[Fr.REFERENCE_LINE_MARKER_COLOR],e),ka(t[Fr.REFERENCE_LINE_MARKER_STYLE],e);for(var n=0,r=e;n<r.length;n++){var i=r[n];t[Fr.REFERENCE_LINE_MARKER_COLOR][i]||(t[Fr.REFERENCE_LINE_MARKER_COLOR][i]="#4D4D4D",t[Fr.REFERENCE_LINE_MARKER_STYLE][i]=Hr[Fr.REFERENCE_LINE_MARKER_STYLE].LINE)}}(t,u),t.gaugeSizeType===Hr.gaugeSizeType.auto){var c=t.axisLabelsPosition===Hr.axisLabelsPosition.outside,f=Object.values(t.referenceLines).some(function(t){return t.isEnabled&&t.properties.referenceLineLabelEnabled&&t.properties.referenceLineLabelPosition===Hr.referenceLineLabelPosition.outside});t.gaugeSize=c||f?.65:.9}return t.axisLabelsNumber=Math.min(t.axisLabelsNumber,150),t.axisGraduatedScaleNumberOfPoints=Math.min(t.axisGraduatedScaleNumberOfPoints,20),t},to=function(t){"Open Sans"===t.fontFamily&&(t.fontFamily="Helvetica")};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var eo="slider--sliding",no="controls__dot-indicator--active",ro="prev",io="next",ao="arrow",oo=["ArrowLeft","ArrowRight","Delete","Enter","Backspace","End","Home"],lo="small",so="medium",uo="large",co="-dot-indicator";mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var fo=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},Eo=function(t,e){return{tag:"button",content:"•",classes:["controls__dot-indicator"],style:{color:e},otherAttributes:{id:t}}},ho=function(t,e,n,r){return void 0===r&&(r=[]),{tag:"button",classes:fo(fo(["controls__".concat(t,"-arrow")],n,!0),r,!0),content:e}};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={}),mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={}),mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var _o=function(t,e,n,r,i,a,o){var l=t.domNode.clientHeight;return a.controlsContainer=vi({classes:["controls"]}),n===ao?function(t,e,n,r,i,a){var o=function(t){return t===io?'<svg width="18" height="16" viewBox="0 0 18 16"><polygon id="Fill-3" fill="'.concat(Br,'" points="5 16 13 9 5 2"></polygon></svg>'):'\n\t\t\t<svg width="18px" height="16px" viewBox="0 0 18 16"><polygon id="Fill-3" fill="'.concat(Br,'" transform="translate(9.000000, 9.000000) scale(-1, 1) translate(-9.000000, -9.000000) " points="5 16 13 9 5 2"></polygon></svg>\n\t\t')},l=n<150||e<100?lo:n>300&&e>300?uo:so,s=["controls__arrow"];l===uo?i.controlsContainer.classList.add("controls--arrow-indicators"):(i.controlsContainer.classList.add("controls--smaller"),s.push("controls__arrow--smaller"));var u=l===lo?["controls__prev-arrow--smaller"]:[];i.prevArrowControl=i.controlsContainer.appendChild(vi(ho(ro,o(ro),s,u),!1)),l!==lo&&function(t,e,n,r,i){var a=function(t){var e=t.target,r=t.key,i=e.textContent,a=n.toString().length;"ENTER"===r?e.blur():i.length>a&&(e.textContent=i.substring(0,a))},o=Br,l=t.activeGaugeIndex,s=["controls__text-indicators"];e===so&&s.push("controls__text-indicators--smaller"),r.textIndicator=r.controlsContainer.appendChild(vi({classes:s,style:{color:o}})),r.activeCardTextIndicator=r.textIndicator.appendChild(vi({classes:["controls__active-card"],content:l.toString(),style:{borderBottom:"1px solid ".concat(o)},otherAttributes:{contentEditable:""}})),r.activeCardTextIndicator.addEventListener("keydown",function(e){var n=t.isSliding,r=e.key,i=e.shiftKey;isNaN(parseInt(r))&&!oo.includes(r)||i||n?e.preventDefault():a(e)}),r.activeCardTextIndicator.addEventListener("keyup",a),r.activeCardTextIndicator.addEventListener("blur",function(e){var r=t.activeGaugeIndex,a=e.target,o=parseInt(a.textContent);o>n?a.textContent=r.toString():i(o),t.isTextIndicatorEditModeActive=!1}),r.activeCardTextIndicator.addEventListener("click",function(e){t.isTextIndicatorEditModeActive=!0}),r.textIndicator.appendChild(vi({classes:["controls__slash"],content:"/"})),r.textIndicator.appendChild(vi({classes:["controls__total-cards"],content:n.toString()}))}(t,l,r,i,a),i.nextArrowControl=i.controlsContainer.appendChild(vi(ho(io,o(io),s),!1)),i.prevArrowControl.addEventListener("click",function(){return a(t.activeGaugeIndex-1)}),i.nextArrowControl.addEventListener("click",function(){return a(t.activeGaugeIndex+1)})}(e,l,r,i,a,o):function(t,e,n,r){var i=t.activeGaugeIndex;n.controlsContainer.classList.add("controls--dot-indicators");for(var a=1;a<=e;a++){var o="".concat(a).concat(co),l=n.controlsContainer.appendChild(vi(Eo(o,Br)));a===i&&l.classList.add(no)}n.controlsContainer.addEventListener("click",function(e){var n=e.target,i=t.activeGaugeIndex;if(n.classList.contains("controls__dot-indicator")){var a=parseInt(n.id);if(a===i)return;r(a)}})}(e,i,a,o),a.controlsContainer};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var po=function(){return po=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},po.apply(this,arguments)};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var go=Hr.selectedLayout,mo=go.GRID,Ao=go.HORIZONTAL,So=go.VERTICAL,No=function(t,e,n,r,i){return t.selectedLayout===e?n:Math.max(n,r*i)};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var Lo=function(t,e){var n=function(t){var e=Hr.selectedLayout,n=e.GRID,r=e.HORIZONTAL,i=e.VERTICAL,a=e.AUTO_FIT,o=Fr.SELECTED_LAYOUT,l=Fr.LAYOUT_GRID_NUMBER_OF_COLUMNS,s=t.domNode,u=t.parsedData,c=t.properties,f=s.clientWidth,E=s.clientHeight,d=u.gauges.length,h=c.selectedLayout,_={selectedLayout:h,layoutGridNumberOfColumns:c.layoutGridNumberOfColumns};if(1===d)_[o]=n,_[l]=1;else if(h===a){var p=f/E;p<2&&1/p<2?(_[o]=n,_[l]=Math.round(Math.sqrt(d))):_[o]=p>2?r:i}return _.layoutGridNumberOfColumns=function(t,e){var n=Hr.selectedLayout,r=n.GRID,i=n.HORIZONTAL,a=n.VERTICAL,o=t.selectedLayout,l=t.layoutGridNumberOfColumns;switch(o){case r:return Math.min(e,l);case i:return e;case a:return 1}}(_,d),_}(t),r=function(t,e){var n=t.properties,r=t.parsedData,i=n.gaugeSize,a=n.gaugeDegree,o=n.gaugeCorners,l=r.gauges.length,s=ba(t,e),u=s.gaugeContainerWidth,c=s.gaugeContainerHeight,f=u*i,E=f/2-2*xi(1),d=.07*f;return{gaugeContainerWidth:u,gaugeContainerHeight:c,gaugeWidth:f,innerRadius:E-d,outerRadius:E,startAngle:a===Hr.gaugeDegree.degree360?0:-a/2,endAngle:a===Hr.gaugeDegree.degree360?360:a/2,gaugeThickness:d,cornerRadius:"squared"===o?0:d,centerPosition:{x:u/2,y:u/2},numberOfGauges:l}}(t,n);t.autoFontSizes=function(t){var e,n=t.gaugeWidth,r=Math.max(Di(.12*n),14),i=r/1.618;return(e={})[Fr.METRIC_VALUE_FONT_OPTIONS]=r,e[Fr.METRIC_NAME_FONT_OPTIONS]=i,e[Fr.ATTRIBUTES_LABELS_FONT_OPTIONS]=i,e}(r),function(t){var e=t.properties,n=e.bands.map(function(t){return t.key});!function(t,e,n){var r=Object.keys(n.colorByData);e.unshift(Jr),ka(t[Fr.COLOR_BY_ELEMENTS_SHAPE_OPTIONS],r),ka(t[Fr.BANDS_SHAPE_OPTIONS],e);for(var i=0,a=r;i<a.length;i++){var o=a[i];t[Fr.COLOR_BY_ELEMENTS_SHAPE_OPTIONS][o]||(t[Fr.COLOR_BY_ELEMENTS_SHAPE_OPTIONS][o]={fillColor:"",fillOpacity:100,borderStyle:Mr.THIN_LINE_TYPE,borderColor:""})}for(var l=0,s=e;l<s.length;l++){var u=s[l];t[Fr.BANDS_SHAPE_OPTIONS][u]||(t[Fr.BANDS_SHAPE_OPTIONS][u]={fillColor:Gr,fillOpacity:100,borderStyle:Mr.THIN_LINE_TYPE,borderColor:Gr})}}(e,n,t),function(t,e){Object.keys(e.colorByData).length&&Object.keys(t[Fr.COLOR_BY_ELEMENTS_SHAPE_OPTIONS]).forEach(function(n){""===t[Fr.COLOR_BY_ELEMENTS_SHAPE_OPTIONS][n].borderColor&&(t[Fr.COLOR_BY_ELEMENTS_SHAPE_OPTIONS][n].borderColor=e.colorByData[n].color),""===t[Fr.COLOR_BY_ELEMENTS_SHAPE_OPTIONS][n].fillColor&&(t[Fr.COLOR_BY_ELEMENTS_SHAPE_OPTIONS][n].fillColor=e.colorByData[n].color)})}(e,t),function(t,e){t[Fr.LABELS_TEXT_SIZE_TYPE]===Hr[Fr.LABELS_TEXT_SIZE_TYPE].AUTO&&ei([Fr.METRIC_VALUE_FONT_OPTIONS,Fr.METRIC_NAME_FONT_OPTIONS],[Fr.ATTRIBUTES_LABELS_FONT_OPTIONS],t,function(t,n){t[Fr.FONT_SIZE]=e.autoFontSizes[n]})}(e,t),t.properties=e,t.isReadOnly||function(){var t,e=[Fr.AXIS_MINIMUM_METRIC,Fr.AXIS_MAXIMUM_METRIC,Fr.AXIS_MINIMUM_SOURCE,Fr.LABEL_BREAK_BY_ATTRIBUTE,Fr.FONT_SIZE,Fr.REFERENCE_LINES];null===(t=window.syncDossierFormatPanel)||void 0===t||t.call(window,e)}()}(t);var i=function(t,e,n){var r=n.numberOfGauges;return e.selectedLayout===Hr.selectedLayout.STACKED?function(t,e){var n=t.properties,r=t.domNode.clientWidth,i=n.activeGaugeIndex,a=n.layoutStackedAutoPlay,o={activeGaugeIndex:t.activeGaugeIndex||i,isSliding:!1,isTextIndicatorEditModeActive:!1},l={vizContainer:null,slider:null,controlsContainer:null,prevArrowControl:null,nextArrowControl:null,textIndicator:null,activeCardTextIndicator:null},s=function(e,n){void 0===n&&(n=!1);var i=o.isSliding,a=o.activeGaugeIndex,s=t.intervalAutoPlayId;i||e===a||(!n&&s&&(clearInterval(s),t.intervalAutoPlayId=null),o.isSliding=!0,o.activeGaugeIndex=e,l.slider.classList.add(eo),l.slider.style.transform="translate(-".concat(r*e,"px)"))},u=function(){t.intervalAutoPlayId=window.setInterval(function(){var e=t.isTooltipVisible,n=t.autoPlayEnabled,r=o.isSliding,i=o.isTextIndicatorEditModeActive;!n||r||e||i||s(o.activeGaugeIndex+1,!0)},3400)};o.activeGaugeIndex>e&&(o.activeGaugeIndex=e);var c=30*e>r?ao:"dot";return a&&u(),l.vizContainer=vi({tag:"div",classes:["stacked-container"],style:{width:"".concat(r,"px")}}),l.vizContainer.append(function(t,e,n,r,i,a){var o,l,s=30*i>r?ao:"dot",u=function(){var t=e.activeGaugeIndex;n.slider.classList.remove(eo),0===t?(t=i,n.slider.style.transform="translate(-".concat(r*t,"px)")):t>i&&(t=1,n.slider.style.transform="translate(-".concat(r*t,"px)")),e.activeGaugeIndex=t},c=function(){var t=e.activeGaugeIndex,r=n.activeCardTextIndicator;r&&(r.innerHTML="".concat(t))},f=function(){var t=e.activeGaugeIndex;n.controlsContainer.querySelector(".".concat(no)).classList.remove(no),document.getElementById("".concat(t).concat(co)).classList.add(no)};return o=e.activeGaugeIndex,l=r*(i+2),n.slider=n.vizContainer.appendChild(vi({tag:"section",classes:["slider"],style:{width:"".concat(l,"px")}})),n.slider.addEventListener("transitionend",function(){var n,r=e.activeGaugeIndex,i=t.autoPlayEnabled,o=t.intervalAutoPlayId;e.isSliding=!1,u(),s===ao?c():f(),t.activeGaugeIndex=r;var l="string"==typeof t.getProperty(ti)?JSON.parse(t.getProperty(ti)):t.getProperty(ti);i||t.setProperty(ti,JSON.stringify(po(po({},l),((n={})[Fr.ACTIVE_GAUGE_INDEX]=r,n))),{suppressData:!0,clientUndoRedoCallback:function(){return t.refresh()},callback:void 0}),i&&!o&&a()}),n.slider.style.transform="translate(-".concat(r*o,"px)"),n.slider}(t,o,l,r,e,u)),l.vizContainer.append(_o(t,o,c,r,e,l,s)),l.vizContainer}(t,r):function(t,e,n){var r=t.domNode,i=r.clientWidth,a=r.clientHeight,o=n.gaugeContainerWidth,l=n.gaugeContainerHeight,s=n.numberOfGauges,u=e.layoutGridNumberOfColumns,c=function(t,e,n){switch(t.selectedLayout){case mo:return Math.ceil(e/n);case Ao:return 1;case So:return e}}(e,s,u),f=No(e,So,i,o,u),E=No(e,Ao,a,l,c),d=a===E&&E>=l?"space-around":"normal",h=i===f?"space-around":"normal",_="repeat(".concat(u,", ").concat(o,"px)"),p={width:"".concat(f,"px"),height:"".concat(E,"px"),gridTemplateColumns:_,alignContent:d,justifyContent:h};return vi({tag:"article",classes:["main-container"],style:p},!1)}(t,e,n)}(t,n,r);e.appendChild(i),Io(t,r,n,i)};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var To=function(t,e,n,r,i,a,o){var l=a.fontFamily,s=a.fontStyle,u=a.fontSize,c=a.fontColor,f=Bi(s),E=f.fontWeight,d=f.fontStyle,h=f.textDecoration,_=xi(u);t.append("text").attr("x",r).attr("y",i).attr("class","reference-label").style("alignment-baseline","middle").style("text-anchor",n).style("font-family",l).style("font-size",_).style("font-weight",E).style("font-style",d).style("text-decoration",h).attr("fill",c).attr("transform","rotate(".concat(-o,", ").concat(r,", 0)")).text(function(){return e})},yo=function(t,e,n,r,i,a,o){var l=function(t,e,n){var r=e.referenceLines,i=[];return r.filter(function(t){return t.isEnabled}).forEach(function(e){var r=e.title,a=e.key,o=e.properties,l=e.isDynamic?t.referenceLines.find(function(t){return t.metricId===a}).value:{raw:o.referenceLineValue,formatted:Mi(n,0,o.referenceLineValue)},s=o[Fr.REFERENCE_LINE_LABEL_DISPLAY],u=s[0],c=s[1],f={name:r,key:a,value:l,labelPosition:o[Fr.REFERENCE_LINE_LABEL_POSITION],displayName:o[Fr.REFERENCE_LINE_LABEL_ENABLED]&&u,displayValue:o[Fr.REFERENCE_LINE_LABEL_ENABLED]&&c};i.push(f)}),i}(r,i,t),s=n.gaugeDegree,u=n.centerPosition,c=r.minValue,f=r.maxValue,E=r.graphicModels,d=Fi(s),h=Qn().domain([c.raw,f.raw]).range(d),_=i.referenceLineLabelEnabled;l.forEach(function(t){var r=t.value,o=bi(h(r.raw));if(r.raw>=c.raw&&r.raw<=f.raw){var l=e.append("g").attr("class","reference-group").attr("transform","translate(".concat(u.x,", ").concat(u.y,") rotate(").concat(o,")"));!function(t,e,n,r,i){var a=n.gaugeThickness,o=n.innerRadius,l=r.referenceLineMarkerStyle[e],s=r.referenceLineMarkerColor[e];switch(l){case Hr[Fr.REFERENCE_LINE_MARKER_STYLE].LINE:var u=a,c=.25*u/2,f="M ".concat(c,", 0 L ").concat(c,", ").concat(-u," L ").concat(-c,", ").concat(-u," L ").concat(-c,", 0 L 0, 0 Z");t.append("path").attr("d",f).attr("fill",s).attr("transform","rotate(-90) translate(0, ".concat(o,") rotate(180)")).datum(i);break;case Hr[Fr.REFERENCE_LINE_MARKER_STYLE].DOT:var E=a/2;t.append("circle").attr("cx",0).attr("cy",0).attr("r",E).attr("fill",s).attr("transform","rotate(-90) translate(0, ".concat(o+E,")")).datum(i);break;case Hr[Fr.REFERENCE_LINE_MARKER_STYLE].DIAMOND:var d=a,h=a/2,_=d/Math.sqrt(3)*.75;f="M ".concat(_,", ").concat(-h," L 0, ").concat(-d," L ").concat(-_,", ").concat(-h," L 0, 0 Z"),t.append("path").attr("d",f).attr("fill",s).attr("transform","rotate(-90) translate(0, ".concat(o,") rotate(180)")).datum(i);break;case Hr[Fr.REFERENCE_LINE_MARKER_STYLE].TRIANGLE:var p=a,g=p/Math.sqrt(3);f="M ".concat(g,", ").concat(-p," L ").concat(-g,", ").concat(-p," L 0, 0 Z"),t.append("path").attr("d",f).attr("fill",s).attr("transform","rotate(-90) translate(0, ".concat(o,") rotate(180)")).datum(i)}}(l,t.key,n,i,E[0]),_&&function(t,e,n,r,i,a,o){var l=i.displayName,s=i.displayValue,u=i.value,c=i.name,f=i.labelPosition,E=n.gaugeContainerWidth,d=n.outerRadius,h=r[Fr.REFERENCE_LINES_FONT_OPTIONS][e],_=h.fontSize,p=h.fontWrap,g=Ui(o,f),m=function(t,e){var n=t.labelPosition,r=e.outerRadius,i=e.innerRadius,a=e.gaugeThickness;return"outside"===n?r+a*Dr:i-a*Dr}(i,n),A=xi(_),S=Ji({text:c,fontArrayWidth:a[e],fontSize:A}),N=Ji({text:u.formatted,fontArrayWidth:a[e],fontSize:A}),L=ra(E,m,d,f,o,r),T=[],y=u.formatted;S>L&&p?T.push.apply(T,na({maxLabelWidth:L,label:c,labelWidth:S,maxNumberOfTextLines:2,isText:!0,maxWidthSecondLineOfTotal:L,fontArrayWidth:a[e],fontSize:A})):S>L?T.push(ta({maxLabelWidth:L,label:c,labelWidth:S,fontArrayWidth:a[e],fontSize:A})):T.push(c),N>L&&(y=ta({maxLabelWidth:L,label:y,labelWidth:N,fontArrayWidth:a[e],fontSize:A}));var v=s?-2*A:-1*A,I=s?-1*A:0;l&&T.length>1?(To(t,T[0],g,m,v,h,o),To(t,T[1],g,m,I,h,o)):l&&T[0].length&&To(t,T[0],g,m,I,h,o),s&&To(t,y,g,m,0,h,o)}(l,t.key,n,i,t,a,o)}});var p=[],g=e.selectAll(".reference-label").nodes(),m=g.filter(function(t){return!!Hi(o,t.getBoundingClientRect())||(p.push(t.getBoundingClientRect()),!1)}),A=0;m.forEach(function(t){e.selectAll(".reference-label").filter(function(e,n){return n===g.indexOf(t)-A&&(A++,!0)}).remove()}),o.push.apply(o,p)};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var vo=function(){return vo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},vo.apply(this,arguments)},Io=function(t,e,n,r){var i=t.parsedData,a=t.properties,o=t.domNode,l=o.clientWidth,s=o.clientHeight,u=e.gaugeContainerWidth,c=e.gaugeContainerHeight,f=e.numberOfGauges,E=a.needleEnabled,d=a.axisEnabled,h=a.dataLabelsEnabled,_=(a.gaugeDegree,n.selectedLayout),p=Hr.selectedLayout.STACKED,g=function(t,e){for(var n=function(){for(var t=[],e=33;e<127;e++)t[e]=String.fromCharCode(e);return t}(),r=t.domNode,i=e.axisFontOptions,a=e.referenceLinesFontOptions,o=e.metricValueFontOptions,l=e.metricNameFontOptions,s=e.attributesLabelsFontOptions,u={axis:qi(i,n,r),metricValueLabel:qi(o,n,r),metricNameLabel:qi(l,n,r)},c=0,f=Object.entries(a);c<f.length;c++){var E=f[c],d=E[0],h=E[1];u[d]=qi(h,n,r)}for(var _=0,p=Object.entries(s);_<p.length;_++){var g=p[_];d=g[0],h=g[1],u[d]=qi(h,n,r)}return u}(t,a),m=_===p?r.firstChild:r,A=[];if(i.gauges.forEach(function(n){var r=document.createElement("div");Object.assign(r.style,{width:"".concat(u,"px"),height:"".concat(c,"px")}),r.setAttribute("id",n.graphicModels[0].getCustomProperty("gaugeId")),r.classList.add("gauge-container");var o=1===f||_===p;if(t.isSingleGaugeVisible=o,!t.isMobile){var S=document.createElement("div");S.classList.add(o?"overlay-fill-single":"overlay-fill"),r.append(S)}var N=2*xi(1),L=tr(r).append("svg").attr("width",u-N).attr("height",c-N);if(_===p){var T=vi({style:{width:"".concat(l,"px"),height:"".concat(s,"px"),display:"flex",alignItems:"center",justifyItems:"center",justifyContent:"center"}},!1);T.appendChild(r),m.appendChild(T),A.push(T)}else m.appendChild(r);var y=function(t,e){var n=t.maxValue,r=t.minValue,i=t.value,a=t.colorById,o=e.gaugeDegree,l=n.raw<r.raw?0:Math.abs(n.raw-r.raw),s=i.raw-r.raw;return{gaugeDegree:o,gaugeRange:l,metricValueAngle:Da(s,l,o),metricValueShapeOptions:wa(a,e)}}(n,a),v=vo(vo({},e),y),I=v.gaugeRange,O=[],R=!mstrApp.isExporting&&t.isGaugeAnimated&&_!==p;!function(t,e,n,r,i){(function(t,e,n,r){var i=r.backgroundShapeOptions,a=i.borderStyle,o=e,l=n.graphicModels;Ga(t,o,l[0],i,!1),a!==Mr.NONE&&Pa(t,o,l[0],i,!1)})(t,e,n,r),function(t,e,n,r,i){var a=e.gaugeDegree,o=e.metricValueAngle,l=e.metricValueShapeOptions,s=l.borderStyle,u=xa(xa({},e),{endAngle:a===Hr.gaugeDegree.degree360?o:o-a/2}),c=n.graphicModels,f=n.bands;r.bandsColorBy===Hr.bandsColorBy.BAND_OF_VALUE&&(null==f?void 0:f.bandData.length)?(Ga(t,u,c[0],f.bandData[0].shapeOptions,i),s!==Mr.NONE&&Pa(t,u,c[0],f.bandData[0].shapeOptions,i)):r.bandsColorBy===Hr.bandsColorBy.ALL_BANDS?f&&Ua(n,e,t,r):(Ga(t,u,c[0],l,i),s!==Mr.NONE&&o>0&&Pa(t,u,c[0],l,i))}(t,e,n,r,i)}(L,v,n,a,R),E&&function(t,e,n,r){var i=e.gaugeDegree,a=e.metricValueAngle,o=e.outerRadius,l=e.gaugeThickness,s=e.centerPosition,u=e.startAngle,c=n.needleShapeOptions,f=c.fillColor,E=c.fillOpacity,d=c.borderColor,h=c.borderStyle,_={lineColor:d,lineWidth:h===Mr.THICK_LINE_TYPE?2:1,lineStyle:h,dashArray:Vi(h)},p={group:t.append("g"),length:.75*o,baseRadius:.25*l,angle:i===Hr[Fr.GAUGE_DEGREE].degree360?a+180:a+180-i/2,position:{x:s.x,y:s.y},opacity:E/100,color:f},g={radius:.6*p.baseRadius,color:"#FFFFFF",opacity:1};Ya(p,{radius:2.5*p.baseRadius,color:"#F2F2F2",opacity:1}),function(t,e,n,r){var i=e.lineStyle,a=function(t){var e=t.baseRadius;return"M ".concat(-e,",").concat(0," A ").concat(e,",").concat(e," ").concat(0," ").concat(0,",").concat(1," ").concat(e,",").concat(0)}(t),o=function(t){var e=t.length,n=t.baseRadius;return"M ".concat(-n," ").concat(0," q ").concat(n," ").concat(2*e," ").concat(2*n," ").concat(0)}(t);!function(t,e,n,r){var i=t.group,a=t.position,o=t.angle,l=t.color,s=t.opacity,u=i.append("path").attr("fill",l).attr("d",e).style("opacity",s);r?Va(u,n,o,a):u.attr("transform","translate(".concat(a.x,", ").concat(a.y,") rotate(").concat(o,")"))}(t,o,n,r),Ha(t,a,n,r),0!==i&&(function(t,e,n,r,i){var a=t.group,o=t.position,l=t.angle,s=e.lineColor,u=e.lineWidth,c=e.dashArray,f=a.append("path").attr("fill",wr).attr("stroke",s).attr("stroke-dasharray",c).attr("stroke-width",u).attr("d",n);i?Va(f,r,l,o):f.attr("transform","translate(".concat(o.x,", ").concat(o.y,") rotate(").concat(l,")"))}(t,e,o,n,r),function(t,e,n,r,i){var a=t.group,o=t.position,l=t.angle,s=e.lineColor,u=e.lineWidth,c=e.dashArray,f=a.append("path").attr("fill",wr).attr("stroke",s).attr("stroke-dasharray",c).attr("stroke-width",u).attr("d",n);i?Va(f,r,l,o):f.attr("transform","translate(".concat(o.x,", ").concat(o.y,") rotate(").concat(l,")"))}(t,e,a,n,r))}(p,_,u,r),Ya(p,g)}(L,v,a,R),h&&ua(r,v,i,n,a,g,O),a.referenceLines.length&&I>0&&yo(t,L,v,n,a,g,O),d&&I>0&&oa(L,v,n,a,t,g,O)}),_===p){var S=A[0].cloneNode(!0),N=A[A.length-1].cloneNode(!0);m.prepend(N),m.append(S)}};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={}),mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var Oo=function(t,e,n,r){return r===Hr[Fr.BANDS_TYPE_SELECTOR].numeric?t:n+t/100*(e-n)};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={}),mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var Ro=function(t,e){void 0===e&&(e=null),t.initHostCustomProperties();var n=Oi(t,Rr.METRIC);if(function(){var t,e=mstrApp.isDisplayOnMobile||mstrApp.isDossier||/(android)/i.test(navigator.userAgent);return(null===(t=mstrApp.features)||void 0===t?void 0:t["show-react-dossier-format"])||mstrApp.isExporting||e}())if(n){var r=t.intervalAutoPlayId;r&&clearInterval(r),t.addUseAsFilterMenuItem();var i=function(t,e){var n;if(e)n=Qa(Yi(e),t);else{var r=JSON.parse(t.getProperty(ti));n=Qa(r,t)}return n}(t,e);t.properties=i,function(t){t.domNode.innerHTML=""}(t);var a=function(t){var e=mstrmojo.models.template.DataInterface.ENUM_RAW_DATA_FORMAT.ROWS_ADV,n={hasSelection:!0,hasTitleName:!0,minAttribute:0,colorByInfo:t.zonesModel&&t.zonesModel.getColorByAttributes()};return t.dataInterface.getRawData(e,n)}(t),o=function(t,e){var n,r=wi(e),i=!!t[0].headers[0],a=t[0].values[0].name,o=i?a:null,l={},s=t.filter(function(t){var e=t.headers.some(function(t){var e;return null===(e=t.headerObj)||void 0===e?void 0:e.h.stt});return!e}),u=((n={})[0]=Xi(0,s),n[1]=Xi(1,s),n),c=s.map(function(t){var n,i,a,o,s={value:{raw:0,formatted:""},label:[],attributeIds:[],minValue:{raw:0,formatted:""},maxValue:{raw:0,formatted:""},referenceLines:[],graphicModels:[],colorById:""},u=null===(n=t.headers[0])||void 0===n?void 0:n.name,c=null===(i=t.headers[0])||void 0===i?void 0:i.attributeSelector.tid,f=null===(a=t.headers[1])||void 0===a?void 0:a.name,E=null===(o=t.headers[1])||void 0===o?void 0:o.attributeSelector.tid;t.values.forEach(function(t,e){return function(t,e,n,r,i,a,o,l){var s=t.name,u=t.rv,c=t.v,f=t.id,E=[],d=[];switch(n[e]){case Rr.METRIC:i&&(E.push(i),d.push(o)),a&&(E.push(a),d.push(l)),r.value.raw=u,r.value.formatted=c,r.label=i||a?E:[s],r.attributeIds=d;break;case Rr.REFERENCE_METRIC:r.referenceLines.push({metricId:f,value:{raw:u,formatted:c},label:s})}}(t,e,r,s,u,f,c,E)});var d={source:Fr.AXIS_MINIMUM_SOURCE,value:Fr.AXIS_MINIMUM_VALUE,metric:Fr.AXIS_MINIMUM_METRIC};s.minValue=Wi(t.values,e,d);var h={source:Fr.AXIS_MAXIMUM_SOURCE,value:Fr.AXIS_MAXIMUM_VALUE,metric:Fr.AXIS_MAXIMUM_METRIC};if(s.maxValue=Wi(t.values,e,h),s.graphicModels=function(t,e){var n="".concat(t.id),r=[],i=e.headers,a=i[0],o=i[1];return a&&(r.push(ki(t,a)),n+="-".concat(a.attributeSelector.eid)),o&&(r.push(ki(t,o)),n+="-".concat(o.attributeSelector.eid)),r.push(ji(t,e)),r.map(function(t){return t.idValueMapping=e.idValueMapping,t.setCustomProperties({gaugeId:n}),t})}(e,t),t.colorInfo.length){var _=JSON.stringify(t.colorInfo);if(!l[_]){var p=e.getColorBy(t.colorInfo),g=t.headers.map(function(e){return t.colorInfo.includes(e.attributeSelector.eid)?e.name:""}).join(" ");l[_]={color:p,name:g}}s.colorById=_}return s});return{gauges:c,groupLabel:o,colorByData:l,attributeIds:u}}(a,t);t.parsedData=o;var l=o.colorByData,s=o.gauges,u=function(){var e,n;if(function(t,e){var n=e.properties,r=n.axisEnabled,i=n.axisSplitType,a=n.axisIntervalValue;if(!r||i===Hr.axisSplitType.number||0===a)return!0;for(var o=0,l=t;o<l.length;o++){var s=l[o];if(Math.ceil((s.maxValue.raw-s.minValue.raw)/a)+1>150)return $i(e,li(ri.INTERVAL_VALUE_INCORRECT_MESSAGE),""),!1}return!0}(s,t)&&function(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i.minValue.raw>i.maxValue.raw)return $i(e,li(ri.MINIMUM_CANNOT_BE_GREATER_THAN_MAXIMUM_MESSAGE),""),!1}return!0}(s,t)){t.colorByData=l,t.graphicModels=[],s.forEach(function(e){return e.graphicModels.forEach(function(e){return t.graphicModels.push(e)})});var r=t.properties.bands.filter(function(t){return t.isEnabled&&t.isValid});r.length&&s.forEach(function(e){e.bands=function(t,e,n){var r=n.bandsColorBy,i=n.bandsTypeSelector,a=[],o=r===Hr[Fr.BANDS_COLOR_BY].BAND_OF_VALUE?function(t,e,n,r){var i=n.maxValue,a=n.value,o=t.find(function(t){var n=t.properties,r=n.bandMinValue,o=n.bandMaxValue;return e===Hr[Fr.BANDS_TYPE_SELECTOR].percentage&&(r=n.bandMinValue/100*i.raw,o=n.bandMaxValue/100*i.raw),a.raw>=r&&a.raw<=o});return o?[{shapeOptions:r.bandsShapeOptions[o.key]}]:[]}(e,i,t,n):function(t,e,n,r){var i=n.minValue,a=n.maxValue;t.sort(function(t,e){return t.properties.bandMinValue-e.properties.bandMinValue});var o=i.raw,l=a.raw;e===Hr[Fr.BANDS_TYPE_SELECTOR].percentage&&(o=0,l=100);var s=t.filter(function(t){var e=t.properties;return!(e.bandMinValue>=l||e.bandMaxValue<=o)});return s.map(function(t){var n=t.key,o=t.properties;return{value:{min:Math.max(i.raw,Oo(o.bandMinValue,a.raw,i.raw,e)),max:Math.min(a.raw,Oo(o.bandMaxValue,a.raw,i.raw,e))},shapeOptions:r.bandsShapeOptions[n]}})}(e,i,t,n);return o.length&&a.push.apply(a,o),{bandsColorBy:r,bandData:a}}(e,r,t.properties)});var a=t.domNode;a.addEventListener("mouseleave",function(){return Mo(t)}),a.addEventListener("mousedown",function(t){var e=t.target.classList;e.contains("mstrmojo-scrollbar")||e.contains("mstrmojo-scrolltrack")||t.stopPropagation()});var o=a.appendChild(vi({},!1));Lo(t,o);var u=i.layoutStackedAutoPlay,c=i.selectedLayout,f=i.containerFit,E=Hr.selectedLayout.STACKED,d=Hr.containerFit.FIT_TO_CONTAINER;t.autoPlayEnabled=!!u,(t.shouldAddScrollbars||c!==E&&f!==d)&&t.addMojoScrollbar();var h=null===(n=null===(e=t.getSelectionCache)||void 0===e?void 0:e.call(t))||void 0===n?void 0:n._viSelections;h&&t.highlight("att",h,!0),t.raiseEvent({name:"renderFinished",id:t.k})}};!function(t,e,n,r){var i=[];ei(Ti,yi,t,function(t){i.push({name:t.fontFamily,isItalic:t.fontStyle[1],isBold:t.fontStyle[0]})});var a=i.reduce(function(t,e){return t.find(function(t){return t.name===e.name&&t.isItalic===e.isItalic&&t.isBold===e.isBold})?t:t.concat([e])},[]);mstrmojo.util.FontLoader.load(e.id,a,{success:n,failure:r})&&n()}(i,t,u,u)}else(function(t){!function(t,e,n){var r=document.createElement("div");r.classList.add("warning-container","mstrmojo-vi-ui-rw-GhostImageContainer");var i=document.createElement("div");i.classList.add("ghost-vis-img"),i.style.width="80px",i.style.height="80px",i.style.backgroundPosition="-160px -1440px",(t.width<640||t.height<600)&&(i.style.width="60px",i.style.height="60px",i.style.boxShadow="rgb(68 70 70 / 10%) 0 1px 3px 0",i.style.backgroundPosition="-250px -1440px");var a=document.createElement("div");a.classList.add("title");var o=document.createTextNode(e),l=document.createElement("div");l.classList.add("description"),l.innerHTML=n,r.appendChild(i),a.appendChild(o),r.appendChild(a),r.appendChild(l),t.domNode.appendChild(r)}(t,li(ri.GAUGE),li(ri.ADD_1_OR_MORE_METRICS).replace("####","").replace("#","<svg class='metric-icon'></svg>"))})(t),t.raiseEvent({name:"renderFinished",id:t.k});else $i(t,Ki.envNotSupported.message,Ki.envNotSupported.details)},Mo=function(t){t.hideTooltip(),t.isTooltipVisible=!1};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={});var Co=function(){return Co=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Co.apply(this,arguments)},bo=mstrmojo.DEFAULT_CONTEXT_MENU,xo=function(t){if(0===t.contextMenuGraphicModels.length)return{commonConfig:[],customConfig:[]};var e=Oi(t,Rr.BREAK_BY),n=!(Oi(t,Rr.COLOR_BY)&&t.isIOS);return{commonConfig:e?[{type:bo.CHANGE_VISUALIZATION},{type:bo.COPY_PASTE_FORMAT},{type:bo.KEEP_ONLY},{type:bo.EXCLUDE},n?{type:bo.DRILL}:{},{type:bo.GROUP},{type:bo.CALCULATION},{type:bo.SHOW_DATA},{type:bo.GO_TO_TARGETS}]:[{type:bo.CHANGE_VISUALIZATION},{type:bo.COPY_PASTE_FORMAT}],customConfig:[]}};mstrmojo.plugins.Gauge||(mstrmojo.plugins.Gauge={}),function(){if(!mstrmojo.descriptors["".concat(oi,"1")]){var t=Object.keys(ai).map(function(t){return parseInt(t)});mstrmojo.requiresDescsWPrefix.apply(mstrmojo,function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([oi],t,!1))}}(),mstrmojo.requiresCls("mstrmojo.CustomVisBase","mstrmojo.num","mstrmojo.ui._HasScroller","mstrmojo.util.FontLoader"),mstrmojo.plugins.Gauge.Gauge=mstrmojo.declare(mstrmojo.CustomVisBase,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.plugins.Gauge.Gauge",cssClass:"gauge",errorMessage:Ki.default.message,errorDetails:Ki.default.details,useRichTooltip:!1,reuseDOMNode:!1,draggable:!0,supportNEE:!0,supportPagination:!0,isIOS:!1,isAndroid:!1,isMobile:!1,isReadOnly:!1,init:function(t){var e;this._super(t),this.setDefaultPropertyValues(((e={})[ti]=JSON.stringify(Qr(this)),e))},initHostCustomProperties:function(){var t=this;t.isIOS=mstrApp.isDisplayOnMobile,t.isAndroid=/(android)/i.test(navigator.userAgent),t.isMobile=mstrApp.isDisplayOnMobile||/(android)/i.test(navigator.userAgent),t.isReadOnly=mstrApp.isDisplayOnMobile||/(android)/i.test(navigator.userAgent)||mstrApp.isDossier},plot:function(t){if(void 0===t&&(t=null),function(t){t.clearError(),t.raiseEvent({name:"toggleCtrlOverlay",visible:!1,controls:t.getVisEmptyMsgControls()})}(this),!this.isEmpty()){var e=this,n=document.styleSheets,r=Array.from(n);if(mstrApp.isWorkstation&&!r.some(function(t){var n;return null===(n=t.href)||void 0===n?void 0:n.includes(e.cssClass)})){var i="".concat(e.cssClass,"stylesheet"),a=document.getElementById(i);if(a){var o=a.onload;a.onload=function(){o(),Ro(e,t)}}else{var l=document.head,s=document.createElement("link");s.type="text/css",s.onload=function(){return Ro(e,t)},s.id=i,s.rel="stylesheet",s.href="../plugins/".concat(e.cssClass,"/style/global.css"),l.appendChild(s)}}else Ro(e,t)}},onmousemove:function(t){var e=this,n=t.e,r=t.getTarget();if("path"===r.nodeName){var i=tr(r),a=i.datum();if(i.attr("graphicModelId")&&(a=e.graphicModels.find(function(t){return t.getCustomProperty("gaugeId")===i.attr("graphicModelId")})),a&&a instanceof mstrmojo.customviz.GraphicModel){var o={x:n.pageX,y:n.pageY};e.isTooltipVisible=!0,e.showTooltip(a,o)}else e.isTooltipVisible=!1,e.hideTooltip()}else e.isTooltipVisible&&(e.hideTooltip(),e.isTooltipVisible=!1)},oncontextmenu:function(t){var e=this;e.hideTooltip();var n=t.e.target.closest(".gauge-container");if(n){var r=Pi(e,n),i=r[r.length-2];e.clearSelections();var a=3===r.length,o=[];if(e.selectionGraphicModels.includes(i)&&e.selectionGraphicModels.length>1){var l=Co({},t);l.ctrlKey=!0,l.metaKey=!0,e.selectionGraphicModels.forEach(function(t){if(a){var n=e.graphicModels.find(function(e){return e.getCustomProperty("gaugeId")===t.getCustomProperty("gaugeId")});o.push(n)}o.push(t)}),e.contextMenuGraphicModels=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([],e.selectionGraphicModels,!0)}else{if(a){var s=e.graphicModels.find(function(t){return t.getCustomProperty("gaugeId")===i.getCustomProperty("gaugeId")});o.push(s)}i&&(o.push(i),e.contextMenuGraphicModels=[i])}if(e.isIOS)e.handleContextMenuSelection(t,i);else{o.length&&this.applySelection(o.map(function(t){return t.getSelector()}),{forContextMenu:!0},o);var u=xo(this),c=u.commonConfig,f=u.customConfig;c&&f&&this.showContextMenu(t,c,f),this.updateHighlight()}}},getContextMenuConfig:function(){var t=xo(this);return{common:t.commonConfig,custom:t.customConfig}},onclick:function(t){var e=this,n=function(){var n=t.e,r=n.target.closest(".gauge-container");r?function(t,e,n){var r=Pi(t,n),i=r[r.length-2]||r[r.length-1],a=e.ctrlKey||e.metaKey,o=t.selectionGraphicModels.includes(i)&&1===t.selectionGraphicModels.length;a?t.selectionGraphicModels.includes(i)?t.selectionGraphicModels=t.selectionGraphicModels.filter(function(t){return t!==i}):t.selectionGraphicModels.push(i):t.selectionGraphicModels=o?[]:[i],t.contextMenuGraphicModels=[],t.selectionGraphicModels.length>0?Oi(t,Rr.BREAK_BY)&&function(t,e){t.isIOS?e.forEach(function(t){var e=t.getSelector();e.messageType="selection",window.webkit.messageHandlers.selectionDataJSONString.postMessage(e)}):t.applySelection(e.map(function(t){return t.getSelector()}))}(t,t.selectionGraphicModels):function(t,e){if(t.isIOS){var n=e.getSelector();n.messageType="deselection",window.webkit.messageHandlers.selectionDataJSONString.postMessage(n)}else t.clearSelections(),t.endSelections()}(t,i)}(e,n,r):e.contextMenuGraphicModels.length?e.contextMenuGraphicModels=[]:(e.selectionGraphicModels=[],e.clearSelections(),e.endSelections()),e.updateHighlight(!0)};if(e.isAndroid){var r=tr(t.getTarget()).datum();r&&r instanceof mstrmojo.customviz.GraphicModel||n()}else e.isIOS?(function(t,e){e.handleContextMenuSelection(t)}(t,e),n()):n()},properties:Qr(void 0),addMojoScrollbar:function(){var t=this,e=t.domNode;t.containerNode=e.firstChild.firstChild,t.scrollNode=e.firstChild,t.isIOS?t.scrollbarHostNode=e.firstChild:t.scrollbarHostNode=e,t.scrollBarNodes={};var n=t.domNode.style,r=n.height,i=n.width;t.scrollNode.style.maxHeight=r,t.containerNode.style.maxHeight=r,t.containerNode.style.width=i,t.updateScrollbars(),t.addScrollNodeProperties()},contextMenuGraphicModels:[],selectionGraphicModels:[],updateHighlight:function(t){var e=this;t||0===e.contextMenuGraphicModels.length&&(e.selectionGraphicModels=[],e.getGraphicModels().forEach(function(t){e.graphicNeedsHighlight(t,!1)&&e.selectionGraphicModels.push(t)}));var n=e.selectionGraphicModels.map(function(t){return Gi(t)}),r=e.contextMenuGraphicModels.map(function(t){return Gi(t)}),i=e.getGraphicModels().map(function(t){return Gi(t)}).filter(function(t){return!(n.includes(t)||r.includes(t))});e.getGraphicModels().forEach(function(t){var e=Gi(t);e&&function(t){t.classList.remove("card--selected"),t.classList.remove("card--unselected"),t.classList.remove("card--selected-no-hover"),t.classList.remove("card--selected-context-menu")}(e)}),r.length&&r.every(function(t){return null===t})||function(t,e,n,r){e.length&&e.forEach(function(t){null==t||t.classList.add("card--selected-context-menu")}),t.length&&(t.forEach(function(t){null==t||t.classList.add(r?"card--selected-no-hover":"card--selected")}),n.forEach(function(t){null==t||t.classList.add("card--unselected")}))}(n,r,i,e.isSingleGaugeVisible)},getGraphicModelsBySelector:function(t,e){var n=this,r=[],i={attribute:mstrmojo.customviz.PICKED_TYPE.ATTR};return n.getGraphicModels().forEach(function(a){a.getSelector()&&n.canPickGraphicModel(t,e,a,i)&&r.push(a)}),n.selectionGraphicModels=[],n.contextMenuGraphicModels=[],r},colorByData:{},parsedData:void 0,autoPlayEnabled:!1,intervalAutoPlayId:null,isTooltipVisible:!1,activeGaugeIndex:0,isSingleGaugeVisible:!1,isGaugeAnimated:!0,shouldAddScrollbars:!1})})();