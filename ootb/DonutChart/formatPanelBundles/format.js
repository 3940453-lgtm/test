!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var a=t();for(var n in a)("object"==typeof exports?exports:e)[n]=a[n]}}(self,()=>(()=>{"use strict";var e={d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{mstrDonutChart:()=>ze}),mstrmojo.plugins.DonutChart||(mstrmojo.plugins.DonutChart={});var a={HORIZONTAL_ALIGN_OPTIONS:["align-left","align-center","align-right"],HORIZONTAL_ALIGN_STYLE:"toggle-button-radio _3item"},n="nameSelect",o="style";mstrmojo.plugins.DonutChart||(mstrmojo.plugins.DonutChart={});var r,l,i={POSITION_AND_SIZE_SECTION:"positionAndSizeSection",TITLEBAR_SHOW:"title_tbShw",TITLEBAR_FONTSTYLE:"title_fontStyle",TITLEBAR_TEXT_ALIGNMENT:"title_alh",TITLEBAR_FONT_COLOR:"title_fc",TITLEBAR_BACKGROUND_COLOR:"title_bc",TITLEBAR_BACKGROUND_OPACITY:"title_fill_opacity",TITLEBAR_FONT_SIZE:"title_fsz",TITLEBAR_FONT_FAMILY:"title_ff",TITLEBAR_TITLES_SHOW:"title_titleShw",TITLEBAR_TITLE_LINES:"title_lines",TITLEBAR_TITLE_INDEX:"title_index",CONTAINER_FILL_COLOR:"containerFill",CONTAINER_BORDER_OPACITY:"container_bo",CONTAINER_BORDER_STYLE:"container_borderStyle",CONTAINER_BORDER_COLOR:"container_borderColor",CONTAINER_RADIUS:"container_radius",CONTAINER_LEFT_POSITION:"container_left",CONTAINER_TOP_POSITION:"container_top",CONTAINER_HEIGHT:"container_height",CONTAINER_WIDTH:"container_width",CONTAINER_SHADOW_COLOR:"container_shadow_color",CONTAINER_SHADOW_OPACITY:"container_shadow_opacity",CONTAINER_SHADOW_SIZE:"container_shadow_size",CONTAINER_SHADOW_ANGLE:"container_shadow_angle",CONTAINER_SHADOW_DISTANCE:"container_shadow_distance",ENABLE_TITLE_BUTTON:"enableButton",BUTTON_RADIUS:"btnrd",BUTTON_SIZE:"btnsz",TRANSACTION_VISIBLE:"txnVisible",TRANSACTION_LABEL_TYPE:"txnLabelType",TRANSACTION_BUTTON_ALIAS:"txnButtonAlias",TRANSACTION_FONT_NAME:"txnFontName",TRANSACTION_FONT_STYLE:"txnFontStyle",TRANSACTION_FONT_COLOR:"txnFontColor",TRANSACTION_BUTTON_FILL_COLOR:"txnButtonFillColor",TRANSACTION_BUTTON_BORDER_COLOR:"txnButtonBorderColor",TRANSACTION_BUTTON_FILL_OPACITY:"txnButtonFillOpacity",TRANSACTION_BUTTON_BORDER_STYLE:"txnButtonBorderStyle",EXPORT_VISIBLE:"exportVisible",EXPORT_LABEL_TYPE:"exportLabelType",EXPORT_BUTTON_ALIAS:"exportButtonAlias",EXPORT_OPTIONS:"exportOptions",EXPORT_FONT_NAME:"exportFontName",EXPORT_FONT_STYLE:"exportFontStyle",EXPORT_FONT_COLOR:"exportFontColor",EXPORT_BUTTON_FILL_COLOR:"exportButtonFillColor",EXPORT_BUTTON_BORDER_COLOR:"exportButtonBorderColor",EXPORT_BUTTON_FILL_OPACITY:"exportButtonFillOpacity",EXPORT_BUTTON_BORDER_STYLE:"exportButtonBorderStyle",MAXIMIZE_VISIBLE:"maximizeVisible",MAXIMIZE_FONT_COLOR:"maximizeFontColor",MAXIMIZE_BUTTON_FILL_COLOR:"maximizeButtonFillColor",MAXIMIZE_BUTTON_BORDER_COLOR:"maximizeButtonBorderColor",MAXIMIZE_BUTTON_FILL_OPACITY:"maximizeButtonFillOpacity",MAXIMIZE_BUTTON_BORDER_STYLE:"maximizeButtonBorderStyle",CONTEXTMENU_VISIBLE:"contextMenuVisible",CONTEXTMENU_FONT_COLOR:"contextMenuFontColor",CONTEXTMENU_BUTTON_FILL_COLOR:"contextMenuButtonFillColor",CONTEXTMENU_BUTTON_BORDER_COLOR:"contextMenuButtonBorderColor",CONTEXTMENU_BUTTON_FILL_OPACITY:"contextMenuButtonFillOpacity",CONTEXTMENU_BUTTON_BORDER_STYLE:"contextMenuButtonBorderStyle",FONT_CONFIG:"fontConfig"},c="fontLayout",u="FontColor";mstrmojo.plugins.DonutChart||(mstrmojo.plugins.DonutChart={});var s=function(){return{tagName:"FontConfig",key:i.FONT_CONFIG,keyIDs:{fontName:i.TITLEBAR_FONT_FAMILY,fontStyle:i.TITLEBAR_FONTSTYLE,fontSize:i.TITLEBAR_FONT_SIZE,fontColor:i.TITLEBAR_FONT_COLOR,textAlignment:i.TITLEBAR_TEXT_ALIGNMENT},displayOptions:[n,o,"sizeAndColor","horizontalAlign"],horizontalAlignmentOptions:a.HORIZONTAL_ALIGN_OPTIONS,textAlignmentStyle:a.HORIZONTAL_ALIGN_STYLE}},m=function(){var e,t,a={tagName:"VerticalLayout",className:"container-radius-section",children:[{tagName:"Text",text:{desc:14447,name:"Radius"}},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-2vs1-stretch",children:[{tagName:"Slider",className:"new-style-slider",min:0,max:40,value:0,key:i.CONTAINER_RADIUS},{tagName:"InputNumber",className:"radius-input",format:"",min:0,max:40,value:0,showStepper:!1,key:i.CONTAINER_RADIUS}]}]};return null!==(e=mstrApp)&&void 0!==e&&null!==(t=e.supportFeature)&&void 0!==t&&t.call(e,mstrmojo.vi.enums.EnumFeatures.SUPPORT_RADIUS_AND_SPACING)?a:null},T=function(){var e,t,a={tagName:"VerticalLayout",className:"container-radius-section",children:[{tagName:"Text",text:{desc:29150,name:"Shadow"}},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-1vs2-stretch",children:[{tagName:"Text",text:{desc:13601,name:"Fill"}},{tagName:"ColorPickerWithOpacity",keyIDs:{color:i.CONTAINER_SHADOW_COLOR,opacity:i.CONTAINER_SHADOW_OPACITY},format:"%",min:0,max:100}]},{tagName:"Text",text:{desc:4906,name:"Blur"}},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-2vs1-stretch",children:[{tagName:"Slider",className:"new-style-slider",min:0,max:40,value:0,key:i.CONTAINER_SHADOW_SIZE},{tagName:"InputNumber",className:"shadow-input",format:"",min:0,max:40,value:0,showStepper:!1,key:i.CONTAINER_SHADOW_SIZE}]},{tagName:"Text",text:{desc:13325,name:"Distance"}},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-2vs1-stretch",children:[{tagName:"Slider",className:"new-style-slider",min:0,max:30,value:0,key:i.CONTAINER_SHADOW_DISTANCE},{tagName:"InputNumber",className:"shadow-input",format:"",min:0,max:30,value:0,showStepper:!1,key:i.CONTAINER_SHADOW_DISTANCE}]},{tagName:"Text",text:{desc:14294,name:"Angle"}},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-2vs1-stretch",children:[{tagName:"Slider",className:"new-style-slider",min:0,max:359,value:0,key:i.CONTAINER_SHADOW_ANGLE},{tagName:"InputNumber",className:"shadow-input",format:"Â°",min:0,max:359,value:0,showStepper:!1,key:i.CONTAINER_SHADOW_ANGLE}]}]};return null!==(e=mstrApp)&&void 0!==e&&null!==(t=e.supportFeature)&&void 0!==t&&t.call(e,mstrmojo.vi.enums.EnumFeatures.SUPPORT_CONTAINER_SHADOW)?a:null},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{tagName:"FontConfig",keyIDs:{fontLayout:"".concat(e.propPrefix).concat(c),fontName:"".concat(e.propPrefix).concat("FontName"),fontStyle:"".concat(e.propPrefix).concat("FontStyle"),fontColor:"".concat(e.propPrefix).concat(u)},fontColorStyle:"horizontal-flex-space-between _2item-1vs2-stretch",displayOptions:[n,o,"color"]}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{tagName:"HorizontalLayout",key:e.buttonTitle,className:"horizontal-flex-space-between title-button-layout no-bottom-margin ".concat("txn"===e.propPrefix?"txn-button":""),children:[{tagName:"Text",text:e.buttonTitle},{tagName:"ToggleIconButton",key:"".concat(e.propPrefix).concat("Visible"),icon:"button-invisible",alterIcon:"button-visible",func:{type:"disable",targets:["".concat(e.propPrefix,"-button-popover")]}},{tagName:"ToggleIconButton",key:"".concat(e.propPrefix,"-button-popover"),icon:"format",alterIcon:"format-highlight",popoverConfig:{placement:"rightTop",overlayClassName:"action-btn-popover",overlayInnerStyle:{width:184},offsetX:6,offsetY:0,content:[{tagName:"VerticalLayout",className:"".concat(e.propPrefix,"-button-popover-content"),children:[{tagName:"Text",className:"section-header-text",text:e.popoverTitle},{tagName:"Select",className:"title-button-label-type",key:"".concat(e.propPrefix).concat("LabelType"),options:[{desc:29037,name:"Text only",value:0},{desc:9867,name:"Icon only",value:1},{desc:28927,name:"Icon and text",value:2}],funcs:[{type:"hide",targets:["".concat(e.propPrefix,"-button-alias"),"".concat(e.propPrefix).concat(c)],valueMap:e.iconOnly?function(e){return!1}:function(e){return"1"===e}},{type:"hide",targets:["".concat(e.propPrefix,"IconColorSetting")],valueMap:e.iconOnly?function(e){return!1}:function(e){return"1"!==e}}]},{tagName:"Select",className:"export-button-options",key:"".concat(e.propPrefix).concat("Options"),options:[{desc:28928,name:"All options",value:0},{desc:5212,name:"Export to PDF",value:1},{desc:5213,name:"Export to Excel",value:2},{desc:28929,name:"Export to Data",value:3}]},{tagName:"HorizontalLayout",key:"".concat(e.propPrefix,"-button-alias"),className:"horizontal-flex-space-between _2item-stretch button-alias",children:[{tagName:"Text",text:{desc:11916,name:"Alias"}},{tagName:"Input",key:"".concat(e.propPrefix).concat("ButtonAlias"),applyChangeOnFocusOut:!0}]},N(e),{tagName:"HorizontalLayout",key:"".concat(e.propPrefix,"IconColorSetting"),className:"horizontal-flex-space-between _2item-1vs2-stretch",children:[{tagName:"Text",text:{desc:7809,name:"Icon"}},{tagName:"ColorPicker",key:"".concat(e.propPrefix).concat(u)}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-1vs2-stretch",children:[{tagName:"Text",text:{desc:13601,name:"Fill"}},{tagName:"ColorPickerWithOpacity",keyIDs:{color:"".concat(e.propPrefix).concat("ButtonFillColor"),opacity:"".concat(e.propPrefix).concat("ButtonFillOpacity")},format:"%",min:0,max:100}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _3item-stretch",children:[{tagName:"Text",text:{desc:18345,name:"Border"}},{tagName:"Select",key:"".concat(e.propPrefix).concat("ButtonBorderStyle"),ariaLabel:{desc:18345,name:"Border"},innerClassName:"lines",showOptionTooltip:!1,options:[{desc:2057,name:"None",value:"none"},{desc:19532,name:"1 point dotted",value:"1pt dotted"},{desc:19530,name:"1 point dashed",value:"1pt dashed"},{desc:19531,name:"1 point solid",value:"1pt solid"},{desc:19533,name:"2 point solid",value:"2pt solid"}],icons:["none","dot","dash","solid","solid-thick"]},{tagName:"ColorPicker",key:"".concat(e.propPrefix).concat("ButtonBorderColor")}]}]}]}}]}},p=function(){var e,t,a={tagName:"VerticalLayout",className:"title-button-section",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between no-bottom-margin",children:[{tagName:"Text",text:{desc:28920,name:"Title buttons"}},{tagName:"Switch",key:i.ENABLE_TITLE_BUTTON,func:{type:"hide",targets:["titleButtonContent"]}}]},{tagName:"VerticalLayout",key:"titleButtonContent",children:[{tagName:"Text",text:{desc:28921,name:"Button radius"}},{tagName:"Radio",key:i.BUTTON_RADIUS,className:"toggle-button-radio _4item",innerClassName:"rectangle-icons",useIcons:!0,useButtons:!0,horizontal:!0,useTooltips:!0,options:[{name:"no-radius",ariaLabel:{desc:19516,name:"No Radius"},value:0},{name:"small-radius",ariaLabel:{desc:19519,name:"Small Radius"},value:10},{name:"medium-radius",ariaLabel:{desc:19517,name:"Medium Radius"},value:30},{name:"large-radius",ariaLabel:{desc:19526,name:"Large Radius"},value:50}]},{tagName:"Text",text:{desc:28922,name:"Button size"}},{tagName:"Radio",key:i.BUTTON_SIZE,useButtons:!0,horizontal:!0,useIcons:!0,useTooltips:!0,className:"toggle-button-radio _3item title-button-size",innerClassName:"title-button-size-icons",options:[{name:"small",ariaLabel:{desc:11446,name:"Small"},value:0},{name:"medium",ariaLabel:{desc:2263,name:"Medium"},value:1},{name:"large",ariaLabel:{desc:11447,name:"Large"},value:2}]},d({buttonTitle:{desc:246,name:"Export"},popoverTitle:{desc:28924,name:"Export Button"},propPrefix:"export"}),d({buttonTitle:{desc:4541,name:"Maximize"},popoverTitle:{desc:28925,name:"Maximize Button"},propPrefix:"maximize",iconOnly:!0}),d({buttonTitle:{desc:28926,name:"Context menu"},popoverTitle:{desc:25843,name:"Context Menu"},propPrefix:"contextMenu",iconOnly:!0})]}]};return null!==(e=mstrApp)&&void 0!==e&&null!==(t=e.supportFeature)&&void 0!==t&&t.call(e,mstrmojo.vi.enums.EnumFeatures.SUPPORT_SUBTITLE_AND_TITLE_BUTTONS)?a:null},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{tagName:"BorderAndColorFillConfig",keyIDs:{fillColor:i.CONTAINER_FILL_COLOR,fillOpacity:i.CONTAINER_BORDER_OPACITY,borderStyle:i.CONTAINER_BORDER_STYLE,borderColor:i.CONTAINER_BORDER_COLOR},useFillGradient:e.useFillGradient}},_={tagName:"PositionSizeConfig",min:0,max:100,format:"%",keyIDs:{section:i.POSITION_AND_SIZE_SECTION,leftPosition:i.CONTAINER_LEFT_POSITION,topPosition:i.CONTAINER_TOP_POSITION,width:i.CONTAINER_WIDTH,height:i.CONTAINER_HEIGHT}},E={tagName:"VerticalLayout",className:"title-and-container-layout",key:"graphFont",children:[{tagName:"VerticalLayout",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between title-bar-container",children:[{tagName:"Text",className:"section-header-text title-bar-text",text:{desc:7806,name:"Title Bar"}},{tagName:"Switch",key:i.TITLEBAR_SHOW,func:{type:"hide",targets:["titleFontContent"]}}]},{tagName:"VerticalLayout",key:"titleFontContent",children:[s(),{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _3item-stretch",children:[{tagName:"Text",text:{desc:13601,name:"Fill"}},{tagName:"ColorPicker",key:i.TITLEBAR_BACKGROUND_COLOR},{tagName:"InputNumber",key:i.TITLEBAR_BACKGROUND_OPACITY,format:"%",min:0,max:100,value:100}]}]}]},O(),m(),T(),_].filter(function(e){return!!e})};function f(){return{tagName:"VerticalLayout",key:"fontContent",children:[s()]}}var y={tagName:"VerticalLayout",className:"title-and-container-layout",key:"graphFont",children:[{tagName:"VerticalLayout",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between title-bar-container",children:[{tagName:"Text",className:"section-header-text title-bar-text",text:{desc:7806,name:"Title Bar"}},{tagName:"Switch",key:i.TITLEBAR_SHOW,func:{type:"hide",targets:["fillAndTitlesContent"]}}]},{tagName:"VerticalLayout",key:"fillAndTitlesContent",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _3item-stretch",children:[{tagName:"Text",text:{desc:13601,name:"Fill"}},{tagName:"ColorPicker",key:i.TITLEBAR_BACKGROUND_COLOR},{tagName:"InputNumber",key:i.TITLEBAR_BACKGROUND_OPACITY,format:"%",min:0,max:100,value:100}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between title-bar-container",children:[{tagName:"Text",text:{desc:3449,name:"Titles"}},{tagName:"Switch",key:i.TITLEBAR_TITLES_SHOW,func:{type:"hide",targets:["titleFontContent"]}}]},{tagName:"VerticalLayout",key:"titleFontContent",children:[{tagName:"Radio",key:i.TITLEBAR_TITLE_LINES,className:"toggle-button-radio _2item title-font-content",horizontal:!0,useButtons:!0,options:[{desc:28908,name:"1 Line",value:1},{desc:28909,name:"2 Lines",value:2}]},{tagName:"SegmentControlDropdownMenu",className:"title-font-content",key:i.TITLEBAR_TITLE_INDEX,ariaLabel:{desc:28944,name:"Title index"},optionDisplayNames:[{desc:28910,name:"Top line"},{desc:28911,name:"Bottom line"}],func:{type:"query",targets:[i.TITLEBAR_FONT_FAMILY,i.TITLEBAR_FONTSTYLE,i.TITLEBAR_FONT_SIZE,i.TITLEBAR_FONT_COLOR,i.TITLEBAR_TEXT_ALIGNMENT]},children:[f(),f()]}].filter(function(e){return!!e})},p()].filter(function(e){return!!e})}]},O(),m(),T(),_].filter(function(e){return!!e})},S=null!==(r=mstrApp)&&void 0!==r&&null!==(l=r.supportFeature)&&void 0!==l&&l.call(r,mstrmojo.vi.enums.EnumFeatures.SUPPORT_SUBTITLE_AND_TITLE_BUTTONS)?y:E;[{tagName:"VerticalLayout",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between title-bar-container",children:[{tagName:"Text",className:"section-header-text title-bar-text",text:{desc:7806,name:"Title Bar"}},{tagName:"Switch",key:i.TITLEBAR_SHOW,func:{type:"hide",targets:["titleFontContent"]}}]},{tagName:"VerticalLayout",children:[s(),{tagName:"Text",text:{desc:3905,name:"Background"}},{tagName:"HorizontalLayout",className:"background-color-container",children:[{tagName:"ColorPicker",key:i.TITLEBAR_BACKGROUND_COLOR},{tagName:"InputNumber",format:"%",min:0,max:100,value:100}]},p()].filter(function(e){return!!e})}]},O(),m(),T(),_].filter(function(e){return!!e}),[O(),m(),T(),_].filter(function(e){return!!e}),mstrmojo.plugins.DonutChart||(mstrmojo.plugins.DonutChart={});var g="transparent",L="INDETERMINATE";function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach(function(t){v(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function v(e,t,a){return(t=function(e){var t=function(e){if("object"!=I(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=I(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==I(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}mstrmojo.plugins.DonutChart||(mstrmojo.plugins.DonutChart={});var h="all",C="label",P="value",x=0,D="all",R="title",F="label",B="value",w={fontFamily:"Open Sans",fontStyle:[!1,!1,!1,!1],fontSteps:0,fontSize:"",fontColor:"#29313B"},V={fontFamily:"Open Sans",fontStyle:[!1,!1,!1,!1],fontSize:"9pt",fontColor:"#35383A"},j={EMPTY_VIZ_WARNING_MESSAGE:{name:"emptyVizWarningMessage",defaultValue:null},DATA_RETRIEVAL_PAUSED_MSG:{name:"dataRetrievalPausedMessage",defaultValue:null},VIZ_FIRST_TAB_SECTION:{name:"vizFirstTabSection",defaultValue:null},VIZ_SECOND_TAB_SECTION:{name:"vizSecondTabSection",defaultValue:null},HIDEABLE_SECTION_SPACING:{name:"hideableSectionSpacing",defaultValue:null},HIDEABLE_SECTION_LABEL:{name:"hideableSectionLabel",defaultValue:null},HIDEABLE_SECTION_LEGEND:{name:"hideableSectionLegend",defaultValue:null},TEXT_AND_FORM_DROPDOWN:{name:"textAndFormDropdown",defaultValue:0},TEXT_AND_FORM_DROPDOWN_WITH_LEGEND:{name:"textAndFormDropdownWithLegend",defaultValue:0},TEXT_CONTENT_TYPE:{name:"textContentType",defaultValue:h},FONT_FAMILY:{name:"fontFamily",defaultValue:w.fontFamily},FONT_STYLE:{name:"fontStyle",defaultValue:[!1,!1,!1,!1]},FONT_STEPS:{name:"fontSteps",defaultValue:0},FONT_SIZE:{name:"fontSize",defaultValue:""},FONT_COLOR:{name:"fontColor",defaultValue:"#35383A"},SELECTED_SHAPE:{name:"selectedShape",defaultValue:null},SHAPE_COLOR:{name:"shapeColor",defaultValue:null},SHAPE_OPACITY:{name:"shapeOpacity",defaultValue:100},LEGEND_CONTENT_TYPE:{name:"legendContentType",defaultValue:D},DOSSIER_FONT:{name:"dossierFont",defaultValue:""}},k=b({INNER_RATIO:{name:"innerRatio",defaultValue:80},PADDING:{name:"padding",defaultValue:2},SHOW_DATA_LABEL:{name:"showDataLabel",defaultValue:!0},DATA_LABEL_TYPE:{name:"dataLabelType",defaultValue:6},SHOW_LEGEND:{name:"showLegend",defaultValue:!0},SHOW_LEGEND_TITLE:{name:"showLegendTitle",defaultValue:!0},LEGEND_VALUE_TYPE:{name:"legendValueType",defaultValue:2},TEXT_SIZE_TYPE:{name:"textSizeType",defaultValue:x},TEXT_ALL_FONT_OPTIONS:{name:"allFontOptions",defaultValue:b(b({},w),{},{fontColor:L})},TEXT_LABEL_FONT_OPTIONS:{name:"labelFontOptions",defaultValue:b(b({},w),{},{fontColor:"#909598"})},TEXT_VALUE_FONT_OPTIONS:{name:"valueFontOptions",defaultValue:b(b({},w),{},{fontStyle:[!0,!1,!1,!1]})},SHAPE_OPACITIES:{name:"shapeOpacities",defaultValue:[]},SHAPE_RADIUS:{name:"shapeRadius",defaultValue:"6%"},LEGEND_ALL_FONT_OPTIONS:{name:"lgdAllFontOptions",defaultValue:b(b({},V),{},{fontColor:L})},LEGEND_TITLE_FONT_OPTIONS:{name:"lgdTitleFontOptions",defaultValue:b(b({},V),{},{fontColor:"#29313B",fontStyle:[!0,!1,!1,!1]})},LEGEND_LABEL_FONT_OPTIONS:{name:"lgdLabelFontOptions",defaultValue:b(b({},V),{},{fontColor:"#575A5D"})},LEGEND_VALUE_FONT_OPTIONS:{name:"lgdValueFontOptions",defaultValue:b(b({},V),{},{fontColor:"#35383A",fontStyle:[!0,!1,!1,!1]})},VIZ_PALETTE:{name:"vizPaletteId",defaultValue:null},VIZ_PALETTE_COLORS:{name:"vizPaletteColors",defaultValue:null}},j);function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}mstrmojo.plugins.DonutChart||(mstrmojo.plugins.DonutChart={});var z={};function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function G(e,t,a){return(t=function(e){var t=function(e){if("object"!=M(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=M(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==M(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.entries(k).forEach(function(e){var t,a,n=(a=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,o,r,l,i=[],c=!0,u=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=r.call(a)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(u)throw o}}return i}}(t,a)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?H(e,t):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],r=n[1].name;z[o]=r}),mstrmojo.plugins.DonutChart||(mstrmojo.plugins.DonutChart={}),mstrmojo.plugins.DonutChart||(mstrmojo.plugins.DonutChart={});var U={tagName:"VerticalLayout",key:z.EMPTY_VIZ_WARNING_MESSAGE,children:[{tagName:"Text",text:{desc:19565,name:"Add objects to the container to start formatting."}}]},W={tagName:"VerticalLayout",key:z.DATA_RETRIEVAL_PAUSED_MSG,children:[{tagName:"Text",text:{desc:19866,name:"Resume data retrieval for formatting."}}]},X=function(e,t){return e.zonesModel.getDropZoneObjectsByIndex(t).length>0};function Z(e){var t=e.getColorByElements();return void 0===t||0===t.length?null:t.map(function(e){return e.comb})[e.selectedShapeIndex]}function q(e){return e?e.charAt(0).toUpperCase()+e.slice(1):e}var K=function(e){return e.getVisPaletteId()?e.getVisPaletteId():"00000000000000000000000000000000"},J=function(e){var t,a=null==e||null===(t=e.getVisPaletteColors)||void 0===t?void 0:t.call(e);return a?a.map(function(e){return function(e){return void 0===e?L:-1===parseInt(e,10)||"string"==typeof e&&e.toLowerCase()===g?g:0===(e=parseInt(e,10))?"#000000":"#".concat((16777216+65536*(255&e)+(65280&e)+(16711680&e)/65536).toString(16).substring(1).toUpperCase())}(e)}):[]};mstrmojo.plugins.DonutChart||(mstrmojo.plugins.DonutChart={});var $=[{title:{desc:8970,name:"Expand All"},itemIndex:"expand"},{title:{desc:8971,name:"Collapse All"},itemIndex:"collapse"}],Q={type:"set",targets:[z.HIDEABLE_SECTION_SPACING,z.HIDEABLE_SECTION_LABEL,z.HIDEABLE_SECTION_LEGEND]},ee={tagName:"HideableLayout",title:mstrmojo.descP("DonutChart.","1","Spacing"),key:z.HIDEABLE_SECTION_SPACING,contextMenuItems:$,func:Q,children:[{tagName:"Text",text:mstrmojo.descP("DonutChart.","2","Inner ratio")},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-2vs1-stretch",children:[{tagName:"Slider",className:"new-style-slider",min:0,max:99,value:80,key:z.INNER_RATIO},{tagName:"InputNumber",className:"shadow-input",format:"%",min:0,max:99,value:80,showStepper:!1,key:z.INNER_RATIO}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between donut-slice-padding-tooltip-section",children:[{tagName:"HorizontalLayout",className:"donut-slice-padding-tooltip-label-section",children:[{tagName:"Text",text:{desc:13579,name:"Padding"}},{tagName:"IconButton",icon:"info",placement:"bottom",tooltipTitle:mstrmojo.descP("DonutChart.","8","Sets the maximum padding (in degrees) between slices. Padding will be reduced automatically if any slice is too small to display.")}]},{tagName:"InputNumber",format:"",min:0,max:5,value:2,showStepper:!0,key:z.PADDING}]},{tagName:"Divider"}]},te={tagName:"HideableLayout",title:{desc:8263,name:"Label"},withSwitch:!0,key:z.HIDEABLE_SECTION_LABEL,contextMenuItems:$,func:Q,returnAllStatus:!0,children:[{tagName:"MultiSelectBarLogic",className:"vis-donut-chart-multiselectbar",key:z.DATA_LABEL_TYPE,useTooltips:!0,checked:[!0,!0],ariaLabels:[{desc:1013,name:"Text"},{desc:527,name:"Value"}],options:[{desc:19570,name:"abc"},{desc:19569,name:"123"}],type:"label",atLeastOneChecked:!0},{tagName:"Divider"}]},ae={tagName:"HideableLayout",title:{desc:2403,name:"Legend"},withSwitch:!0,key:z.HIDEABLE_SECTION_LEGEND,contextMenuItems:$,func:Q,returnAllStatus:!0,children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between",children:[{tagName:"Text",text:{desc:4756,name:"Title"}},{tagName:"Switch",key:z.SHOW_LEGEND_TITLE,func:{type:"query",targets:[z.TEXT_AND_FORM_DROPDOWN_WITH_LEGEND]}}]},{tagName:"Text",text:{desc:527,name:"Value"}},{tagName:"MultiSelectBarLogic",className:"vis-donut-chart-multiselectbar",key:z.LEGEND_VALUE_TYPE,useTooltips:!0,checked:[!0,!1],ariaLabels:[{desc:527,name:"Value"},{desc:2053,name:"Percentage"}],options:[{desc:19569,name:"123"},"%"],type:"label"}]};const ne={tagName:"VerticalLayout",children:[U,W,{tagName:"VerticalLayout",key:z.VIZ_FIRST_TAB_SECTION,children:[ee,te,ae]}]};function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function re(e,t,a){return(t=function(e){var t=function(e){if("object"!=oe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=oe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}mstrmojo.plugins.DonutChart||(mstrmojo.plugins.DonutChart={});var le="nameSelect",ie="style",ce="sizeAndColor",ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={tagName:"VerticalLayout",className:"font-layout",children:[]},r=re(re(re(re(re(re(re(re({},"title",{tagName:"Text",className:"section-header-text",text:{desc:3433,name:"Font"}}),le,{tagName:"FontSelect",key:e.fontName||"fontName",ariaLabel:{desc:2027,name:"Font"},className:"select-font-name",disabled:a.fontName}),ie,{tagName:"MultiSelectBarLogic",key:e.fontStyle||"fontStyle",disabled:a.fontStyle,className:"dossier-font-style",checked:[!1,!1,!1,!1],innerClassName:"font-style-icons",options:["bold","italic","underline","underscore"]}),ce,{tagName:"HorizontalLayout",className:"size-and-color",children:[{tagName:"InputNumber",key:e.fontSize||"fontSize",disabled:a.fontSize,format:"pt",min:1,value:12,isValueString:n.isFontSizeString,showStepper:!0},{tagName:"ColorPicker",keyIDs:{color:e.fontColor||"fontColor",paletteColors:z.VIZ_PALETTE_COLORS},disabled:a.fontColor}]}),"horizontalAlign",{tagName:"Radio",key:e.textAlignment||"textAlignment",className:e.textAlignmentStyle||"toggle-button-radio _4item",innerClassName:"font-style-icons",horizontal:!0,useIcons:!0,useButtons:!0,options:e.textAlignmentOptions||["align-left","align-center","align-right","justify"]}),"verticalAlign",{tagName:"Radio",key:e.verticalAlign||"verticalAlign",className:"toggle-button-radio _3item",innerClassName:"vertical-align-icons",horizontal:!0,useIcons:!0,useButtons:!0,options:["top","middle","bottom"]}),"rotation",{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"Text",text:{desc:12283,name:"Rotation"}},{tagName:"Select",key:e.rotation||"rotation",ariaLabel:{desc:12283,name:"Rotation"},className:"select-font-name",options:a.NGM_ROTATION?[{desc:2066,name:"Horizontal",value:0},{desc:2069,name:"Vertical",value:270}]:[{desc:4604,name:"Auto"},{desc:2066,name:"Horizontal"},{desc:2069,name:"Vertical"},{desc:2056,name:"Custom"}]}]}),"wrapText",{tagName:"Checkbox",key:e.wrapText||"wrapText",text:{desc:19360,name:"Wrap texts"}});return t.length>0&&Object.keys(r).forEach(function(e){return t.includes(e)||delete r[e]}),Object.keys(r).forEach(function(e){return o.children.push(r[e])}),o};mstrmojo.plugins.DonutChart||(mstrmojo.plugins.DonutChart={});var se={tagName:"Select",key:z.TEXT_CONTENT_TYPE,ariaLabel:{desc:19529,name:"Text Content"},options:[{desc:2058,name:"All",value:h},{desc:8263,name:"Label",value:C},{desc:527,name:"Value",value:P}]},me={tagName:"Select",key:z.LEGEND_CONTENT_TYPE,ariaLabel:{desc:19529,name:"Text Content"},options:[{desc:2058,name:"All",value:D},{desc:4756,name:"Title",value:R},{desc:8263,name:"Label",value:F},{desc:527,name:"Value",value:B}]},Te={tagName:"VerticalLayout",children:[se,ue({fontName:z.FONT_FAMILY,fontStyle:z.FONT_STYLE},[le,ie]),{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"FontSizer",key:z.FONT_STEPS,stepSize:1,defaultValue:0,minValue:-34,showResetIcon:!0},{tagName:"ColorPicker",keyIDs:{color:z.FONT_COLOR,paletteColors:z.VIZ_PALETTE_COLORS}}]}]},Ne={tagName:"VerticalLayout",children:[se,ue({fontName:z.FONT_FAMILY,fontStyle:z.FONT_STYLE,fontSize:z.FONT_SIZE,fontColor:z.FONT_COLOR},[le,ie,ce])]},de={tagName:"VerticalLayout",children:[{tagName:"VerticalLayout",children:[{tagName:"Text",className:"section-header-text",text:{desc:3433,name:"Font"}},{tagName:"Text",text:{desc:16258,name:"Text size"}},{tagName:"SegmentControlDropdownMenu",key:z.TEXT_SIZE_TYPE,needUpdateChildren:!0,optionDisplayNames:[{desc:12058,name:"Fit to Container"},{desc:2050,name:"Fixed"}],children:[Te,Ne]}]},{tagName:"VerticalLayout",children:[{tagName:"Text",className:"section-header-text",key:"shape_title",text:{desc:29321,name:"Palette"}},{tagName:"PalettePicker",keyIDs:{paletteId:"vizPaletteId",paletteColors:"vizPaletteColors"}}]},{tagName:"VerticalLayout",children:[{tagName:"Text",className:"section-header-text",text:{desc:2923,name:"Shape"}},{tagName:"Select",key:z.SELECTED_SHAPE,func:{type:"query",targets:[z.SHAPE_COLOR,z.SHAPE_OPACITY]}},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-1vs2-stretch",children:[{tagName:"Text",text:{desc:13601,name:"Fill"}},{tagName:"ColorPickerWithOpacity",keyIDs:{color:z.SHAPE_COLOR,opacity:z.SHAPE_OPACITY,paletteColors:z.VIZ_PALETTE_COLORS},allowResetDefault:!0,format:"%",min:0,max:100}]},{tagName:"Text",text:{desc:14447,name:"Radius"}},{tagName:"Radio",key:z.SHAPE_RADIUS,className:"toggle-button-radio _4item",innerClassName:"rectangle-icons",useIcons:!0,useButtons:!0,horizontal:!0,useTooltips:!0,options:[{name:"no-radius",ariaLabel:{desc:19516,name:"No Radius"},value:0},{name:"small-radius",ariaLabel:{desc:19519,name:"Small Radius"},value:"2%"},{name:"medium-radius",ariaLabel:{desc:19517,name:"Medium Radius"},value:"6%"},{name:"large-radius",ariaLabel:{desc:19526,name:"Large Radius"},value:"10%"}]}]}]},pe={tagName:"VerticalLayout",children:[{tagName:"Text",className:"section-header-text",text:{desc:3433,name:"Font"}},me,ue({fontName:z.FONT_FAMILY,fontStyle:z.FONT_STYLE,fontSize:z.FONT_SIZE,fontColor:z.FONT_COLOR},[le,ie,ce])]},Oe={tagName:"SegmentControlDropdownMenu",optionDisplayNames:[mstrmojo.descP("DonutChart.","3","Labels and Shapes"),{desc:2403,name:"Legend"}],key:z.TEXT_AND_FORM_DROPDOWN_WITH_LEGEND,children:[de,pe]},_e={tagName:"SegmentControlDropdownMenu",optionDisplayNames:[mstrmojo.descP("DonutChart.","3","Labels and Shapes")],key:z.TEXT_AND_FORM_DROPDOWN,children:[de]};const Ee={tagName:"VerticalLayout",children:[U,W,{tagName:"VerticalLayout",key:z.VIZ_SECOND_TAB_SECTION,children:[Oe,_e]}]};function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}mstrmojo.plugins.DonutChart||(mstrmojo.plugins.DonutChart={});var ye=["unifiedProperty"],Se=function(e){"object"===fe(e)?Object.values(e).forEach(function(e){Se(e)}):Array.isArray(e)?e.forEach(function(e){Se(e)}):ye.push(e)};Se(z);const ge=ye;function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(a),!0).forEach(function(t){be(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ie(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function be(e,t,a){return(t=function(e){var t=function(e){if("object"!=Le(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=Le(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Le(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ve(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return he(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?he(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){i=!0,r=e},f:function(){try{l||null==a.return||a.return()}finally{if(i)throw r}}}}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}mstrmojo.plugins.DonutChart||(mstrmojo.plugins.DonutChart={});var Ce=[z.TEXT_ALL_FONT_OPTIONS,z.TEXT_LABEL_FONT_OPTIONS,z.TEXT_VALUE_FONT_OPTIONS],Pe=[z.LEGEND_ALL_FONT_OPTIONS,z.LEGEND_TITLE_FONT_OPTIONS,z.LEGEND_LABEL_FONT_OPTIONS,z.LEGEND_VALUE_FONT_OPTIONS],xe=[].concat(Ce,Pe),De=function(e,t,a){var n=t.prop,o=t.value;a[e][n]=o},Re=function(e,t,a){var n=t.prop,o=t.value,r=a[e][z.FONT_STEPS]+o;De(e,{prop:n,value:r},a)},Fe=function(e,t,a,n){var o=t.prop,r=t.value,l=e?Pe.filter(function(e){return e!==z.LEGEND_ALL_FONT_OPTIONS}):Ce.filter(function(e){return e!==z.TEXT_ALL_FONT_OPTIONS}),i=e?z.LEGEND_ALL_FONT_OPTIONS:z.TEXT_ALL_FONT_OPTIONS;if(o!==z.FONT_STYLE)Be(a,l,o)?De(i,{prop:o,value:r},a):De(i,{prop:o,value:n},a);else{var c=we(l,a);De(i,{prop:z.FONT_STYLE,value:c},a)}},Be=function(e,t,a){var n,o=[],r=ve(t);try{for(r.s();!(n=r.n()).done;){var l=e[n.value];o.push(l[a])}}catch(e){r.e(e)}finally{r.f()}return 1===new Set(o).size},we=function(e,t){var a,n=[!0,!0,!0,!0],o=ve(e);try{for(o.s();!(a=o.n()).done;)for(var r=t[a.value].fontStyle,l=0;l<4;l++)r[l]||(n[l]=!1)}catch(e){o.e(e)}finally{o.f()}return n};function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(Object(a),!0).forEach(function(t){He(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function He(e,t,a){return(t=function(e){var t=function(e){if("object"!=Ve(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=Ve(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ve(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}mstrmojo.plugins.DonutChart||(mstrmojo.plugins.DonutChart={});mstrmojo.plugins.DonutChart||(mstrmojo.plugins.DonutChart={});mstrmojo.plugins.DonutChart||(mstrmojo.plugins.DonutChart={});var ze={config:{tagName:"SegmentControl",key:"tabSelector",options:[{icon:"_DonutChart",ariaLabel:{desc:19962,name:"Visualization Options"}},{icon:"text-format",ariaLabel:{desc:19961,name:"Text and Form"}},{icon:"title-container",ariaLabel:{desc:12049,name:"Title and Container"}}],children:[ne,Ee,S]},properties:ge,apply:function(e,t,a){var n,o;if(!(ge.indexOf(t)<0)){var r,l,i=JSON.parse(e.getProperty("unifiedProperty")),c={callback:function(){}},u=!0,s=!0;!function(e,t){var a=function(e){var t,a=null===(t=e.controller.model)||void 0===t?void 0:t.defmts.find(function(e){return"Text"===e.n});return(null==a?void 0:a.props.FormattingFont.Name)||e.getProperty(k.FONT_FAMILY.name)}(e),n=t[z.DOSSIER_FONT];if(n||(t[z.DOSSIER_FONT]=a),n!==a){var o,r=ve(xe);try{for(r.s();!(o=r.n()).done;){var l=o.value;De(l,{prop:z.FONT_FAMILY,value:a},t)}}catch(e){r.e(e)}finally{r.f()}t[z.DOSSIER_FONT]=a}}(e,i);var m,T,N=!1;switch(t){case z.HIDEABLE_SECTION_LABEL:if(void 0===(null===(n=a)||void 0===n?void 0:n.switchValue))return;var d;i[z.SHOW_DATA_LABEL]=null===(d=a)||void 0===d?void 0:d.switchValue,a=null;break;case z.HIDEABLE_SECTION_LEGEND:if(void 0===(null===(o=a)||void 0===o?void 0:o.switchValue))return;var p;i[z.SHOW_LEGEND]=null===(p=a)||void 0===p?void 0:p.switchValue,a=null;break;case z.LEGEND_CONTENT_TYPE:case z.TEXT_CONTENT_TYPE:s=!1;break;case z.TEXT_SIZE_TYPE:a!==i[z.TEXT_SIZE_TYPE]&&function(e,t){var a=t[z.TEXT_SIZE_TYPE]===x,n=[];if(a){var o,r=null===(o=e.canvasContainer)||void 0===o?void 0:o.querySelector(".donut-chart-chart-container");n=[null==r?void 0:r.querySelector(".donut-chart-label-value"),null==r?void 0:r.querySelector(".donut-chart-label-text")]}for(var l=e.getProperty(z.DATA_LABEL_TYPE),i=0,c=Ce;i<c.length;i++){var u=c[i],s=t[u],m="";if(a)if(u===z.TEXT_LABEL_FONT_OPTIONS){if(2!==l){var T=window.getComputedStyle(4===l?n[0]:n[1],null).getPropertyValue("font-size");m=T.includes("px")?"".concat(Math.round(.75*parseFloat(T)),"pt"):T}}else if(u===z.TEXT_VALUE_FONT_OPTIONS&&4!==l){var N=window.getComputedStyle(n[0],null).getPropertyValue("font-size");m=N.includes("px")?"".concat(Math.round(.75*parseFloat(N)),"pt"):N}t[u]=Ae(Ae({},s),{},{fontSteps:0,fontSize:m})}}(e,i);break;case z.FONT_FAMILY:case z.FONT_STYLE:case z.FONT_SIZE:case z.FONT_COLOR:case z.FONT_STEPS:t===z.FONT_SIZE?a="".concat(a,"pt"):t===z.FONT_STYLE&&(a=a.splice(0,a.length-1)),function(e,t,a,n){var o=a.prop,r=a.value;if(e===h||e===D)for(var l=0,i=t?Pe:Ce;l<i.length;l++){var c=i[l];o===z.FONT_STEPS&&0!==r?Re(c,{prop:o,value:r},n):De(c,{prop:o,value:r},n)}else{var u=function(e,t){return t?"lgd".concat(q(e),"FontOptions"):"".concat(e,"FontOptions")}(e,t);o===z.FONT_STEPS&&0!==r?Re(u,{prop:o,value:r},n):De(u,{prop:o,value:r},n),o===z.FONT_FAMILY?Fe(t,{prop:o,value:r},n,"?"):o===z.FONT_COLOR?Fe(t,{prop:o,value:r},n,"INDETERMINATE"):o===z.FONT_STYLE?Fe(t,{prop:o,value:r},n):o===z.FONT_SIZE&&Fe(t,{prop:o,value:r},n,"pt")}}((N=1===i[z.TEXT_AND_FORM_DROPDOWN_WITH_LEGEND])?i[z.LEGEND_CONTENT_TYPE]:i[z.TEXT_CONTENT_TYPE],N,{prop:t,value:a},i),a=null;break;case z.DATA_LABEL_TYPE:var O=0;a[0]&&(O|=4),a[1]&&(O|=2),a=O;break;case z.LEGEND_VALUE_TYPE:var _=0;a[0]&&(_|=2),a[1]&&(_|=4),a=_;break;case z.SELECTED_SHAPE:r=e.getColorByElements(),e.selectedShapeIndex=r.findIndex(function(e){return e.text===a}),a=null,s=!1;break;case z.SHAPE_COLOR:if(!(l=Z(e)))return;e.updateColorMap(l,(T=(m=a).toLocaleLowerCase(),-1===parseInt(m,10)||T===g||"default"===T?T:-2===parseInt(m,10)?-2:("#"===m.substring(0,1)&&(m=m.substring(1)),parseInt(m.substring(4)+m.substring(2,4)+m.substring(0,2),16)))),u=!1,s=!1;break;case z.SHAPE_OPACITY:r=e.getColorByElements();var E=[],f=[];e.selectedShapeIndex>0?(E.push(Z(e)),f.push(a)):r.forEach(function(e){E.push(e.comb),f.push(a)}),i[z.SHAPE_OPACITIES]=function(e,t,a){if(e=[].concat(e),t=[].concat(t),e.length!==t.length)throw new Error("comb and opacity number not match");var n=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(a),!0).forEach(function(t){G(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a[z.SHAPE_OPACITIES])||{};return e.forEach(function(e,a){var o=e.map(function(e){return"@pLd".concat(e.tid)}).join("|"),r=e.map(function(e){return e.eid.replace(e.tid,"@pLd".concat(e.tid))}).join("|"),l=n[o];void 0===l&&(l={},n={}),l[r]=t[a],n[o]=l}),n}(E,f,i),c.suppressData=!1,s=!1,a=100;break;case z.TEXT_AND_FORM_DROPDOWN:case z.TEXT_AND_FORM_DROPDOWN_WITH_LEGEND:s=!1;break;case z.VIZ_PALETTE:return void e.setPalette(a)}u&&(i=ke(ke({},i),{},He({},t,a)),e.savePropertyAndUpdateWidgetAsync("unifiedProperty",JSON.stringify(i),c)),s&&(e.plot(i),e.updateHighlight())}},query:function(e,t){var a,n,o,r,l;if(ge.indexOf(t)<0)return{};var i=JSON.parse(e.getProperty("unifiedProperty")),c=i[t],u=X(e,0),s=X(e,2),m=[],T=!1,N=null,d=e.isEmpty()||!!e.destroyed,p=e.excludeData;switch(t){case z.EMPTY_VIZ_WARNING_MESSAGE:return{visible:!u||!s};case z.DATA_RETRIEVAL_PAUSED_MSG:return{visible:p};case z.VIZ_FIRST_TAB_SECTION:case z.VIZ_SECOND_TAB_SECTION:return{visible:u&&s&&!p}}if(d)return{};switch(t){case z.HIDEABLE_SECTION_LABEL:return{value:{switchValue:!!i[z.SHOW_DATA_LABEL],isExpanded:!0,isSwitchDisabled:void 0}};case z.DATA_LABEL_TYPE:return{value:[!(4&~c),!(2&~c)]};case z.HIDEABLE_SECTION_LEGEND:return{value:{switchValue:!!i[z.SHOW_LEGEND],isExpanded:!0,isSwitchDisabled:void 0}};case z.LEGEND_VALUE_TYPE:return{value:[!(2&~c),!(4&~c)]};case z.FONT_FAMILY:case z.FONT_STYLE:case z.FONT_SIZE:case z.FONT_COLOR:case z.FONT_STEPS:return N=(T=1===i[z.TEXT_AND_FORM_DROPDOWN_WITH_LEGEND])?i[z.LEGEND_CONTENT_TYPE]:i[z.TEXT_CONTENT_TYPE],{value:i[T?"lgd".concat(q(N),"FontOptions"):"".concat(N,"FontOptions")][t]};case z.SELECTED_SHAPE:return{value:{value:null===(a=(m=e.getColorByElements())[null!==(n=e.selectedShapeIndex)&&void 0!==n?n:0])||void 0===a?void 0:a.text,items:m.map(function(e,t){return{n:e.text,v:t}})}};case z.SHAPE_COLOR:return{value:null===(o=(m=e.getColorByElements())[null!==(r=e.selectedShapeIndex)&&void 0!==r?r:0])||void 0===o?void 0:o.color,enable:0!==(null!==(l=e.selectedShapeIndex)&&void 0!==l?l:0)};case z.SHAPE_OPACITY:m=e.getColorByElements();var O=i[z.SHAPE_OPACITIES];if(e.selectedShapeIndex>0){var _,E,f,y=null===(_=m[e.selectedShapeIndex])||void 0===_||null===(_=_.comb)||void 0===_?void 0:_[0];return{value:parseInt(null!==(E=null==O||null===(f=O[null==y?void 0:y.tid])||void 0===f?void 0:f[null==y?void 0:y.eid])&&void 0!==E?E:100,10)}}var S=m.slice(1).map(function(e){var t,a,n,o=null==e||null===(t=e.comb)||void 0===t?void 0:t[0];return parseInt(null!==(a=null==O||null===(n=O[null==o?void 0:o.tid])||void 0===n?void 0:n[null==o?void 0:o.eid])&&void 0!==a?a:100,10)});return{value:1===new Set(S).size?S[0]:"INDETERMINATE"};case z.TEXT_AND_FORM_DROPDOWN_WITH_LEGEND:return{visible:!!i[z.SHOW_LEGEND],value:c};case z.TEXT_AND_FORM_DROPDOWN:return{visible:!i[z.SHOW_LEGEND]};case z.VIZ_PALETTE:return{value:K(e)};case z.VIZ_PALETTE_COLORS:return{value:J(e)};default:return{value:c}}}};return t})());