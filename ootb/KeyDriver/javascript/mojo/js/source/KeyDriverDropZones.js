(()=>{"use strict";mstrmojo.plugins.KeyDriver||(mstrmojo.plugins.KeyDriver={}),mstrmojo.plugins.KeyDriver||(mstrmojo.plugins.KeyDriver={}),mstrmojo.descriptors["KeyDriver.20"]||mstrmojo.requiresDescsWPrefix("KeyDriver.",1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31),mstrmojo.requiresCls("mstrmojo.vi.models.CustomVisDropZones");var e=mstrmojo.vi.models.CustomVisDropZones.ENUM_ALLOW_DROP_TYPE,r=mstrmojo.vi.models.EnumDragSources,o=mstrmojo.vi.viz.EnumDSSDropZones,t=mstrmojo.descP("KeyDriver.","7","Potential Drivers"),s=mstrmojo.descP("KeyDriver.","8","More Data Levels");mstrmojo.plugins.KeyDriver.KeyDriverDropZones=mstrmojo.declare(mstrmojo.vi.models.CustomVisDropZones,null,{scriptClass:"mstrmojo.plugins.KeyDriver.KeyDriverDropZones",cssClass:"keydriver-dropzones",getCustomDropZones:function(){return[{name:mstrmojo.descP("KeyDriver.","6","Target"),title:mstrmojo.descP("KeyDriver.","10","Drag a metric here"),maxCapacity:1,allowObjectType:e.METRIC},{name:t,title:mstrmojo.descP("KeyDriver.","11","Drag attributes here"),allowObjectType:e.ATTRIBUTE},{name:s,title:mstrmojo.descP("KeyDriver.","12","Add more attributes to control the data level"),allowObjectType:e.ATTRIBUTE}]},shouldAllowObjectsInDropZone:function(e,t,s,i,n){var m,l,u=null==n||null===(m=n.src)||void 0===m||null===(l=m.data)||void 0===l?void 0:l.src,c=e.id;if(c!==o.YAxis&&c!==o.BreakBy||u===r.VIZ_EDITOR)return{};var a=this.getDropZoneObjectsByIndex(1),v=this.getDropZoneObjectsByIndex(2),D=a.concat(v).map(function(e){return e.id});return{allowedItems:t.filter(function(e){return!D.includes(e.did)})}},getActionsForObjectsDropped:function(e,r,i,n,m){var l=e.id;if(l===o.YAxis||l===o.BreakBy){var u=l===o.YAxis?s:t,c=[];return this.getRemoveDropZoneObjectsActions(c,u,r),c}},getActionsForObjectsRemoved:function(e,r){},supportWebSort:function(){return!1},getDropZoneContextMenuItems:function(e,r,o,t){var s=mstrmojo.desc(14717,"Create Links..."),i=e.menus,n=null==i?void 0:i.findIndex(function(e){return e.n===s});-1!==n&&(null==i||i.splice(n,1))}})})();