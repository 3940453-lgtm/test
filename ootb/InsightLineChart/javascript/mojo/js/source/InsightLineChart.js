(()=>{"use strict";mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var t,e;!function(t){t[t.TARGET_METRIC=1]="TARGET_METRIC",t[t.TIME_ATTRIBUTE=2]="TIME_ATTRIBUTE",t[t.DRAG_ATTRIBUTE_HERE=3]="DRAG_ATTRIBUTE_HERE",t[t.DRAG_METRIC_HERE=4]="DRAG_METRIC_HERE",t[t.SEASONAL_LINE_CHART=5]="SEASONAL_LINE_CHART",t[t.SEASONAL_LINE_CHART_SUMMARY=6]="SEASONAL_LINE_CHART_SUMMARY",t[t.LINE_CHART_REQUIREMENTS=7]="LINE_CHART_REQUIREMENTS",t[t.SEASONAL_LINE_CHART_USE_CASE=8]="SEASONAL_LINE_CHART_USE_CASE",t[t.FORECAST_LINE_CHART=9]="FORECAST_LINE_CHART",t[t.FORECAST_LINE_CHART_SUMMARY=10]="FORECAST_LINE_CHART_SUMMARY",t[t.FORECAST_LINE_CHART_USE_CASE=11]="FORECAST_LINE_CHART_USE_CASE",t[t.OUTLIER_LINE_CHART=12]="OUTLIER_LINE_CHART",t[t.OUTLIER_LINE_CHART_SUMMARY=13]="OUTLIER_LINE_CHART_SUMMARY",t[t.OUTLIER_LINE_CHART_USE_CASE=14]="OUTLIER_LINE_CHART_USE_CASE",t[t.TREND_LINE_CHART=15]="TREND_LINE_CHART",t[t.TREND_LINE_CHART_SUMMARY=16]="TREND_LINE_CHART_SUMMARY",t[t.TREND_LINE_CHART_USE_CASE=17]="TREND_LINE_CHART_USE_CASE",t[t.USES_1_TIME_ATTRIBUTE_AND_ONE_METRIC=18]="USES_1_TIME_ATTRIBUTE_AND_ONE_METRIC",t[t.TOOLTIP_TREND_TRENDLINE_OF=19]="TOOLTIP_TREND_TRENDLINE_OF",t[t.TOOLTIP_TREND_TRENDLINE_FUNCTION=20]="TOOLTIP_TREND_TRENDLINE_FUNCTION",t[t.TOOLTIP_TREND_TYPE=21]="TOOLTIP_TREND_TYPE",t[t.TOOLTIP_TREND_TYPE_LINEAR=22]="TOOLTIP_TREND_TYPE_LINEAR",t[t.TOOLTIP_TREND_R_SQUARED=23]="TOOLTIP_TREND_R_SQUARED",t[t.TOOLTIP_TREND_R_SQUARED_ADJUSTED=24]="TOOLTIP_TREND_R_SQUARED_ADJUSTED",t[t.TOOLTIP_TREND_PVALUE=25]="TOOLTIP_TREND_PVALUE",t[t.FORECAST_VALUE=26]="FORECAST_VALUE",t[t.UPPER_BOUND=27]="UPPER_BOUND",t[t.LOWER_BOUND=28]="LOWER_BOUND",t[t.NOT_ENOUGH_DATA_OR_VISUALIZATION_INCOMPLETE_MESSAGE=29]="NOT_ENOUGH_DATA_OR_VISUALIZATION_INCOMPLETE_MESSAGE",t[t.ENTIRE_GRAPH=30]="ENTIRE_GRAPH",t[t.DATA_LABELS_AND_SHAPES=31]="DATA_LABELS_AND_SHAPES",t[t.AXES_AND_GRID_LINES=32]="AXES_AND_GRID_LINES",t[t.TREND_LINE=33]="TREND_LINE",t[t.FORECAST=34]="FORECAST",t[t.OUTLIER=35]="OUTLIER",t[t.SEASONALITY=36]="SEASONALITY",t[t.SEASONAL_PATTERN=37]="SEASONAL_PATTERN",t[t.SHOW_SEASONAL_PATTERN=38]="SHOW_SEASONAL_PATTERN",t[t.FORECAST_LENGTH=39]="FORECAST_LENGTH",t[t.DASHED_LINE_2PT=40]="DASHED_LINE_2PT",t[t.EXPECTED_RANGE=41]="EXPECTED_RANGE",t[t.FORECAST_LINES=42]="FORECAST_LINES",t[t.CONFIDENCE_BAND=43]="CONFIDENCE_BAND",t[t.DIVIDING_LINE=44]="DIVIDING_LINE",t[t.FILL=45]="FILL",t[t.POINTS=46]="POINTS",t[t.NOT_SUPPORTED_ON_MOBILE_ERROR=47]="NOT_SUPPORTED_ON_MOBILE_ERROR",t[t.NOT_SUPPORTED_ON_WS_LOCAL_MODE_ERROR=48]="NOT_SUPPORTED_ON_WS_LOCAL_MODE_ERROR",t[t.FORECAST_ALGORITHM=49]="FORECAST_ALGORITHM",t[t.CONFIDENCE_INTERVAL=50]="CONFIDENCE_INTERVAL",t[t.TREND=51]="TREND",t[t.SEASON=52]="SEASON",t[t.SEASON_LENGTH=53]="SEASON_LENGTH",t[t.RMSE=54]="RMSE",t[t.MAE=55]="MAE",t[t.MAPE=56]="MAPE",t[t.AIC=57]="AIC",t[t.BIC=58]="BIC",t[t.EXPONENTIAL_SMOOTHING=59]="EXPONENTIAL_SMOOTHING",t[t.NOT_ENOUGH_DATA_POINTS_ERROR=60]="NOT_ENOUGH_DATA_POINTS_ERROR",t[t.TOO_MANY_DATA_POINTS_ERROR=61]="TOO_MANY_DATA_POINTS_ERROR",t[t.ACTUAL=62]="ACTUAL",t[t.PREDICTION=63]="PREDICTION",t[t.EDIT_TRENDLINE=64]="EDIT_TRENDLINE",t[t.EDIT_FORECAST=65]="EDIT_FORECAST",t[t.NOT_SUPPORTED_ON_OLD_ENV_ERROR=66]="NOT_SUPPORTED_ON_OLD_ENV_ERROR",t[t.BREAK_BY=67]="BREAK_BY",t[t.ALL=68]="ALL"}(e||(e={}));var n,r,i,a,o,l,s,E,c,_,u,L,T,A,h,O,d,f,I,N,p,S,R,C,m,g,v,y,D,F,B,M,b,x,P,H,w,Y,G,X,U,k,V,W,j,z,K,Z,$=((t={})[e.TARGET_METRIC]="Target Metric",t[e.TIME_ATTRIBUTE]="Time Attribute",t[e.DRAG_ATTRIBUTE_HERE]="Drag attribute here",t[e.DRAG_METRIC_HERE]="Drag metric here",t[e.SEASONAL_LINE_CHART]="Seasonal Trend Line Chart",t[e.SEASONAL_LINE_CHART_SUMMARY]="Use this chart to display seasonal recurring patterns",t[e.LINE_CHART_REQUIREMENTS]="Uses 1 &lt;span class='icon insightlinechart-attr-time'&gt;time attribute&lt;/span&gt; and 1 #metric###",t[e.SEASONAL_LINE_CHART_USE_CASE]="Example: Identify seasonal sales patterns",t[e.FORECAST_LINE_CHART]="Forecast Line Chart",t[e.FORECAST_LINE_CHART_SUMMARY]="Use this chart to showcase the projected range",t[e.FORECAST_LINE_CHART_USE_CASE]="Example: Identify potential market fluctuations",t[e.OUTLIER_LINE_CHART]="Anomaly Detection Line Chart",t[e.OUTLIER_LINE_CHART_SUMMARY]="Use this chart to identify and analyze exceptional data points",t[e.OUTLIER_LINE_CHART_USE_CASE]="Example: Identify unusual sales spikes or drops",t[e.TREND_LINE_CHART]="Linear Trend Line Chart",t[e.TREND_LINE_CHART_SUMMARY]="Use this chart to depict the historical trend",t[e.TREND_LINE_CHART_USE_CASE]="Example: Analyze sales trends",t[e.USES_1_TIME_ATTRIBUTE_AND_ONE_METRIC]="Uses 1 ###time attribute#### and 1 #metric####",t[e.TOOLTIP_TREND_TRENDLINE_OF]="Trend line",t[e.TOOLTIP_TREND_TRENDLINE_FUNCTION]="Trend line function",t[e.TOOLTIP_TREND_TYPE]="Model",t[e.TOOLTIP_TREND_TYPE_LINEAR]="Linear",t[e.TOOLTIP_TREND_R_SQUARED]="R²",t[e.TOOLTIP_TREND_R_SQUARED_ADJUSTED]="Adjusted R²",t[e.TOOLTIP_TREND_PVALUE]="P-value",t[e.FORECAST_VALUE]="Forecast for {metric_name}",t[e.UPPER_BOUND]="Upper Bound",t[e.LOWER_BOUND]="Lower Bound",t[e.NOT_ENOUGH_DATA_OR_VISUALIZATION_INCOMPLETE_MESSAGE]="Either there is not enough data to display the visualization or the visualization configuration is incomplete.",t[e.ENTIRE_GRAPH]="Entire Graph",t[e.DATA_LABELS_AND_SHAPES]="Data Labels and Shapes",t[e.AXES_AND_GRID_LINES]="Axes and Grid Lines",t[e.TREND_LINE]="Trend Line",t[e.FORECAST]="Forecast",t[e.OUTLIER]="Outlier",t[e.SEASONALITY]="Seasonality",t[e.SEASONAL_PATTERN]="Seasonal Pattern",t[e.SHOW_SEASONAL_PATTERN]="Show seasonal pattern",t[e.FORECAST_LENGTH]="Forecast length",t[e.DASHED_LINE_2PT]="2pt dashed",t[e.EXPECTED_RANGE]="Expected Range",t[e.FORECAST_LINES]="Forecast Lines",t[e.CONFIDENCE_BAND]="Confidence Band",t[e.DIVIDING_LINE]="Dividing Line",t[e.FILL]="Fill",t[e.POINTS]="Points",t[e.NOT_SUPPORTED_ON_MOBILE_ERROR]="The Insight+ Line Chart visualization is not yet available on Mobile.",t[e.NOT_SUPPORTED_ON_WS_LOCAL_MODE_ERROR]="The Insight+ Line Chart visualization is not available in offline mode.",t[e.FORECAST_ALGORITHM]="Forecast algorithm",t[e.CONFIDENCE_INTERVAL]="Confidence interval",t[e.TREND]="Trend",t[e.SEASON]="Season",t[e.SEASON_LENGTH]="Season length",t[e.RMSE]="RMSE",t[e.MAE]="MAE",t[e.MAPE]="MAPE",t[e.AIC]="AIC",t[e.BIC]="BIC",t[e.EXPONENTIAL_SMOOTHING]="Exponential smoothing",t[e.NOT_ENOUGH_DATA_POINTS_ERROR]="Insufficient data points are available to generate the Insight+ Line Chart visualization. Please add a larger set of data or adjust the filtering conditions.",t[e.TOO_MANY_DATA_POINTS_ERROR]="Too many data points to generate the Insight+ Line Chart visualization. Please add a smaller set of data or adjust the filtering conditions.",t[e.ACTUAL]="Actual",t[e.PREDICTION]="Prediction",t[e.EDIT_TRENDLINE]="Edit trendline...",t[e.EDIT_FORECAST]="Edit forecast...",t[e.NOT_SUPPORTED_ON_OLD_ENV_ERROR]="The Insight+ Line Chart visualization is supported only on environment version 2021 Update 11 or higher.",t[e.BREAK_BY]="Break By",t[e.ALL]="All",t),q="InsightLineChart.",Q=function(t){return mstrmojo.descP(q,t,$[t])};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),function(t){t.DASHED="dashed",t.DOTTED="dotted"}(r||(r={})),function(t){t.THICK="2pt",t.THIN="1pt"}(i||(i={})),function(t){t.DASHED_THICK="4, 3",t.DASHED="3, 2",t.DOTTED="1",t.NONE="0"}(a||(a={})),function(t){t[t.DSSTemplateTypeCalculationReservedType=0]="DSSTemplateTypeCalculationReservedType",t[t.DSSTemplateCalculationDesignTemplate=1]="DSSTemplateCalculationDesignTemplate",t[t.DSSTemplateCalculationKeyDriverAlgorithm=2]="DSSTemplateCalculationKeyDriverAlgorithm",t[t.DSSTemplateCalculationImpactAlgorithm=4]="DSSTemplateCalculationImpactAlgorithm",t[t.DSSTemplateCalculationDetailAlgorithm=8]="DSSTemplateCalculationDetailAlgorithm",t[t.DSSTemplateCalculationSeasonalityAlgorithm=16]="DSSTemplateCalculationSeasonalityAlgorithm",t[t.DSSTemplateCalculationTrendAlgorithm=32]="DSSTemplateCalculationTrendAlgorithm",t[t.DSSTemplateCalculationOutlierAlgorithm=64]="DSSTemplateCalculationOutlierAlgorithm",t[t.DSSTemplateCalculationForecastAlgorithm=128]="DSSTemplateCalculationForecastAlgorithm"}(o||(o={})),function(t){t[t.LINES_LENGTH=10]="LINES_LENGTH",t[t.FIRST_LINE_INDEX=0]="FIRST_LINE_INDEX",t[t.MINOR_LINE_INDEX=5]="MINOR_LINE_INDEX"}(l||(l={})),function(t){t[t.DEGREE_30=Math.sin(Math.PI/6)]="DEGREE_30",t[t.DEGREE_45=Math.sin(Math.PI/4)]="DEGREE_45",t[t.DEGREE_60=Math.sin(Math.PI/3)]="DEGREE_60"}(s||(s={})),function(t){t[t.X_AXIS_SCALE_PERCENTAGE=.95]="X_AXIS_SCALE_PERCENTAGE",t[t.Y_AXIS_SCALE_PERCENTAGE=.05]="Y_AXIS_SCALE_PERCENTAGE"}(E||(E={})),function(t){t[t.AXIS_LEFT=3]="AXIS_LEFT",t[t.TICK_LEFT=6]="TICK_LEFT",t[t.LEFT=4]="LEFT",t[t.BOTTOM=4]="BOTTOM",t[t.LABEL=5]="LABEL",t[t.LABEL_HORIZONTAL_AUTOMATIC=3]="LABEL_HORIZONTAL_AUTOMATIC",t[t.LABEL_PADDING_PERCENTAGE=.2]="LABEL_PADDING_PERCENTAGE",t[t.LABEL_RIGHT=4]="LABEL_RIGHT",t[t.SEASONAL_PATTERN=20]="SEASONAL_PATTERN",t[t.COMPACT_MODE_TOP=10]="COMPACT_MODE_TOP",t[t.COMPACT_MODE_BOTTOM=10]="COMPACT_MODE_BOTTOM",t[t.COMPACT_MODE_LEFT=10]="COMPACT_MODE_LEFT",t[t.COMPACT_MODE_RIGHT=10]="COMPACT_MODE_RIGHT",t[t.WIDTH_PERCENTAGE_BETWEEN_X_AXIS_LABELS=.5]="WIDTH_PERCENTAGE_BETWEEN_X_AXIS_LABELS"}(c||(c={})),function(t){t[t.Y_AXIS_ROTATE=-90]="Y_AXIS_ROTATE",t[t.X_AXIS_ROTATE=0]="X_AXIS_ROTATE",t[t.SPACE_BETWEEN_AXIS_LINE=5]="SPACE_BETWEEN_AXIS_LINE"}(_||(_={})),function(t){t.NAME="Seasonal Pattern",t[t.SVG_SCALE_RATIO=.8]="SVG_SCALE_RATIO",t[t.SVG_FULL_SCALE=1]="SVG_FULL_SCALE"}(u||(u={})),function(t){t[t.METRIC=0]="METRIC",t[t.SEASONALITY=1]="SEASONALITY"}(L||(L={})),function(t){t[t.METRIC=0]="METRIC",t[t.VALUE=1]="VALUE",t[t.LOW=2]="LOW",t[t.HIGH=3]="HIGH"}(T||(T={})),function(t){t[t.METRIC=0]="METRIC",t[t.TREND=1]="TREND"}(A||(A={})),function(t){t[t.METRIC=0]="METRIC",t[t.IS_OUTLIER=1]="IS_OUTLIER",t[t.LOW=2]="LOW",t[t.HIGH=3]="HIGH"}(h||(h={})),function(t){t[t.SEASONAL_PATTERN=1]="SEASONAL_PATTERN",t[t.COMPACT_MODE=4]="COMPACT_MODE",t[t.OTHER=3]="OTHER"}(O||(O={})),function(t){t[t.HORIZONTAL=18]="HORIZONTAL",t[t.VERTICAL=6]="VERTICAL"}(d||(d={})),function(t){t.HORIZONTAL_LABELS="horizontal-labels",t.VERTICAL_LABELS="vertical-labels",t.HORIZONTAL_TITLE="horizontal-title",t.VERTICAL_TITLE="vertical-title",t.GRID_LINES="grid-lines",t.GRID_LINES_MINOR="grid-lines-minor"}(f||(f={})),function(t){t[t.MINIMUM=1]="MINIMUM",t[t.COMPACT_MODE_MAXIMUM=4]="COMPACT_MODE_MAXIMUM",t[t.SEASONAL_PATTERN=3]="SEASONAL_PATTERN"}(I||(I={})),function(t){t[t.MAIN_GRID_LINES=1]="MAIN_GRID_LINES",t[t.MINOR_GRID_LINES=.5]="MINOR_GRID_LINES"}(N||(N={})),function(t){t[t.DEFAULT_SIZE=5]="DEFAULT_SIZE",t[t.BACKGROUND_SIZE=3.5]="BACKGROUND_SIZE",t[t.STROKE_WIDTH=2]="STROKE_WIDTH",t[t.NOT_VISIBLE=0]="NOT_VISIBLE"}(p||(p={})),(Z=S||(S={})).MARKER_STROKE="#b5b5b5",Z.MARKER_SELECTED_STROKE="black",Z.BACKGROUND_STROKE="#fff",Z.DEFAULT_LINE="steelblue",Z.TRANSPARENT="transparent",(K=R||(R={}))[K.X_SCALE_START=.85]="X_SCALE_START",K[K.X_SCALE_END=.95]="X_SCALE_END",K[K.Y_SCALE_START=.85]="Y_SCALE_START",K[K.Y_SCALE_END=.05]="Y_SCALE_END",(z=C||(C={})).LINE_STROKE="10pt",z.FORECAST_STROKE="10pt",z.TRENDLINE_STROKE="8pt",function(t){t.MAIN_LINE="#lineChart",t.TREND_LINE="#trendline",t.FORECAST_ELEMENTS=".forecastTooltipArea",t.SEASONALITY_PATTERN="#seasonalityPattern",t.TOOLTIP_MARKER="#tooltipMarker",t.TOOLTIP_MARKER_BACKGROUND="#tooltipMarkerBackground",t.SVG_CONTAINER=".insightlinechart-visualization",t.INFO_ICON=".insightlinechart-info-icon",t.INFO_ICON_CONTAINER=".insightlinechart-info-icon-container",t.INFO_ICON_ACTIVE=".insightlinechart-info-icon-active",t.FORECAST_DATA_LABEL=".forecast-single-data-label",t.MAIN_DATA_LABEL=".main-single-data-label",t.SINGLE_DATA_LABEL=".single-data-label"}(m||(m={})),function(t){t[t.RIGHT_PADDING=20]="RIGHT_PADDING",t[t.LABEL_PADDING=5]="LABEL_PADDING",t[t.NO_LABEL_PADDING=15]="NO_LABEL_PADDING",t[t.SCROLLBAR_PADDING=8]="SCROLLBAR_PADDING"}(g||(g={})),function(t){t[t.X_POSITION=0]="X_POSITION",t[t.Y_POSITION=-5]="Y_POSITION"}(v||(v={})),function(t){t.MAIN="mainType",t.TRENDLINE="trendlineType",t.SEASONALITY="seasonalType",t.SEASONAL_PATTERN="seasonalPatternType",t.FORECAST="forecastType",t.OUTLIER="outlierType"}(y||(y={})),function(t){t.NAME="name",t.DATE="date",t.METRIC_VALUE="metricValue",t.FORECAST_LOW="forecastLow",t.FORECAST_HIGH="forecastHigh",t.FORECAST_VALUE="forecastValue",t.OUTLIER="outlier",t.OUTLIER_LOW="outlierLow",t.OUTLIER_HIGH="outlierHigh",t.TREND="trend"}(D||(D={})),function(t){t.MIDDLE="middle",t.START="start",t.END="end"}(F||(F={})),function(t){t.DEFAULT="#489997"}(B||(B={})),function(t){t.FORECAST="Forecast",t.OUTLIER="Outlier",t.SEASONALITY="Seasonality",t.TREND="Trend"}(M||(M={})),function(t){t.FONT_FAMILY="FontFamily",t.FONT_SIZE="FontSize",t.FONT_STYLE="FontStyle",t.FONT_COLOR="FontColor"}(b||(b={})),function(t){t[t.METRIC=0]="METRIC",t[t.ATTRIBUTE=1]="ATTRIBUTE",t[t.BREAK_BY=2]="BREAK_BY"}(x||(x={})),function(t){t.LINE_SOLID_1PT="1pt solid",t.LINE_SOLID_2PT="2pt solid",t.LINE_DASHED_1PT="1pt dashed",t.MAIN_LINE_COLOR="#757575",t.AXIS_LINE_COLOR="#e0e0e0",t.GRID_LINE_COLOR="#f4f4f4"}(P||(P={})),function(t){t.FONT_COLOR="#35383A",t.FONT_FAMILY="Open Sans"}(H||(H={})),function(t){t[t.FONT_SIZE=9]="FONT_SIZE"}(w||(w={})),function(t){t[t.RESERVED=0]="RESERVED",t[t.DATE_TIME=1]="DATE_TIME",t[t.NUMBER=2]="NUMBER",t[t.TEXT=3]="TEXT",t[t.DATE=8]="DATE",t[t.TIME=9]="TIME",t[t.BIG_DECIMAL=11]="BIG_DECIMAL"}(Y||(Y={})),function(t){t[t.DEFAULT_RADIUS=3]="DEFAULT_RADIUS",t[t.NO_RADIUS=0]="NO_RADIUS"}(G||(G={})),function(t){t[t.X_AXIS=.1]="X_AXIS",t[t.Y_AXIS=.05]="Y_AXIS"}(X||(X={})),function(t){t[t.CURRENCY=1]="CURRENCY",t[t.FIXED=0]="FIXED",t[t.FRACTION=5]="FRACTION",t[t.AUTOMATIC=9]="AUTOMATIC",t[t.CUSTOM=7]="CUSTOM"}(U||(U={})),function(t){t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT",t[t.LEFT_WITH_SPACE=2]="LEFT_WITH_SPACE",t[t.RIGHT_WITH_SPACE=3]="RIGHT_WITH_SPACE"}(k||(k={})),function(t){t.GENERAL="General"}(V||(V={})),function(t){t[t.LABELS_MARGIN=5]="LABELS_MARGIN",t[t.TOP_HEIGHT_PERCENTAGE=.06]="TOP_HEIGHT_PERCENTAGE",t[t.BOTTOM_HEIGHT_PERCENTAGE=.03]="BOTTOM_HEIGHT_PERCENTAGE"}(W||(W={})),function(t){t.TREND_LINE="trendLine",t.FORECAST="forecast",t.FORECAST_LEGEND_COLORBOX="forecastLegendColorBox",t.TRENDLINE_LEGEND_COLORBOX="trendLineLegendColorBox"}(j||(j={}));var J,tt,et,nt=((n={})[D.METRIC_VALUE]="formattedMetricValue",n[D.FORECAST_VALUE]="formattedForecastValue",n[D.FORECAST_LOW]="formattedForecastLow",n[D.FORECAST_HIGH]="formattedForecastHigh",n[D.OUTLIER_LOW]="formattedOutlierLow",n[D.OUTLIER_HIGH]="formattedOutlierHigh",n);!function(t){t[t.X_AXIS=3]="X_AXIS",t[t.Y_AXIS=4]="Y_AXIS",t[t.BREAK_BY=5]="BREAK_BY"}(J||(J={})),function(t){t.TOP_LEFT="top-left",t.TOP_CENTER="top-center",t.TOP_RIGHT="top-right",t.LEFT_TOP="left-top",t.LEFT_CENTER="left-center",t.LEFT_BOTTOM="left-bottom",t.RIGHT_TOP="right-top",t.RIGHT_CENTER="right-center",t.RIGHT_BOTTOM="right-bottom",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_CENTER="bottom-center",t.BOTTOM_RIGHT="bottom-right"}(tt||(tt={})),mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var rt,it,at="unifiedProperty";(it=rt||(rt={})).EMPTY_VIZ_WARNING_MESSAGE="emptyVizWarningMessage",it.VIZ_FIRST_TAB_SECTION="vizFirstTabSection",it.VIZ_SECOND_TAB_SECTION="vizSecondTabSection",it.TREND_LINE_ENABLED="trendLineEnabled",it.TREND_LINE_COLOR="trendLineColorSelector",it.TREND_LINE_STYLE="trendLineStyleSelector",it.OUTLIER_ENABLED="outlierEnabled",it.SEASONALITY_ENABLED="seasonalityEnabled",it.SEASONALITY_PATTERN_ENABLED="seasonalityPatternEnabled",it.SEASONAL_LINE_TYPE="seasonalLineType",it.SEASONAL_LINE_COLOR="seasonalLineColor",it.SEASONAL_LINE_OPACITY="seasonalLineOpacity",it.SEASONAL_PATTERN_LINE_TYPE="seasonalPatternLineType",it.SEASONAL_PATTERN_COLOR="seasonalPatternColor",it.SEASONAL_PATTERN_OPACITY="seasonalPatternOpacity",it.OUTLIER_DATA_LABELS_ENABLED="outlierDataLabelsEnabled",it.OUTLIER_DATA_LABELS_DISPLAY="outlierDataLabelsDisplay",it.OUTLIER_LABEL_SECTION="outliedDataLabelSection",it.OUTLIER_FILL_COLOR="outlierFillColor",it.OUTLIER_FILL_OPACITY="outlierFillOpacity",it.OUTLIER_BORDER_COLOR="outlierBorderColor",it.OUTLIER_BORDER_OPACITY="outlierBorderOpacity",it.OUTLIER_SIZE="outlierSize",it.OUTLIER_EXPECTED_RANGE_COLOR="outlierExpectedRangeColor",it.OUTLIER_EXPECTED_RANGE_OPACITY="outlierExpectedRangeOpacity",it.OUTLIER_LABEL_FONT_DATA="outlierFontLabelData",it.OUTLIER_LABEL_SELECTION="outlierLabelSelection",it.OUTLIER_LABEL_FONT_FAMILY="outlierLabelFontFamily",it.OUTLIER_LABEL_FONTSTYLE="outlierLabelFontStyle",it.OUTLIER_LABEL_FONT_SIZE="outlierLabelFontSize",it.OUTLIER_LABEL_FONT_COLOR="outlierLabelFontColor",it.TEXT_AND_FORM_ITEM="textAndFormItem",it.ENTIRE_GRAPH_SECTION="entireGraphSection",it.DATA_LABELS_SECTION="dataLabelsSection",it.AXES_SECTION="axesSection",it.LEGEND_SECTION="legendSection",it.TREND_LINE_SECTION="trendLineSection",it.FORECAST_SECTION="forecastSection",it.OUTLIER_SECTION="outlierSection",it.SEASONALITY_SECTION="seasonalitySection",it.REFERENCE_LINES_SECTION="referenceLinesSection",it.FORECAST_ENABLED="forecastEnabled",it.FORECAST_LENGTH="forecastLength",it.FORECAST_LINE_TYPE="forecastLineType",it.FORECAST_LINE_COLOR="forecastLineColor",it.FORECAST_LINE_OPACITY="forecastLineOpacity",it.CONFIDENCE_BAND_STYLE="confidenceBandStyle",it.CONFIDENCE_BAND_LINE_SECTION="confidenceBandLine",it.CONFIDENCE_BAND_FILL_SECTION="confidenceBandFill",it.CONFIDENCE_BAND_COLOR="confidenceBandColor",it.CONFIDENCE_BAND_OPACITY="confidenceBandOpacity",it.CONFIDENCE_BAND_LINE_TYPE="confidenceBandLineType",it.DIVIDING_LINE="dividingLineSwitch",it.DIVIDING_LINE_TYPE="dividingLineType",it.DIVIDING_LINE_COLOR="dividingLineColor",it.LEGEND_ENABLED="legendEnabled",it.LEGEND_POSITION_TYPE="legendPositionType",it.LEGEND_ALIGMENT_TYPE="legendAlignmentType",it.LEGEND_FONT_FAMILY="legendFontFamily",it.LEGEND_FONT_STYLE="legendFontStyle",it.LEGEND_FONT_SIZE="legendFontSize",it.LEGEND_FONT_COLOR="legendFontColor",it.LEGEND_FILL_COLOR="legendFillColor",it.LEGEND_FILL_OPACITY="legendFillOpacity",it.LEGEND_POSITION="legendPosition",it.LEGEND_TITLE_HIDE="legendTitleHide",it.LEGEND_SCALE_H="legendScaleH",it.LEGEND_SCALE_V="legendScaleV",it.AXIS_LAYOUT="axisLayout",it.AXIS_TYPE_TO_SHOW="axisTypeToShow",it.X_AXIS_TITLE_SHOW="xAxisTitleShow",it.Y_AXIS_TITLE_SHOW="yAxisTitleShow",it.X_AXIS_LABEL_SHOW="xAxisLabelShow",it.Y_AXIS_LABEL_SHOW="yAxisLabelShow",it.X_AXIS_LABEL_ROTATION="xAxisLabelRotation",it.X_AXIS_LABEL_ANGLE="xAxisLabelAngle",it.X_AXIS_TITLE_LAYOUT="xAxisTitleLayout",it.Y_AXIS_TITLE_LAYOUT="yAxisTitleLayout",it.X_AXIS_LABEL_LAYOUT="xAxisLabelLayout",it.Y_AXIS_LABEL_LAYOUT="yAxisLabelLayout",it.ALL_GRID_LINE_SHOW="allGridLineShow",it.ALL_GRID_LINE_SHOW_TYPE="allGridLineShowType",it.AXIS_FORMAT_OPTIONS="axisFormatOptions",it.SHOW_X_AXIS_TITLE_LABEL="showXAxisTitleLabel",it.ALL_AXES_TITLE_SHOW="allAxesTitleShow",it.ALL_AXES_LABEL_SHOW="allAxesLabelShow",it.ALL_AXES_TITLE_FONT_FAMILY="allAxesTitleFontFamily",it.X_AXIS_TITLE_FONT_FAMILY="xAxisTitleFontFamily",it.Y_AXIS_TITLE_FONT_FAMILY="yAxisTitleFontFamily",it.X_AXIS_TITLE_FONT_STYLE="xAxisTitleFontStyle",it.Y_AXIS_TITLE_FONT_STYLE="yAxisTitleFontStyle",it.ALL_AXES_TITLE_FONT_STYLE="allAxesTitleFontStyle",it.X_AXIS_TITLE_FONT_SIZE="xAxisTitleFontSize",it.Y_AXIS_TITLE_FONT_SIZE="yAxisTitleFontSize",it.ALL_AXES_TITLE_FONT_SIZE="allAxesTitleFontSize",it.X_AXIS_TITLE_FONT_COLOR="xAxisTitleFontColor",it.Y_AXIS_TITLE_FONT_COLOR="yAxisTitleFontColor",it.ALL_AXES_TITLE_FONT_COLOR="allAxesTitleFontColor",it.ALL_AXES_LABEL_FONT_FAMILY="allAxesLabelFontFamily",it.X_AXIS_LABEL_FONT_FAMILY="xAxisLabelFontFamily",it.Y_AXIS_LABEL_FONT_FAMILY="yAxisLabelFontFamily",it.X_AXIS_LABEL_FONT_STYLE="xAxisLabelFontStyle",it.Y_AXIS_LABEL_FONT_STYLE="yAxisLabelFontStyle",it.ALL_AXES_LABEL_FONT_STYLE="allAxesLabelFontStyle",it.X_AXIS_LABEL_FONT_SIZE="xAxisLabelFontSize",it.Y_AXIS_LABEL_FONT_SIZE="yAxisLabelFontSize",it.ALL_AXES_LABEL_FONT_SIZE="allAxesLabelFontSize",it.X_AXIS_LABEL_FONT_COLOR="xAxisLabelFontColor",it.Y_AXIS_LABEL_FONT_COLOR="yAxisLabelFontColor",it.ALL_AXES_LABEL_FONT_COLOR="allAxesLabelFontColor",it.X_AXIS_LINE_STYLE="xAxisLineStyle",it.X_AXIS_LINE_COLOR="xAxisLineColor",it.Y_AXIS_LINE_STYLE="yAxisLineStyle",it.Y_AXIS_LINE_COLOR="yAxisLineColor",it.ALL_AXES_LINE_STYLE="allAxesLineStyle",it.ALL_AXES_LINE_COLOR="allAxesLineColor",it.ALL_GRID_LINE_STYLE="allGridLineStyle",it.ALL_GRID_LINE_COLOR="allGridLineColor",it.CONTAINER_FIT_LAYOUT="containerFitLayout",it.CONTAINER_FIT_MODE="containerFitMode",it.AXES_LAYOUT="axesLayout",it.DATA_LABELS_ENABLED="dataLabelsEnabled",it.DATA_LABELS_SHOW="dataLabelsShow",it.DATA_LABEL_FONT_FAMILY="dataLabelFontFamily",it.DATA_LABEL_FONT_STYLE="dataLabelFontStyle",it.DATA_LABEL_FONT_SIZE="dataLabelFontSize",it.DATA_LABEL_FONT_COLOR="dataLabelFontColor",it.DATA_LABELS_HIDE_OVERLAPPING_ENABLED="dataLabelsHideOverlappingEnabled",it.FONT_FAMILY_GLOBAL="fontFamilyGlobal",it.FONT_SIZE_GLOBAL="fontSizeGlobal",it.FONT_STYLE_GLOBAL="fontStyleGlobal",it.FONT_COLOR_GLOBAL="fontColorGlobal",it.MAIN_LINE_COLOR="mainLineColor",it.MAIN_LINE_TYPE="mainLineType",it.FONT_FAMILY_DOSSIER="fontFamilyDossier",it.MARKER_SHOW="markerShow",it.MARKER_FORECAST_SHOW="markerForecastShow",it.MARKER_COLOR="markerColor",it.MARKER_FORECAST_COLOR="markerForecastColor",it.MARKER_COLOR_PICKER="markerColorPicker",it.LABEL_ROTATION_SECTION="labelRotationSec",it.CHATBOT_INSIGHT_LINE_TOOLTIP_DISABLED="insightLineTooltipDisabled",it.MAIN_SEGMENT_CONTROL="mainSegmentControl",it.VISUALIZATION_ITEM="visualizationItem",it.FORECAST_DATA_LABELS_ENABLED="forecastDataLabelsEnabled",it.FORECAST_DATA_LABELS_HIDE_OVERLAPPING_ENABLED="forecastDataLabelsHideOverlappingEnabled",it.FORECAST_DATA_LABEL_FONT_FAMILY="forecastDataLabelFontFamily",it.FORECAST_DATA_LABEL_FONT_STYLE="forecastDataLabelFontStyle",it.FORECAST_DATA_LABEL_FONT_SIZE="forecastDataLabelFontSize",it.FORECAST_DATA_LABEL_FONT_COLOR="forecastDataLabelFontColor",it.FORECAST_DATA_LABEL_FONT_SECTION="forecastDataLabelFontSection",it.REFERENCE_LINES="referenceLines",it.REFERENCE_LINES_HIDEABLE_LAYOUT="referenceLinesHideableLayout",it.REFERENCE_LINE_LABEL_ENABLED="referenceLineLabelEnabled",it.REFERENCE_LINE_LABEL_DISPLAY="referenceLineLabelDisplay",it.REFERENCE_LINE_OPTION="referenceLineOption",it.REFERENCE_LINE_CONSTANT_VALUE="referenceLineConstantValue",it.REFERENCE_LINES_FONT_FAMILY="referenceLinesFontFamily",it.REFERENCE_LINES_FONT_STYLE="referenceLinesFontStyle",it.REFERENCE_LINES_FONT_SIZE="referenceLinesFontSize",it.REFERENCE_LINES_FONT_COLOR="referenceLinesFontColor",it.REFERENCE_LINES_SELECTION="referenceLinesSelection",it.REFERENCE_LINES_LABEL_ENABLED="referenceLinesLabelEnabled",it.REFERENCE_LINES_LINE_STYLE="referenceLinesLineStyle",it.REFERENCE_LINES_LINE_COLOR="referenceLinesLineColor",it.BREAK_BY_TREND_FORMATTING_SELECTOR="breakByTrendFormattingSelector",it.BREAK_BY_FORECAST_FORMATTING_SELECTOR="breakByForecastFormattingSelector",it.TREND_LINE_COLOR_WITHOUT_BREAK_BY="trendLineColorWithoutBreakBy",it.TREND_LINE_STYLE_WITHOUT_BREAK_BY="trendLineStyleWithoutBreakBy",it.BREAK_BY_TREND_PROPERTIES="breakByTrendProperties",it.BREAK_BY_FORECAST_PROPERTIES="breakByForecastProperties",it.FORECAST_STYLE_WITHOUT_BREAK_BY="forecastWithoutBreakBy",it.DATA_LABELS_FONT_SECTION="dataLabelsFontSection",it.FORECAST_DATA_LABELS_FONT_SECTION="forecastDataLabelsFontSection",it.FORECAST_DATA_LABELS_SECTION="forecastDataLabelsSection";var ot=((et={})[rt.TEXT_AND_FORM_ITEM]={ENTIRE_GRAPH_SECTION:0,DATA_LABELS_SECTION:1,AXES_SECTION:2,TREND_LINE_SECTION:3,FORECAST_SECTION:4,OUTLIER_SECTION:5,SEASONALITY_SECTION:6,LEGEND_SECTION:7,REFERENCE_LINES_SECTION:8},et[rt.CONFIDENCE_BAND_STYLE]={FILL:"fill",LINE:"line",NONE:"none"},et[rt.LEGEND_POSITION_TYPE]={BOTTOM:"bottom",TOP:"top",RIGHT:"right",LEFT:"left"},et[rt.LEGEND_ALIGMENT_TYPE]={ALIGN_LEFT:"align-left",ALIGN_CENTER:"align-center",ALIGN_RIGHT:"align-right"},et[rt.X_AXIS_LABEL_ROTATION]={AUTO:0,HORIZONTAL:1,VERTICAL:2,CUSTOM:3},et[rt.X_AXIS_LABEL_ANGLE]={DEGREE_30:-30,DEGREE_45:-45,DEGREE_60:-60},et[rt.ALL_GRID_LINE_SHOW_TYPE]={AUTO:0,MAJOR_ONLY:1,MAJOR_AND_MINOR:2},et[rt.AXIS_FORMAT_OPTIONS]={BOTH_AXES:0,HORIZONTAL_AXIS:1,VERTICAL_AXIS:2,GRID_LINES:3},et[rt.CONTAINER_FIT_MODE]={NONE:0,COMPACT_CHAT_BOT:1,COMPACT_DOSSIER:2},et),lt=function(t){var e,n=function(e){var n,r,i=null==t?void 0:t.node;return(null===(r=null===(n=null==i?void 0:i.data)||void 0===n?void 0:n.visName)||void 0===r?void 0:r.includes(e))||!1};return(e={})[rt.EMPTY_VIZ_WARNING_MESSAGE]=null,e[rt.VIZ_FIRST_TAB_SECTION]=null,e[rt.VIZ_SECOND_TAB_SECTION]=null,e[rt.ENTIRE_GRAPH_SECTION]=null,e[rt.AXES_SECTION]=null,e[rt.DATA_LABELS_SECTION]=null,e[rt.LEGEND_SECTION]=null,e[rt.TREND_LINE_SECTION]=null,e[rt.FORECAST_SECTION]=null,e[rt.OUTLIER_SECTION]=null,e[rt.SEASONALITY_SECTION]=null,e[rt.REFERENCE_LINES_SECTION]=null,e[rt.TREND_LINE_ENABLED]=n(M.TREND),e[rt.TREND_LINE_COLOR]=null,e[rt.TREND_LINE_STYLE]=P.LINE_SOLID_2PT,e[rt.OUTLIER_ENABLED]=n(M.OUTLIER),e[rt.SEASONALITY_ENABLED]=n(M.SEASONALITY),e[rt.SEASONALITY_PATTERN_ENABLED]=!0,e[rt.SEASONAL_LINE_TYPE]=P.LINE_DASHED_1PT,e[rt.SEASONAL_LINE_COLOR]=P.MAIN_LINE_COLOR,e[rt.SEASONAL_LINE_OPACITY]="100",e[rt.SEASONAL_PATTERN_LINE_TYPE]=P.LINE_DASHED_1PT,e[rt.SEASONAL_PATTERN_COLOR]=null,e[rt.SEASONAL_PATTERN_OPACITY]="100",e[rt.OUTLIER_DATA_LABELS_ENABLED]=!1,e[rt.OUTLIER_DATA_LABELS_DISPLAY]=[!0,!0,0],e[rt.OUTLIER_LABEL_SECTION]=null,e[rt.OUTLIER_FILL_COLOR]=null,e[rt.OUTLIER_FILL_OPACITY]="100%",e[rt.OUTLIER_BORDER_COLOR]="#FFFFFF",e[rt.OUTLIER_BORDER_OPACITY]="100%",e[rt.OUTLIER_SIZE]=w.FONT_SIZE,e[rt.OUTLIER_EXPECTED_RANGE_COLOR]=P.MAIN_LINE_COLOR,e[rt.OUTLIER_EXPECTED_RANGE_OPACITY]=10,e[rt.OUTLIER_LABEL_FONT_DATA]={},e[rt.OUTLIER_LABEL_SELECTION]="All",e[rt.OUTLIER_LABEL_FONT_FAMILY]=H.FONT_FAMILY,e[rt.OUTLIER_LABEL_FONTSTYLE]=[!0,!1,!1,!1],e[rt.OUTLIER_LABEL_FONT_SIZE]=w.FONT_SIZE,e[rt.OUTLIER_LABEL_FONT_COLOR]=H.FONT_COLOR,e[rt.TEXT_AND_FORM_ITEM]=ot[rt.TEXT_AND_FORM_ITEM].ENTIRE_GRAPH_SECTION,e[rt.FORECAST_ENABLED]=n(M.FORECAST),e[rt.FORECAST_LENGTH]=null,e[rt.FORECAST_LINE_TYPE]=P.LINE_SOLID_2PT,e[rt.FORECAST_LINE_COLOR]=null,e[rt.FORECAST_LINE_OPACITY]=100,e[rt.CONFIDENCE_BAND_STYLE]=ot[rt.CONFIDENCE_BAND_STYLE].FILL,e[rt.CONFIDENCE_BAND_LINE_SECTION]=null,e[rt.CONFIDENCE_BAND_FILL_SECTION]=null,e[rt.CONFIDENCE_BAND_COLOR]=null,e[rt.CONFIDENCE_BAND_OPACITY]=10,e[rt.CONFIDENCE_BAND_LINE_TYPE]=P.LINE_SOLID_2PT,e[rt.DIVIDING_LINE]=!0,e[rt.DIVIDING_LINE_TYPE]=P.LINE_DASHED_1PT,e[rt.DIVIDING_LINE_COLOR]=P.MAIN_LINE_COLOR,e[rt.LEGEND_ENABLED]=!1,e[rt.LEGEND_POSITION_TYPE]=ot[rt.LEGEND_POSITION_TYPE].BOTTOM,e[rt.LEGEND_ALIGMENT_TYPE]=ot[rt.LEGEND_ALIGMENT_TYPE].ALIGN_RIGHT,e[rt.LEGEND_FONT_FAMILY]=H.FONT_FAMILY,e[rt.LEGEND_FONT_STYLE]=[!1,!1,!1,!1],e[rt.LEGEND_FONT_SIZE]=w.FONT_SIZE,e[rt.LEGEND_FONT_COLOR]=H.FONT_COLOR,e[rt.LEGEND_FILL_COLOR]="#f6f6f6",e[rt.LEGEND_FILL_OPACITY]="0",e[rt.LEGEND_POSITION]=tt.BOTTOM_LEFT,e[rt.LEGEND_TITLE_HIDE]=!0,e[rt.LEGEND_SCALE_H]=1,e[rt.LEGEND_SCALE_V]=1,e[rt.AXIS_LAYOUT]=null,e[rt.AXIS_TYPE_TO_SHOW]=0,e[rt.X_AXIS_TITLE_SHOW]=!0,e[rt.Y_AXIS_TITLE_SHOW]=!0,e[rt.X_AXIS_LABEL_SHOW]=!0,e[rt.Y_AXIS_LABEL_SHOW]=!0,e[rt.X_AXIS_LABEL_ROTATION]=ot[rt.X_AXIS_LABEL_ROTATION].AUTO,e[rt.X_AXIS_LABEL_ANGLE]=ot[rt.X_AXIS_LABEL_ANGLE].DEGREE_30,e[rt.X_AXIS_TITLE_LAYOUT]=null,e[rt.Y_AXIS_TITLE_LAYOUT]=null,e[rt.X_AXIS_LABEL_LAYOUT]=null,e[rt.Y_AXIS_LABEL_LAYOUT]=null,e[rt.ALL_GRID_LINE_SHOW]=!0,e[rt.ALL_GRID_LINE_SHOW_TYPE]=ot[rt.ALL_GRID_LINE_SHOW_TYPE].AUTO,e[rt.AXIS_FORMAT_OPTIONS]=0,e[rt.SHOW_X_AXIS_TITLE_LABEL]=0,e[rt.ALL_AXES_TITLE_SHOW]=!0,e[rt.ALL_AXES_LABEL_SHOW]=!0,e[rt.ALL_AXES_TITLE_FONT_FAMILY]=H.FONT_FAMILY,e[rt.X_AXIS_TITLE_FONT_FAMILY]=H.FONT_FAMILY,e[rt.Y_AXIS_TITLE_FONT_FAMILY]=H.FONT_FAMILY,e[rt.X_AXIS_TITLE_FONT_STYLE]=[!1,!1,!1,!1],e[rt.Y_AXIS_TITLE_FONT_STYLE]=[!1,!1,!1,!1],e[rt.ALL_AXES_TITLE_FONT_STYLE]=[!1,!1,!1,!1],e[rt.X_AXIS_TITLE_FONT_SIZE]=w.FONT_SIZE,e[rt.Y_AXIS_TITLE_FONT_SIZE]=w.FONT_SIZE,e[rt.ALL_AXES_TITLE_FONT_SIZE]=w.FONT_SIZE,e[rt.X_AXIS_TITLE_FONT_COLOR]=H.FONT_COLOR,e[rt.Y_AXIS_TITLE_FONT_COLOR]=H.FONT_COLOR,e[rt.ALL_AXES_TITLE_FONT_COLOR]=H.FONT_COLOR,e[rt.ALL_AXES_LABEL_FONT_FAMILY]=H.FONT_FAMILY,e[rt.X_AXIS_LABEL_FONT_FAMILY]=H.FONT_FAMILY,e[rt.Y_AXIS_LABEL_FONT_FAMILY]=H.FONT_FAMILY,e[rt.X_AXIS_LABEL_FONT_STYLE]=[!1,!1,!1,!1],e[rt.Y_AXIS_LABEL_FONT_STYLE]=[!1,!1,!1,!1],e[rt.ALL_AXES_LABEL_FONT_STYLE]=[!1,!1,!1,!1],e[rt.X_AXIS_LABEL_FONT_SIZE]=w.FONT_SIZE,e[rt.Y_AXIS_LABEL_FONT_SIZE]=w.FONT_SIZE,e[rt.ALL_AXES_LABEL_FONT_SIZE]=w.FONT_SIZE,e[rt.X_AXIS_LABEL_FONT_COLOR]=H.FONT_COLOR,e[rt.Y_AXIS_LABEL_FONT_COLOR]=H.FONT_COLOR,e[rt.ALL_AXES_LABEL_FONT_COLOR]=H.FONT_COLOR,e[rt.X_AXIS_LINE_STYLE]=P.LINE_SOLID_1PT,e[rt.X_AXIS_LINE_COLOR]=P.AXIS_LINE_COLOR,e[rt.Y_AXIS_LINE_STYLE]=P.LINE_SOLID_1PT,e[rt.Y_AXIS_LINE_COLOR]=P.AXIS_LINE_COLOR,e[rt.ALL_AXES_LINE_STYLE]=P.LINE_SOLID_1PT,e[rt.ALL_AXES_LINE_COLOR]=P.AXIS_LINE_COLOR,e[rt.ALL_GRID_LINE_STYLE]=P.LINE_SOLID_1PT,e[rt.ALL_GRID_LINE_COLOR]=P.GRID_LINE_COLOR,e[rt.CONTAINER_FIT_LAYOUT]=null,e[rt.CONTAINER_FIT_MODE]=ot[rt.CONTAINER_FIT_MODE].COMPACT_DOSSIER,e[rt.AXES_LAYOUT]=null,e[rt.DATA_LABELS_ENABLED]=!1,e[rt.DATA_LABELS_SHOW]=!1,e[rt.DATA_LABEL_FONT_FAMILY]=H.FONT_FAMILY,e[rt.DATA_LABEL_FONT_STYLE]=[!1,!1,!1,!1],e[rt.DATA_LABEL_FONT_SIZE]=w.FONT_SIZE,e[rt.DATA_LABEL_FONT_COLOR]=H.FONT_COLOR,e[rt.DATA_LABELS_HIDE_OVERLAPPING_ENABLED]=!0,e[rt.FONT_FAMILY_GLOBAL]=H.FONT_FAMILY,e[rt.FONT_STYLE_GLOBAL]=[!1,!1,!1,!1],e[rt.FONT_SIZE_GLOBAL]=w.FONT_SIZE,e[rt.FONT_COLOR_GLOBAL]=H.FONT_COLOR,e[rt.MAIN_LINE_COLOR]=P.MAIN_LINE_COLOR,e[rt.MAIN_LINE_TYPE]=P.LINE_SOLID_2PT,e[rt.FONT_FAMILY_DOSSIER]=H.FONT_FAMILY,e[rt.MARKER_SHOW]=!1,e[rt.MARKER_FORECAST_SHOW]=!1,e[rt.MARKER_COLOR]=P.MAIN_LINE_COLOR,e[rt.MARKER_FORECAST_COLOR]=null,e[rt.MARKER_COLOR_PICKER]="markerColorPicker",e[rt.CHATBOT_INSIGHT_LINE_TOOLTIP_DISABLED]=!1,e[rt.MAIN_SEGMENT_CONTROL]=0,e[rt.VISUALIZATION_ITEM]=null,e[rt.FORECAST_DATA_LABELS_ENABLED]=!1,e[rt.FORECAST_DATA_LABELS_HIDE_OVERLAPPING_ENABLED]=!0,e[rt.FORECAST_DATA_LABEL_FONT_FAMILY]=H.FONT_FAMILY,e[rt.FORECAST_DATA_LABEL_FONT_STYLE]=[!1,!1,!1,!1],e[rt.FORECAST_DATA_LABEL_FONT_SIZE]=w.FONT_SIZE,e[rt.FORECAST_DATA_LABEL_FONT_COLOR]=H.FONT_COLOR,e[rt.FORECAST_DATA_LABEL_FONT_SECTION]=null,e[rt.REFERENCE_LINES]=[],e[rt.REFERENCE_LINES_HIDEABLE_LAYOUT]=null,e[rt.REFERENCE_LINES_SELECTION]=null,e[rt.REFERENCE_LINES_FONT_FAMILY]=H.FONT_FAMILY,e[rt.REFERENCE_LINES_FONT_STYLE]=[!1,!1,!1,!1],e[rt.REFERENCE_LINES_FONT_SIZE]=w.FONT_SIZE,e[rt.REFERENCE_LINES_FONT_COLOR]=H.FONT_COLOR,e[rt.REFERENCE_LINES_LABEL_ENABLED]=!0,e[rt.REFERENCE_LINES_LINE_STYLE]=P.LINE_DASHED_1PT,e[rt.REFERENCE_LINES_LINE_COLOR]=P.MAIN_LINE_COLOR,e[rt.BREAK_BY_TREND_FORMATTING_SELECTOR]=null,e[rt.BREAK_BY_TREND_PROPERTIES]={},e[rt.BREAK_BY_FORECAST_PROPERTIES]={},e[rt.TREND_LINE_COLOR_WITHOUT_BREAK_BY]=null,e[rt.BREAK_BY_FORECAST_FORMATTING_SELECTOR]=null,e[rt.FORECAST_STYLE_WITHOUT_BREAK_BY]=null,e[rt.TREND_LINE_STYLE_WITHOUT_BREAK_BY]=null,e[rt.DATA_LABELS_FONT_SECTION]=null,e[rt.FORECAST_DATA_LABELS_FONT_SECTION]=null,e[rt.FORECAST_DATA_LABELS_SECTION]=null,e};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var st=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}(["unifiedProperty"],Object.keys(lt()),!0);function Et(t){return t}var ct=1e-6;function _t(t){return"translate("+t+",0)"}function ut(t){return"translate(0,"+t+")"}function Lt(t){return e=>+t(e)}function Tt(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function At(){return!this.__axis}function ht(t,e){var n=[],r=null,i=null,a=6,o=6,l=3,s="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,E=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",_=1===t||3===t?_t:ut;function u(u){var L=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,T=null==i?e.tickFormat?e.tickFormat.apply(e,n):Et:i,A=Math.max(a,0)+l,h=e.range(),O=+h[0]+s,d=+h[h.length-1]+s,f=(e.bandwidth?Tt:Lt)(e.copy(),s),I=u.selection?u.selection():u,N=I.selectAll(".domain").data([null]),p=I.selectAll(".tick").data(L,e).order(),S=p.exit(),R=p.enter().append("g").attr("class","tick"),C=p.select("line"),m=p.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),p=p.merge(R),C=C.merge(R.append("line").attr("stroke","currentColor").attr(c+"2",E*a)),m=m.merge(R.append("text").attr("fill","currentColor").attr(c,E*A).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),u!==I&&(N=N.transition(u),p=p.transition(u),C=C.transition(u),m=m.transition(u),S=S.transition(u).attr("opacity",ct).attr("transform",function(t){return isFinite(t=f(t))?_(t+s):this.getAttribute("transform")}),R.attr("opacity",ct).attr("transform",function(t){var e=this.parentNode.__axis;return _((e&&isFinite(e=e(t))?e:f(t))+s)})),S.remove(),N.attr("d",4===t||2===t?o?"M"+E*o+","+O+"H"+s+"V"+d+"H"+E*o:"M"+s+","+O+"V"+d:o?"M"+O+","+E*o+"V"+s+"H"+d+"V"+E*o:"M"+O+","+s+"H"+d),p.attr("opacity",1).attr("transform",function(t){return _(f(t)+s)}),C.attr(c+"2",E*a),m.attr(c,E*A).text(T),I.filter(At).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),I.each(function(){this.__axis=f})}return u.scale=function(t){return arguments.length?(e=t,u):e},u.ticks=function(){return n=Array.from(arguments),u},u.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),u):n.slice()},u.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),u):r&&r.slice()},u.tickFormat=function(t){return arguments.length?(i=t,u):i},u.tickSize=function(t){return arguments.length?(a=o=+t,u):a},u.tickSizeInner=function(t){return arguments.length?(a=+t,u):a},u.tickSizeOuter=function(t){return arguments.length?(o=+t,u):o},u.tickPadding=function(t){return arguments.length?(l=+t,u):l},u.offset=function(t){return arguments.length?(s=+t,u):s},u}function Ot(t){return ht(4,t)}function dt(){}function ft(t){return null==t?dt:function(){return this.querySelector(t)}}function It(){return[]}function Nt(t){return null==t?It:function(){return this.querySelectorAll(t)}}function pt(t){return function(){return this.matches(t)}}function St(t){return function(e){return e.matches(t)}}var Rt=Array.prototype.find;function Ct(){return this.firstElementChild}var mt=Array.prototype.filter;function gt(){return Array.from(this.children)}function vt(t){return new Array(t.length)}function yt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Dt(t,e,n,r,i,a){for(var o,l=0,s=e.length,E=a.length;l<E;++l)(o=e[l])?(o.__data__=a[l],r[l]=o):n[l]=new yt(t,a[l]);for(;l<s;++l)(o=e[l])&&(i[l]=o)}function Ft(t,e,n,r,i,a,o){var l,s,E,c=new Map,_=e.length,u=a.length,L=new Array(_);for(l=0;l<_;++l)(s=e[l])&&(L[l]=E=o.call(s,s.__data__,l,e)+"",c.has(E)?i[l]=s:c.set(E,s));for(l=0;l<u;++l)E=o.call(t,a[l],l,a)+"",(s=c.get(E))?(r[l]=s,s.__data__=a[l],c.delete(E)):n[l]=new yt(t,a[l]);for(l=0;l<_;++l)(s=e[l])&&c.get(L[l])===s&&(i[l]=s)}function Bt(t){return t.__data__}function Mt(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function bt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}yt.prototype={constructor:yt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var xt="http://www.w3.org/1999/xhtml";const Pt={svg:"http://www.w3.org/2000/svg",xhtml:xt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ht(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Pt.hasOwnProperty(e)?{space:Pt[e],local:t}:t}function wt(t){return function(){this.removeAttribute(t)}}function Yt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Gt(t,e){return function(){this.setAttribute(t,e)}}function Xt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ut(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function kt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Vt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Wt(t){return function(){this.style.removeProperty(t)}}function jt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function zt(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Kt(t,e){return t.style.getPropertyValue(e)||Vt(t).getComputedStyle(t,null).getPropertyValue(e)}function Zt(t){return function(){delete this[t]}}function $t(t,e){return function(){this[t]=e}}function qt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Qt(t){return t.trim().split(/^|\s+/)}function Jt(t){return t.classList||new te(t)}function te(t){this._node=t,this._names=Qt(t.getAttribute("class")||"")}function ee(t,e){for(var n=Jt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ne(t,e){for(var n=Jt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function re(t){return function(){ee(this,t)}}function ie(t){return function(){ne(this,t)}}function ae(t,e){return function(){(e.apply(this,arguments)?ee:ne)(this,t)}}function oe(){this.textContent=""}function le(t){return function(){this.textContent=t}}function se(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ee(){this.innerHTML=""}function ce(t){return function(){this.innerHTML=t}}function _e(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ue(){this.nextSibling&&this.parentNode.appendChild(this)}function Le(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Te(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===xt&&e.documentElement.namespaceURI===xt?e.createElement(t):e.createElementNS(n,t)}}function Ae(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function he(t){var e=Ht(t);return(e.local?Ae:Te)(e)}function Oe(){return null}function de(){var t=this.parentNode;t&&t.removeChild(this)}function fe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ie(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ne(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function pe(t,e,n){return function(){var r,i=this.__on,a=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var o=0,l=i.length;o<l;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=e);this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Se(t,e,n){var r=Vt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Re(t,e){return function(){return Se(this,t,e)}}function Ce(t,e){return function(){return Se(this,t,e.apply(this,arguments))}}te.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var me=[null];function ge(t,e){this._groups=t,this._parents=e}function ve(){return new ge([[document.documentElement]],me)}ge.prototype=ve.prototype={constructor:ge,select:function(t){"function"!=typeof t&&(t=ft(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,l=e[i],s=l.length,E=r[i]=new Array(s),c=0;c<s;++c)(a=l[c])&&(o=t.call(a,a.__data__,c,l))&&("__data__"in a&&(o.__data__=a.__data__),E[c]=o);return new ge(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}(t):Nt(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,l=e[a],s=l.length,E=0;E<s;++E)(o=l[E])&&(r.push(t.call(o,o.__data__,E,l)),i.push(o));return new ge(r,i)},selectChild:function(t){return this.select(null==t?Ct:function(t){return function(){return Rt.call(this.children,t)}}("function"==typeof t?t:St(t)))},selectChildren:function(t){return this.selectAll(null==t?gt:function(t){return function(){return mt.call(this.children,t)}}("function"==typeof t?t:St(t)))},filter:function(t){"function"!=typeof t&&(t=pt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],l=o.length,s=r[i]=[],E=0;E<l;++E)(a=o[E])&&t.call(a,a.__data__,E,o)&&s.push(a);return new ge(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Bt);var n,r=e?Ft:Dt,i=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=a.length,l=new Array(o),s=new Array(o),E=new Array(o),c=0;c<o;++c){var _=i[c],u=a[c],L=u.length,T=Mt(t.call(_,_&&_.__data__,c,i)),A=T.length,h=s[c]=new Array(A),O=l[c]=new Array(A);r(_,u,h,O,E[c]=new Array(L),T,e);for(var d,f,I=0,N=0;I<A;++I)if(d=h[I]){for(I>=N&&(N=I+1);!(f=O[N])&&++N<A;);d._next=f||null}}return(l=new ge(l,i))._enter=s,l._exit=E,l},enter:function(){return new ge(this._enter||this._groups.map(vt),this._parents)},exit:function(){return new ge(this._exit||this._groups.map(vt),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),l=new Array(i),s=0;s<o;++s)for(var E,c=n[s],_=r[s],u=c.length,L=l[s]=new Array(u),T=0;T<u;++T)(E=c[T]||_[T])&&(L[T]=E);for(;s<i;++s)l[s]=n[s];return new ge(l,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=bt);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,l=n[a],s=l.length,E=i[a]=new Array(s),c=0;c<s;++c)(o=l[c])&&(E[c]=o);E.sort(e)}return new ge(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,l=a.length;o<l;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=Ht(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Yt:wt:"function"==typeof e?n.local?kt:Ut:n.local?Xt:Gt)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Wt:"function"==typeof e?zt:jt)(t,e,null==n?"":n)):Kt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Zt:"function"==typeof e?qt:$t)(t,e)):this.node()[t]},classed:function(t,e){var n=Qt(t+"");if(arguments.length<2){for(var r=Jt(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?ae:e?re:ie)(n,e))},text:function(t){return arguments.length?this.each(null==t?oe:("function"==typeof t?se:le)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ee:("function"==typeof t?_e:ce)(t)):this.node().innerHTML},raise:function(){return this.each(ue)},lower:function(){return this.each(Le)},append:function(t){var e="function"==typeof t?t:he(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:he(t),r=null==e?Oe:"function"==typeof e?e:ft(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(de)},clone:function(t){return this.select(t?Ie:fe)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),o=a.length;if(!(arguments.length<2)){for(l=e?pe:Ne,r=0;r<o;++r)this.each(l(a[r],e,n));return this}var l=this.node().__on;if(l)for(var s,E=0,c=l.length;E<c;++E)for(r=0,s=l[E];r<o;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?Ce:Re)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};const ye=ve;var De={value:()=>{}};function Fe(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Be(r)}function Be(t){this._=t}function Me(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function be(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=De,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Be.prototype=Fe.prototype={constructor:Be,on:function(t,e){var n,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),o=-1,l=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<l;)if(n=(t=a[o]).type)i[n]=be(i[n],t.name,e);else if(null==e)for(n in i)i[n]=be(i[n],t.name,null);return this}for(;++o<l;)if((n=(t=a[o]).type)&&(n=Me(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Be(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};const xe=Fe;var Pe,He,we=0,Ye=0,Ge=0,Xe=0,Ue=0,ke=0,Ve="object"==typeof performance&&performance.now?performance:Date,We="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function je(){return Ue||(We(ze),Ue=Ve.now()+ke)}function ze(){Ue=0}function Ke(){this._call=this._time=this._next=null}function Ze(t,e,n){var r=new Ke;return r.restart(t,e,n),r}function $e(){Ue=(Xe=Ve.now())+ke,we=Ye=0;try{!function(){je(),++we;for(var t,e=Pe;e;)(t=Ue-e._time)>=0&&e._call.call(void 0,t),e=e._next;--we}()}finally{we=0,function(){for(var t,e,n=Pe,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Pe=e);He=t,Qe(r)}(),Ue=0}}function qe(){var t=Ve.now(),e=t-Xe;e>1e3&&(ke-=e,Xe=t)}function Qe(t){we||(Ye&&(Ye=clearTimeout(Ye)),t-Ue>24?(t<1/0&&(Ye=setTimeout($e,t-Ve.now()-ke)),Ge&&(Ge=clearInterval(Ge))):(Ge||(Xe=Ve.now(),Ge=setInterval(qe,1e3)),we=1,We($e)))}function Je(t,e,n){var r=new Ke;return e=null==e?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,n),r}Ke.prototype=Ze.prototype={constructor:Ke,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?je():+n)+(null==e?0:+e),this._next||He===this||(He?He._next=this:Pe=this,He=this),this._call=t,this._time=n,Qe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qe())}};var tn=xe("start","end","cancel","interrupt"),en=[];function nn(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(s){var E,c,_,u;if(1!==n.state)return l();for(E in i)if((u=i[E]).name===n.name){if(3===u.state)return Je(a);4===u.state?(u.state=6,u.timer.stop(),u.on.call("interrupt",t,t.__data__,u.index,u.group),delete i[E]):+E<e&&(u.state=6,u.timer.stop(),u.on.call("cancel",t,t.__data__,u.index,u.group),delete i[E])}if(Je(function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(s))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(_=n.tween.length),E=0,c=-1;E<_;++E)(u=n.tween[E].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=u);r.length=c+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Ze(function(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:tn,tween:en,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function rn(t,e){var n=on(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function an(t,e){var n=on(t,e);if(n.state>3)throw new Error("too late; already running");return n}function on(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ln(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var sn,En=180/Math.PI,cn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _n(t,e,n,r,i,a){var o,l,s;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),t*r<e*n&&(t=-t,e=-e,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*En,skewX:Math.atan(s)*En,scaleX:o,scaleY:l}}function un(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var l=[],s=[];return a=t(a),o=t(o),function(t,r,i,a,o,l){if(t!==i||r!==a){var s=o.push("translate(",null,e,null,n);l.push({i:s-4,x:ln(t,i)},{i:s-2,x:ln(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,l,s),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:ln(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,l,s),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:ln(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,l,s),function(t,e,n,r,a,o){if(t!==n||e!==r){var l=a.push(i(a)+"scale(",null,",",null,")");o.push({i:l-4,x:ln(t,n)},{i:l-2,x:ln(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,l,s),a=o=null,function(t){for(var e,n=-1,r=s.length;++n<r;)l[(e=s[n]).i]=e.x(t);return l.join("")}}}var Ln=un(function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?cn:_n(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),Tn=un(function(t){return null==t?cn:(sn||(sn=document.createElementNS("http://www.w3.org/2000/svg","g")),sn.setAttribute("transform",t),(t=sn.transform.baseVal.consolidate())?_n((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):cn)},", ",")",")");function An(t,e){var n,r;return function(){var i=an(this,t),a=i.tween;if(a!==n)for(var o=0,l=(r=n=a).length;o<l;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function hn(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=an(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},s=0,E=i.length;s<E;++s)if(i[s].name===e){i[s]=l;break}s===E&&i.push(l)}a.tween=i}}function On(t,e,n){var r=t._id;return t.each(function(){var t=an(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return on(t,r).value[e]}}function dn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function In(){}var Nn=.7,pn=1/Nn,Sn="\\s*([+-]?\\d+)\\s*",Rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mn=/^#([0-9a-f]{3,8})$/,gn=new RegExp(`^rgb\\(${Sn},${Sn},${Sn}\\)$`),vn=new RegExp(`^rgb\\(${Cn},${Cn},${Cn}\\)$`),yn=new RegExp(`^rgba\\(${Sn},${Sn},${Sn},${Rn}\\)$`),Dn=new RegExp(`^rgba\\(${Cn},${Cn},${Cn},${Rn}\\)$`),Fn=new RegExp(`^hsl\\(${Rn},${Cn},${Cn}\\)$`),Bn=new RegExp(`^hsla\\(${Rn},${Cn},${Cn},${Rn}\\)$`),Mn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function bn(){return this.rgb().formatHex()}function xn(){return this.rgb().formatRgb()}function Pn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Hn(e):3===n?new Gn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?wn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?wn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=gn.exec(t))?new Gn(e[1],e[2],e[3],1):(e=vn.exec(t))?new Gn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=yn.exec(t))?wn(e[1],e[2],e[3],e[4]):(e=Dn.exec(t))?wn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Fn.exec(t))?jn(e[1],e[2]/100,e[3]/100,1):(e=Bn.exec(t))?jn(e[1],e[2]/100,e[3]/100,e[4]):Mn.hasOwnProperty(t)?Hn(Mn[t]):"transparent"===t?new Gn(NaN,NaN,NaN,0):null}function Hn(t){return new Gn(t>>16&255,t>>8&255,255&t,1)}function wn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Gn(t,e,n,r)}function Yn(t,e,n,r){return 1===arguments.length?((i=t)instanceof In||(i=Pn(i)),i?new Gn((i=i.rgb()).r,i.g,i.b,i.opacity):new Gn):new Gn(t,e,n,null==r?1:r);var i}function Gn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Xn(){return`#${Wn(this.r)}${Wn(this.g)}${Wn(this.b)}`}function Un(){const t=kn(this.opacity);return`${1===t?"rgb(":"rgba("}${Vn(this.r)}, ${Vn(this.g)}, ${Vn(this.b)}${1===t?")":`, ${t})`}`}function kn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wn(t){return((t=Vn(t))<16?"0":"")+t.toString(16)}function jn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Kn(t,e,n,r)}function zn(t){if(t instanceof Kn)return new Kn(t.h,t.s,t.l,t.opacity);if(t instanceof In||(t=Pn(t)),!t)return new Kn;if(t instanceof Kn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,s=(a+i)/2;return l?(o=e===a?(n-r)/l+6*(n<r):n===a?(r-e)/l+2:(e-n)/l+4,l/=s<.5?a+i:2-a-i,o*=60):l=s>0&&s<1?0:o,new Kn(o,l,s,t.opacity)}function Kn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Zn(t){return(t=(t||0)%360)<0?t+360:t}function $n(t){return Math.max(0,Math.min(1,t||0))}function qn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Qn(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}dn(In,Pn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bn,formatHex:bn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return zn(this).formatHsl()},formatRgb:xn,toString:xn}),dn(Gn,Yn,fn(In,{brighter(t){return t=null==t?pn:Math.pow(pn,t),new Gn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Nn:Math.pow(Nn,t),new Gn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gn(Vn(this.r),Vn(this.g),Vn(this.b),kn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xn,formatHex:Xn,formatHex8:function(){return`#${Wn(this.r)}${Wn(this.g)}${Wn(this.b)}${Wn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Un,toString:Un})),dn(Kn,function(t,e,n,r){return 1===arguments.length?zn(t):new Kn(t,e,n,null==r?1:r)},fn(In,{brighter(t){return t=null==t?pn:Math.pow(pn,t),new Kn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Nn:Math.pow(Nn,t),new Kn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Gn(qn(t>=240?t-240:t+120,i,r),qn(t,i,r),qn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Kn(Zn(this.h),$n(this.s),$n(this.l),kn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=kn(this.opacity);return`${1===t?"hsl(":"hsla("}${Zn(this.h)}, ${100*$n(this.s)}%, ${100*$n(this.l)}%${1===t?")":`, ${t})`}`}}));const Jn=t=>()=>t;function tr(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Jn(isNaN(t)?e:t)}const er=function t(e){var n=function(t){return 1===(t=+t)?tr:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Jn(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Yn(t)).r,(e=Yn(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=tr(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function nr(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),l=new Array(i);for(n=0;n<i;++n)r=Yn(e[n]),a[n]=r.r||0,o[n]=r.g||0,l[n]=r.b||0;return a=t(a),o=t(o),l=t(l),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=l(t),r+""}}}nr(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,l=r<e-1?t[r+2]:2*a-i;return Qn((n-r/e)*e,o,i,a,l)}}),nr(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],l=t[(r+2)%e];return Qn((n-r/e)*e,i,a,o,l)}});var rr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ir=new RegExp(rr.source,"g");function ar(t,e){var n,r,i,a=rr.lastIndex=ir.lastIndex=0,o=-1,l=[],s=[];for(t+="",e+="";(n=rr.exec(t))&&(r=ir.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,s.push({i:o,x:ln(n,r)})),a=ir.lastIndex;return a<e.length&&(i=e.slice(a),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)l[(n=s[r]).i]=n.x(t);return l.join("")})}function or(t,e){var n;return("number"==typeof e?ln:e instanceof Pn?er:(n=Pn(e))?(e=n,er):ar)(t,e)}function lr(t){return function(){this.removeAttribute(t)}}function sr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Er(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function cr(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function _r(t,e,n){var r,i,a;return function(){var o,l,s=n(this);if(null!=s)return(o=this.getAttribute(t))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,s));this.removeAttribute(t)}}function ur(t,e,n){var r,i,a;return function(){var o,l,s=n(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,s));this.removeAttributeNS(t.space,t.local)}}function Lr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function Tr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function Ar(t,e){return function(){rn(this,t).delay=+e.apply(this,arguments)}}function hr(t,e){return e=+e,function(){rn(this,t).delay=e}}function Or(t,e){return function(){an(this,t).duration=+e.apply(this,arguments)}}function dr(t,e){return e=+e,function(){an(this,t).duration=e}}var fr=ye.prototype.constructor;function Ir(t){return function(){this.style.removeProperty(t)}}var Nr=0;function pr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Sr(){return++Nr}var Rr=ye.prototype;pr.prototype=function(t){return ye().transition(t)}.prototype={constructor:pr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ft(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l,s,E=r[o],c=E.length,_=a[o]=new Array(c),u=0;u<c;++u)(l=E[u])&&(s=t.call(l,l.__data__,u,E))&&("__data__"in l&&(s.__data__=l.__data__),_[u]=s,nn(_[u],e,n,u,_,on(l,n)));return new pr(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Nt(t));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var s,E=r[l],c=E.length,_=0;_<c;++_)if(s=E[_]){for(var u,L=t.call(s,s.__data__,_,E),T=on(s,n),A=0,h=L.length;A<h;++A)(u=L[A])&&nn(u,e,n,A,L,T);a.push(L),o.push(s)}return new pr(a,o,e,n)},selectChild:Rr.selectChild,selectChildren:Rr.selectChildren,filter:function(t){"function"!=typeof t&&(t=pt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],l=o.length,s=r[i]=[],E=0;E<l;++E)(a=o[E])&&t.call(a,a.__data__,E,o)&&s.push(a);return new pr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s,E=e[l],c=n[l],_=E.length,u=o[l]=new Array(_),L=0;L<_;++L)(s=E[L]||c[L])&&(u[L]=s);for(;l<r;++l)o[l]=e[l];return new pr(o,this._parents,this._name,this._id)},selection:function(){return new fr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Sr(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],s=l.length,E=0;E<s;++E)if(o=l[E]){var c=on(o,e);nn(o,t,n,E,l,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new pr(r,this._parents,t,n)},call:Rr.call,nodes:Rr.nodes,node:Rr.node,size:Rr.size,empty:Rr.empty,each:Rr.each,on:function(t,e){var n=this._id;return arguments.length<2?on(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?rn:an;return function(){var o=a(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}(n,t,e))},attr:function(t,e){var n=Ht(t),r="transform"===n?Tn:or;return this.attrTween(t,"function"==typeof e?(n.local?ur:_r)(n,r,On(this,"attr."+t,e)):null==e?(n.local?sr:lr)(n):(n.local?cr:Er)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Ht(t);return this.tween(n,(r.local?Lr:Tr)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Ln:or;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=Kt(this,t),o=(this.style.removeProperty(t),Kt(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,Ir(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=Kt(this,t),l=n(this),s=l+"";return null==l&&(this.style.removeProperty(t),s=l=Kt(this,t)),o===s?null:o===r&&s===i?a:(i=s,a=e(r=o,l))}}(t,r,On(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,l="end."+o;return function(){var s=an(this,t),E=s.on,c=null==s.value[o]?a||(a=Ir(e)):void 0;E===n&&i===c||(r=(n=E).copy()).on(l,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=Kt(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,a,n)),r}return a._value=e,a}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(On(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=on(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?An:hn)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ar:hr)(e,t)):on(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Or:dr)(e,t)):on(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){an(this,t).ease=e}}(e,t)):on(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;an(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var l={value:o},s={value:function(){0===--i&&a()}};n.each(function(){var n=an(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(s)),n.on=e}),0===i&&a()})},[Symbol.iterator]:Rr[Symbol.iterator]};var Cr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function mr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}ye.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}(this,t)})},ye.prototype.transition=function(t){var e,n;t instanceof pr?(e=t._id,t=t._name):(e=Sr(),(n=Cr).time=je(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],s=l.length,E=0;E<s;++E)(o=l[E])&&nn(o,t,e,E,l,n||mr(o,e));return new pr(r,this._parents,t,e)};const{abs:gr,max:vr,min:yr}=Math;function Dr(t){return{type:t}}function Fr(t){return"string"==typeof t?new ge([[document.querySelector(t)]],[document.documentElement]):new ge([[t]],me)}function Br(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}["w","e"].map(Dr),["n","s"].map(Dr),["n","w","e","s","nw","ne","sw","se"].map(Dr);const Mr={passive:!1},br={capture:!0,passive:!1};function xr(t){t.stopImmediatePropagation()}function Pr(t){t.preventDefault(),t.stopImmediatePropagation()}const Hr=t=>()=>t;function wr(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:a,x:o,y:l,dx:s,dy:E,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:E,enumerable:!0,configurable:!0},_:{value:c}})}function Yr(t){return!t.ctrlKey&&!t.button}function Gr(){return this.parentNode}function Xr(t,e){return null==e?{x:t.x,y:t.y}:e}function Ur(){return navigator.maxTouchPoints||"ontouchstart"in this}function kr(){var t,e,n,r,i=Yr,a=Gr,o=Xr,l=Ur,s={},E=xe("start","drag","end"),c=0,_=0;function u(t){t.on("mousedown.drag",L).filter(l).on("touchstart.drag",h).on("touchmove.drag",O,Mr).on("touchend.drag touchcancel.drag",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function L(o,l){if(!r&&i.call(this,o,l)){var s=f(this,a.call(this,o,l),o,l,"mouse");s&&(Fr(o.view).on("mousemove.drag",T,br).on("mouseup.drag",A,br),function(t){var e=t.document.documentElement,n=Fr(t).on("dragstart.drag",Pr,br);"onselectstart"in e?n.on("selectstart.drag",Pr,br):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}(o.view),xr(o),n=!1,t=o.clientX,e=o.clientY,s("start",o))}}function T(r){if(Pr(r),!n){var i=r.clientX-t,a=r.clientY-e;n=i*i+a*a>_}s.mouse("drag",r)}function A(t){Fr(t.view).on("mousemove.drag mouseup.drag",null),function(t,e){var n=t.document.documentElement,r=Fr(t).on("dragstart.drag",null);e&&(r.on("click.drag",Pr,br),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(t.view,n),Pr(t),s.mouse("end",t)}function h(t,e){if(i.call(this,t,e)){var n,r,o=t.changedTouches,l=a.call(this,t,e),s=o.length;for(n=0;n<s;++n)(r=f(this,l,t,e,o[n].identifier,o[n]))&&(xr(t),r("start",t,o[n]))}}function O(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=s[r[e].identifier])&&(Pr(t),n("drag",t,r[e]))}function d(t){var e,n,i=t.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),e=0;e<a;++e)(n=s[i[e].identifier])&&(xr(t),n("end",t,i[e]))}function f(t,e,n,r,i,a){var l,_,L,T=E.copy(),A=Br(a||n,e);if(null!=(L=o.call(t,new wr("beforestart",{sourceEvent:n,target:u,identifier:i,active:c,x:A[0],y:A[1],dx:0,dy:0,dispatch:T}),r)))return l=L.x-A[0]||0,_=L.y-A[1]||0,function n(a,o,E){var h,O=A;switch(a){case"start":s[i]=n,h=c++;break;case"end":delete s[i],--c;case"drag":A=Br(E||o,e),h=c}T.call(a,t,new wr(a,{sourceEvent:o,subject:L,target:u,identifier:i,active:h,x:A[0]+l,y:A[1]+_,dx:A[0]-O[0],dy:A[1]-O[1],dispatch:T}),r)}}return u.filter=function(t){return arguments.length?(i="function"==typeof t?t:Hr(!!t),u):i},u.container=function(t){return arguments.length?(a="function"==typeof t?t:Hr(t),u):a},u.subject=function(t){return arguments.length?(o="function"==typeof t?t:Hr(t),u):o},u.touchable=function(t){return arguments.length?(l="function"==typeof t?t:Hr(!!t),u):l},u.on=function(){var t=E.on.apply(E,arguments);return t===E?u:t},u.clickDistance=function(t){return arguments.length?(_=(t=+t)*t,u):Math.sqrt(_)},u}wr.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};const Vr=Math.sqrt(50),Wr=Math.sqrt(10),jr=Math.sqrt(2);function zr(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Vr?10:a>=Wr?5:a>=jr?2:1;let l,s,E;return i<0?(E=Math.pow(10,-i)/o,l=Math.round(t*E),s=Math.round(e*E),l/E<t&&++l,s/E>e&&--s,E=-E):(E=Math.pow(10,i)*o,l=Math.round(t/E),s=Math.round(e/E),l*E<t&&++l,s*E>e&&--s),s<l&&.5<=n&&n<2?zr(t,e,2*n):[l,s,E]}function Kr(t,e,n){return zr(t=+t,e=+e,n=+n)[2]}function Zr(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $r(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qr(t){let e,n,r;function i(t,r,i=0,a=t.length){if(i<a){if(0!==e(r,r))return a;do{const e=i+a>>>1;n(t[e],r)<0?i=e+1:a=e}while(i<a)}return i}return 2!==t.length?(e=Zr,n=(e,n)=>Zr(t(e),n),r=(e,n)=>t(e)-n):(e=t===Zr||t===$r?t:Qr,n=t,r=t),{left:i,center:function(t,e,n=0,a=t.length){const o=i(t,e,n,a-1);return o>n&&r(t[o-1],e)>-r(t[o],e)?o-1:o},right:function(t,r,i=0,a=t.length){if(i<a){if(0!==e(r,r))return a;do{const e=i+a>>>1;n(t[e],r)<=0?i=e+1:a=e}while(i<a)}return i}}}function Qr(){return 0}const Jr=qr(Zr),ti=Jr.right,ei=(Jr.left,qr(function(t){return null===t?NaN:+t}).center,ti);function ni(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=oi(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function ri(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ii(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=oi(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}function ai(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function oi(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?Jn(e):("number"===i?ln:"string"===i?(n=Pn(e))?(e=n,er):ar:e instanceof Pn?er:e instanceof Date?ri:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?ni:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ii:ln:ai))(t,e)}function li(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function si(t){return+t}var Ei=[0,1];function ci(t){return t}function _i(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function ui(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=_i(i,r),a=n(o,a)):(r=_i(r,i),a=n(a,o)),function(t){return a(r(t))}}function Li(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=_i(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=ei(t,e,1,r)-1;return a[n](i[n](e))}}function Ti(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Ai,hi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oi(t){if(!(e=hi.exec(t)))throw new Error("invalid format: "+t);var e;return new di({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function di(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function fi(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ii(t){return(t=fi(Math.abs(t)))?t[1]:NaN}function Ni(t,e){var n=fi(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Oi.prototype=di.prototype,di.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const pi={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ni(100*t,e),r:Ni,s:function(t,e){var n=fi(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Ai=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+fi(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Si(t){return t}var Ri,Ci,mi,gi=Array.prototype.map,vi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function yi(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)===(e=+e))return[t];const r=e<t,[i,a,o]=r?zr(e,t,n):zr(t,e,n);if(!(a>=i))return[];const l=a-i+1,s=new Array(l);if(r)if(o<0)for(let t=0;t<l;++t)s[t]=(a-t)/-o;else for(let t=0;t<l;++t)s[t]=(a-t)*o;else if(o<0)for(let t=0;t<l;++t)s[t]=(i+t)/-o;else for(let t=0;t<l;++t)s[t]=(i+t)*o;return s}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,a=function(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?Kr(e,t,n):Kr(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}(t,e,n);switch((r=Oi(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ii(e)/3)))-Ii(Math.abs(t)))}(a,o))||(r.precision=i),mi(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ii(e)-Ii(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Ii(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return Ci(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,a=e(),o=0,l=a.length-1,s=a[o],E=a[l],c=10;for(E<s&&(i=s,s=E,E=i,i=o,o=l,l=i);c-- >0;){if((i=Kr(s,E,n))===r)return a[o]=s,a[l]=E,e(a);if(i>0)s=Math.floor(s/i)*i,E=Math.ceil(E/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,E=Math.floor(E*i)/i}r=i}return t},t}function Di(){var t=function(){var t,e,n,r,i,a,o=Ei,l=Ei,s=oi,E=ci;function c(){var t,e,n,s=Math.min(o.length,l.length);return E!==ci&&(t=o[0],e=o[s-1],t>e&&(n=t,t=e,e=n),E=function(n){return Math.max(t,Math.min(e,n))}),r=s>2?Li:ui,i=a=null,_}function _(e){return null==e||isNaN(e=+e)?n:(i||(i=r(o.map(t),l,s)))(t(E(e)))}return _.invert=function(n){return E(e((a||(a=r(l,o.map(t),ln)))(n)))},_.domain=function(t){return arguments.length?(o=Array.from(t,si),c()):o.slice()},_.range=function(t){return arguments.length?(l=Array.from(t),c()):l.slice()},_.rangeRound=function(t){return l=Array.from(t),s=li,c()},_.clamp=function(t){return arguments.length?(E=!!t||ci,c()):E!==ci},_.interpolate=function(t){return arguments.length?(s=t,c()):s},_.unknown=function(t){return arguments.length?(n=t,_):n},function(n,r){return t=n,e=r,c()}}()(ci,ci);return t.copy=function(){return e=t,Di().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());var e},Ti.apply(t,arguments),yi(t)}function Fi(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Bi(t){return function(){return t}}function Mi(t){this._context=t}function bi(t){return new Mi(t)}Ri=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Si:(e=gi.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),a.push(t.substring(i-=l,i+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?Si:function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(gi.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",E=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function _(t){var e=(t=Oi(t)).fill,n=t.align,_=t.sign,u=t.symbol,L=t.zero,T=t.width,A=t.comma,h=t.precision,O=t.trim,d=t.type;"n"===d?(A=!0,d="g"):pi[d]||(void 0===h&&(h=12),O=!0,d="g"),(L||"0"===e&&"="===n)&&(L=!0,e="0",n="=");var f="$"===u?i:"#"===u&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",I="$"===u?a:/[%p]/.test(d)?s:"",N=pi[d],p=/[defgprs%]/.test(d);function S(t){var i,a,s,u=f,S=I;if("c"===d)S=N(t)+S,t="";else{var R=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:N(Math.abs(t),h),O&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),R&&0===+t&&"+"!==_&&(R=!1),u=(R?"("===_?_:E:"-"===_||"("===_?"":_)+u,S=("s"===d?vi[8+Ai/3]:"")+S+(R&&"("===_?")":""),p)for(i=-1,a=t.length;++i<a;)if(48>(s=t.charCodeAt(i))||s>57){S=(46===s?o+t.slice(i+1):t.slice(i))+S,t=t.slice(0,i);break}}A&&!L&&(t=r(t,1/0));var C=u.length+t.length+S.length,m=C<T?new Array(T-C+1).join(e):"";switch(A&&L&&(t=r(m+t,m.length?T-S.length:1/0),m=""),n){case"<":t=u+t+S+m;break;case"=":t=u+m+t+S;break;case"^":t=m.slice(0,C=m.length>>1)+u+t+S+m.slice(C);break;default:t=m+u+t+S}return l(t)}return h=void 0===h?6:/[gprs]/.test(d)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),S.toString=function(){return t+""},S}return{format:_,formatPrefix:function(t,e){var n=_(((t=Oi(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ii(e)/3))),i=Math.pow(10,-r),a=vi[8+r/3];return function(t){return n(i*t)+a}}}}({thousands:",",grouping:[3],currency:["$",""]}),Ci=Ri.format,mi=Ri.formatPrefix,Array.prototype.slice,Mi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};const xi=Math.PI,Pi=2*xi,Hi=1e-6,wi=Pi-Hi;function Yi(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class Gi{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Yi:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Yi;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,a){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,l=n-t,s=r-e,E=a-t,c=o-e,_=E*E+c*c;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(_>Hi)if(Math.abs(c*l-s*E)>Hi&&i){let u=n-a,L=r-o,T=l*l+s*s,A=u*u+L*L,h=Math.sqrt(T),O=Math.sqrt(_),d=i*Math.tan((xi-Math.acos((T+_-A)/(2*h*O)))/2),f=d/O,I=d/h;Math.abs(f-1)>Hi&&this._append`L${t+f*E},${e+f*c}`,this._append`A${i},${i},0,0,${+(c*u>E*L)},${this._x1=t+I*l},${this._y1=e+I*s}`}else this._append`L${this._x1=t},${this._y1=e}`}arc(t,e,n,r,i,a){if(t=+t,e=+e,a=!!a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(r),l=n*Math.sin(r),s=t+o,E=e+l,c=1^a,_=a?r-i:i-r;null===this._x1?this._append`M${s},${E}`:(Math.abs(this._x1-s)>Hi||Math.abs(this._y1-E)>Hi)&&this._append`L${s},${E}`,n&&(_<0&&(_=_%Pi+Pi),_>wi?this._append`A${n},${n},0,1,${c},${t-o},${e-l}A${n},${n},0,1,${c},${this._x1=s},${this._y1=E}`:_>Hi&&this._append`A${n},${n},0,${+(_>=xi)},${c},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Xi(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new Gi(e)}function Ui(t){return t[0]}function ki(t){return t[1]}function Vi(t,e){var n=Bi(!0),r=null,i=bi,a=null,o=Xi(l);function l(l){var s,E,c,_=(l=Fi(l)).length,u=!1;for(null==r&&(a=i(c=o())),s=0;s<=_;++s)!(s<_&&n(E=l[s],s,l))===u&&((u=!u)?a.lineStart():a.lineEnd()),u&&a.point(+t(E,s,l),+e(E,s,l));if(c)return a=null,c+""||null}return t="function"==typeof t?t:void 0===t?Ui:Bi(t),e="function"==typeof e?e:void 0===e?ki:Bi(e),l.x=function(e){return arguments.length?(t="function"==typeof e?e:Bi(+e),l):t},l.y=function(t){return arguments.length?(e="function"==typeof t?t:Bi(+t),l):e},l.defined=function(t){return arguments.length?(n="function"==typeof t?t:Bi(!!t),l):n},l.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),l):i},l.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),l):r},l}function Wi(t,e,n){var r=null,i=Bi(!0),a=null,o=bi,l=null,s=Xi(E);function E(E){var c,_,u,L,T,A=(E=Fi(E)).length,h=!1,O=new Array(A),d=new Array(A);for(null==a&&(l=o(T=s())),c=0;c<=A;++c){if(!(c<A&&i(L=E[c],c,E))===h)if(h=!h)_=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),u=c-1;u>=_;--u)l.point(O[u],d[u]);l.lineEnd(),l.areaEnd()}h&&(O[c]=+t(L,c,E),d[c]=+e(L,c,E),l.point(r?+r(L,c,E):O[c],n?+n(L,c,E):d[c]))}if(T)return l=null,T+""||null}function c(){return Vi().defined(i).curve(o).context(a)}return t="function"==typeof t?t:void 0===t?Ui:Bi(+t),e="function"==typeof e?e:Bi(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?ki:Bi(+n),E.x=function(e){return arguments.length?(t="function"==typeof e?e:Bi(+e),r=null,E):t},E.x0=function(e){return arguments.length?(t="function"==typeof e?e:Bi(+e),E):t},E.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Bi(+t),E):r},E.y=function(t){return arguments.length?(e="function"==typeof t?t:Bi(+t),n=null,E):e},E.y0=function(t){return arguments.length?(e="function"==typeof t?t:Bi(+t),E):e},E.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:Bi(+t),E):n},E.lineX0=E.lineY0=function(){return c().x(t).y(e)},E.lineY1=function(){return c().x(t).y(n)},E.lineX1=function(){return c().x(r).y(e)},E.defined=function(t){return arguments.length?(i="function"==typeof t?t:Bi(!!t),E):i},E.curve=function(t){return arguments.length?(o=t,null!=a&&(l=o(a)),E):o},E.context=function(t){return arguments.length?(null==t?a=l=null:l=o(a=t),E):a},E}function ji(t,e,n){this.k=t,this.x=e,this.y=n}ji.prototype={constructor:ji,scale:function(t){return 1===t?this:new ji(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new ji(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new ji(1,0,0),ji.prototype,mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var zi=function(){return zi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},zi.apply(this,arguments)},Ki=function(t){var e,n,o,l;switch(t&&(o=(e=t.split(" "))[0],n=e[1]),n){case r.DASHED:l=o===i.THIN?a.DASHED:a.DASHED_THICK;break;case r.DOTTED:l=a.DOTTED;break;default:l=a.NONE}return{lineStyle:l,lineSize:o}},Zi=function(t){var e=t.gridData.gsi,n=e.rows,r=e.mx,i=n.map(function(t){return{n:t.n,dssid:t.did}}),a=r.map(function(t){return{n:t.n,dssid:t.did}});return{colHeaders:a,rowHeaders:i}},$i=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=[];return r&&a.push("underline"),i&&a.push("line-through"),{fontWeight:e?"bold":"normal",fontStyle:n?"italic":"normal",textDecoration:a.join(" ")||"none currentcolor solid"}},qi=function(t,e){return Object.keys(t).filter(function(t){return t.includes(e)})},Qi=function(t,e,n){for(var r=t[e[0]],i=0,a=e.slice(1);i<a.length;i++){var o=a[i];if(String(t[o])!==String(r))return n}return r},Ji=function(t,e,n,r,i){!function(t,e,n){e.forEach(function(e){t[e]=n})}(t,qi(t,n),i),aa(t,e,r,i,!0),ea(t,n)},ta=function(t,e,n){var r=e.controller.model.defmts.find(function(t){return"Text"===t.n}),i=null==r?void 0:r.props.FormattingFont.Name;if(t[rt.FONT_FAMILY_DOSSIER]!==i){if(n)return i;t[rt.FONT_FAMILY_DOSSIER]=i,Ji(t,e,b.FONT_FAMILY,rt.OUTLIER_LABEL_FONT_FAMILY,i)}},ea=function(t,e){var n="referenceLines".concat(e),r=t[n];t[rt.REFERENCE_LINES].forEach(function(t){var e;t.fontAndColorProperties=zi(zi({},t.fontAndColorProperties),((e={})[n]=r,e))})},na=function(t){return t&&t.split(";")[0]},ra=function(t,e){var n=na(e);return t.properties[rt.BREAK_BY_FORECAST_PROPERTIES][n]};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var ia=function(t,e,n){var r=JSON.parse(t.getProperty(at));return r[rt.OUTLIER_LABEL_FONT_DATA]||(r[rt.OUTLIER_LABEL_FONT_DATA]={}),r[rt.OUTLIER_LABEL_FONT_DATA][e]||(r[rt.OUTLIER_LABEL_FONT_DATA][e]=oa(t,e)),r[rt.OUTLIER_LABEL_FONT_DATA][e][n]},aa=function(t,e,n,r,i){void 0===i&&(i=!1);var a=t[rt.OUTLIER_LABEL_SELECTION];t[n]=r,t[rt.OUTLIER_LABEL_FONT_DATA]||(t[rt.OUTLIER_LABEL_FONT_DATA]={}),t[rt.OUTLIER_LABEL_FONT_DATA][a]||(t[rt.OUTLIER_LABEL_FONT_DATA][a]=oa(e,a)),("All"===a||i)&&la(e).forEach(function(i){t[rt.OUTLIER_LABEL_FONT_DATA][i.dssid]||(t[rt.OUTLIER_LABEL_FONT_DATA][i.dssid]=oa(e,i.dssid)),t[rt.OUTLIER_LABEL_FONT_DATA][i.dssid][n]=r}),t[rt.OUTLIER_LABEL_FONT_DATA][a][n]=r},oa=function(t,e){return t.dataInterface.data.gsi.mx.find(function(t){return t.did===e})?{outlierLabelFontFamily:"Open Sans",outlierLabelFontStyle:[!0,!1,!1,!1],outlierLabelFontSize:"13pt",outlierLabelFontColor:"#575A5D"}:{outlierLabelFontFamily:"Open Sans",outlierLabelFontStyle:[!1,!1,!1,!1],outlierLabelFontSize:"11pt",outlierLabelFontColor:"#575A5D"}},la=function(t){var e=Zi(t),n=e.colHeaders,r=e.rowHeaders;return[{n:"All",dssid:"All"}].concat(r).concat(n)};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var sa=function(){return sa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},sa.apply(this,arguments)},Ea=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},ca=function(t){if("number"==typeof t)return t;var e=parseFloat(t);return isNaN(e)?null:e};var _a=function(t,e){var n=t.properties,r=t.isCompactChatBotMode,i=t.isBreakByAttributeAdded,a=n.forecastEnabled,o=n.forecastLength,l=a?e.filter(function(t){return null!==ca(t.forecastValue)}):[],s=a?e.filter(function(t){return null===ca(t.forecastValue)}):e,E=[];if(s.length<t.mainPointsNumber&&t.mainLineDates.forEach(function(t,e){void 0!==s[e]&&s[e].date===t||s.splice(e,0,{date:t,metricValue:null,formattedMetricValue:null})}),i&&null===s.slice(-1)[0].metricValue){for(var c=s.length;c--&&null===s[c].metricValue;);s=s.slice(0,c+1)}E=Ea(Ea([],s,!0),l,!0),a&&r&&(s=function(t,e){return t.length+e>60?t.slice(-60):t}(s,o),E=Ea(Ea([],s,!0),l,!0),ga(t,E));var _=Ea(Ea([],s.slice(-1),!0),l,!0);return{updatedData:E,mainLineData:s,forecastData:_}};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var ua=function(){return ua=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ua.apply(this,arguments)},La=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},Ta=function(t,e){return t.zonesModel.getDropZoneObjectsByIndex(e).length>0},Aa=function(t,e){var n=t.ncs;switch(t.ncp){case k.LEFT:return n+e;case k.RIGHT:return e+n;case k.LEFT_WITH_SPACE:return"".concat(n," ").concat(e);case k.RIGHT_WITH_SPACE:return"".concat(e," ").concat(n)}},ha=function(t,e,n,r){var i=t.model.data.nf[e];return i.nct===U.CUSTOM&&i.nfs.includes("_);")&&(i.nfs=i.nfs.replace("_);",";")),r?function(t,e){var n,r,i,a=(window.dossierConfig.locale||"en").replace("_","-"),o=(n=t.nfs,((i=(r=String(n).split(";")[0]).indexOf("."))>=0?r.substring(0,i):r).match(/[#0\?],*$/)),l=o?e/Math.pow(10,3*(o[0].length-1)):e,s=Intl.NumberFormat(a,{notation:"compact",maximumSignificantDigits:3}).format(l),E=function(t){var e=String(t).split(";")[0],n=e.indexOf("E+"),r=e.indexOf("%"),i=e.match(/\".+?\"/g),a=e.match(/\[([=<>]*)\]/);return-1===n&&-1===r&&i&&!a}(t.nfs),c=E&&t.ncs;if(t.nfs.split('"').length>=5&&t.nct!==U.CUSTOM||c)return Aa(t,s);switch(t.nct){case U.CURRENCY:return Aa(t,s);case U.AUTOMATIC:case U.FIXED:case U.FRACTION:return s;default:return mstrmojo.num.formatByMask(t.nfs,e)}}(i,n):mstrmojo.num.formatByMask(i.nfs,n)},Oa=function(t,e,n){if(e===V.GENERAL&&n&&t%1!=0)return mstrmojo.num.toLocaleString(mstrmojo.num.formatByMask("##.00",Number(t)),!0)};function da(t){var e,n,r=t.getDocModel(),i=null===(e=t.getTemplateKey)||void 0===e?void 0:e.call(t);return null===(n=null==r?void 0:r.getHiddenInsightTemplateKeys)||void 0===n?void 0:n.call(r,i).map(function(t){return r.getNodeDataByKey(t)})}function fa(t){return da(t)[0].k}var Ia=function(t,e){var n=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,r){return"# + ".concat(e," + ").concat(e," + ").concat(n," + ").concat(n," + ").concat(r," + ").concat(r)}).substring(1).match(/.{2}/g).map(function(t){return parseInt(t,16)}).join(" ");return"rgba(".concat(n," / ").concat(e,"%)")};function Na(t,e){var n=e||JSON.parse(t.getProperty("unifiedProperty")),r=lt(t);return t.isChatbot||Object.keys(r).length===Object.keys(n).length?n:ua(ua({},r),n)}var pa,Sa,Ra,Ca=function(){var t="insights-measurement-svg";if(!document.getElementById(t)){var e=document.createElement("div");e.setAttribute("id","insights-measurement-div"),e.setAttribute("style","position:absolute; visibility:hidden; width:0; height:0"),document.body.appendChild(e);var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("id",t),e.appendChild(n)}return document.getElementById(t)},ma=function(t){var e;if(null===(e=t.checkVisibility)||void 0===e?void 0:e.call(t))return t.getBBox();var n=Ca(),r=t.cloneNode(!0);n.appendChild(r);var i=r.getBBox();return n.removeChild(r),i},ga=function(t,e){var n=[],r=[];e?e.forEach(function(t){null===ca(t.forecastValue)?n.push(t.date):r.push(t.date)}):t.rawData.forEach(function(t){var e;null===ca(null===(e=t.values[T.HIGH])||void 0===e?void 0:e.rv)?n.push(t.headers[0].name):r.push(t.headers[0].name)}),t.mainLineDates=Array.from(new Set(n)),t.forecastDates=Array.from(new Set(r))||[],t.mainPointsNumber=t.mainLineDates.length,t.forecastPointsNumber=t.forecastDates.length,t.allChartDates=La(La([],t.mainLineDates,!0),t.forecastDates,!0)},va=function(t){var e,n=t.calculationTemplate.dataInterface.data.dz.BreakBy.TemplateUnit[0].id,r=null===(e=t.rawData.find(function(t){return t.headers.find(function(t){return t.attributeSelector.tid===n})}))||void 0===e?void 0:e.headers,i=null==r?void 0:r.find(function(t){return t.attributeSelector.tid===n});return i.headerObj.t.es||[]},ya=function(t){return t.length>5?t.slice(0,5):t},Da=function(t,e,n){return void 0===n&&(n=0),t.some(function(t){return t.x-n>=e.left&&t.x+n<=e.right&&t.y-n>=e.top&&t.y+n<=e.bottom})},Fa=function(t,e,n){void 0===n&&(n=!1);for(var r=e.xScale,i=e.yScale,a=t.filter(function(t){return t.date&&(n&&null!==t.forecastValue||!n&&null!==t.metricValue)}).map(function(e){return{x:r(t.indexOf(e)),y:i(n?e.forecastValue:e.metricValue)}}),o=[],l=0;l<a.length-1;l++){var s=a[l],E=a[l+1],c=(E.x-s.x)/3,_=(E.y-s.y)/3,u={x:s.x+c,y:s.y+_},L={x:s.x+2*c,y:s.y+2*_};o.push(s,u,L)}return a.length>0&&o.push(a[a.length-1]),o},Ba=function(t){return Object.entries(t).map(function(t){var e=t[0],n=t[1];return"".concat(e,": ").concat(n)}).join(";")};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),rt.CONTAINER_FIT_LAYOUT,rt.AXES_LAYOUT,rt.DATA_LABELS_ENABLED,rt.FORECAST_ENABLED,rt.LEGEND_ENABLED,rt.OUTLIER_ENABLED,rt.SEASONALITY_ENABLED,rt.TREND_LINE_ENABLED,rt.REFERENCE_LINES_HIDEABLE_LAYOUT,mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),function(t){t[t.MAX=0]="MAX",t[t.MIN=1]="MIN",t[t.AVG=2]="AVG",t[t.MED=3]="MED",t[t.FIRST=4]="FIRST",t[t.LAST=5]="LAST",t[t.CONST=6]="CONST"}(Ra||(Ra={}));var Ma="invalid",ba=[{value:Ra.MAX,name:mstrmojo.descP("mstrWeb.",2125,"Maximum")},{value:Ra.MIN,name:mstrmojo.descP("mstrWeb.",2127,"Minimum")},{value:Ra.AVG,name:mstrmojo.descP("mstrWeb.",2122,"Average")},{value:Ra.MED,name:mstrmojo.descP("mstrWeb.",2126,"Median")},{value:Ra.FIRST,name:mstrmojo.descP("mstrWeb.",17529,"First")},{value:Ra.LAST,name:mstrmojo.descP("mstrWeb.",17530,"Last")},{value:Ra.CONST,name:mstrmojo.descP("mstrWeb.",7194,"Constant")}],xa={tagName:"VerticalLayout",children:[{tagName:"Select",key:rt.REFERENCE_LINE_OPTION,isValueNumber:!0,options:ba},{tagName:"InputNumber",key:rt.REFERENCE_LINE_CONSTANT_VALUE,showStepper:!1,className:"insightlinechart-".concat(rt.REFERENCE_LINE_CONSTANT_VALUE),precision:2},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between",children:[{tagName:"Text",text:mstrmojo.descP("mstrWeb.",19201,"Line label")},{tagName:"Switch",key:rt.REFERENCE_LINE_LABEL_ENABLED}]},{tagName:"MultiSelectBarLogic",className:"horizontal-flex-space-between _3item-stretch",key:rt.REFERENCE_LINE_LABEL_DISPLAY,options:[mstrmojo.descP("mstrWeb.",2043,"Type"),mstrmojo.descP("mstrWeb.",517,"Metric"),mstrmojo.descP("mstrWeb.",527,"Value")],type:"label",checked:[!0,!1,!0]}]};rt.REFERENCE_LINES,rt.REFERENCE_LINES_HIDEABLE_LAYOUT,JSON.stringify(xa),mstrmojo.descP("mstrWeb.",12030,"Reference Lines"),mstrmojo.descP("mstrWeb.",19359,"Reference line"),(pa={})[rt.REFERENCE_LINE_LABEL_ENABLED]=!0,pa[rt.REFERENCE_LINE_LABEL_DISPLAY]=[!0,!1,!0],pa[rt.REFERENCE_LINE_OPTION]=Ra.MAX,pa[rt.REFERENCE_LINE_CONSTANT_VALUE]=Ma,mstrmojo.descP("mstrWeb.",190,"Remove"),mstrmojo.descP("mstrWeb.",531,"Add"),(Sa={})[rt.REFERENCE_LINE_LABEL_ENABLED]="all",Sa[rt.REFERENCE_LINE_LABEL_DISPLAY]="all",Sa[rt.REFERENCE_LINE_OPTION]="all",Sa[rt.REFERENCE_LINE_CONSTANT_VALUE]="all",mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var Pa,Ha,wa=function(){return wa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},wa.apply(this,arguments)};!function(t){t.QUESTION_MARK="?",t.INDETERMINATE="INDETERMINATE"}(Ha||(Ha={}));var Ya=((Pa={})[rt.ENTIRE_GRAPH_SECTION]=Q(e.ENTIRE_GRAPH),Pa[rt.DATA_LABELS_SECTION]=Q(e.DATA_LABELS_AND_SHAPES),Pa[rt.AXES_SECTION]=Q(e.AXES_AND_GRID_LINES),Pa[rt.TREND_LINE_SECTION]=Q(e.TREND_LINE),Pa[rt.FORECAST_SECTION]=Q(e.FORECAST),Pa[rt.OUTLIER_SECTION]=Q(e.OUTLIER),Pa[rt.SEASONALITY_SECTION]=Q(e.SEASONALITY),Pa[rt.LEGEND_SECTION]=mstrmojo.descP("mstrWeb.",2403,"Legend"),Pa[rt.REFERENCE_LINES_SECTION]=mstrmojo.descP("mstrWeb.",12030,"Reference Lines"),Pa),Ga={n:Q(e.ALL),dssid:"hAll"},Xa=function(t,e){var n,r=3;return(n={})[rt.ENTIRE_GRAPH_SECTION]=0,n[rt.DATA_LABELS_SECTION]=1,n[rt.AXES_SECTION]=2,n[rt.TREND_LINE_SECTION]=e[rt.TREND_LINE_ENABLED]?r++:null,n[rt.FORECAST_SECTION]=e[rt.FORECAST_ENABLED]?r++:null,n[rt.OUTLIER_SECTION]=e[rt.OUTLIER_ENABLED]?r++:null,n[rt.SEASONALITY_SECTION]=e[rt.SEASONALITY_ENABLED]?r++:null,n[rt.LEGEND_SECTION]=e[rt.LEGEND_ENABLED]?r++:null,n[rt.REFERENCE_LINES_SECTION]=0!==e[rt.REFERENCE_LINES].length?r++:null,n},Ua=(Q(e.DASHED_LINE_2PT),function(t){var e=function(t){return t.map(function(t){var e;return t.fontAndColorProperties||(t.fontAndColorProperties=((e={})[rt.REFERENCE_LINES_FONT_FAMILY]=H.FONT_FAMILY,e[rt.REFERENCE_LINES_FONT_STYLE]=[!1,!1,!1,!1],e[rt.REFERENCE_LINES_FONT_SIZE]=w.FONT_SIZE,e[rt.REFERENCE_LINES_FONT_COLOR]=H.FONT_COLOR,e[rt.REFERENCE_LINES_LINE_STYLE]=P.LINE_DASHED_1PT,e[rt.REFERENCE_LINES_LINE_COLOR]=P.MAIN_LINE_COLOR,e)),t})}(t);return function(t){return t.map(function(t){return t.properties.referenceLineOption!==Ra.CONST&&(t.properties.referenceLineConstantValue=Ma),t})}(e)}),ka=function(t){var e=t[rt.REFERENCE_LINES_SELECTION],n=t[rt.REFERENCE_LINES];return n.find(function(t){return t.key===e})||n[0]},Va=function(t){var e=t.isBreakByAttributeAdded,n=e&&va(t),r=e?function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([Ga],n.map(function(t){var e=t.n,n=t.id;return{n:e,dssid:na(n)}}),!0):[];return r},Wa=function(t,e,n){var r,i=JSON.parse(t.getProperty(at));t.setProperty(at,JSON.stringify(wa(wa({},i),((r={})[e]=n,r))),{suppressData:!0,callback:function(){}})};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var ja=function(){return ja=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ja.apply(this,arguments)},za=function(t,e,n){var r,i,a,o,l,s;if(!(st.indexOf(e)<0)){var E=JSON.parse(t.getProperty(at)),c=t.isBreakByAttributeAdded,_=t.properties,u={callback:function(){}},L=!0,T=function(){L=!1};switch(e){case rt.OUTLIER_ENABLED:case rt.TREND_LINE_ENABLED:case rt.SEASONALITY_ENABLED:case rt.FORECAST_ENABLED:if(Za(E,e,d=n),T(),qa(d)){var A=Qa(e),h=A.propertyTitle,O=A.templateCalculationType;u.suppressData=!1,u.templateKey=fa(t),u.propertyTitle=h,u.needExtraAction=!0,u.tct=O}$a(E);break;case rt.OUTLIER_LABEL_FONT_FAMILY:case rt.OUTLIER_LABEL_FONTSTYLE:case rt.OUTLIER_LABEL_FONT_SIZE:case rt.OUTLIER_LABEL_FONT_COLOR:aa(E,t,e,n);break;case rt.LEGEND_ENABLED:E[rt.LEGEND_ENABLED]=!n,T();break;case rt.ALL_AXES_TITLE_SHOW:var d=n;E[rt.X_AXIS_TITLE_SHOW]=d,E[rt.Y_AXIS_TITLE_SHOW]=d;break;case rt.DATA_LABELS_ENABLED:d=n,E[rt.DATA_LABELS_SHOW]=!d,T();break;case rt.ALL_AXES_LABEL_SHOW:d=n,E[rt.X_AXIS_LABEL_SHOW]=d,E[rt.Y_AXIS_LABEL_SHOW]=d;break;case rt.ALL_AXES_TITLE_FONT_FAMILY:d=n,E[rt.X_AXIS_TITLE_FONT_FAMILY]=d,E[rt.Y_AXIS_TITLE_FONT_FAMILY]=d;break;case rt.ALL_AXES_TITLE_FONT_STYLE:d=n,E[rt.X_AXIS_TITLE_FONT_STYLE]=d,E[rt.Y_AXIS_TITLE_FONT_STYLE]=d;break;case rt.ALL_AXES_TITLE_FONT_SIZE:d=n,E[rt.X_AXIS_TITLE_FONT_SIZE]=d,E[rt.Y_AXIS_TITLE_FONT_SIZE]=d;break;case rt.ALL_AXES_TITLE_FONT_COLOR:d=n,E[rt.X_AXIS_TITLE_FONT_COLOR]=d,E[rt.Y_AXIS_TITLE_FONT_COLOR]=d;break;case rt.ALL_AXES_LABEL_FONT_FAMILY:d=n,E[rt.X_AXIS_LABEL_FONT_FAMILY]=d,E[rt.Y_AXIS_LABEL_FONT_FAMILY]=d;break;case rt.ALL_AXES_LABEL_FONT_STYLE:d=n,E[rt.X_AXIS_LABEL_FONT_STYLE]=d,E[rt.Y_AXIS_LABEL_FONT_STYLE]=d;break;case rt.ALL_AXES_LABEL_FONT_SIZE:d=n,E[rt.X_AXIS_LABEL_FONT_SIZE]=d,E[rt.Y_AXIS_LABEL_FONT_SIZE]=d;break;case rt.ALL_AXES_LABEL_FONT_COLOR:d=n,E[rt.X_AXIS_LABEL_FONT_COLOR]=d,E[rt.Y_AXIS_LABEL_FONT_COLOR]=d;break;case rt.ALL_AXES_LINE_STYLE:d=n,E[rt.X_AXIS_LINE_STYLE]=d,E[rt.Y_AXIS_LINE_STYLE]=d;break;case rt.ALL_AXES_LINE_COLOR:d=n,E[rt.X_AXIS_LINE_COLOR]=d,E[rt.Y_AXIS_LINE_COLOR]=d;break;case rt.FONT_FAMILY_GLOBAL:Ji(E,t,b.FONT_FAMILY,rt.OUTLIER_LABEL_FONT_FAMILY,n);break;case rt.FONT_COLOR_GLOBAL:Ji(E,t,b.FONT_COLOR,rt.OUTLIER_LABEL_FONT_COLOR,n);break;case rt.FONT_STYLE_GLOBAL:Ji(E,t,b.FONT_STYLE,rt.OUTLIER_LABEL_FONTSTYLE,n);break;case rt.FONT_SIZE_GLOBAL:Ji(E,t,b.FONT_SIZE,rt.OUTLIER_LABEL_FONT_SIZE,n);break;case rt.FORECAST_LENGTH:var f=parseInt(n),I=function(t){var e=t.isBreakByAttributeAdded,n=t.zonesModel;return e&&n.dropZones.find(function(t){return t.id===J.BREAK_BY}).items[0]}(t),N=JSON.stringify({forecast:{breakByAttribute:c?I.n:"",breakByAttributeID:c?I.did:"",pointsArray:[{pointsAbsoluteTime:"",pointsAbsoluteTimeUnit:"",points:Math.min(f,100),pointsTimeUnit:""}],confidenceLevel:.95,trendModel:"automatic",seasonalityModel:"automatic",seasonalityPeriod:-1},trend:{breakByAttribute:c?I.n:"",breakByAttributeID:c?I.did:""}});u.suppressData=!1,u.templateKey=fa(t),u.needExtraAction=!0,u.tsp=N,E[rt.FORECAST_LENGTH]=f,T();break;case rt.REFERENCE_LINES:d=n,E[rt.REFERENCE_LINES]=Ua(d),T();break;case rt.REFERENCE_LINES_LABEL_ENABLED:(p=ka(E)).properties.referenceLineLabelEnabled=n;break;case rt.REFERENCE_LINES_FONT_FAMILY:case rt.REFERENCE_LINES_FONT_STYLE:case rt.REFERENCE_LINES_FONT_SIZE:case rt.REFERENCE_LINES_FONT_COLOR:case rt.REFERENCE_LINES_LINE_STYLE:case rt.REFERENCE_LINES_LINE_COLOR:var p;(p=ka(E)).fontAndColorProperties=ja(ja({},p.fontAndColorProperties),((r={})[e]=n,r));break;case rt.TREND_LINE_COLOR:d=n,c?((S=_[rt.BREAK_BY_TREND_PROPERTIES])[m=_[rt.BREAK_BY_TREND_FORMATTING_SELECTOR]].trendColor=d,E[rt.BREAK_BY_TREND_PROPERTIES]=S):E[rt.TREND_LINE_COLOR_WITHOUT_BREAK_BY]=d,E[rt.TREND_LINE_COLOR]=d;break;case rt.TREND_LINE_STYLE:if(d=n,c){var S=_[rt.BREAK_BY_TREND_PROPERTIES];if((m=_[rt.BREAK_BY_TREND_FORMATTING_SELECTOR])===Ga.dssid)for(var R=0,C=Object.keys(S);R<C.length;R++)S[D=C[R]].lineStyle=d;else S[m].lineStyle=d,S[Ga.dssid].lineStyle=Ha.INDETERMINATE;E[rt.BREAK_BY_TREND_PROPERTIES]=S}else E[rt.TREND_LINE_STYLE_WITHOUT_BREAK_BY]=d;E[rt.TREND_LINE_STYLE]=d;break;case rt.BREAK_BY_TREND_FORMATTING_SELECTOR:case rt.BREAK_BY_FORECAST_FORMATTING_SELECTOR:d=n,E[e]=d;break;case rt.FORECAST_LINE_COLOR:case rt.FORECAST_LINE_TYPE:case rt.FORECAST_LINE_OPACITY:case rt.CONFIDENCE_BAND_LINE_TYPE:case rt.CONFIDENCE_BAND_OPACITY:case rt.CONFIDENCE_BAND_COLOR:case rt.CONFIDENCE_BAND_STYLE:if(c){var m=_[rt.BREAK_BY_FORECAST_FORMATTING_SELECTOR],g=_[rt.BREAK_BY_FORECAST_PROPERTIES];if(m===Ga.dssid)for(var v=0,y=Object.keys(g);v<y.length;v++){var D=y[v];E[rt.BREAK_BY_FORECAST_PROPERTIES][D]=ja(ja({},g[D]),((i={})[e]=n,i))}else E[rt.BREAK_BY_FORECAST_PROPERTIES][m]=ja(ja({},g[m]),((a={})[e]=n,a)),E[rt.BREAK_BY_FORECAST_PROPERTIES][Ga.dssid]=ja(ja({},g[Ga.dssid]),((o={})[e]=Ha.INDETERMINATE,o))}else E[rt.FORECAST_STYLE_WITHOUT_BREAK_BY]=ja(ja({},_[rt.FORECAST_STYLE_WITHOUT_BREAK_BY]),((l={})[e]=n,l));break;case rt.LEGEND_POSITION:d=n,E[e]=d}ta(E,t),L&&(E=ja(ja({},E),((s={})[e]=n,s))),t.savePropertyAndUpdateWidget(at,JSON.stringify(E),u),!1!==u.suppressData&&t.plot(E)}},Ka=[rt.FORECAST_ENABLED,rt.OUTLIER_ENABLED,rt.TREND_LINE_ENABLED,rt.SEASONALITY_ENABLED],Za=function(t,e,n){Ka.forEach(function(r){e===r?t[e]=qa(n):t[r]=!1})},$a=function(t){Ka.every(function(e){return!t[e]})&&(t[rt.TEXT_AND_FORM_ITEM]=0)},qa=function(t){return!t},Qa=function(t){switch(t){case rt.SEASONALITY_ENABLED:return{propertyTitle:"Seasonality",templateCalculationType:o.DSSTemplateCalculationSeasonalityAlgorithm};case rt.TREND_LINE_ENABLED:return{propertyTitle:"Trend",templateCalculationType:o.DSSTemplateCalculationTrendAlgorithm};case rt.FORECAST_ENABLED:return{propertyTitle:"Forecast",templateCalculationType:o.DSSTemplateCalculationForecastAlgorithm};case rt.OUTLIER_ENABLED:return{propertyTitle:"Outlier",templateCalculationType:o.DSSTemplateCalculationOutlierAlgorithm}}};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var Ja,to,eo=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};!function(t){t.X_AXIS_TITLE="xAxisTitle",t.Y_AXIS_TITLE="yAxisTitle",t.X_AXIS_LABEL="xAxisLabel",t.Y_AXIS_LABEL="yAxisLabel"}(Ja||(Ja={})),function(t){t.FONT_FAMILY="FontFamily",t.FONT_SIZE="FontSize",t.FONT_STYLE="FontStyle",t.FONT_COLOR="FontColor"}(to||(to={}));var no=function(t,e,n){return t===e?t:n},ro=function(t,e,n,r,i,a){var o=i.fontFamily,l=i.fontSize,s=i.color,E=i.fontStyleOptions,c=E.fontWeight,_=E.fontStyle,u=E.textDecoration,L=e.x,T=e.y;return t.append("g").attr("transform","translate(".concat(L,", ").concat(T,")")).classed(a,!0).append("text").attr("text-anchor","middle").attr("transform","rotate(".concat(n,")")).attr("font-weight",c).style("text-decoration",u).style("font-style",_).attr("font-family",o).attr("font-size","".concat(l,"pt")).attr("fill",s).text(r)},io=function(t,e,n,r,i,a,o){var l=a.allGridLineStyle,s=a.allGridLineColor,E=Ki(l),c=E.lineSize,_=E.lineStyle;t.append("g").attr("class",f.GRID_LINES).attr("transform","translate(".concat(n,", 0)")).call(Ot(r).tickSizeOuter(0).tickSizeInner(-(e-n)).tickValues(i)).selectAll("line").style("stroke",s).style("stroke-width",c).style("stroke-dasharray",_).style("opacity",o)},ao=function(t,e,n){var r=s.DEGREE_30,i=s.DEGREE_60;return t===ot[rt.X_AXIS_LABEL_ANGLE].DEGREE_60?(r=s.DEGREE_60,i=s.DEGREE_30):t===ot[rt.X_AXIS_LABEL_ANGLE].DEGREE_45&&(r=s.DEGREE_45,i=s.DEGREE_45),e*r+n*i},oo=function(t,e,n,r,i){var a=1;t.selectAll(".".concat(f.VERTICAL_LABELS)).selectAll("text").each(function(){a=Math.max(a,ma(this).height)});var o=O.OTHER;r?o=O.SEASONAL_PATTERN:i&&(o=O.COMPACT_MODE);var l=Math.floor((e-n)/(a*o))||I.MINIMUM,s=l;return i?s=I.COMPACT_MODE_MAXIMUM:r&&(s=I.SEASONAL_PATTERN),Math.max(l,s)},lo=function(t,e,n,r,i){ro(t,{x:0,y:0},n,e,i,r);var a=0;return t.select(".".concat(r)).selectAll("text").each(function(){a=ma(this).height}),a},so=function(t){t.selectAll(".".concat(f.HORIZONTAL_LABELS)).remove(),t.selectAll(".".concat(f.VERTICAL_LABELS)).remove(),t.selectAll(".".concat(f.HORIZONTAL_TITLE)).remove(),t.selectAll(".".concat(f.VERTICAL_TITLE)).remove()},Eo=function(t,e,n){return t===ot[rt.X_AXIS_LABEL_ROTATION].HORIZONTAL||t===ot[rt.X_AXIS_LABEL_ROTATION].AUTO&&(e||n)},co=function(t,e,n){return t===ot[rt.X_AXIS_LABEL_ROTATION].AUTO&&!e&&!n||t===ot[rt.X_AXIS_LABEL_ROTATION].VERTICAL},_o=function(t,e,n,r,i,a,o){var l={verticalTitle:{x:i*(1-c.LABEL_PADDING_PERCENTAGE),y:(t-r)/2},horizontalTitle:{x:e/2,y:t-a*c.LABEL_PADDING_PERCENTAGE-o}};return n&&(l.horizontalTitle.y-=c.COMPACT_MODE_BOTTOM,l.verticalTitle.x+=c.COMPACT_MODE_LEFT),{titlePosition:l}},uo=function(t,e,n,r){var i=e.xAxisTitleShow,a=e.yAxisTitleShow,o=n.col,l=n.row;return{verticalTitleHeight:a?lo(t,o,_.Y_AXIS_ROTATE,f.VERTICAL_TITLE,r.yAxisTitle):0,horizontalTitleHeight:i?lo(t,l,_.X_AXIS_ROTATE,f.HORIZONTAL_TITLE,r.xAxisTitle):0}},Lo=function(t,e,n,r,i){var a=F.MIDDLE;if(i.length<3){var o=i.at(-1)===t,l=i[0]===t;o&&(1-t/e)*n-.5*r<=0&&(a=F.END),l&&t/e*n-.5*r<=0&&(a=a===F.END?F.MIDDLE:F.START)}return a},To=function(t,e,n){var r=n.fontFamily,i=n.fontSize,a=n.color,o=n.fontStyleOptions,l=o.fontWeight,s=o.fontStyle,E=o.textDecoration;t.selectAll(".".concat(e)).selectAll("text").attr("font-weight",l).style("text-decoration",E).style("font-style",s).attr("font-family",r).attr("font-size","".concat(i,"pt")).attr("fill",a)},Ao=function(t,e,n,r){var i=Ki(n),a=i.lineSize,o=i.lineStyle;t.selectAll(".".concat(e," path")).style("stroke",r).style("stroke-width",a).style("stroke-dasharray",o).style("opacity",1)},ho=function(t){var e={};return Object.values(Ja).forEach(function(n){e[n]={fontFamily:t["".concat(n).concat(to.FONT_FAMILY)],fontSize:t["".concat(n).concat(to.FONT_SIZE)],fontStyleOptions:$i(t["".concat(n).concat(to.FONT_STYLE)]),color:t["".concat(n).concat(to.FONT_COLOR)]}}),e},Oo=function(t,e){var n=Zi(t),r=n.rowHeaders,i=n.colHeaders;return{col:e?u.NAME:i[0].n,row:r[0].n}},fo=function(t,e,n,r){var i=t.properties,a=t.isCompactChatBotMode,o=t.allChartDates,l=Number(e.attr("width")),s=Number(e.attr("height")),E=n.xAxis,u=n.yAxis,L=ho(i),T=L.xAxisLabel,A=L.yAxisLabel,h=Oo(t,r);if(e.append("g").attr("class",f.HORIZONTAL_LABELS).call(E),e.append("g").attr("class",f.VERTICAL_LABELS).call(u),To(e,f.HORIZONTAL_LABELS,T),To(e,f.VERTICAL_LABELS,A),r){var O=c.SEASONAL_PATTERN,N=uo(e,i,h,L),p=N.verticalTitleHeight,S=N.horizontalTitleHeight,R=_o(s,l,a,O,p,S,0).titlePosition,C=oo(e,s,O,r,a);return so(e),{moveHeight:O,titlePosition:R,bottomPadding:0,numberOfVerticalLabels:C,maxHorizontalLabelWidth:0,moveRight:0,labelIndexInterval:0,horizontalTitleHeight:0,xAxisTitleScrollbarPadding:0}}var m=function(t,e,n,r,i,a,o){var l=e.xAxisTitleShow,s=e.yAxisTitleShow,E=e.xAxisLabelShow,u=e.yAxisLabelShow,L=e.xAxisLabelRotation,T=e.xAxisLabelAngle,A=e.seasonalityEnabled,h=e.containerFitMode,O=e.legendEnabled,d=Eo(L,A,o),I=u?function(t){var e=0;return t.selectAll(".".concat(f.VERTICAL_LABELS)).selectAll("text").each(function(){e=Math.max(e,ma(this).width)}),e}(t):0,N=function(t,e,n,r){var i=0,a=0;t.selectAll(".".concat(f.HORIZONTAL_LABELS)).selectAll("text").each(function(){i=Math.max(i,ma(this).height),a=Math.max(a,ma(this).width)});var o=r?a:i,l=i,s=o;return r||(l=e===ot[rt.X_AXIS_LABEL_ROTATION].CUSTOM?ao(n,a,o):a),e===ot[rt.X_AXIS_LABEL_ROTATION].CUSTOM&&(s=ao(n,o,a)),{maxHorizontalLabelHeight:l,maxHorizontalLabelWidth:o,maxHorizontalLabelNoneModeWidth:s}}(t,L,T,d),p=N.maxHorizontalLabelHeight,S=N.maxHorizontalLabelWidth,R=N.maxHorizontalLabelNoneModeWidth,C=uo(t,e,n,a),m=C.verticalTitleHeight,v=C.horizontalTitleHeight,y=d?c.BOTTOM-p*c.LABEL_PADDING_PERCENTAGE:c.BOTTOM,D=u?I+c.AXIS_LEFT+c.TICK_LEFT+c.LEFT:_.SPACE_BETWEEN_AXIS_LINE,F=E?p+y+c.LABEL:_.SPACE_BETWEEN_AXIS_LINE,B=s?m:0,M=Io(h)&&!O?g.SCROLLBAR_PADDING:0,b=l?v+M:0,x=o?I+c.COMPACT_MODE_LEFT:function(t,e,n){return t<e&&n===ot[rt.X_AXIS_LABEL_ROTATION].CUSTOM?e:t<e/2?e/2+c.LEFT:t}(D+B,R,L),P=o?F+b+c.COMPACT_MODE_BOTTOM:F+b,H=d?c.LABEL+c.LABEL_HORIZONTAL_AUTOMATIC:c.LABEL,w=S/2<c.COMPACT_MODE_RIGHT?c.COMPACT_MODE_RIGHT:S/2+c.LABEL_RIGHT;return{moveWidth:x,moveHeight:P,titlePosition:_o(r,i,o,P,m,v,M).titlePosition,bottomPadding:H,maxHorizontalLabelWidth:S,moveRight:w,maxHorizontalLabelNoneModeWidth:R,horizontalTitleHeight:v,xAxisTitleScrollbarPadding:M}}(e,i,h,s,l,L,a),v=m.moveWidth,y=m.moveHeight,D=m.titlePosition,F=m.bottomPadding,B=m.maxHorizontalLabelWidth,M=m.moveRight,b=m.maxHorizontalLabelNoneModeWidth,x=m.horizontalTitleHeight,P=m.xAxisTitleScrollbarPadding;t.axesPositioning={moveWidth:v,maxHorizontalLabelNoneModeWidth:b};var H=oo(e,s,y,r,a),w=function(t,e,n){var r=t.xAxisLabelRotation,i=t.seasonalityEnabled;return Eo(r,i,e)?n+d.HORIZONTAL:co(r,i,e)?n+d.VERTICAL:n}(i,a,b),Y=function(t,e,n,r){var i=Math.floor((t-e)/r)||I.MINIMUM,a=Math.min(i,n);return Math.round(n/a)}(l,v,o.length,w);return so(e),{moveHeight:y,titlePosition:D,bottomPadding:F,numberOfVerticalLabels:H,maxHorizontalLabelWidth:B,moveRight:M,labelIndexInterval:Y,horizontalTitleHeight:x,xAxisTitleScrollbarPadding:P}},Io=function(t){return t===ot[rt.CONTAINER_FIT_MODE].NONE},No=function(t){return t===ot[rt.CONTAINER_FIT_MODE].COMPACT_CHAT_BOT},po=function(t){return t===ot[rt.CONTAINER_FIT_MODE].COMPACT_DOSSIER},So=function(t,e,n){var r=[];t.forEach(function(t){return r.push(t)});var i=new Date(r[0]),a=new Date(r.at(-1)),o=i.getFullYear(),l=a.getFullYear();l&&o===l?e.tickValues(n).tickFormat(function(e){var n=t[e].replace(String(o),"").trim(),r=["-","/",".",","];return-1!==r.indexOf(n[0])?n=n.slice(1):-1!==r.indexOf(n[n.length-1])&&(n=n.slice(0,-1)),n.trim()}):e.tickValues(n).tickFormat(function(e){return t[e]})},Ro=function(t,e,n){var r=t.map(function(t,e){return e}).filter(function(t){return t%e===0});return 2===r.length?r[1]=t.length-1:3===r.length&&(r=n),r};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var Co=function(t){var e,n,r=(null===(e=null==t?void 0:t.model)||void 0===e?void 0:e.docModel)||(null===(n=null==t?void 0:t.controller)||void 0===n?void 0:n.model),i=null==r?void 0:r.plt.colors.map(function(t){return n=(255&(e=t)).toString(16),r=(e>>8&255).toString(16),i=(e>>16&255).toString(16),1===n.length&&(n="0".concat(n)),1===r.length&&(r="0".concat(r)),1===i.length&&(i="0".concat(i)),"#".concat(n).concat(r).concat(i);var e,n,r,i});return i||null},mo=function(t){var e=Co(t);return(null==e?void 0:e[0])||B.DEFAULT},go=function(t,e){var n=Co(t);return(null==n?void 0:n[e%n.length])||B.DEFAULT};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var vo,yo,Do,Fo=function(t,e){var n,r,i,a,o;if(st.indexOf(e)<0)return{};var l,s=Na(t),E=s[e],c=t.isBreakByAttributeAdded,_=t.properties,u=Ta(t,x.METRIC),L=Ta(t,x.ATTRIBUTE),T=c&&void 0!==_,A=Zi(t),h=A.rowHeaders,O=A.colHeaders,d=h.length>0,f=O.length>0,I="#9a9a9a",N=ta(s,t,!0),p=Xa(0,s);switch(e){case rt.EMPTY_VIZ_WARNING_MESSAGE:return{visible:!u||!L};case rt.VIZ_FIRST_TAB_SECTION:case rt.VIZ_SECOND_TAB_SECTION:return{visible:u&&L};case rt.OUTLIER_ENABLED:case rt.FORECAST_ENABLED:case rt.SEASONALITY_ENABLED:case rt.LEGEND_ENABLED:case rt.TREND_LINE_ENABLED:return t.isFormatPanelSectionExpanded?{value:{switchValue:E,isExpanded:!0}}:{value:{switchValue:E}};case rt.DATA_LABELS_ENABLED:return{value:{switchValue:s[rt.DATA_LABELS_SHOW]}};case rt.CONTAINER_FIT_LAYOUT:case rt.AXES_LAYOUT:return{visible:!0};case rt.OUTLIER_DATA_LABELS_DISPLAY:return{visible:s[rt.OUTLIER_DATA_LABELS_ENABLED],value:s[rt.OUTLIER_DATA_LABELS_DISPLAY]};case rt.OUTLIER_LABEL_SECTION:return{visible:s[rt.OUTLIER_ENABLED]&&s[rt.OUTLIER_DATA_LABELS_ENABLED]};case rt.OUTLIER_LABEL_SELECTION:return{value:{items:F=la(t),value:s[rt.OUTLIER_LABEL_SELECTION]||F[0]}};case rt.OUTLIER_LABEL_FONTSTYLE:case rt.OUTLIER_LABEL_FONT_SIZE:case rt.OUTLIER_LABEL_FONT_COLOR:var S=s[rt.OUTLIER_LABEL_SELECTION];return{value:ia(t,S,e)};case rt.OUTLIER_LABEL_FONT_FAMILY:return S=s[rt.OUTLIER_LABEL_SELECTION],{value:{value:N||ia(t,S,e)}};case rt.CONFIDENCE_BAND_LINE_SECTION:return{visible:s[rt.CONFIDENCE_BAND_STYLE]===ot[rt.CONFIDENCE_BAND_STYLE].LINE};case rt.CONFIDENCE_BAND_FILL_SECTION:return{visible:s[rt.CONFIDENCE_BAND_STYLE]!==ot[rt.CONFIDENCE_BAND_STYLE].NONE};case rt.LEGEND_ALIGMENT_TYPE:return{value:E,visible:s[rt.LEGEND_POSITION_TYPE]===ot[rt.LEGEND_POSITION_TYPE].BOTTOM||s[rt.LEGEND_POSITION_TYPE]===ot[rt.LEGEND_POSITION_TYPE].TOP};case rt.X_AXIS_LABEL_ANGLE:return{value:E,visible:s[rt.X_AXIS_LABEL_ROTATION]===ot[rt.X_AXIS_LABEL_ROTATION].CUSTOM};case rt.X_AXIS_TITLE_LAYOUT:return{visible:d};case rt.Y_AXIS_TITLE_LAYOUT:return{visible:f};case rt.ALL_GRID_LINE_SHOW_TYPE:return{value:E,visible:s[rt.ALL_GRID_LINE_SHOW]};case rt.ALL_AXES_TITLE_SHOW:return{value:s[rt.X_AXIS_TITLE_SHOW]&&s[rt.Y_AXIS_TITLE_SHOW]};case rt.ALL_AXES_LABEL_SHOW:return{value:s[rt.X_AXIS_LABEL_SHOW]&&s[rt.Y_AXIS_LABEL_SHOW]};case rt.ALL_AXES_TITLE_FONT_FAMILY:var R=no(s[rt.X_AXIS_TITLE_FONT_FAMILY],s[rt.Y_AXIS_TITLE_FONT_FAMILY],Ha.QUESTION_MARK);return{value:{value:N||R}};case rt.ALL_AXES_TITLE_FONT_SIZE:return{value:no(s[rt.X_AXIS_TITLE_FONT_SIZE],s[rt.Y_AXIS_TITLE_FONT_SIZE],Ha.QUESTION_MARK)};case rt.ALL_AXES_TITLE_FONT_COLOR:return{value:no(s[rt.X_AXIS_TITLE_FONT_COLOR],s[rt.Y_AXIS_TITLE_FONT_COLOR],Ha.INDETERMINATE)};case rt.ALL_AXES_LABEL_FONT_FAMILY:return R=no(s[rt.X_AXIS_LABEL_FONT_FAMILY],s[rt.Y_AXIS_LABEL_FONT_FAMILY],Ha.QUESTION_MARK),{value:{value:N||R}};case rt.ALL_AXES_LABEL_FONT_SIZE:return{value:no(s[rt.X_AXIS_LABEL_FONT_SIZE],s[rt.Y_AXIS_LABEL_FONT_SIZE],Ha.QUESTION_MARK)};case rt.ALL_AXES_LABEL_FONT_COLOR:return{value:no(s[rt.X_AXIS_LABEL_FONT_COLOR],s[rt.Y_AXIS_LABEL_FONT_COLOR],Ha.INDETERMINATE)};case rt.ALL_AXES_LINE_STYLE:return{value:no(s[rt.X_AXIS_LINE_STYLE],s[rt.Y_AXIS_LINE_STYLE],Ha.QUESTION_MARK)};case rt.ALL_AXES_LINE_COLOR:return{value:no(s[rt.X_AXIS_LINE_COLOR],s[rt.Y_AXIS_LINE_COLOR],Ha.INDETERMINATE)};case rt.LEGEND_FONT_FAMILY:case rt.X_AXIS_TITLE_FONT_FAMILY:case rt.Y_AXIS_TITLE_FONT_FAMILY:case rt.X_AXIS_LABEL_FONT_FAMILY:case rt.Y_AXIS_LABEL_FONT_FAMILY:return{value:{value:N||E}};case rt.MARKER_FORECAST_COLOR:case rt.OUTLIER_EXPECTED_RANGE_COLOR:return{value:E||mo(t)};case rt.FONT_FAMILY_GLOBAL:var C=qi(s,b.FONT_FAMILY),m=Qi(s,C,Ha.QUESTION_MARK);return{value:{value:N||m}};case rt.FONT_SIZE_GLOBAL:var g=qi(s,b.FONT_SIZE);return{value:Qi(s,g,Ha.QUESTION_MARK)};case rt.FONT_COLOR_GLOBAL:var v=qi(s,b.FONT_COLOR);return{value:Qi(s,v,Ha.INDETERMINATE)};case rt.TEXT_AND_FORM_ITEM:var y=p[function(t,e,n){for(var r=Xa(0,e),i=0,a=Object.entries(r);i<a.length;i++){var o=a[i],l=o[0];if(o[1]===n)return l}return rt.ENTIRE_GRAPH_SECTION}(0,s,E)],D=function(t,e){var n=Xa(0,e),r=[];return Object.keys(n).forEach(function(t){null!==n[t]&&r.push(Ya[t])}),r}(0,s);return{value:{options:D,selectedOptionIndex:y},visible:!0};case rt.ENTIRE_GRAPH_SECTION:case rt.AXES_SECTION:case rt.DATA_LABELS_SECTION:case rt.TREND_LINE_SECTION:case rt.FORECAST_SECTION:case rt.OUTLIER_SECTION:case rt.SEASONALITY_SECTION:case rt.LEGEND_SECTION:case rt.REFERENCE_LINES_SECTION:return{visible:s[rt.TEXT_AND_FORM_ITEM]===p[e]};case rt.REFERENCE_LINES:return l=E,setTimeout(function(){l.forEach(function(t){var e=t.properties,n=t.key,r=document.querySelector(".".concat(n,"-").concat(rt.REFERENCE_LINE_CONSTANT_VALUE));e[rt.REFERENCE_LINE_OPTION]===Ra.CONST?null==r||r.classList.add("visible"):null==r||r.classList.remove("visible")})},0),{value:E};case rt.REFERENCE_LINES_SELECTION:var F=(s[rt.REFERENCE_LINES]||[]).map(function(t){return{dssid:t.key,n:t.title}}),B=null==F?void 0:F.find(function(t){return t.dssid===E});return{value:{items:F,value:B?E:(null===(n=F[0])||void 0===n?void 0:n.dssid)||""}};case rt.REFERENCE_LINES_LABEL_ENABLED:return{value:(null==(M=ka(s))?void 0:M.properties.referenceLineLabelEnabled)||!1};case rt.REFERENCE_LINES_FONT_FAMILY:case rt.REFERENCE_LINES_FONT_STYLE:case rt.REFERENCE_LINES_FONT_SIZE:case rt.REFERENCE_LINES_FONT_COLOR:case rt.REFERENCE_LINES_LINE_STYLE:case rt.REFERENCE_LINES_LINE_COLOR:var M;return{value:null==(M=ka(s))?void 0:M.fontAndColorProperties[e]};case rt.FORECAST_LENGTH:return{value:E||t.forecastPointsNumber};case rt.BREAK_BY_TREND_FORMATTING_SELECTOR:case rt.BREAK_BY_FORECAST_FORMATTING_SELECTOR:return F=Va(t),{value:{value:_&&_[e],items:F},visible:c};case rt.TREND_LINE_COLOR:if(T){var P=_[rt.BREAK_BY_TREND_FORMATTING_SELECTOR],H=null===(r=_[rt.BREAK_BY_TREND_PROPERTIES][P])||void 0===r?void 0:r.trendColor;return P===Ga.dssid?{value:I,enable:!1}:{value:H,enable:!0}}return{value:_&&_[rt.TREND_LINE_COLOR_WITHOUT_BREAK_BY]};case rt.TREND_LINE_STYLE:return T?(P=s[rt.BREAK_BY_TREND_FORMATTING_SELECTOR],{value:H=null===(i=_[rt.BREAK_BY_TREND_PROPERTIES][P])||void 0===i?void 0:i.lineStyle}):{value:_&&_[rt.TREND_LINE_STYLE_WITHOUT_BREAK_BY]};case rt.FORECAST_LINE_COLOR:case rt.FORECAST_LINE_TYPE:case rt.FORECAST_LINE_OPACITY:case rt.CONFIDENCE_BAND_LINE_TYPE:case rt.CONFIDENCE_BAND_OPACITY:case rt.CONFIDENCE_BAND_COLOR:case rt.CONFIDENCE_BAND_STYLE:return T?(P=_[rt.BREAK_BY_FORECAST_FORMATTING_SELECTOR],H=null===(a=_[rt.BREAK_BY_FORECAST_PROPERTIES][P])||void 0===a?void 0:a[e],P!==Ga.dssid||e!==rt.FORECAST_LINE_COLOR&&e!==rt.CONFIDENCE_BAND_COLOR?{value:H,enable:!0}:{value:I,enable:!1}):{value:_&&(null===(o=_[rt.FORECAST_STYLE_WITHOUT_BREAK_BY])||void 0===o?void 0:o[e])};default:return{value:E}}};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var Bo=mstrmojo.FormatControlHelper.FORMAT_CONTROL_TYPE,Mo=Bo.FILLGROUP,bo=Bo.LINEGROUP,xo={fontFamily:"Arial",fontSize:"11px"},Po=function(t){return Math.ceil(mstrmojo.VisUtility.measureTextWidth(t,xo,10))},Ho={3:"1pt dashed",4:"1pt dotted",1:"1pt solid",2:"2pt solid",5:"2pt dashed"},wo={"2pt dashed":5,"1pt dashed":3,"1pt dotted":4,"1pt solid":1,"2pt solid":2},Yo=((vo={})[j.TREND_LINE]=Q(e.EDIT_TRENDLINE),vo[j.FORECAST]=Q(e.EDIT_FORECAST),vo[j.FORECAST_LEGEND_COLORBOX]=mstrmojo.desc(3523,"Line Color"),vo[j.TRENDLINE_LEGEND_COLORBOX]=mstrmojo.desc(3523,"Line Color"),vo),Go=function(t,e,n){return function(r,i){za(t,"lineColor"===r?e:n,"lineColor"===r?i:Ho[i])}},Xo=function(t,e,n){return{lineColor:t.properties[e],lineStyle:wo[t.properties[n]]}},Uo=function(t,e,n){return function(r,i){var a=i,o=e===rt.FORECAST_LINE_COLOR?rt.BREAK_BY_FORECAST_FORMATTING_SELECTOR:rt.BREAK_BY_TREND_FORMATTING_SELECTOR;t.properties[o]=n,za(t,e,a),o===rt.BREAK_BY_FORECAST_FORMATTING_SELECTOR&&(t.properties[o]=n,za(t,rt.CONFIDENCE_BAND_COLOR,a))}},ko=function(t,e,n){var r=e===rt.FORECAST_LINE_COLOR?rt.BREAK_BY_FORECAST_FORMATTING_SELECTOR:rt.BREAK_BY_TREND_FORMATTING_SELECTOR;return t.properties[r]=n,{fillColor:Fo(t,e).value,fillAlpha:100}},Vo=((yo={})[j.TREND_LINE]=function(t,e){return[{label:{text:mstrmojo.desc(3546,"Line"),width:"".concat(Po(mstrmojo.desc(3546,"Line")),"px")},type:bo,propertyName:"a",callback:Go(t,rt.TREND_LINE_COLOR,rt.TREND_LINE_STYLE),currentValues:Xo(t,rt.TREND_LINE_COLOR,rt.TREND_LINE_STYLE)}]},yo[j.FORECAST]=function(t,n){var r="".concat(Math.max(Po(Q(e.FORECAST_LINES)),Po(Q(e.CONFIDENCE_BAND)),Po(Q(e.DIVIDING_LINE))),"px"),i=[{label:{text:Q(e.FORECAST_LINES),width:r},type:bo,propertyName:"a",callback:Go(t,rt.FORECAST_LINE_COLOR,rt.FORECAST_LINE_TYPE),currentValues:Xo(t,rt.FORECAST_LINE_COLOR,rt.FORECAST_LINE_TYPE)}];return t.properties[rt.CONFIDENCE_BAND_STYLE]!==ot[rt.CONFIDENCE_BAND_STYLE].NONE&&i.push({label:{text:Q(e.CONFIDENCE_BAND),width:r},type:Mo,propertyName:"a",callback:function(e,n){var r="fillColor"===e?rt.CONFIDENCE_BAND_COLOR:rt.CONFIDENCE_BAND_OPACITY;za(t,r,n)},currentValues:{fillColor:t.properties[rt.CONFIDENCE_BAND_COLOR],fillAlpha:t.properties[rt.CONFIDENCE_BAND_OPACITY]}}),t.properties[rt.DIVIDING_LINE]&&i.push({label:{text:Q(e.DIVIDING_LINE),width:r},type:bo,propertyName:"a",callback:Go(t,rt.DIVIDING_LINE_COLOR,rt.DIVIDING_LINE_TYPE),currentValues:Xo(t,rt.DIVIDING_LINE_COLOR,rt.DIVIDING_LINE_TYPE)}),i},yo[j.FORECAST_LEGEND_COLORBOX]=function(t,e){return[{label:{text:"",width:"0px"},type:Mo,showFillAlpha:!1,propertyName:"a",callback:Uo(t,rt.FORECAST_LINE_COLOR,e),currentValues:ko(t,rt.FORECAST_LINE_COLOR,e)}]},yo[j.TRENDLINE_LEGEND_COLORBOX]=function(t,e){return[{label:{text:"",width:"0px"},type:Mo,showFillAlpha:!1,propertyName:"a",callback:Uo(t,rt.TREND_LINE_COLOR,e),currentValues:ko(t,rt.TREND_LINE_COLOR,e)}]},yo),Wo=((Do={})[j.TREND_LINE]=rt.TREND_LINE_ENABLED,Do[j.FORECAST]=rt.FORECAST_ENABLED,Do[j.FORECAST_LEGEND_COLORBOX]=rt.LEGEND_ENABLED,Do[j.TRENDLINE_LEGEND_COLORBOX]=rt.LEGEND_ENABLED,Do);mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var jo;!function(t){t.THICK_LINE="#f4f4f4"}(jo||(jo={}));var zo,Ko=function(t,e,n,r){var i,a=t.properties,o=t.isCompactChatBotMode,l=t.insightLineChartContainerNode,s=t.allChartDates,u=Number(e.attr("width")),L=Number(e.attr("height")),T=n.xScale,A=n.yScale,h=a.xAxisLabelShow,O=a.yAxisLabelShow,d=a.xAxisLineStyle,I=a.xAxisLineColor,p=a.yAxisLineStyle,S=a.yAxisLineColor,R=a.containerFitMode,C=a.forecastEnabled,m=a.xAxisLabelRotation,y=a.seasonalityEnabled,D=ho(a),B=D.xAxisLabel,M=D.yAxisLabel,b=Io(R),P=po(R),H=(i=T,ht(3,i)).tickSize(0),w=function(t,e,n,r){if(!t.properties.xAxisLabelShow)return[];var i=function(t){var e=t.allChartDates,n=t.forecastDates,r=e.findIndex(function(t){return t===n[0]});return[0,r>0?r-1:Math.floor(e.length/2),e.length-1]}(t);return r?(function(t){var e,n,r,i,a,o=mstrmojo._FormatDefinition.NumberFormatCategory,l=[o.General,o.Automatic],s=null!==(a=null===(i=null===(r=null===(n=null===(e=t.model)||void 0===e?void 0:e.data)||void 0===n?void 0:n.gsi)||void 0===r?void 0:r.fmts)||void 0===i?void 0:i.rh)&&void 0!==a?a:{},E=s.nct,c=s.nfs;return!E||l.includes(E)||["MM/DD/YYYY","M/d/yyyy","mm/dd/yyyy","yyyy-MM-dd"].includes(c)}(t)?So(e,n,i):n.tickValues(i).tickFormat(function(t){return e[t]}),i):(n.ticks(e.length).tickFormat(function(t,n){return e[n]}),i)}(t,s,H,o);h&&!r||H.tickValues([]);var Y=Ot(A).tickSizeOuter(0).tickFormat(function(e){return ha(t,x.METRIC,e,o)});O?o&&Y.tickSize(0):Y.tickSize(0).tickValues([]);var G=fo(t,e,{xAxis:H,yAxis:Y},r),X=G.moveHeight,U=G.titlePosition,k=G.bottomPadding,V=G.numberOfVerticalLabels,W=G.maxHorizontalLabelWidth,j=G.moveRight,z=G.labelIndexInterval,K=G.horizontalTitleHeight,Z=G.xAxisTitleScrollbarPadding,$=t.axesPositioning,q=$.moveWidth,Q=$.maxHorizontalLabelNoneModeWidth,J=o?u-j-q:u*E.X_AXIS_SCALE_PERCENTAGE-q,tt=u-j;if(b){var et=function(t,e,n){var r=t.properties,i=t.allChartDates,a=r.xAxisLabelRotation,o=r.seasonalityEnabled,l=r.xAxisLabelShow,s=i.length,E=Eo(a,o,!1)?e/2:g.RIGHT_PADDING,c=(e+(l?g.LABEL_PADDING:g.NO_LABEL_PADDING))*s,_=c<n?n-E:c;return{noneModeXScaleEnd:_,containerNoneModeWidth:_+E}}(t,Q,u),nt=et.noneModeXScaleEnd,it=et.containerNoneModeWidth;tt=nt,e.attr("width",it),U.horizontalTitle.x=(u-q)/2+q}if(P){var at=function(t,e,n,r,i,a,o){return{compactDossierModeXScaleEnd:n-(Eo(t,a,!1)?e/2:5),arrayOfReducedLabelsIndexes:Ro(i,r,o)}}(m,Q,u,z,s,y,w),lt=at.compactDossierModeXScaleEnd,st=at.arrayOfReducedLabelsIndexes;tt=lt,U.horizontalTitle.x=(u+q)/2,h&&H.tickValues(st).tickFormat(function(t){return s[t]})}var Et=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([],w,!0);o&&(Et=function(t,e,n,r,i,a){var o=e.forecastEnabled,l=e.seasonalityEnabled,s=c.WIDTH_PERCENTAGE_BETWEEN_X_AXIS_LABELS,E=t[1],_=eo([],t,!0);return l?_=function(t,e,n){var r=e/(n*(1+c.WIDTH_PERCENTAGE_BETWEEN_X_AXIS_LABELS)),i=Math.ceil(t.length/r),a=t.filter(function(t,e){return e%i===0});return 1===a.length&&(a=[t.at(Math.floor(t.length/2))]),a}(t,r,i):o?_=function(t,e,n,r,i){var a=eo([],i,!0),o=0;return(1-t/e)*n-(1.5+c.WIDTH_PERCENTAGE_BETWEEN_X_AXIS_LABELS)*r<=0&&(a.pop(),o=Lo(t,e,n,r,a)===F.END?1:0),t/e*n-(1.5+.5*o+c.WIDTH_PERCENTAGE_BETWEEN_X_AXIS_LABELS)*r<=0&&a.shift(),a}(E,n,r,i,t):r-(2+s)*i<=0?_=[E]:r-(3+2*s)*i<=0&&_.splice(1,1),a.tickValues(_),_}(w,a,s.length,J,W,H),tt=u-c.COMPACT_MODE_RIGHT);var ct=o?c.COMPACT_MODE_TOP:L*E.Y_AXIS_SCALE_PERCENTAGE;T.range([q,tt]),A.range([L-X,ct]),e.append("g").attr("class",f.HORIZONTAL_LABELS).attr("transform","translate(0, ".concat(L-X,")")).call(H),function(t,e,n,r){var i=e.xAxisLabelRotation,a=e.xAxisLabelAngle,o=e.seasonalityEnabled,l=Eo(i,o,r);t.selectAll(".".concat(f.HORIZONTAL_LABELS)).selectAll("text").attr("x",l?"":"".concat(-c.LABEL)).attr("y",l||i===ot[rt.X_AXIS_LABEL_ROTATION].CUSTOM?"".concat(n):""),co(i,o,r)?t.selectAll(".".concat(f.HORIZONTAL_LABELS)).selectAll("text").attr("text-anchor","end").attr("transform","rotate(-90) translate(".concat(v.X_POSITION,", ").concat(v.Y_POSITION,")")):i===ot[rt.X_AXIS_LABEL_ROTATION].CUSTOM&&t.selectAll(".".concat(f.HORIZONTAL_LABELS)).selectAll("text").attr("text-anchor","end").attr("transform","rotate(".concat(a,")"))}(e,a,k,o);var _t=b&&l.getBoundingClientRect().width<ma(e.node()).width;if(U.horizontalTitle.y=_t?K*(1-c.LABEL_PADDING_PERCENTAGE):U.horizontalTitle.y,function(t,e,n,r,i,a){var o=n.xAxisTitleShow,l=n.yAxisTitleShow,s=i.verticalTitle,E=i.horizontalTitle,c=Oo(a,e),u=c.col,L=c.row;if(l){var T=r.yAxisTitle;ro(t,s,_.Y_AXIS_ROTATE,u,T,f.VERTICAL_TITLE)}if(o&&!e){var A=r.xAxisTitle;ro(t,E,_.X_AXIS_ROTATE,L,A,f.HORIZONTAL_TITLE)}}(e,r,a,D,U,t),o){var ut=w[1];!function(t,e,n,r,i,a){a===ot[rt.X_AXIS_LABEL_ROTATION].VERTICAL?t.selectAll(".".concat(f.HORIZONTAL_LABELS)).selectAll("text").each(function(t){var e;e=0===t?0:t===r-1?-i*(1-2*c.LABEL_PADDING_PERCENTAGE):-i*(1-2*c.LABEL_PADDING_PERCENTAGE)/2,this.setAttribute("transform","rotate(".concat(-90,") translate(").concat(v.Y_POSITION,", ").concat(e,")"))}):a!==ot[rt.X_AXIS_LABEL_ROTATION].CUSTOM&&t.selectAll(".".concat(f.HORIZONTAL_LABELS)).selectAll("text").each(function(t){var i=F.MIDDLE;0===t?i=F.START:t===r-1?i=F.END:e&&n!==F.MIDDLE&&(i=n),this.setAttribute("text-anchor",i)})}(e,C,Lo(ut,s.length,J,W,Et),s.length,W,m)}Y.ticks(V),e.append("g").attr("transform","translate(".concat(q,", 0)")).attr("class",f.VERTICAL_LABELS).call(Y),function(t,e,n,r,i,a){var o=i.allGridLineShow,l=i.allGridLineShowType;if(o&&!a){var s=r.yScale,E=r.minChartValue,c=r.maxChartValue,_=l===ot[rt.ALL_GRID_LINE_SHOW_TYPE].MAJOR_AND_MINOR,u=[];if(t.selectAll(".".concat(f.VERTICAL_LABELS)).selectAll(".tick").each(function(t){u.push(t)}),io(t,e,n,s,u,i,N.MAIN_GRID_LINES),_){var L=u.slice(1).map(function(t,e){var n=(t-u[e])/2;return 0===e&&u[e]-E>=n?[u[e]-n,t-n]:e===u.length-2&&c-u[e+1]>=n?[t-n,u[e+1]+n]:t-n}).flat();io(t,e,n,s,L,i,N.MINOR_GRID_LINES)}t.selectAll(".".concat(f.GRID_LINES," text")).attr("display","none"),t.selectAll(".".concat(f.GRID_LINES," path")).style("stroke","none")}}(e,tt,q,n,a,r),e.selectAll(".tick line").attr("color",jo.THICK_LINE),To(e,f.HORIZONTAL_LABELS,B),To(e,f.VERTICAL_LABELS,M),Ao(e,f.HORIZONTAL_LABELS,d,I),Ao(e,f.VERTICAL_LABELS,p,S),_t&&(function(t,e,n,r){var i=t.insightLineChartContainerNode,a="fixed-".concat(f.VERTICAL_LABELS);Fr(i).select(".".concat(a)).remove();var o=t.properties,l=o.xAxisLabelRotation,s=o.xAxisLabelAngle,E=0,c=Number(e.attr("height"));if(l===ot[rt.X_AXIS_LABEL_ROTATION].CUSTOM){var _=c-r;switch(s){case ot[rt.X_AXIS_LABEL_ANGLE].DEGREE_60:E=_/Math.sqrt(3);break;case ot[rt.X_AXIS_LABEL_ANGLE].DEGREE_45:E=_;break;case ot[rt.X_AXIS_LABEL_ANGLE].DEGREE_30:E=_*Math.sqrt(3)}}Fr(i).style("clip-path","polygon(\n\t\t\t".concat(n,"px 0,\n\t\t\t100% 0,\n\t\t\t100% 100%,\n\t\t\t0 100%,\n\t\t\t0 ").concat(c,"px,\n\t\t\t").concat(n-E,"px ").concat(c,"px,\n\t\t\t").concat(n,"px ").concat(r,"px)"));var u=Fr(i.parentElement).append("svg").attr("class",a).style("position","absolute").style("top","0px").style("width","".concat(n+2,"px")).style("height","100%"),L=e.select(".".concat(f.VERTICAL_LABELS));L.empty()||u.append(function(){return L.remove().node()});var T=e.select(".".concat(f.VERTICAL_TITLE));T.empty()||u.append(function(){return T.remove().node()})}(t,e,q,L-X),function(t,e,n,r,i,a){var o=t.insightLineChartContainerNode,l="fixed-".concat(f.HORIZONTAL_TITLE);Fr(o).select(".".concat(l)).remove();var s=a+i,E=Fr(o).append("svg").attr("class",l).style("position","absolute").style("top","".concat(n-s,"px")).style("width","".concat(r,"px")).style("height","".concat(s,"px")),c=e.select(".".concat(f.HORIZONTAL_TITLE));c.empty()||E.append(function(){return c.remove().node()})}(t,e,L,u,Z,K))};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT",t[t.UPLEFT=4]="UPLEFT",t[t.UPRIGHT=5]="UPRIGHT",t[t.DOWNLEFT=6]="DOWNLEFT",t[t.DOWNRIGHT=7]="DOWNRIGHT"}(zo||(zo={})),mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var Zo=mstrmojo.FormatControlHelper.FORMAT_CONTROL_TYPE;Zo.FILLGROUP,Zo.LINEGROUP,mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var $o=function(t){return 1.328147*t},qo=function(){for(var t=[],e=33;e<127;e++)t[e]=String.fromCharCode(e);return t}(),Qo=function(t,e){var n=$i(e),r=n.fontWeight,i=n.fontStyle,a=n.textDecoration,o=Fr(Ca()),l=[];return o.selectAll("text").data(qo).enter().append("text").attr("font-family",t).style("font-weight",r).style("font-style",i).style("text-decoration",a).text(function(t){return t}).each(function(){var t=this.getBoundingClientRect().width;l.push(t/10)}).remove(),o.append("text").attr("font-family",t).text("t t").each(function(){var t=this.getBoundingClientRect().width;l[32]=t/10-2*l["t".charCodeAt(0)]}).remove(),l};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var Jo=function(){return Jo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Jo.apply(this,arguments)},tl=function(t,e,n){switch(t){case zo.UP:return e>n;case zo.UPLEFT:case zo.UPRIGHT:return e>=n;case zo.DOWN:return e<n;case zo.DOWNLEFT:case zo.DOWNRIGHT:return e<=n;default:return!1}},el=function(t,e){var n=e.height/3,r=2*n;switch(t){case zo.UP:return{x:0,y:-e.height/2};case zo.DOWN:return{x:0,y:e.height/2+r};case zo.LEFT:return{x:-e.width/2-W.LABELS_MARGIN,y:n};case zo.RIGHT:return{x:e.width/2+W.LABELS_MARGIN,y:n};case zo.UPLEFT:return{x:-e.width/2-W.LABELS_MARGIN,y:-e.height/2+n};case zo.UPRIGHT:return{x:e.width/2+W.LABELS_MARGIN,y:-e.height/2+n};case zo.DOWNLEFT:return{x:-e.width/2-W.LABELS_MARGIN,y:e.height/2+n};case zo.DOWNRIGHT:return{x:e.width/2+W.LABELS_MARGIN,y:e.height/2+n};default:return{x:0,y:0}}},nl=function(t,e,n){var r=el(t,n),i=r.x,a=r.y;return{x:i+e.x,y:a+e.y}},rl=function(t){var e=t.metricValue,n=t.forecastValue;return null!=e?e:n},il=function(t){var e=t.metricValue,n=t.formattedMetricValue,r=t.formattedForecastValue;return e||0===e?n:r},al=function(t,e,n,r,i,a,o,l){var s=l.chartProperties,E=l.allAvailableLabelsToDisplay,c=l.visualizationHeight,_=t.isBreakByAttributeAdded,u=nl(i,a[r],e);if(function(t,e,n,r,i){var a=t.xScale,o=t.yScale,l=t.minChartValue,s=t.maxChartValue,E=i*W.TOP_HEIGHT_PERCENTAGE,c=i*W.BOTTOM_HEIGHT_PERCENTAGE,_=e.x<a(0)+W.LABELS_MARGIN,u=e.x+n.width>a(r)-W.LABELS_MARGIN,L=e.y<o(s)-E,T=e.y+n.height>o(l)+c;return!!(_||u||L||T)}(s,u,e,E[E.length-1].index,c))return!0;if(function(t,e,n,r){var i,a;switch(e){case zo.UP:case zo.DOWN:i=-Math.ceil(r/2),a=Math.ceil(r/2);break;case zo.LEFT:case zo.UPLEFT:case zo.DOWNLEFT:i=-Math.ceil(r),a=0;break;case zo.RIGHT:case zo.UPRIGHT:case zo.DOWNRIGHT:i=0,a=Math.ceil(r)}for(var o=Math.max(t+i,0),l=Math.min(t+a,n.length-1),s=n[t].y,E=!0,c=!0,_=o;_<=l;++_)if(t!==_){var u=n[_].y;[zo.LEFT,zo.RIGHT].includes(e)?(s>u-W.LABELS_MARGIN&&(E=!1),s<u+W.LABELS_MARGIN&&(c=!1)):tl(e,s,u)&&(E=!1)}return!(E||[zo.LEFT,zo.RIGHT].includes(e)&&c)}(r,i,a,o))return!0;if(_){var L={left:u.x-e.width/2,right:u.x+e.width/2,top:u.y-e.height/2,bottom:u.y+e.height/2};if(t.mainLinePoints.some(function(t){return Da(t,L,-5)}))return!0;if(t.forecastLinePoints.some(function(t){return Da(t,L,5)}))return!0}return!(0===n.length||!function(t,e,n,r){for(var i=n.length-1;i>=Math.max(n.length-r,0);--i){var a=e.x+t.width>n[i].x&&e.x-t.width<n[i].x,o=e.y+t.height>n[i].y&&e.y-t.height<n[i].y;if(a&&o)return!0}return!1}(e,u,n,o))},ol=function(t){var e=il(t),n=rl(t);return{isNumber:"number"==typeof n&&!isNaN(n),formattedValue:e}},ll=function(t,e){return t>=e},sl=function(t,e,n,r){if(t){var i=r.markerShow,a=r.markerForecastShow,o=[],l=e.selectAll(n).nodes(),s=e.selectAll(".single-marker").nodes();l.forEach(function(t){var e,n=t.classList.contains("forecast-single-data-label"),r=t.getBoundingClientRect();e=r,o.some(function(t){return!(e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)})?((n&&!a||!n&&!i)&&El(s,t),t.remove()):o.push(r)})}},El=function(t,e){var n=Fr(e).datum().data,r=n.date,i=n.metricValue;t.find(function(t){var e=Fr(t).datum();return e.date===r&&e.metricValue===i}).remove()};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var cl=function(t,e,n,r,i){var a=t.properties,o=a.dataLabelFontSize,l=a.dataLabelsHideOverlappingEnabled,s=a.forecastEnabled,E=a.forecastDataLabelsEnabled,c=a.dataLabelsShow,_=a.forecastDataLabelsHideOverlappingEnabled;if(0!==n.length&&(c||s&&E)){var u=s&&E,L=c&&!l,T=u&&!_,A=[],h=t.mainPointsNumber,O=function(t,e,n,r){if(r===t.length)return t.map(function(t,e){return{index:e,data:t,translation:{x:0,y:0}}});var i=[];return e&&i.push.apply(i,t.slice(0,r).map(function(t,e){return{index:e,data:t,translation:{x:0,y:0}}})),n&&i.push.apply(i,t.slice(r).map(function(t,e){return{index:e+r,data:t,translation:{x:0,y:0}}})),i}(n,c,u,h);if(1===O.length)A.push.apply(A,O);else{var d=function(t,e,n){var r=t.properties,i=r.dataLabelFontFamily,a=r.dataLabelFontStyle,o=r.dataLabelFontSize,l=r.forecastDataLabelFontFamily,s=r.forecastDataLabelFontStyle,E=r.forecastDataLabelFontSize,c="".concat(i).concat(a).concat(o),_="".concat(l).concat(s).concat(E);return t.allDataLabelsWidths||(t.allDataLabelsWidths={}),t.allDataLabelsWidths[c]||(t.allDataLabelsWidths[c]={}),t.allDataLabelsWidths[_]||(t.allDataLabelsWidths[_]={}),e.forEach(function(e,r){var i=il(e),a=ll(r,n),l=t.allDataLabelsWidths[a?_:c];l[i]||(l[i]=function(t){var e=t.text,n=t.fontArrayWidth,r=t.fontSize,i=Math.max.apply(Math,n);return e?e.split("").map(function(t){return t.charCodeAt(0)<n.length?n[t.charCodeAt(0)]:i}).reduce(function(t,e){return e+t})*$o(r):0}({text:i,fontArrayWidth:t.fontFamiliesWidths[a?"forecastDataLabel":"dataLabel"],fontSize:a?E:o}))}),Jo(Jo({},t.allDataLabelsWidths[c]),t.allDataLabelsWidths[_])}(t,n,h);A.push.apply(A,function(t,e){var n=e.chartProperties,r=e.allAvailableLabelsToDisplay,i=e.fontSize,a=e.allDataLabelsWidths,o=n.xScale,l=n.yScale,s=$o(i),E=a[il(r[0].data)],c=E/2,_=.75*s,u=Math.max.apply(Math,Object.values(a)),L=o(1)-o(0),T=Math.ceil((u+W.LABELS_MARGIN)/L),A=[],h=[],O=r.map(function(t){var e=t.index,n=t.data;return{x:o(e)-c,y:l(rl(n))-_}}),d=Math.max(E/2-o(X.X_AXIS),0);O[0].x=o(0)-d;for(var f=Object.keys(zo).length/2,I=0;I<r.length-1;++I)for(var N={width:a[il(r[I].data)],height:s},p=0;p<=f-1;++p)if(!al(t,N,h,I,p,O,T,e)){var S=nl(p,O[I],N),R=el(p,N);A.push(Jo(Jo({},r[I]),{translation:R})),h.push(S);break}return A}(t,{chartProperties:r,allAvailableLabelsToDisplay:O,fontSize:o,visualizationHeight:i,allDataLabelsWidths:d,dataLabelsShow:c})),(L||T)&&A.push.apply(A,function(t,e,n,r,i,a,o){var l=t.map(function(t){return t.index}),s=e.filter(function(t){var e=t.index;return!l.includes(e)&&(e<n&&r||e>=n&&i)});return s.map(function(t){var e=a[il(t.data)]/2-(o(t.index)-o(0-X.X_AXIS));return Jo(Jo({},t),{translation:Jo(Jo({},t.translation),{x:Math.max(e,0)})})})}(A,O,h,L,T,d,r.xScale))}(function(t,e,n,r,i){var a=n.dataLabelFontColor,o=n.dataLabelFontFamily,l=n.dataLabelFontStyle,s=n.dataLabelFontSize,E=n.forecastDataLabelFontStyle,c=n.forecastDataLabelFontSize,_=n.forecastDataLabelFontColor,u=n.forecastDataLabelFontFamily,L=r.xScale,T=r.yScale,A=$i(l),h=A.fontWeight,O=A.fontStyle,d=A.textDecoration,f=$i(E),I=f.fontWeight,N=f.fontStyle,p=f.textDecoration;t.append("g").selectAll("g").data(e).enter().append("text").attr("class",function(t){var e=t.index;return ll(e,i)?"single-data-label forecast-single-data-label":"single-data-label main-single-data-label"}).attr("font-size",function(t){var e=t.index;return"".concat(ll(e,i)?c:s,"pt")}).attr("text-anchor","middle").attr("transform",function(t){var e=t.translation;return"translate(".concat(e.x,", ").concat(e.y,")")}).attr("font-weight",function(t){var e=t.index;return ll(e,i)?I:h}).attr("fill",function(t){var e=t.index;return ll(e,i)?_:a}).attr("font-family",function(t){var e=t.index;return ll(e,i)?u:o}).style("font-style",function(t){var e=t.index;return ll(e,i)?N:O}).style("text-decoration",function(t){var e=t.index;return ll(e,i)?p:d}).attr("x",function(t){var e=t.index;return L(e)}).attr("y",function(t){var e=t.data;return T(rl(e))}).text(function(t){return function(t){var e=ol(t),n=e.isNumber,r=e.formattedValue;return n?r:null}(t.data)})})(e,A,a,r,h),ul(a,e,n,r,A,h)}},_l=function(t,e,n,r){var i=e.xScale,a=e.yScale;n.append("circle").attr("class","single-marker").attr("cx",function(e){return i(t.indexOf(e))}).attr("cy",function(t){return a(rl(t))}).attr("fill",r).attr("r",function(t){return function(t){return ol(t).isNumber?G.DEFAULT_RADIUS:G.NO_RADIUS}(t)})},ul=function(t,e,n,r,i,a){var o=t.markerShow,l=t.markerForecastShow,s=t.markerColor,E=t.markerForecastColor;if(!o){var c=i.filter(function(t){return t.index<a}).map(function(t){return t.data}),_=e.append("g").selectAll("g").data(c).enter();_l(n,r,_,s)}if(!l){c=i.filter(function(t){return t.index>=a}).map(function(t){return t.data});var u=e.append("g").selectAll("g").data(c).enter();_l(n,r,u,E)}};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var Ll=function(t,e,n){for(var r=Number.MAX_VALUE,i=t[0],a=0,o=t;a<o.length;a++){var l=o[a],s=l.x,E=l.y,c=Math.pow(e-s,2)+Math.pow(n-E,2);c<r&&(r=c,i=l)}return i.name},Tl=function(t){switch(t){case tt.TOP_LEFT:case tt.TOP_CENTER:case tt.TOP_RIGHT:case tt.BOTTOM_LEFT:case tt.BOTTOM_CENTER:case tt.BOTTOM_RIGHT:return!0;default:return!1}},Al=function(t){switch(t){case tt.LEFT_TOP:case tt.LEFT_CENTER:case tt.LEFT_BOTTOM:return!0;default:return!1}},hl=function(t){switch(t){case tt.TOP_LEFT:case tt.TOP_CENTER:case tt.TOP_RIGHT:return!0;default:return!1}};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var Ol=function(){function t(t,e,n,r){this.host=t,this.parentContainer=e,this.legendItems=[];var i=t.isBreakByAttributeAdded,a=t.properties,o=t.visualizationHeight,l=t.visualizationWidth,s=t.isChatbot,E=t.isCompactChatBotMode,c=a.legendEnabled,_=a.forecastEnabled,u=a.trendLineEnabled,L=a.mainLineColor,T=a.breakByForecastProperties,A=a.breakByTrendProperties,h=a.forecastWithoutBreakBy,O=a.confidenceBandColor,d=a.confidenceBandOpacity,f=a.legendFontFamily,I=a.legendFontColor,N=a.legendFillColor,p=a.legendFontSize,S=a.legendFillOpacity,R=a.legendFontStyle,C=a.legendPosition,m=a.legendTitleHide,g=a.legendScaleH,v=a.legendScaleV,y=a.trendLineColorWithoutBreakBy,D=mstrApp.isDossier,F="";if(i){var B=t.calculationTemplate.dataInterface.data.dz.BreakBy.TemplateUnit[0].id;F=t.rawData[0].headers.find(function(t){return t.headerObj.t.id===B}).tname}var M=h.forecastLineColor;this.properties={legendEnabled:c,forecastEnabled:_,trendLineEnabled:u,trendLineColorWithoutBreakBy:y,mainLineColor:L,breakByForecastProperties:T,breakByTrendProperties:A,forecastLineColor:M,confidenceBandColor:O,confidenceBandOpacity:d,legendFontFamily:f,legendFontColor:I,legendFillColor:N,legendFontSize:p,legendFillOpacity:S,legendFontStyle:R,legendPosition:C,legendTitleHide:m,isBreakByAttributeAdded:i,visualizationHeight:o,visualizationWidth:l,titleText:F,legendScaleH:g,legendScaleV:v,isConsumptionMode:D,isChatbot:s,isCompactChatBotMode:E},this.renderAllCallback=n,this.updateSVGChartViewBoxCallback=r,this.legendAnchorPoints=function(t,e){var n=t/2,r=e/2,i=e/3,a=t/3;return[{name:tt.TOP_LEFT,x:2*i/3,y:a/3},{name:tt.TOP_CENTER,x:r,y:a/3},{name:tt.TOP_RIGHT,x:e-2*i/3,y:a/3},{name:tt.LEFT_TOP,x:i/3,y:2*a/3},{name:tt.LEFT_CENTER,x:i/3,y:n},{name:tt.LEFT_BOTTOM,x:i/3,y:t-2*a/3},{name:tt.BOTTOM_LEFT,x:2*i/3,y:t-a/3},{name:tt.BOTTOM_CENTER,x:r,y:t-a/3},{name:tt.BOTTOM_RIGHT,x:e-2*i/3,y:t-a/3},{name:tt.RIGHT_TOP,x:e-i/3,y:2*a/3},{name:tt.RIGHT_CENTER,x:e-i/3,y:n},{name:tt.RIGHT_BOTTOM,x:e-i/3,y:t-2*a/3}]}(o,l),this.anchor=C,s&&(this.anchor=tt.BOTTOM_LEFT,this.properties.legendEnabled=!0),this.isHorizontal=Tl(this.anchor),this.isOnLeft=Al(this.anchor),this.isOnTop=hl(this.anchor),this.scaleWidth=void 0!==g?g:1,this.scaleHeight=void 0!==v?v:1}return t.prototype.render=function(){var t=this.properties,e=t.legendEnabled,n=t.isBreakByAttributeAdded,r=t.isChatbot,i=t.legendTitleHide,a=t.isConsumptionMode;e&&(this.container=this.createLegendContainer(),i&&n&&!r&&this.createTitle(),this.subContainer=this.createLegendSubContainer(),n?this.renderBreakByItems():this.renderDefaultItems(),this.updateStyles(),r||a||(this.createResizerLine(),this.setEventListeners()))},t.prototype.renderBreakByItems=function(){var t,e,n=this.properties,r=n.forecastEnabled,i=n.trendLineEnabled,a=n.isCompactChatBotMode,o=Va(this.host);o.length>5&&a&&(o=o.slice(0,6));for(var l=this.properties.mainLineColor,s=0,E=o;s<E.length;s++){var c=E[s];if(c.dssid!==Ga.dssid){var _=c.n;r&&(l=null===(t=this.properties.breakByForecastProperties[c.dssid])||void 0===t?void 0:t.forecastLineColor),i&&(l=null===(e=this.properties.breakByTrendProperties[c.dssid])||void 0===e?void 0:e.trendColor),this.renderItem(_,"background-color: ".concat(l),c.dssid)}}},t.prototype.renderDefaultItems=function(){var t=this.properties,n=t.mainLineColor,r=t.forecastEnabled,i=t.forecastLineColor,a=t.confidenceBandColor,o=t.confidenceBandOpacity,l=t.trendLineEnabled,s=t.trendLineColorWithoutBreakBy;this.renderItem(Q(e.ACTUAL),"background-color: ".concat(n)),r?(this.renderItem(Q(e.PREDICTION),"background-color: ".concat(i)),this.renderItem(Q(e.CONFIDENCE_INTERVAL),"background-color: ".concat(a,"; opacity: ").concat(o/100))):l&&this.renderItem(Q(e.TREND),"background-color: ".concat(s))},t.prototype.renderItem=function(t,e,n){void 0===n&&(n="0");var r=this.properties,i=r.forecastEnabled,a=r.trendLineEnabled,o=r.isChatbot,l="";i&&(l=j.FORECAST_LEGEND_COLORBOX),a&&(l=j.TRENDLINE_LEGEND_COLORBOX);var s=this.subContainer.append("div").attr("class","legendItem");Tl(this.anchor)||s.attr("style","flex-basis: 100%");var E=o||this.properties.isConsumptionMode?"colorIndicator":"colorIndicator colorIndicatorAuthoring";s.append("div").attr("class",E).attr("style",e).attr("data-name",l).attr("data-id",n),s.append("div").attr("class","legendItemText").text(t),this.legendItems.push(s)},t.prototype.createLegendContainer=function(){return this.parentContainer.selectAll("div .legendContainer").remove(),this.parentContainer.append("div").attr("class","legendContainer")},t.prototype.createTitle=function(){var t=this.getLegendTitleStyle();this.titleContainer=this.container.append("div").attr("class","legendTitle").attr("style",t),this.titleContainer.text(this.properties.titleText)},t.prototype.createLegendSubContainer=function(){return this.container.append("div").attr("class","legendSubContainer")},t.prototype.createResizerLine=function(){this.parentContainer.selectAll("div .legendResizerLine").remove();var t=this.getResizerLineStyle();this.resizer=this.parentContainer.append("div").attr("class","legendResizerLine"),this.resizer.attr("style",t)},t.prototype.updateStyles=function(){var t=this.getLegendContainerStyle();this.container.attr("style",Ba(t)),this.isHorizontal||this.isWidthScaled()&&void 0!==this.baseWidth||(this.baseWidth=this.getWidth()),!this.isHorizontal||this.isHeightScaled()&&void 0!==this.baseHeight||(this.baseHeight=this.getHeight());var e=this.getLegendSubContainerStyle();if(this.subContainer.attr("style",e),!this.properties.isChatbot){var n=this.addScalesToStyleDict(t);this.container.attr("style",Ba(n))}},t.prototype.getLegendContainerStyle=function(){var t=this.properties,e=t.legendFontStyle,n=t.legendFillColor,r=t.legendFontFamily,i=t.legendFontColor,a=t.legendFontSize,o=t.legendFillOpacity,l=t.isChatbot,s=$i(e.slice(0,4)),E=s.fontWeight,c=s.fontStyle,_=s.textDecoration,u={"background-color":Ia(n,+o),"font-family":r,color:i,"font-size":"".concat(a,"pt"),"font-weight":E,"font-style":c,"text-decoration":_,"max-height":"".concat(this.getContainerMaxHeight(),"px"),"max-width":"".concat(this.getContainerMaxWidth(),"px"),"min-height":"".concat(this.getContainerMinHeight(),"px"),padding:"".concat(6,"px ").concat(12,"px"),"row-gap":"".concat(10,"px"),"column-gap":"".concat(15,"px")};if(this.isHorizontal||(u["flex-basis"]="min-content"),!l){var L=this.getContainerBorders();u["border-radius"]=L["border-radius"]}return u},t.prototype.getLegendSubContainerStyle=function(){var t=Number(this.properties.legendFontSize)+3,e={"line-height":"".concat(t,"pt"),"max-height":"".concat(this.getSubContainerMaxHeight(),"px"),"column-gap":"".concat(8,"px"),"row-gap":"".concat(8,"px")};return Ba(e)},t.prototype.getLegendTitleStyle=function(){var t={margin:"".concat(0,"px ").concat(0,"px ").concat(0,"px ").concat(0,"px")};return Ba(t)},t.prototype.getResizerLineStyle=function(){var t=this.getResizerSize(),e={width:"".concat(this.isHorizontal?this.getWidth():t,"px"),height:"".concat(this.isHorizontal?t:this.getHeight(),"px"),cursor:this.isHorizontal?"ns-resize":"ew-resize","background-color":Ia(this.properties.legendFillColor,100)};return Ba(e)},t.prototype.addScalesToStyleDict=function(t){return this.isHorizontal&&this.isHeightScaled()?(t.height="".concat(Math.round(this.scaleHeight*this.baseHeight),"px"),t["min-height"]="".concat(this.getContainerMinHeight(),"px"),delete t["flex-basis"]):!this.isHorizontal&&this.isWidthScaled()&&(t.width="".concat(Math.max(20,Math.round(this.scaleWidth*this.baseWidth)),"px"),delete t["flex-basis"]),t},t.prototype.updateItem=function(t,e,n){var r=this.legendItems[t];r.select(".colorIndicator").attr("style",n),r.select("div").text(e)},t.prototype.updateItemsLayout=function(){var t=this;this.legendItems.forEach(function(e){e.attr("style",t.isHorizontal?"":"flex-basis: 100%")})},t.prototype.addOnDragStyleChange=function(){this.isClicked&&(this.isClicked=!1,this.container.attr("class","".concat(this.container.attr("class")," legendContainerMoving")))},t.prototype.removeOnDragStyleChange=function(){this.container.attr("class","legendContainer")},t.prototype.setEventListeners=function(){var t=this,e=kr().on("start",function(e){t.dragstartHandler(e)}).on("end",function(e){t.dropHandler(e)}).on("drag",function(e){t.dragoverHandler(e)});this.container.call(e);var n=kr().on("start",function(e){t.resizeDragStartHandler(e)}).on("end",function(e){t.resizeDragEndHandler(e)}).on("drag",function(e){t.resizeDragOverHandler(e)});this.resizer.call(n),this.container.on("mouseover",this.handleMouseOver.bind(this)).on("mouseout",this.handleMouseOut.bind(this))},t.prototype.handleMouseOver=function(){if(!this.isDragging&&!this.isResizing){var t=Number(this.properties.legendFillOpacity)+50;this.container.style("background-color",Ia(this.properties.legendFillColor,t))}},t.prototype.handleMouseOut=function(){this.isDragging||this.isResizing||this.container.style("background-color",Ia(this.properties.legendFillColor,+this.properties.legendFillOpacity))},t.prototype.resizeDragStartHandler=function(t){this.isResizing=!0,this.dragstartHandler(t)},t.prototype.resizeDragOverHandler=function(t){this.isHorizontal?this.calculateScaleHeight(t.y):this.calculateScaleWidth(t.x),this.updateStyles(),this.addOnDragStyleChange();var e=this.getSizeForLayout(),n=e.width,r=e.height;this.updateSVGChartViewBoxCallback(this.parentContainer,{width:this.properties.visualizationWidth-n,height:this.properties.visualizationHeight-r,viewBoxX:this.chartWidth,viewBoxY:this.chartHeight})},t.prototype.resizeDragEndHandler=function(t){this.isHorizontal&&void 0!==this.scaleHeight?Wa(this.host,rt.LEGEND_SCALE_V,this.scaleHeight):this.isHorizontal||void 0===this.scaleWidth||Wa(this.host,rt.LEGEND_SCALE_H,this.scaleWidth),this.updateLayout(this.anchor,!0),this.removeOnDragStyleChange(),this.isResizing=!1,this.isClicked=!1},t.prototype.dragstartHandler=function(t){var e=this.parentContainer.select(m.SVG_CONTAINER);this.chartWidth=Number(e.attr("width")),this.chartHeight=Number(e.attr("height")),this.isClicked=!0},t.prototype.dragoverHandler=function(t){var e=Ll(this.legendAnchorPoints,t.x,t.y);if(this.updateLayout(e,!1),this.isDragging=!0,this.addOnDragStyleChange(),Tl(e)!==this.isHorizontal){this.isHorizontal=Tl(e),this.removeResizer(),this.updateItemsLayout(),this.updateStyles();var n=this.getSizeForLayout(),r=n.width,i=n.height;this.updateSVGChartViewBoxCallback(this.parentContainer,{width:this.properties.visualizationWidth-r,height:this.properties.visualizationHeight-i,viewBoxX:this.chartWidth,viewBoxY:this.chartHeight})}},t.prototype.dropHandler=function(t){this.isDragging&&(this.anchor=Ll(this.legendAnchorPoints,t.x,t.y),this.isOnLeft=Al(this.anchor),this.isOnTop=hl(this.anchor),Wa(this.host,rt.LEGEND_POSITION,this.anchor),this.updateLayout(this.anchor,!0),this.isDragging=!1),this.removeOnDragStyleChange(),this.isClicked=!1},t.prototype.updateLayout=function(t,e){void 0===e&&(e=!0),null==t&&(t=this.anchor);var n=function(t){var e={display:"flex"};switch(t){case tt.TOP_LEFT:case tt.TOP_CENTER:case tt.TOP_RIGHT:e["flex-direction"]="column";break;case tt.LEFT_TOP:case tt.LEFT_CENTER:case tt.LEFT_BOTTOM:e["flex-direction"]="row";break;case tt.BOTTOM_LEFT:case tt.BOTTOM_CENTER:case tt.BOTTOM_RIGHT:e["flex-direction"]="column-reverse";break;case tt.RIGHT_TOP:case tt.RIGHT_CENTER:case tt.RIGHT_BOTTOM:e["flex-direction"]="row-reverse"}switch(t){case tt.TOP_LEFT:case tt.LEFT_TOP:case tt.BOTTOM_LEFT:case tt.RIGHT_TOP:e["align-items"]="flex-start";break;case tt.TOP_CENTER:case tt.BOTTOM_CENTER:case tt.LEFT_CENTER:case tt.RIGHT_CENTER:e["align-items"]="center";break;case tt.TOP_RIGHT:case tt.LEFT_BOTTOM:case tt.BOTTOM_RIGHT:case tt.RIGHT_BOTTOM:e["align-items"]="flex-end"}return e}(t);this.updateParentContainerStyle(Ba(n)),e&&this.renderAllCallback(this.host,!1)},t.prototype.updateParentContainerStyle=function(t){this.parentContainer.attr("style",t)},t.prototype.calculateScaleWidth=function(t){var e=this.isOnLeft?t:this.properties.visualizationWidth-t;e=Math.max(20,Math.min(e,this.getContainerMaxWidth())),this.scaleWidth=e/this.baseWidth},t.prototype.calculateScaleHeight=function(t){var e=this.isOnTop?t:this.properties.visualizationHeight-t;e=Math.max(20,Math.min(this.getContainerMaxHeight(),e)),this.scaleHeight=e/this.baseHeight},t.prototype.getContainerMaxHeight=function(){var t=this.isHorizontal,e=this.properties;return t?Math.floor(e.visualizationHeight/3)-this.getResizerSize():e.visualizationHeight-2},t.prototype.getContainerMaxWidth=function(){var t=this.isHorizontal,e=this.properties;return t?e.visualizationWidth-24:Math.floor(e.visualizationWidth/3)-this.getResizerSize()},t.prototype.getContainerMinHeight=function(){return this.getSubContainerMinHeight()+(this.isTitleOnSeparateLine()?this.getTitleHeight()+10:0)},t.prototype.getSubContainerMaxHeight=function(){var t=(this.isHeightScaled()&&this.isHorizontal&&void 0!==this.baseHeight?this.baseHeight*this.scaleHeight:this.getContainerMaxHeight())-12-this.getTitleHeight();return Math.max(t,this.getSubContainerMinHeight())},t.prototype.getSubContainerMinHeight=function(){return t=Number(this.properties.legendFontSize)+6,Math.round(1.33*t);var t},t.prototype.getSubContainerWidth=function(){return this.subContainer.node().getBoundingClientRect().width},t.prototype.getTitleHeight=function(){return this.properties.legendTitleHide&&this.properties.isBreakByAttributeAdded?Math.ceil(this.titleContainer.node().getBoundingClientRect().height)+(this.isHorizontal?0:10):0},t.prototype.getTitleWidth=function(){return this.properties.legendTitleHide&&this.properties.isBreakByAttributeAdded?this.titleContainer.node().getBoundingClientRect().width:0},t.prototype.getHeight=function(){return this.properties.legendEnabled?this.container.node().getBoundingClientRect().height+(this.isHorizontal?this.getResizerSize():0):0},t.prototype.getWidth=function(){return this.properties.legendEnabled?this.container.node().getBoundingClientRect().width+(this.isHorizontal?0:this.getResizerSize()):0},t.prototype.getSizeForLayout=function(){if(!this.properties.legendEnabled)return{width:0,height:0};var t=this.isHorizontal;return{width:t?0:this.getWidth(),height:t?this.getHeight():0}},t.prototype.getContainerBorders=function(){var t=this,e=t.isHorizontal,n=t.isOnLeft,r=t.isOnTop;return e?{"border-radius":r?"0px 0px ".concat(3,"px ").concat(3,"px"):"".concat(3,"px ").concat(3,"px 0px 0px")}:{"border-radius":n?"0px ".concat(3,"px ").concat(3,"px 0px"):"".concat(3,"px 0px 0px ").concat(3,"px")}},t.prototype.getHTMLSelector=function(){return this.properties.legendEnabled?"".concat(this.container.node().tagName," .").concat(this.container.node().className):""},t.prototype.getResizerSize=function(){return this.properties.isChatbot?0:4},t.prototype.isHeightScaled=function(){return 1!==this.scaleHeight},t.prototype.isWidthScaled=function(){return 1!==this.scaleWidth},t.prototype.isTitleOnSeparateLine=function(){if(this.properties.legendTitleHide&&this.properties.isBreakByAttributeAdded){var t=2*(this.isHorizontal?12:6)+8+4;if(this.getTitleWidth()+this.getSubContainerWidth()+t>this.getWidth())return!0}return!1},t.prototype.removeResizer=function(){this.resizer.remove()},t.prototype.destroy=function(){void 0!==this.container&&null!==this.container&&this.container.remove()},t}();mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var dl=function(){return dl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},dl.apply(this,arguments)},fl=function(t,e,n){return t.reduce(function(t,n){var r=n.x,i=n.y,a=n.height;return i>=e[0]&&i<=e[1]||i-a>=e[0]&&i-a<=e[1]||i<=e[0]&&i-a>=e[1]?Math.min(t,r):t},n)},Il=function(t,e,n){var r=t.axesPositioning,i=t.properties.referenceLines||[];if(i.length){var a=r.moveWidth,o=Number(e.attr("width")),l=[],s=e.append("g").attr("transform","translate(".concat(a,", 0)")).attr("width",o-a),E=t.getGraphicModels().map(function(t){return t.data.metricValue});i.forEach(function(e){if(e.isEnabled){var r=function(t,e){var n=e.properties,r=n.referenceLineOption,i=n.referenceLineConstantValue;switch(r){case Ra.MAX:return Math.max.apply(Math,t);case Ra.MIN:return Math.min.apply(Math,t);case Ra.AVG:return t.reduce(function(t,e){return t+e},0)/t.length;case Ra.MED:var a=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([],t,!0).sort(function(t,e){return t-e}),o=Math.floor(a.length/2);return a.length%2==0?(a[o]+a[o-1])/2:a[o];case Ra.FIRST:return t[0];case Ra.LAST:return t[t.length-1];case Ra.CONST:return i}}(E,e);r!==Ma&&Nl(t,e,r,s,n.yScale,l)}})}},Nl=function(t,e,n,r,i,a){var o=Number(r.attr("width")),l=e.fontAndColorProperties,s=l.referenceLinesLineColor,E=l.referenceLinesLineStyle,c=l.referenceLinesFontColor,_=l.referenceLinesFontFamily,u=l.referenceLinesFontSize,L=l.referenceLinesFontStyle,T=function(t){switch(t){case"1pt dashed":return{dashArray:"3 3",lineWidth:1};case"2pt dashed":return{dashArray:"3 3",lineWidth:2};case"1pt dotted":return{dashArray:"1 1",lineWidth:1};case"1pt solid":return{dashArray:"1 0",lineWidth:1};case"2pt solid":return{dashArray:"1 0",lineWidth:2}}}(E),A=T.dashArray,h=T.lineWidth,O=$i(L),d=O.fontStyle,f=O.fontWeight,I=O.textDecoration,N=i(n),p=r.append("g").attr("transform","translate(0, ".concat(N,")"));if(p.append("line").attr("stroke",s).attr("x1",0).attr("x2",o).attr("y1",0).attr("y2",0).attr("stroke-width",h).attr("stroke-dasharray",A),e.properties.referenceLineLabelEnabled){var S=function(t,e,n){var r=t.properties.referenceLineLabelDisplay,i=r[0],a=r[1],o=r[2],l="";return i&&(l+=function(t){var e,n=t.properties.referenceLineOption;return null===(e=ba.find(function(t){return t.value===n}))||void 0===e?void 0:e.name}(t)),a&&(l+=" ".concat(e)),o&&(l+=" ".concat(n)),l.trim()}(e,Zi(t).colHeaders[0].n,ha(t,x.METRIC,n)),R={fontFamily:_,fontSize:"".concat(u,"pt"),color:c,fontWeight:f,fontStyle:d,textDecoration:I},C=function(t,e,n,r,i){var a=r-4-n>0,o=a?[r-4-n,r-4]:[r+4,r+4+n],l=Math.max.apply(Math,t.map(function(t){return t.height})),s=fl(t,o,i);s<e+2&&(a?o=[r+4,r+4+n]:(o[0]+=4+l,o[1]+=4+l),s=fl(t,o,i));var E=o[1]-r,c=Math.max(s-e-2,2);return t.push({x:c,y:E+r,width:e,height:n}),{labelXPosition:c,labelYPosition:E}}(a,mstrmojo.VisUtility.measureTextWidth(S+"1",dl(dl({},R),{lineHeight:1})),mstrmojo.VisUtility.measureTextHeight(S,dl({},R)),N,o),m=C.labelXPosition,g=C.labelYPosition;p.append("text").attr("x",m).attr("y",g).text(S).attr("font-family",R.fontFamily).attr("fill",R.color).attr("font-weight",R.fontWeight).attr("font-style",R.fontStyle).attr("text-decoration",R.textDecoration).attr("font-size",R.fontSize)}};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var pl=function(t,e){void 0===e&&(e=!0);var n=t.insightLineChartContainerNode,r=t.isCompactChatBotMode,i=t.chartProperties,a=t.renderSeasonalPattern,o=t.visualizationHeight,l=t.visualizationWidth,s=Fr(n);e&&(t.legend=new Ol(t,s,pl,Rl),t.legend.updateLayout(null,!1)),t.legend.render(),s.selectAll(m.SVG_CONTAINER).remove();var E,c,_=t.legend.getSizeForLayout(),u=s.append("svg").attr("width",l-_.width).attr("height",o-_.height).attr("class",m.SVG_CONTAINER.substring(1));(Sl(t,u,i,a),r)&&(E=s.select(m.INFO_ICON_CONTAINER),(c=u).node().parentNode.insertBefore(E.node(),c.node().nextSibling))},Sl=function(t,e,n,r){var i=t.isBreakByAttributeAdded,a=t.parsedData,o=t.properties,l=t.visualizationHeight,s=o.dataLabelsHideOverlappingEnabled,E=o.forecastDataLabelsHideOverlappingEnabled;t.mainLinePoints=[],t.forecastLinePoints=[],Ko(t,e,n,r);var c={};a.forEach(function(r){var a,o=r.data,l=r.mainLineData,s=r.forecastData,E=r.attributeElementId,_=function(t,e,n,r){var i=t.properties,a=i.mainLineColor,o=i.mainLineType,l=i.containerFitMode,s=i.seasonalityEnabled;if(!No(l)||!s){var E=Number(e.attr("height")),c=n.xScale,_=n.yScale,u=Ki(o),L=u.lineSize,T=u.lineStyle,A=[],h=Vi().defined(function(t){return t.date&&null!==t.metricValue}).x(function(t){return c(r.indexOf(t))}).y(function(t){return _(t.metricValue)});A.push(e.append("g").append("path").datum(r).attr("fill","none").attr("stroke",a).attr("stroke-width",L).style("stroke-dasharray",T).attr("d",h)),t.mainLinePoints.push(Fa(r,n));var O=function(t){var e=[];return t.forEach(function(n,r){!(null===n.metricValue||0!==r&&null!==t[r-1].metricValue||r!==t.length-1&&null!==t[r+1].metricValue)&&e.push({index:r,metricValue:n.metricValue})}),e}(r);0!==O.length&&A.push(function(t,e,n,r){var i=n.xScale,a=n.yScale;return t.append("g").selectAll("g").data(e).enter().append("circle").attr("cx",function(t){return i(t.index)}).attr("cy",function(t){return a(t.metricValue)}).attr("fill",r).attr("r",G.DEFAULT_RADIUS)}(e,O,n,a));var d=Wi().defined(function(t){return t.date&&null!==t.metricValue}).x(function(t){return c(r.indexOf(t))}).y0(E*R.Y_SCALE_START).y1(function(t){return _(t.metricValue)});return e.append("path").datum(r).attr("fillStroke",S.TRANSPARENT).attr("fill",S.TRANSPARENT).attr("stroke",S.TRANSPARENT).attr("stroke-width",C.LINE_STROKE).attr("d",d).attr("id","lineChart"),A}}(t,e,n,l),u=function(t,e,n,r,i){var a=t.properties,o=t.isBreakByAttributeAdded,l=a.trendLineStyleSelector,s=a.trendLineEnabled,E=a.trendLineColorWithoutBreakBy;if(s){var c=r.xScale,_=r.yScale,u=o&&function(t,e){var n=na(e);return t.properties[rt.BREAK_BY_TREND_PROPERTIES][n]}(t,i),L=u.trendColor,T=u.lineStyle,A=Ki(o?T:l),h=A.lineSize,O=A.lineStyle,d=o?L:E,f=n.filter(function(t){return t.trend}),I=Vi().x(function(t){return c(f.indexOf(t))}).y(function(t){return _(t.trend)}),N=e.append("g").append("path").datum(f).attr("fill","none").style("stroke",d).style("stroke-width",h).style("stroke-dasharray",O).attr("d",I),p=o?i.split(";")[0].slice(1):"trendline";return e.append("g").append("path").datum(f).attr("fill","none").style("stroke",S.TRANSPARENT).style("stroke-width",C.TRENDLINE_STROKE).style("stroke-dasharray",O).attr("id","trendline").attr("d",I).attr("data-name",j.TREND_LINE).attr("tooltip-name",p),N}}(t,e,o,n,E),L=function(t,e,n,r,i,a){var o=t.domNode,l=t.properties,s=t.isBreakByAttributeAdded,E=l.dividingLineSwitch,c=l.dividingLineType,_=l.dividingLineColor,u=l.forecastEnabled,L=l.forecastWithoutBreakBy;if(u){var T=s?ra(t,a):L,A=T.forecastLineColor,h=T.forecastLineOpacity,O=T.forecastLineType,d=T.confidenceBandColor,f=T.confidenceBandOpacity,I=T.confidenceBandLineType,N=T.confidenceBandStyle,p=o.clientHeight,m=r.xScale,g=r.yScale,v=r.minChartValue,y=r.maxChartValue,D=Ki(O),F=D.lineSize,B=D.lineStyle,M=Ki(c),b=M.lineSize,x=M.lineStyle,P=Ki(I),H=P.lineSize,w=P.lineStyle,Y=n.length-i.length,G=[];if(E&&e.append("line").style("stroke",_).style("stroke-width",b).style("stroke-dasharray",x).attr("x1",function(){return m(Y)}).attr("y1",function(){return g(v)}).attr("x2",function(){return m(Y)}).attr("y2",function(){return g(y)}),N===ot[rt.CONFIDENCE_BAND_STYLE].FILL){var X=Wi().x(function(t){return m(n.indexOf(t))}).y0(function(t){return g(t.forecastHigh||t.metricValue)}).y1(function(t){return g(t.forecastLow||t.metricValue)});G.push(e.append("path").datum(i).attr("fill",d).attr("opacity",f/100).attr("d",X).attr("class","forecastTooltipArea").attr("data-name",j.FORECAST).attr("data-type","forecastConfidenceBand"))}else if(N===ot[rt.CONFIDENCE_BAND_STYLE].LINE){var U=Vi().x(function(t){return m(n.indexOf(t))}).y(function(t){return g(t.forecastHigh||t.metricValue)}),k=Vi().x(function(t){return m(n.indexOf(t))}).y(function(t){return g(t.forecastLow||t.metricValue)});G.push(e.append("path").datum(i).attr("fill","none").attr("stroke",d).attr("stroke-width",H).attr("opacity",f/100).attr("stroke-dasharray",w).attr("d",U).attr("data-name",j.FORECAST).attr("data-type","forecastConfidenceBand")),G.push(e.append("path").datum(i).attr("fill","none").attr("stroke",d).attr("stroke-width",H).attr("opacity",f/100).attr("stroke-dasharray",w).attr("d",k).attr("data-name",j.FORECAST).attr("data-type","forecastConfidenceBand"))}var V=Vi().x(function(t){return m(n.indexOf(t))}).y(function(t){return g(t.forecastValue||t.metricValue)});G.push(e.append("path").datum(i).attr("stroke",A).attr("fill","none").attr("stroke-width",F).attr("stroke-opacity",h/100).attr("stroke-dasharray",B).attr("d",V).attr("data-name",j.FORECAST)),t.forecastLinePoints.push(Fa(n,r));var W=Wi().x(function(t){return m(n.indexOf(t))}).y0(p*R.Y_SCALE_START).y1(function(t){return g(t.forecastValue||t.metricValue)});return e.append("path").datum(i).attr("fillStroke",S.TRANSPARENT).attr("fill",S.TRANSPARENT).attr("stroke",S.TRANSPARENT).attr("stroke-width",C.LINE_STROKE).attr("d",W).attr("class","forecastTooltipArea").attr("id","forecastArea").attr("data-name",j.FORECAST),G}}(t,e,o,n,s,E);i&&(c[r.name]=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([],_,!0),u&&c[r.name].push(u),L&&(a=c[r.name]).push.apply(a,L))}),a.forEach(function(r){var i=r.data,a=r.mainLineData,o=r.forecastData;!function(t,e,n,r,i,a){var o=t.properties,l=o.markerShow,s=o.markerForecastShow,E=o.markerColor,c=o.markerForecastColor,_=o.forecastEnabled;if(l){var u=e.append("g").selectAll("g").data(i).enter();_l(n,r,u,E)}if(s&&_){var L=a.slice(1),T=e.append("g").selectAll("g").data(L).enter();_l(n,r,T,c)}}(t,e,i,n,a,o),cl(t,e,i,n,l)}),Zl(t,e,n,a,i?c:null),i&&(s&&E?sl(!0,e,m.SINGLE_DATA_LABEL,o):(sl(s,e,m.MAIN_DATA_LABEL,o),sl(E,e,m.FORECAST_DATA_LABEL,o))),Il(t,e,n)},Rl=function(t,e){var n=t.select(m.SVG_CONTAINER),r=e.width,i=e.height,a=e.viewBoxX,o=e.viewBoxY;n.attr("viewBox","0 0 ".concat(a," ").concat(o)).attr("width",r).attr("height",i).attr("preserveAspectRatio","none")};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var Cl=function(t){var e=t.properties,n=t.domNode,r=e.forecastEnabled,i=e.trendLineEnabled,a=e.seasonalityEnabled,o=e.seasonalityPatternEnabled,l=e.containerFitMode,s=e.insightLineTooltipDisabled;!function(t){var e=t.properties,n=e.fontFamilyGlobal,r=e.fontStyleGlobal,i=e.dataLabelFontFamily,a=e.dataLabelFontStyle,o=e.forecastDataLabelFontFamily,l=e.forecastDataLabelFontStyle;t.fontFamiliesWidths.global=Qo(n,r),t.fontFamiliesWidths.dataLabel=Qo(i,a),t.fontFamiliesWidths.forecastDataLabel=Qo(o,l)}(t);var E=l!==ot[rt.CONTAINER_FIT_MODE].COMPACT_CHAT_BOT&&a&&o,c=E?u.SVG_SCALE_RATIO:u.SVG_FULL_SCALE,_=Io(l),L=document.createElement("div");L.setAttribute("class","insightlinechart-container"),t.insightLineChartContainerNode=L;var T=!1;if((r||i)&&s){var A=document.createElement("div"),h=m.INFO_ICON.replace(".","");A.setAttribute("class","".concat(h,"-container"));var O=document.createElement("div");O.setAttribute("class",h),A.appendChild(O),L.appendChild(A),T=!0}n.appendChild(L),gl(t,E?1-c:c,T),t.parsedData=function(t){var e=t.rawData;if(t.isBreakByAttributeAdded)return function(t){for(var e=t.isCompactChatBotMode,n=t.calculationTemplate.dataInterface.data.dz.BreakBy.TemplateUnit[0].id,r=va(t),i=e?ya(r):r,a={},o=0,l=i;o<l.length;o++){var s=l[o],E=s.n,c=s.id;a[E]={name:E,attributeElementId:c,data:[],mainLineData:[],forecastData:[]}}t.getGraphicModels().forEach(function(t){var e=t.data,r=t.idValueMapping[n];a[r]&&a[r].data.push(e)});var _=Object.values(a).map(function(e){var n=e.data,r=_a(t,n),i=r.updatedData,a=r.mainLineData,o=r.forecastData;return sa(sa({},e),{data:i,mainLineData:a,forecastData:o})});return _}(t);var n=t.getGraphicModels().map(function(t){return t.data}),r=_a(t,n),i=r.updatedData,a=r.mainLineData,o=r.forecastData,l=e[0].headers[0];return[{name:l.tname,attributeElementId:l.attributeSelector.tid,data:i,mainLineData:a,forecastData:o}]}(t),t.chartProperties=ml(t),t.renderSeasonalPattern=E,pl(t),_&&t.addMojoScrollbar()},ml=function(t){var e=t.properties,n=t.allChartDates,r=t.parsedData,i=e.referenceLines,a=[];r.forEach(function(t){t.data.forEach(function(t){(t.metricValue||0===t.metricValue)&&a.push(t.metricValue),t.forecastValue&&a.push(t.forecastValue),t.forecastLow&&a.push(t.forecastLow),t.forecastHigh&&a.push(t.forecastHigh),t.outlierLow&&a.push(t.outlierLow),t.outlierHigh&&a.push(t.outlierHigh),t.trend&&a.push(t.trend)})}),i.forEach(function(t){t.properties.referenceLineConstantValue!==Ma&&t.isEnabled&&a.push(t.properties.referenceLineConstantValue)});var o=function(t){for(var e=t.length,n=1/0;e--;)n=t[e]<n?t[e]:n;return n}(a),l=function(t){for(var e=t.length,n=-1/0;e--;)n=t[e]>n?t[e]:n;return n}(a),s=Math.log2(n.length)*X.X_AXIS,E=Di().domain([0-s,n.length-1+s]),c=(l-o)*X.Y_AXIS;return{minChartValue:o,maxChartValue:l,xScale:E,yScale:Di().domain([o-c,l+c])}},gl=function(t,e,n){var r,i=t.getCanvasContainerSize();r=[i.width,(i.height-(n?34:0))*e],t.visualizationWidth=r[0],t.visualizationHeight=r[1]};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var vl,yl=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},Dl=function(t,e,n,r,i,a,o){var l=r.isBreakByAttributeAdded,s=r.properties,E=s.outlierEnabled,c=s.forecastLineColor,_=s.seasonalityEnabled,u=s.forecastEnabled,L={isForecast:!0,outlierAddSize:0,isOutlier:!1,isOutlierRange:!1,dataPoint:null,forecastColor:c};if(t<0||t>=a+(u?o:0))return L;var T,A=0;if(l){var h=[];n.forEach(function(n){var r=n.mainLineData.length;void 0!==n.forecastData[t-r+1]&&null!==n.forecastData[t-r+1].forecastValue&&u?h.push(Math.abs(i.invert(e)-n.forecastData[t-r+1].forecastValue)):void 0!==n.mainLineData[t]?h.push(Math.abs(i.invert(e)-n.mainLineData[t].metricValue)):h.push(1/0)}),A=h.indexOf(Math.min.apply(Math,h))}var O=n[A].mainLineData.length;if(t>=O)return(T=n[A].forecastData[t-O+1])?{isForecast:!0,posY:i(T.forecastValue),outlierAddSize:0,isOutlier:!1,isOutlierRange:!1,dataPoint:T,forecastColor:c,name:l?n[A].name:void 0}:L;if(!(T=n[A].mainLineData[t]))return L;if(T.outlier&&E){var d=r.properties.outlierSize;return{isForecast:!1,posY:i(T.metricValue),outlierAddSize:Number(d),isOutlier:!0,isOutlierRange:!1,dataPoint:T,name:l?n[A].name:void 0}}return T.outlierHigh&&E?{isForecast:!1,posY:i(T.metricValue),outlierAddSize:0,isOutlier:!1,isOutlierRange:!0,dataPoint:T}:{isSeasonality:_,isForecast:!1,posY:i(T.metricValue),outlierAddSize:0,isOutlier:!1,dataPoint:T,name:l?n[A].name:void 0}},Fl=function(t,e,n,r,i){var a=r.properties.forecastEnabled;if(t<0||!a&&t>=e.length||t>=e.length+n.length-1)return{posY:i(0),dataPoint:null};if(t>=e.length){var o=n[t-e.length+1];return{posY:i(o.seasonalityValue),dataPoint:o}}var l=e[t];return{isForecast:!1,posY:i(l.seasonalityValue),outlierAddSize:0,isOutlier:!1,isOutlierRange:!1,dataPoint:l}},Bl=function(t,e,n){t.hoveredDataPoint=n,n?(t.tooltipInfo={isVisible:!0,isPositionFixed:!1,position:e,graphicModel:null},t.showTooltip(null,e)):(t.tooltipInfo={isVisible:!1,isPositionFixed:!1},t.hideTooltip(!1))},Ml=function(t,e,n){var r=t.select(m.TOOLTIP_MARKER),i=t.select(m.TOOLTIP_MARKER_BACKGROUND);if(e.tooltipInfo={isVisible:!1,isPositionFixed:!1},e.hideTooltip(!1),r.attr("r",p.NOT_VISIBLE),i.attr("r",p.NOT_VISIBLE),n){var a=e.properties.forecastWithoutBreakBy,o=a.forecastLineOpacity,l=a.confidenceBandOpacity;Wl(n,null,o,l)}},bl=function(t){var e=t.marker,n=t.outlierAddSize,r=void 0===n?0:n,i=t.isOutlier,a=t.isForecast,o=t.markerBackground,l=t.posX,s=t.posY,E=t.forecastColor,c=t.mainLineColor;e.attr("r",p.BACKGROUND_SIZE+r),i?(e.attr("fill",S.TRANSPARENT),o.attr("r",p.BACKGROUND_SIZE+r)):a?e.attr("fill",E):e.attr("fill",c),e.attr("cx",l).attr("cy",s).attr("r",p.DEFAULT_SIZE+r),o.attr("cx",l).attr("cy",s).attr("r",p.BACKGROUND_SIZE+r)},xl=function(t,e,n,r,i){var a=Math.round(t.invert(e)),o=n?r-1+i:r-1;return a<0?0:Math.min(a,o)},Pl=((vl={})[y.MAIN]=[D.NAME,D.DATE,D.METRIC_VALUE],vl[y.OUTLIER]=[D.NAME,D.DATE,D.METRIC_VALUE,D.OUTLIER_LOW,D.OUTLIER_HIGH],vl[y.FORECAST]=[D.NAME,D.DATE,D.FORECAST_LOW,D.FORECAST_HIGH,D.FORECAST_VALUE],vl[y.SEASONALITY]=[D.DATE,D.METRIC_VALUE],vl[y.SEASONAL_PATTERN]=[D.DATE],vl[y.TRENDLINE]=[D.NAME,D.DATE,D.METRIC_VALUE,D.TREND],vl),Hl=function(t,e,n,r){var i=Pl[t],a=[];return r&&i.includes(D.NAME)&&a.push({n:n[D.NAME],v:r}),Object.keys(e).forEach(function(t){if((e[t]||0===e[t])&&i.includes(t)){var r=e[nt[t]]||e[t].toString();a.push({n:n[t],v:r})}}),a},wl=function(t,e){return Number.isNaN(Number(t))?t:mstrmojo.num.toLocaleString(mstrmojo.num.formatByMask(e,Number(t)))},Yl=function(t,e){void 0===e&&(e=!0);var n=t.properties,r=t.isBreakByAttributeAdded,i=t.calculationTemplate,a=t.isCompactChatBotMode,o=n.trendLineEnabled,l=n.forecastEnabled,s=i.dataInterface.data.tsops,E=o&&Array.isArray(s.trend),c=l&&Array.isArray(s.forecast),_=a&&e;if(r){if(E){var u=[];return(_?ya(s.trend):s.trend).forEach(function(e){u.push(Gl(t,e))}),u}if(c){var L=[];return(_?ya(s.forecast):s.forecast).forEach(function(e){L.push(Xl(t,e))}),L}}return o?[Gl(t,s.trend)]:l?[Xl(t,s.forecast)]:[]},Gl=function(t,n){var r=t.isBreakByAttributeAdded,i="#,##0.0000",a="".concat(wl(n.predictors[1].coefficient,i)).concat(t.gridData.gsi.rows[0].n," + ").concat(wl(n.predictors[0].coefficient,i)," ");return[{n:Q(e.TOOLTIP_TREND_TRENDLINE_OF),v:r?n.breakbyattributevalue[0]:t.gridData.gsi.mx[0].n},{n:Q(e.TOOLTIP_TREND_TRENDLINE_FUNCTION),v:a},{n:Q(e.TOOLTIP_TREND_TYPE),v:Q(e.TOOLTIP_TREND_TYPE_LINEAR)},{n:Q(e.TOOLTIP_TREND_R_SQUARED),v:wl(n.r_squared,i)},{n:Q(e.TOOLTIP_TREND_R_SQUARED_ADJUSTED),v:wl(n.r_squared_adjusted,i)},{n:Q(e.TOOLTIP_TREND_PVALUE),v:wl(n.f_pvalue,"#,##0.0000E+0")}]},Xl=function(t,n){var r="#,##0.0000",i=t.isBreakByAttributeAdded?[{n:Q(e.FORECAST),v:n.breakbyattributevalue[0]}]:[];return yl(yl([],i,!0),[{n:Q(e.FORECAST_ALGORITHM),v:Q(e.EXPONENTIAL_SMOOTHING)},{n:Q(e.CONFIDENCE_INTERVAL),v:wl(n.confidenceLevel,"#,##0%")},{n:Q(e.TREND),v:n.trendModel},{n:Q(e.SEASON),v:n.seasonalityModel},{n:Q(e.SEASON_LENGTH),v:wl(n.seasonalityPeriod,"#,##")},{n:Q(e.RMSE),v:wl(n.modelMetric.RMSE,r)},{n:Q(e.MAE),v:wl(n.modelMetric.MAE,r)},{n:Q(e.MAPE),v:wl(n.modelMetric.MAPE,"#,##0.0000%")},{n:Q(e.AIC),v:wl(n.modelMetric.AIC,r)},{n:Q(e.BIC),v:wl(n.modelMetric.BIC,r)}],!1)},Ul=function(t){var e=t&&Object.keys(t).length>0;return e?!Object.values(t).every(function(e){return null===e||""===e||void 0===e||e===t.date}):e},kl=function(t,e,n,r,i){var a=t.xScale,o=parseFloat(r.attr("cx"))!==a(e)||n,l=r.attr("r")===p.NOT_VISIBLE.toString();return i&&(o||l)},Vl=function(t,e){return parseFloat(t.attr("cy"))!==e},Wl=function(t,e,n,r){if(void 0!==n)for(var i=function(t,i){i.forEach(function(i){i&&("forecastConfidenceBand"===i.attr("data-type")?i.attr("opacity",e!==t&&e?.3*r/100:1*r/100):i.attr("opacity",e!==t&&e?.3*n/100:1*n/100))})},a=0,o=Object.entries(t);a<o.length;a++){var l=o[a];i(l[0],l[1])}};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var jl=function(t,e){e.style.visibility="visible",e.style.display="block";var n=t.clientX,r=t.clientY,i=e.getBoundingClientRect(),a={left:n+20,top:r+20};a.left+i.width>window.innerWidth&&(a.left=window.innerWidth-i.width-10),a.top+i.height>window.innerHeight&&(a.top=n<a.left+i.width&&n>a.left?Math.max(r-20-i.height,window.innerHeight-i.height):window.innerHeight-i.height-10),a.top===window.innerHeight-i.height&&a.left===window.innerWidth-i.width&&(a.left=n-20-i.width),e.style.left="".concat(a.left,"px"),e.style.top="".concat(a.top,"px")},zl=function(t){t.style.visibility="hidden",t.style.display="none"};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var Kl=function(){return Kl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Kl.apply(this,arguments)},Zl=function(t,n,r,i,a){var o=function(t,n,r,i){var a=t.properties,o=t.isBreakByAttributeAdded,l=a.mainLineColor,s=a.forecastWithoutBreakBy,E=function(t,e){var n=t.append("g");return{tooltipMarker:n.append("circle").attr("class","trend-graph__tooltip-marker").attr("fill",e).attr("stroke",S.MARKER_STROKE).attr("stroke-width",p.STROKE_WIDTH).attr("pointer-events","none").attr("id","tooltipMarker"),tooltipMarkerBackground:n.append("circle").attr("stroke",S.BACKGROUND_STROKE).attr("fill-opacity",".0").attr("stroke-width",p.STROKE_WIDTH).attr("r",p.NOT_VISIBLE).attr("pointer-events","none").attr("id","tooltipMarkerBackground"),selectedTooltipMarker:t.append("circle").attr("class","trend-graph__tooltip-marker").attr("stroke",S.MARKER_SELECTED_STROKE).attr("stroke-width",p.STROKE_WIDTH).attr("pointer-events","none").attr("class","tooltipMarker-selected"),selectedTooltipMarkerBackground:t.append("circle").attr("stroke",S.BACKGROUND_STROKE).attr("fill-opacity",".0").attr("stroke-width",p.STROKE_WIDTH).attr("r",p.NOT_VISIBLE).attr("class","tooltipMarker-selected").attr("pointer-events","none")}}(n,l),c=E.tooltipMarker,_=E.tooltipMarkerBackground,u=E.selectedTooltipMarker,L=E.selectedTooltipMarkerBackground;t.getTooltipContent=function(){return function(t){return t.hoveredDataPoint}(t)};var T=r.xScale,A=r.yScale,h=i[0].forecastData.length-1,O=Math.max.apply(Math,i.map(function(t){return t.mainLineData.length}));return{handleMouseMovePoint:function(e,n,a){var E,u=e.detail.evt,L=u.e.offsetX||u.layerX||0,d=u.e.offsetY||u.layerY||0,f=xl(T,L,t.properties.forecastEnabled,O,h),I=Dl(f,d,i,t,A,O,h),N=I.dataPoint,p=I.name,S=I.posY,R=function(t){var e=t.isOutlier,n=t.isForecast,r=t.isSeasonality,i=t.isSeasonalPattern,a=t.isTrendline,o=t.isOutlierRange;return e||o?y.OUTLIER:n?y.FORECAST:r?y.SEASONALITY:i?y.SEASONAL_PATTERN:a?y.TRENDLINE:y.MAIN}(Kl({},I)),C=Ul(N),m=!!o&&Vl(c,S);if(kl(r,f,m,c,C)&&(bl(Kl(Kl({},I),{marker:c,markerBackground:_,posX:T(f),mainLineColor:l})),o)){var g=ra(t,(null===(E=i.find(function(t){return t.name===p}))||void 0===E?void 0:E.attributeElementId)||"")||s,v=g.forecastLineOpacity,D=g.confidenceBandOpacity;Wl(a,p,v,D)}C&&Bl(t,{x:u.e.pageX,y:u.e.pageY},Hl(R,N,n,p))},handleSeasonalityPatternTooltip:function(e,n){var r=e.detail.evt,a=r.e.offsetX||0,o=i[0],s=o.mainLineData,E=o.forecastData,u=s,L=xl(T,a,t.properties.forecastEnabled,O,h),d=Fl(L,u,E,t,A);bl(Kl(Kl({},d),{marker:c,markerBackground:_,posX:T(L),mainLineColor:l})),Bl(t,{x:r.e.pageX,y:r.e.pageY},Hl(y.SEASONAL_PATTERN,d.dataPoint,n))},selectSeasonalityPatternPoint:function(e){var a=e.offsetX||0,s=i[0],E=s.mainLineData,_=s.forecastData,d=E,f=xl(T,a,t.properties.forecastEnabled,O,h),I=Fl(f,d,_,t,A),N=I.dataPoint,S=I.posY,R=Ul(N),C=!!o&&Vl(c,S);kl(r,f,C,c,R)?bl(Kl(Kl({},I),{marker:u,markerBackground:L,posX:T(f),mainLineColor:l})):n.selectAll(".tooltipMarker-selected").attr("r",p.NOT_VISIBLE)},selectDataPoint:function(e){var a=e.offsetX||0,s=e.offsetY||0,E=xl(T,a,t.properties.forecastEnabled,O,h),_=Dl(E,s,i,t,A,O,h),d=_.dataPoint,f=_.posY,I=Ul(d),N=!!o&&Vl(c,f);kl(r,E,N,u,I)?bl(Kl(Kl({},_),{marker:u,markerBackground:L,posX:T(E),mainLineColor:l})):n.selectAll(".tooltipMarker-selected").attr("r",p.NOT_VISIBLE)},handleInsightInfoTooltip:function(n,r,i){var a,l=n.detail.evt,s=l.getTarget().getAttribute("tooltip-name");o&&(r.forEach(function(t){var n;(null===(n=t.find(function(t){return t.n===Q(e.TOOLTIP_TREND_TRENDLINE_OF)}))||void 0===n?void 0:n.v)===s&&(a=t)}),Wl(i,s,100)),Bl(t,{x:l.e.pageX,y:l.e.pageY},o?a:r[0])}}}(t,n,r,i),l=o.handleMouseMovePoint,s=o.handleSeasonalityPatternTooltip,E=o.selectSeasonalityPatternPoint,c=o.selectDataPoint,_=o.handleInsightInfoTooltip,u=t.domNode,L=t.properties.insightLineTooltipDisabled,T=n.selectAll(m.MAIN_LINE),A=n.selectAll(m.TREND_LINE),h=n.selectAll(m.FORECAST_ELEMENTS),O=n.select(m.SEASONALITY_PATTERN),d=Yl(t),f=function(t){var n={};return Object.entries(D).forEach(function(r){var i,a,o=r[0],l=r[1];switch(l){case D.DATE:n[l]=t.gridData.gsi.rows[0].n;break;case D.METRIC_VALUE:n[l]=t.gridData.gsi.mx[0].n;break;case D.FORECAST_VALUE:n[l]="".concat(Q(e[o]).replace("{metric_name}",t.gridData.gsi.mx[0].n));break;case D.FORECAST_HIGH:case D.OUTLIER_HIGH:n[l]=Q(e.UPPER_BOUND);break;case D.FORECAST_LOW:case D.OUTLIER_LOW:n[l]=Q(e.LOWER_BOUND);break;case D.NAME:n[l]=(null===(a=null===(i=t.rawData[0])||void 0===i?void 0:i.headers[1])||void 0===a?void 0:a.tname)||(e[o]?Q(e[o]):l);break;default:n[l]=e[o]?Q(e[o]):l}}),n}(t),I=function(){Ml(n,t,a)};if(T.on("tooltip",function(t){return l(t,f,a)}).on("mouseout",I).on("click",c),h.on("tooltip",function(t){return l(t,f,a)}).on("mouseout",I).on("click",c),L){var N=Fr(u).select(m.INFO_ICON),R=m.INFO_ICON_ACTIVE.replace(".",""),C=function(t){var e=t.isBreakByAttributeAdded,n=document.createElement("div");n.classList.add("insightlinechart-info-icon-tooltip-container");var r=document.createElement("div");n.appendChild(r);var i=document.createElement("div");n.appendChild(i);var a=document.createElement("div");a.classList.add("insightlinechart-info-icon-tooltip-area"),n.appendChild(a);var o=document.createElement("div");o.classList.add("insightlinechart-info-icon-tooltip-content"),a.appendChild(o);var l=function(t){var e=t.properties,n=e.trendLineEnabled,r=e.forecastEnabled,i=[],a=Yl(t);return(n||r)&&a.forEach(function(t){var e="<table>\n            ".concat(t.map(function(t){var e=t.n,n=t.v;return"<tr key={n}>\n                      <td class='item-name'>".concat(e,"</td>\n                      <td class='item-value'>").concat(null==n?void 0:n.toString(),"</td>\n                  </tr>")}).join(""),"</table>");i.push(e)}),i}(t);if(o.insertAdjacentHTML("beforeend",l[0]),e&&l.length>1){r.classList.add("insightlinechart-info-icon-tooltip-arrow"),r.classList.add("left"),r.innerHTML="<",i.classList.add("insightlinechart-info-icon-tooltip-arrow"),i.classList.add("right"),i.innerHTML=">";var s=document.createElement("div");s.classList.add("tooltip-dot-control"),function(t,e,n,r,i){var a=0,o=function(){for(var e=[],n="#5a5a5a",r="#9a9a9a",o=function(t){t.forEach(function(t,e){t.querySelector("svg circle").setAttribute("fill",e===a?n:r)})},l=function(l){var s=document.createElement("div");s.id="tooltip-dot-".concat(l),s.classList.add("tooltip-dot"),Fr(s).append("svg").attr("width",10).attr("height",10).append("circle").attr("cx",5).attr("cy",5).attr("r",4).attr("fill",0===l?n:r),s.addEventListener("click",function(){return function(n){a=n,t.innerHTML="",t.insertAdjacentHTML("beforeend",i[a]),o(e)}(l)}),e.push(s)},s=0;s<i.length;s++)l(s);return{controlDots:e,activateControlDot:o}}(),l=o.controlDots,s=o.activateControlDot;e.onclick=function(){a=a<=0?a:a-1,t.innerHTML="",t.insertAdjacentHTML("beforeend",i[a]),s(l)},n.onclick=function(){a=a>=i.length-1?a:a+1,t.innerHTML="",t.insertAdjacentHTML("beforeend",i[a]),s(l)},l.forEach(function(t){return r.appendChild(t)})}(o,r,i,s,l),a.appendChild(s)}return n}(t),g=!1;u.appendChild(C),N.on("mouseover",function(t){N.classed(R,!0),g||jl(t,C)}).on("mouseout",function(){N.classed(R,!1),g||zl(C)}).on("click",function(t){g=!0,jl(t,C)}),window.document.addEventListener("click",function(t){if(g){var e=!C.contains(t.target),n=!N.node().contains(t.target);e&&n&&(g=!1,N.classed(R,!1),zl(C))}})}else A.on("tooltip",function(t){return _(t,d,a)}).on("mouseout",function(){Ml(n,t,a)});O.on("tooltip",function(t){return s(t,f)}).on("mouseout",I).on("click",E)};mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={});var $l,ql,Ql=function(){return Ql=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ql.apply(this,arguments)},Jl=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};function ts(t){t.installedEventListeners=[],t.domNode.innerHTML=""}function es(t,e){void 0===e&&(e=!1),e||function(t){var e=t.properties,n=e.forecastEnabled,r=e.containerFitMode,i=Io(r),a=t.domNode.querySelector("#forecastArea");i&&n&&a&&a.scrollIntoView(!1)}(t),t.raiseEvent({name:"renderFinished",id:t.k})}mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),function(t){t[t.DATA_VOLUME_LIMIT_EXCEED=2147485341]="DATA_VOLUME_LIMIT_EXCEED",t[t.MSTR_AI_ERROR=2147485343]="MSTR_AI_ERROR"}(ql||(ql={}));var ns,rs=function(t){return t<0?4294967296+parseInt(t):t},is=null===($l=null===mstrApp||void 0===mstrApp?void 0:mstrApp.isWSLocalMode)||void 0===$l?void 0:$l.call(mstrApp),as=void 0!==(null===mstrApp||void 0===mstrApp?void 0:mstrApp.isDossier)||(null===mstrApp||void 0===mstrApp?void 0:mstrApp.isWorkstation),os=300,ls=200,ss=125,Es=125;function cs(){var t,e;return(null===(e=null===(t=this.getDocModel())||void 0===t?void 0:t.chatbotVizConfig)||void 0===e?void 0:e.insightLineChart)||{}}mstrmojo.plugins.InsightLineChart||(mstrmojo.plugins.InsightLineChart={}),function(){if(!mstrmojo.descriptors["".concat(q,"1")]){var t=Object.keys($).map(function(t){return parseInt(t)});mstrmojo.requiresDescsWPrefix.apply(mstrmojo,function(t,e,n){if(n||2===arguments.length)for(var r,i=0,a=e.length;i<a;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([q],t,!1))}}(),mstrmojo.requiresCls("mstrmojo.CustomVisBase","mstrmojo.customviz.CustomVisEnums","mstrmojo.ui._HasScroller"),mstrmojo.plugins.InsightLineChart.InsightLineChart=mstrmojo.declare(mstrmojo.CustomVisBase,[mstrmojo.ui._HasScroller],{scriptClass:"mstrmojo.plugins.InsightLineChart.InsightLineChart",cssClass:"insightlinechart",errorMessage:Q(e.NOT_ENOUGH_DATA_OR_VISUALIZATION_INCOMPLETE_MESSAGE),errorDetails:(ns=Q(e.USES_1_TIME_ATTRIBUTE_AND_ONE_METRIC),ns.replace(/####/g,"</span>").replace("###",'<span class="ghost-vis-txt-attr-time">').replace("#",'<span class="ghost-vis-txt-metric">')),useRichTooltip:!1,reuseDOMNode:!1,draggable:!0,supportNEE:!0,enableLegend:!0,init:function(t){var e;this._super(t),this.setDefaultPropertyValues(((e={})[at]=JSON.stringify(lt(this)),e))},onmousemove:function(t){Fr(t.getTarget()).dispatch("tooltip",{bubbles:!1,cancelable:!0,detail:{evt:t}})},createGraphicModels:function(){var t=this,e=!Ta(t,x.METRIC),n=!Ta(t,x.ATTRIBUTE),r=cs.call(t),i=0!==Object.keys(r).length;if(e||n)this.setError("",3);else try{!function(t){da(t).forEach(function(e){var n,r;(null===(r=null===(n=e.defn)||void 0===n?void 0:n.vis)||void 0===r?void 0:r.tct)in o&&(t.calculationTemplate=function(t){return{dataInterface:new mstrmojo.models.template.DataInterface(t.data)}}(e))})}(t);var a=mstrmojo.models.template.DataInterface.ENUM_RAW_DATA_FORMAT.ROWS_ADV;return t.rawData=t.calculationTemplate.dataInterface.getRawData(a,{hasSelection:!0,hasTitleName:!0}),t.rawData.map(function(e){return function(t,e,n){var r=new(0,mstrmojo.customviz.GraphicModel),i=t.headers,a=t.values[0],o=i.every(function(t){return t.attributeSelector.eid===i[0].attributeSelector.eid})&&i.length>1,l=i[0].headerObj.t.fs[0].n.toLowerCase().includes("id"),s=o&&l?i[1]:i[0],E=s.attributeSelector,c=s.name;r.setSelector(E,E.isSelectAttr);var _=a.rv,u=ca(_),L=e.model.data.nf[x.METRIC].nfs;return r.setCustomProperties({data:{date:c,metricValue:u,formattedMetricValue:Oa(u,L,n)||a.v}}),r.idValueMapping=t.idValueMapping,r}(e,t,i)})}catch(t){return[]}},clearDomNode:ts,plot:function(t){var n,r,i=this;if(!i.hasError()&&!(null===(r=null===(n=null===mstrmojo||void 0===mstrmojo?void 0:mstrmojo.CustomVisUtility)||void 0===n?void 0:n.isInPauseMode)||void 0===r?void 0:r.call(n))){if(ts(i),function(t){var n,r,i,a=!1,o=t.errorMessage;if(is)a=!0,o=Q(e.NOT_SUPPORTED_ON_WS_LOCAL_MODE_ERROR);else if((null===mstrApp||void 0===mstrApp?void 0:mstrApp.isExporting)||(null===mstrApp||void 0===mstrApp?void 0:mstrApp.isInAIBot)||!as||(null===mstrApp||void 0===mstrApp?void 0:mstrApp.supportFeature("support-insights-category"))){var l=null!==(i=null===(r=null===(n=null==t?void 0:t.calculationTemplate)||void 0===n?void 0:n.dataInterface)||void 0===r?void 0:r.data)&&void 0!==i?i:{},s=l.eg,E=l.egt,c=l.pfec,_=t.getGraphicModels();E&&Object.values(ql).includes(rs(c))?(a=!0,o=rs(c)===ql.MSTR_AI_ERROR?function(t){var e=t.indexOf("["),n=t.lastIndexOf("]");if(-1!==e&&-1!==n)try{var r=t.substring(e,n+1).replace(/'/g,'"'),i=JSON.parse(r);return"".concat(t.substring(0,e)).concat(Array.from(new Set(i)))}catch(e){return t}return t}(s):s):0===_.length?(a=!0,o=Q(e.TOO_MANY_DATA_POINTS_ERROR)):_.length<2?(a=!0,o=Q(e.NOT_ENOUGH_DATA_POINTS_ERROR)):E&&(a=!0)}else a=!0,o=Q(e.NOT_SUPPORTED_ON_OLD_ENV_ERROR);return a&&function(t,e){var n=Fr(t.domNode).append("div").attr("class","insightlinechart-err-overlay"),r=t.getCanvasContainerSize(),i=r.width,a=r.height,o=is?"insightlinechart-err-icon-local-mode":"insightlinechart-err-icon";(i<ss||a<Es)&&(o+=" insightlinechart-err-icon-small"),n.append("div").attr("class",o),i>=os&&a>=ls&&n.append("div").attr("class","insightlinechart-err-msg").text(e)}(t,o),a}(i))return es(i,!0);var a=cs.call(i);i.isChatbot=0!==Object.keys(a).length,i.isBreakByAttributeAdded=Ta(i,x.BREAK_BY),ga(i),function(t,e,n){var r,i=e.isChatbot,a=e.forecastPointsNumber,o=e.isBreakByAttributeAdded,l=null==n?void 0:n.containerFitMode,s=Na(e,t),E=mo(e),c=[];if(i&&po(l)&&a&&(n.containerFitMode=ot[rt.CONTAINER_FIT_MODE].NONE),s[rt.TREND_LINE_COLOR]=s[rt.TREND_LINE_COLOR]||E,s[rt.TREND_LINE_COLOR_WITHOUT_BREAK_BY]=s[rt.TREND_LINE_COLOR_WITHOUT_BREAK_BY]||E,s[rt.FORECAST_LINE_COLOR]=s[rt.FORECAST_LINE_COLOR]||E,s[rt.MARKER_FORECAST_COLOR]=s[rt.MARKER_FORECAST_COLOR]||E,s[rt.CONFIDENCE_BAND_COLOR]=s[rt.CONFIDENCE_BAND_COLOR]||E,s[rt.OUTLIER_FILL_COLOR]=s[rt.OUTLIER_FILL_COLOR]||E,s[rt.SEASONAL_PATTERN_COLOR]=s[rt.SEASONAL_PATTERN_COLOR]||E,s[rt.FORECAST_STYLE_WITHOUT_BREAK_BY]&&Object.keys(s[rt.FORECAST_STYLE_WITHOUT_BREAK_BY]).length||(s[rt.FORECAST_STYLE_WITHOUT_BREAK_BY]={forecastLineColor:E,forecastLineOpacity:100,forecastLineType:P.LINE_SOLID_2PT,confidenceBandColor:E,confidenceBandLineType:P.LINE_SOLID_2PT,confidenceBandOpacity:10,confidenceBandStyle:ot[rt.CONFIDENCE_BAND_STYLE].FILL}),c.push(rt.TREND_LINE_COLOR,rt.TREND_LINE_COLOR_WITHOUT_BREAK_BY,rt.FORECAST_LINE_COLOR,rt.MARKER_FORECAST_COLOR,rt.CONFIDENCE_BAND_COLOR,rt.OUTLIER_FILL_COLOR,rt.SEASONAL_PATTERN_COLOR,rt.FORECAST_STYLE_WITHOUT_BREAK_BY),s[rt.FORECAST_ENABLED]&&null===s[rt.FORECAST_LENGTH]&&(s[rt.FORECAST_LENGTH]=a,c.push(rt.FORECAST_LENGTH)),o){var _=Jl(Jl([],va(e),!0),[{n:Ga.n,id:Ga.dssid}],!1);s[rt.BREAK_BY_TREND_PROPERTIES]&&s[rt.BREAK_BY_FORECAST_PROPERTIES]&&_.forEach(function(t,n){var r,i,a,o,l,E,c,_,u,L=na(t.id);s[rt.BREAK_BY_TREND_PROPERTIES][L]={trendColor:(null===(r=s[rt.BREAK_BY_TREND_PROPERTIES][L])||void 0===r?void 0:r.trendColor)||go(e,n),lineStyle:(null===(i=s[rt.BREAK_BY_TREND_PROPERTIES][L])||void 0===i?void 0:i.lineStyle)||P.LINE_SOLID_2PT},s[rt.BREAK_BY_FORECAST_PROPERTIES][L]={forecastLineColor:(null===(a=s[rt.BREAK_BY_FORECAST_PROPERTIES][L])||void 0===a?void 0:a.forecastLineColor)||go(e,n),forecastLineOpacity:(null===(o=s[rt.BREAK_BY_FORECAST_PROPERTIES][L])||void 0===o?void 0:o.forecastLineOpacity)||100,forecastLineType:(null===(l=s[rt.BREAK_BY_FORECAST_PROPERTIES][L])||void 0===l?void 0:l.forecastLineType)||P.LINE_SOLID_2PT,confidenceBandColor:(null===(E=s[rt.BREAK_BY_FORECAST_PROPERTIES][L])||void 0===E?void 0:E.confidenceBandColor)||go(e,n),confidenceBandLineType:(null===(c=s[rt.BREAK_BY_FORECAST_PROPERTIES][L])||void 0===c?void 0:c.confidenceBandLineType)||P.LINE_SOLID_2PT,confidenceBandOpacity:(null===(_=s[rt.BREAK_BY_FORECAST_PROPERTIES][L])||void 0===_?void 0:_.confidenceBandOpacity)||10,confidenceBandStyle:(null===(u=s[rt.BREAK_BY_FORECAST_PROPERTIES][L])||void 0===u?void 0:u.confidenceBandStyle)||ot[rt.CONFIDENCE_BAND_STYLE].FILL}}),s[rt.BREAK_BY_TREND_FORMATTING_SELECTOR]=s[rt.BREAK_BY_TREND_FORMATTING_SELECTOR]||Ga.dssid,s[rt.BREAK_BY_FORECAST_FORMATTING_SELECTOR]=s[rt.BREAK_BY_FORECAST_FORMATTING_SELECTOR]||Ga.dssid,c.push(rt.BREAK_BY_TREND_PROPERTIES,rt.BREAK_BY_FORECAST_PROPERTIES,rt.BREAK_BY_TREND_FORMATTING_SELECTOR,rt.BREAK_BY_FORECAST_FORMATTING_SELECTOR)}null===(r=window.syncDossierFormatPanel)||void 0===r||r.call(window,c),i||ta(s,e),e.properties=Ql(Ql({},s),n)}(t,i,a),i.isCompactChatBotMode=i.isChatbot&&No(i.properties.containerFitMode);var o=i.calculationTemplate.dataInterface.data.tsops.forecast;(i.properties.trendLineEnabled||o)&&function(t){var e=t.rawData,n=t.getGraphicModels(),r=function(t){var e=t.properties,n=e.seasonalityEnabled,r=e.trendLineEnabled,i=e.outlierEnabled;return function(e,a){var o,l,s,E,c,_,u,O,d,f,I,N,p;if(r)return{trend:null!==(l=ca(null===(o=e.values[A.TREND])||void 0===o?void 0:o.rv))&&void 0!==l?l:null};if(n){var S=t.calculationTemplate.dataInterface.data.tsops.seasonality.period;return{seasonalityValue:null!==(E=ca(null===(s=e.values[L.SEASONALITY])||void 0===s?void 0:s.rv))&&void 0!==E?E:null,formattedSeasonalityValue:ha(t,x.METRIC,null===(c=e.values[L.SEASONALITY])||void 0===c?void 0:c.rv),seasonStartDate:0!==a&&a%S===0?1:0}}return i?{outlier:null!==(u=ca(null===(_=e.values[h.IS_OUTLIER])||void 0===_?void 0:_.rv))&&void 0!==u?u:null,outlierLow:null!==(d=ca(null===(O=e.values[h.LOW])||void 0===O?void 0:O.rv))&&void 0!==d?d:null,outlierHigh:null!==(I=ca(null===(f=e.values[h.HIGH])||void 0===f?void 0:f.rv))&&void 0!==I?I:null,formattedOutlierLow:ha(t,x.METRIC,null===(N=e.values[h.LOW])||void 0===N?void 0:N.rv),formattedOutlierHigh:ha(t,x.METRIC,null===(p=e.values[h.HIGH])||void 0===p?void 0:p.rv)}:function(t,e){var n,r,i,a,o,l,s=function(e,n){return n===V.GENERAL?Oa(e,n,t.isChatbot)||mstrmojo.num.toLocaleString(e):ha(t,x.METRIC,e)},E=t.model.data.nf[x.METRIC].nfs,c=null===(n=e.values[T.VALUE])||void 0===n?void 0:n.rv,_=null===(r=e.values[T.HIGH])||void 0===r?void 0:r.rv,u=null===(i=e.values[T.LOW])||void 0===i?void 0:i.rv;return{forecastValue:null!==(a=ca(c))&&void 0!==a?a:null,forecastHigh:null!==(o=ca(_))&&void 0!==o?o:null,forecastLow:null!==(l=ca(u))&&void 0!==l?l:null,formattedForecastValue:s(c,E),formattedForecastHigh:s(_,E),formattedForecastLow:s(u,E)}}(t,e)}}(t);n.forEach(function(t,n){var i=t.data;t.setCustomProperties({data:sa(sa({},i),r(e[n],n))})})}(i),Cl(this),es(i)}},isDragValid:function(t){return t.src.node.classList.contains("mstrmojo-scrollbar")},shouldDragBubble:function(t){return t.src.node.classList.contains("mstrmojo-scrollbar")},addMojoScrollbar:function(){var t=this,e=t.domNode,n=t.insightLineChartContainerNode;t.scrollNode=n,t.containerNode=n.firstChild,t.isIOS?t.scrollbarHostNode=n:t.scrollbarHostNode=e,t.scrollBarNodes={},t.updateScrollbars(),t.addScrollNodeProperties()},getInsightLineInformation:function(t){return Yl(this,t)},disableChangeVisualization:!0,fontFamiliesWidths:{global:[],dataLabel:[],forecastDataLabel:[]},isChatbot:!1,isCompactChatBotMode:!1,oncontextmenu:function(t){var e,n=t.e.target,r=n.dataset.name,i=null===(e=n.dataset)||void 0===e?void 0:e.id;if(r){var a=new mstrmojo.customviz.GraphicModel;a.setCustomProperties({elementName:n.dataset.name,elementID:i}),this.clearSelections(),this.handleContextMenuSelection(t,a)}},getContextMenuConfig:function(t){var e,n,r,i=(e=this,n=t.getCustomProperty("elementName"),r=t.getCustomProperty("elementID"),{commonConfig:[],customConfig:mstrApp.isDossier?[]:[{type:mstrmojo.CUSTOM_CONTEXT_MENU.FORMAT,name:Yo[n],formatConfig:Vo[n](e,r),onClick:function(){za(e,rt.MAIN_SEGMENT_CONTROL,0),e.openFormatPanelByIdx(),e.isFormatPanelSectionExpanded=!0,window.syncDossierFormatPanel([rt.MAIN_SEGMENT_CONTROL,Wo[n]]),e.isFormatPanelSectionExpanded=!1}}]});return{common:i.commonConfig,custom:i.customConfig}}})})();