(()=>{"use strict";mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});const e={LIGHT:{AREA:"AUTO",TREND:"AUTO",TREND_OPACITY:"40",FONT:"#35383A",AREA_FILL_OPACITY:10,IMG_FILL_COLOR:"AUTO",IMG_FILL_OPACITY:100,SECONDARY_VALUE_FONT_COLOR:"#727679"},NIGHT:{AREA:"#313855",TREND:"#539CAE",TREND_OPACITY:"100",FONT:"#FFFFFF"},DESERT:{AREA:"#606060",TREND:"#FFD333",TREND_OPACITY:"100",FONT:"#FFFFFF"},OCEAN:{AREA:"#5181D7",TREND:"#83C8F4",TREND_OPACITY:"100",FONT:"#FFFFFF"}},t={INCREASE:"#20A76C",DECREASE:"#D9232E",CONSTANT:"#575A5D"};function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,a){return(t=function(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var l={TEXT_CONTENT_TYPE:{ALL:"all",LABEL:"label",PRIMARY_VALUE:"primaryValue",SECONDARY_VALUE:"secondaryValue",INDICATOR:"indicator"},TREND_SHAPE:{AREA:"area",BAR:"bar",LINE:"line",NONE:"none"},AXIS_SCALE:{GLOBAL:"global",SYNCED_METRIC:"synced",SYNCED_ALL:"syncedAll"},CARD_ALIGNMENT:{LEFT:"left",MIDDLE:"middle",RIGHT:"right"},TREND_INDICATOR_SHAPE:{BADGE:"badge",ARROW:"arrow"},TREND_INDICATOR_VALUE_TYPE:{PERCENT:"percentValue",NUMERIC:"numericValue"},SELECTED_REFERENCE_LINE_SHAPE:{DOTTED_LINE_TYPE:"1pt dotted",DASHED_LINE_TYPE:"1pt dashed",THIN_LINE_TYPE:"1pt solid",THICK_LINE_TYPE:"2pt solid"},REFERENCE_LINE_DEFAULT_VALUES:{font:{fontFamily:"Open Sans",style:[!1,!1,!1,!1],size:9,color:"#35383A"},line:{shape:"1pt dashed",color:"#4D4D4D"}},LAYOUT_TYPES:{GRID:0,STACKED:1,HORIZONTAL:2,VERTICAL:3},TEXT_SIZE_TYPE:{UNIFIED:0,FIT_TO_CONTAINER:1,FIXED:2},FIRST_CARD_INDEX:1},E={fontFamily:"Open Sans",fontStyle:[!1,!1,!1,!1],fontSteps:0,fontSize:""},u={HIDEABLE_SECTION_TEMPLATE:{name:"hideableSectionTemplate",defaultValue:null},CARD_STYLE:{name:"cardStyle",defaultValue:0},HIDEABLE_SECTION_LAYOUT:{name:"hideableSectionLayout",defaultValue:null},LAYOUT_TYPE:{name:"layoutType",defaultValue:l.LAYOUT_TYPES.GRID},GRID_LAYOUT_PROPERTIES:{name:"gridLayoutProperties",defaultValue:null},GRID_COLUMN_COUNT:{name:"gridColumnCount",defaultValue:4},GRID_FIX_CARD_HEIGHT:{name:"gridFixCardHeight",defaultValue:null},GRID_FIX_CARD_HEIGHT_ENABLED:{name:"gridFixCardHeightEnabled",defaultValue:!1},STACKED_LAYOUT_PROPERTIES:{name:"stackedLayoutProperties",defaultValue:null},STACKED_AUTO_PLAY:{name:"stackedAutoPlay",defaultValue:!0},SHOW_METRIC_NAME:{name:"showMetricName",defaultValue:null},SECONDARY_VALUE_LAYOUT:{name:"secondaryValueLayout",defaultValue:null},SECONDARY_METRIC_NAME:{name:"secondaryMetricName",defaultValue:""},TREND_INDICATOR_LAYOUT:{name:"trendIndicatorLayout",defaultValue:null},TREND_INDICATOR_ENABLED:{name:"trendIndicatorEnabled",defaultValue:!0},TREND_INDICATOR_ENABLED_LABEL:{name:"trendIndicatorEnabledLabel",defaultValue:""},COMPARISON_INDICATOR_ENABLED:{name:"comparisonIndicatorEnabled",defaultValue:!0},COMPARISON_INDICATOR_ENABLED_LABEL:{name:"comparisonIndicatorEnabledLabel",defaultValue:""},TREND_INDICATOR_VALUE_TYPE:{name:"trendIndicatorValueType",defaultValue:l.TREND_INDICATOR_VALUE_TYPE.PERCENT},ENTIRE_CHART_SECTION:{name:"entireKPIChartSection",defaultValue:null},TEXT_SIZE_TYPE:{name:"textSizeType",defaultValue:l.TEXT_SIZE_TYPE.UNIFIED},SHAPE_SECTION:{name:"shapeSection",defaultValue:null},SHAPE_TYPE:{name:"shapeType",defaultValue:0},BACKGROUND_SHAPE_AREA_SECTION:{name:"backgroundShapeAreaSection",defaultValue:null},THRESHOLDS_SECTION:{name:"colorThresholdsSection",defaultValue:{thresholds:[]}},TEXT_CONTENT_TYPE:{name:"textContentType",defaultValue:l.TEXT_CONTENT_TYPE.ALL},TEXT_CONTENT_TYPE_COMPARISON:{name:"textContentTypeComparison",defaultValue:l.TEXT_CONTENT_TYPE.ALL},FONT_FAMILY:{name:"fontFamily",defaultValue:E.fontFamily},FONT_STYLE:{name:"fontStyle",defaultValue:[!1,!1,!1,!1]},FONT_STEPS:{name:"fontSteps",defaultValue:0},FONT_SIZE:{name:"fontSize",defaultValue:""},FONT_COLOR:{name:"fontColor",defaultValue:e.LIGHT.FONT},TEXT_ALL_FONT_OPTIONS:{name:"allFontOptions",defaultValue:r(r({},E),{},{fontColor:"INDETERMINATE"})},TEXT_LABEL_FONT_OPTIONS:{name:"labelFontOptions",defaultValue:r(r({},E),{},{fontColor:e.LIGHT.FONT,fontWeight:500})},TEXT_PRIMARY_VALUE_FONT_OPTIONS:{name:"primaryValueFontOptions",defaultValue:r(r({},E),{},{fontColor:e.LIGHT.FONT,fontStyle:[!0,!1,!1,!1]})},TEXT_SECONDARY_VALUE_FONT_OPTIONS:{name:"secondaryValueFontOptions",defaultValue:r(r({},E),{},{fontStyle:[!1,!1,!1,!1],fontColor:e.LIGHT.SECONDARY_VALUE_FONT_COLOR})},TEXT_INDICATOR_FONT_OPTIONS:{name:"indicatorFontOptions",defaultValue:r({},E)},AREA_FILL_COLOR:{name:"areaFillColor",defaultValue:e.LIGHT.AREA},AREA_FILL_COLOR_WITH_TREND:{name:"areaFillColorWithTrend",defaultValue:e.LIGHT.AREA},AREA_FILL_COLOR_WITH_NO_TREND:{name:"areaFillColorWithNoTrend",defaultValue:e.LIGHT.AREA},AREA_FILL_OPACITY:{name:"areaFillOpacity",defaultValue:e.LIGHT.AREA_FILL_OPACITY},TREND_FILL_COLOR:{name:"trendFillColor",defaultValue:e.LIGHT.TREND},TREND_FILL_OPACITY:{name:"trendFillOpacity",defaultValue:e.LIGHT.TREND_OPACITY},TREND_INCREASE_BACKGROUND_COLOR:{name:"trendIncreaseBackgroundColor",defaultValue:t.INCREASE},TREND_DECREASE_BACKGROUND_COLOR:{name:"trendDecreaseBackgroundColor",defaultValue:t.DECREASE},HIDEABLE_SECTION_TREND_SHAPE:{name:"hideableSectionTrendShape",defaultValue:null},TREND_SHAPE:{name:"trendShape",defaultValue:l.TREND_SHAPE.AREA},AXIS_SCALE:{name:"axisScale",defaultValue:l.AXIS_SCALE.GLOBAL},AXIS_SCALE_COMPARISON:{name:"axisScaleComparison",defaultValue:l.AXIS_SCALE.GLOBAL},EMPTY_VIZ_WARNING_MESSAGE:{name:"emptyVizWarningMessage",defaultValue:null},DATA_RETRIEVAL_PAUSED_MSG:{name:"dataRetrievalPausedMessage",defaultValue:null},VIZ_FIRST_TAB_SECTION:{name:"vizFirstTabSection",defaultValue:null},VIZ_SECOND_TAB_SECTION:{name:"vizSecondTabSection",defaultValue:null},CARD_ALIGNMENT:{name:"cardAlignment",defaultValue:""},TREND_INDICATOR_SHAPE_LAYOUT:{name:"trendIndicatorShapeLayout",defaultValue:""},TREND_INDICATOR_SHAPE:{name:"trendIndicatorShape",defaultValue:l.TREND_INDICATOR_SHAPE.ARROW},TREND_CONSTANT_BACKGROUND_COLOR:{name:"trendConstantBackgroundColor",defaultValue:t.CONSTANT},DOSSIER_FONT:{name:"dossierFont",defaultValue:""},HIDEABLE_SECTION_REFERENCE_LINES:{name:"hideableSectionReferenceLines",defaultValue:null},SELECTED_REFERENCE_LINE:{name:"selectedReferenceLine",defaultValue:""},REFERENCE_LINE_CONSTANT_VALUE:{name:"referenceLineConstantValue",defaultValue:""},REFERENCE_LINE_LABEL:{name:"referenceLineLabel",defaultValue:""},CREATED_REFERENCE_LINES:{name:"createdReferenceLines",defaultValue:{}},REFERENCE_LINE_CONSTANT_VALUE_WARNING:{name:"referenceLineConstantValueWarning",defaultValue:null},REFERENCE_LINES_SECTION:{name:"referenceLinesSection",defaultValue:null},TEXT_AND_FORM_DROPDOWN_WITH_REFERENCE_LINES:{name:"textAndFormDropdownWithReferenceLines",defaultValue:0},TEXT_AND_FORM_DROPDOWN_WITHOUT_REFERENCE_LINES:{name:"textAndFormDropdownWithoutReferenceLines",defaultValue:0},SELECTED_REFERENCE_LINE_TEXT_AND_FORM:{name:"selectedReferenceLineTextAndForm",defaultValue:""},SELECTED_REFERENCE_LINE_FONT_NAME:{name:"selectedReferenceLineFontName",defaultValue:l.REFERENCE_LINE_DEFAULT_VALUES.font.fontFamily},SELECTED_REFERENCE_LINE_FONT_STYLE:{name:"selectedReferenceLineFontStyle",defaultValue:l.REFERENCE_LINE_DEFAULT_VALUES.font.style},SELECTED_REFERENCE_LINE_FONT_SIZE:{name:"selectedReferenceLineFontSize",defaultValue:l.REFERENCE_LINE_DEFAULT_VALUES.font.size},SELECTED_REFERENCE_LINE_FONT_COLOR:{name:"selectedReferenceLineFontColor",defaultValue:l.REFERENCE_LINE_DEFAULT_VALUES.font.color},SELECTED_REFERENCE_LINE_COLOR:{name:"selectedReferenceLineColor",defaultValue:l.REFERENCE_LINE_DEFAULT_VALUES.line.color},SELECTED_REFERENCE_LINE_SHAPE:{name:"selectedReferenceLineShape",defaultValue:l.REFERENCE_LINE_DEFAULT_VALUES.line.shape},ACTIVE_CARD_INDEX:{name:"activeCardIndex",defaultValue:l.FIRST_CARD_INDEX},SECONDARY_METRIC_NAME_LABEL:{name:"secondaryMetricNameLabel",defaultValue:null},SECONDARY_METRIC_NAME_LABEL_COMPARISON:{name:"secondaryMetricNameLabelComparison",defaultValue:null},TREND_INCREASE_BACKGROUND_COLOR_LABEL:{name:"trendIncreaseBackgroundColorLabel",defaultValue:null},TREND_DECREASE_BACKGROUND_COLOR_LABEL:{name:"trendDecreaseBackgroundColorLabel",defaultValue:null},HIDEABLE_SECTION_IMAGE:{name:"hideableSectionImage",defaultValue:null},IMAGE_PROP_GALLERY:{name:"gallery",defaultValue:null},IMAGE_PROP_BROWSE:{name:"browse",defaultValue:null},IMAGE_PROP_EDIT_URL:{name:"editUrl",defaultValue:null},IMAGE_PROP_NAME:{name:"imageName",defaultValue:""},IMAGE_PROP_URL:{name:"imageSrc",defaultValue:""},IMAGE_FILL_COLOR:{name:"imgFillColor",defaultValue:e.LIGHT.IMG_FILL_COLOR},IMAGE_FILL_OPACITY:{name:"imgFillOpacity",defaultValue:e.LIGHT.IMG_FILL_OPACITY},IMAGE_SHAPE_FILL_COLOR:{name:"imgShapeFillColor",defaultValue:"AUTO"},IMAGE_SHAPE_FILL_OPACITY:{name:"imgShapeFillOpacity",defaultValue:100},IMAGE_SEARCH_ICON:{name:"searchIcon",defaultValue:null},SELECTED_CARD_IMAGE:{name:"selectedCardImage",defaultValue:null},ICON_SHAPE_ENABLED:{name:"iconShapeEnabled",defaultValue:!0},ICON_SHAPE_RADIUS:{name:"iconShapeRadius",defaultValue:50},HIDEABLE_SECTION_DESCRIPTION:{name:"hideableSectionDescription",defaultValue:null},METRIC_TOOLTIP_ENABLED:{name:"metricTooltipEnabled",defaultValue:!0},SELECTED_CARD_APPEARANCE:{name:"selectedCardAppearance",defaultValue:null},CARD_PADDING_SECTION:{name:"cardPaddingSection",defaultValue:null},CARD_PADDING:{name:"cardPadding",defaultValue:8},SUPPORTING_MULTIPLE_CARDS:{name:"supportingMultipleCards",defaultValue:!0},SHOW_ICON:{name:"showIcon",defaultValue:!0},VIZ_PALETTE:{name:"vizPaletteId",defaultValue:null},VIZ_PALETTE_COLORS:{name:"vizPaletteColors",defaultValue:null}};function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var _={};function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}Object.entries(u).forEach(function(e){var t,n,a=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,l,E=[],u=!0,i=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=o.call(n)).done)&&(E.push(a.value),E.length!==t);u=!0);}catch(e){i=!0,r=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(i)throw r}}return E}}(t,n)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=a[0],o=a[1].name;_[r]=o}),mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var m="properties",s=[m],c=function(e){"object"===I(e)?Object.values(e).forEach(function(e){c(e)}):Array.isArray(e)?e.forEach(function(e){c(e)}):s.push(e)};function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n){return(t=function(e){var t=function(e){if("object"!=T(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}c(_),mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={});var N=mstrmojo.vi.models.CustomVisDropZones.ENUM_ALLOW_DROP_TYPE,R=function(e,t,n){var a=JSON.parse(e.getProperty(m));e.setProperty(m,JSON.stringify(A(A({},a),{},f({},t,n))),{suppressData:!0})};mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={}),mstrmojo.plugins.ImageEnhancedKPI||(mstrmojo.plugins.ImageEnhancedKPI={}),mstrmojo.descriptors["IMGKPI.1"]||mstrmojo.requiresDescsWPrefix("IMGKPI.",1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42),mstrmojo.requiresCls("mstrmojo.vi.models.CustomVisDropZones");var L=mstrmojo.descP("IMGKPI.","1","Metric"),C=mstrmojo.descP("IMGKPI.","3","Break By"),D=mstrmojo.descP("IMGKPI.","4","Trend"),S=mstrmojo.descP("IMGKPI.","5","Drag attribute here"),p=mstrmojo.descP("IMGKPI.","6","Drag metric here");mstrmojo.plugins.ImageEnhancedKPI.ImageEnhancedKPIDropZones=mstrmojo.declare(mstrmojo.vi.models.CustomVisDropZones,null,{scriptClass:"mstrmojo.plugins.ImageEnhancedKPI.ImageEnhancedKPIDropZones",cssClass:"ImageEnhancedKPI-dropzones",getCustomDropZones:function(){var e,t,n,a;return[{name:L,title:p,minCapacity:1,maxCapacity:null!==(e=mstrApp)&&void 0!==e&&null!==(t=e.supportFeature)&&void 0!==t&&t.call(e,mstrmojo.vi.enums.EnumFeatures.SUPPORT_MULTIPLE_CARDS_ENHANCED_KPI)?void 0:1,allowObjectType:N.METRIC},{name:D,title:S,maxCapacity:1,allowObjectType:N.ATTRIBUTE},{name:C,title:S,maxCapacity:1,allowObjectType:N.ATTRIBUTE,disabled:!(null!==(n=mstrApp)&&void 0!==n&&null!==(a=n.supportFeature)&&void 0!==a&&a.call(n,mstrmojo.vi.enums.EnumFeatures.SUPPORT_MULTIPLE_CARDS_ENHANCED_KPI))}]},shouldAllowObjectsInDropZone:function(e,t){var n=this;return{allowedItems:t.filter(function(t){return!!n.isMetric(t)||!n.getObjectDropzones(t).some(function(t){return t===e.n})})}},getObjectDropzones:function(e){var t=this;return[mstrmojo.descP("IMGKPI.","1","Metric"),mstrmojo.descP("IMGKPI.","2","Compare With"),mstrmojo.descP("IMGKPI.","3","Break By"),mstrmojo.descP("IMGKPI.","4","Trend")].filter(function(n){return t.isObjectInZone(e,n)})},findAddAction:function(e){return e.some(function(e){return"addDropZoneUnit"===e.act})},getActionsForDoubleClick:function(e,t,n){var a=this,r=this.isAttribute(e),o=this._super(e,t,n);if(!o.length)return[];var E=this.getObjectDropzones(e),u=this.getHost(),i=u.isComparisonKPI;if((r||i)&&this.findAddAction(o)&&E.forEach(function(t){a.getRemoveDropZoneObjectsActions(o,t,e)}),r){var I=this.getDropZones().zones,m=function(e,t){return t.find(function(t){return t.id===e})}(o[0].zoneId,I);this.getDropZoneName(m)===mstrmojo.descP("IMGKPI.","4","Trend")&&R(u,_.CARD_ALIGNMENT,l.CARD_ALIGNMENT.LEFT)}else this.getObjectDropzones(e).length>1&&(o.length=0);return o},getActionsForObjectsDropped:function(e,t){var n,a,r=this,o=(n=t,a=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,l,E=[],u=!0,i=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=o.call(n)).done)&&(E.push(a.value),E.length!==t);u=!0);}catch(e){i=!0,r=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(i)throw r}}return E}}(n,a)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],E=[],u=this.getObjectDropzones(o),i=this.getHost(),I=i.isComparisonKPI;return(e.n!==mstrmojo.descP("IMGKPI.","1","Metric")||I)&&u.forEach(function(e){r.getRemoveDropZoneObjectsActions(E,e,o)}),this.getDropZoneName(e)===mstrmojo.descP("IMGKPI.","4","Trend")&&R(i,_.CARD_ALIGNMENT,l.CARD_ALIGNMENT.LEFT),E},getActionsForObjectsRemoved:function(e,t){var n=this.getHost();if(this.getDropZoneName(e)===mstrmojo.descP("IMGKPI.","1","Metric")){var a=JSON.parse(n.getProperty(m))[_.CREATED_REFERENCE_LINES];t.forEach(function(e){var t=e.id;a[t]&&delete a[t]}),R(n,_.CREATED_REFERENCE_LINES,a)}else this.getDropZoneName(e)===mstrmojo.descP("IMGKPI.","4","Trend")&&R(n,_.CARD_ALIGNMENT,l.CARD_ALIGNMENT.MIDDLE);return[]},getDefaultTooltipOrder:function(){return[[mstrmojo.descP("IMGKPI.","3","Break By"),mstrmojo.descP("IMGKPI.","4","Trend"),mstrmojo.descP("IMGKPI.","1","Metric")]]},getUnitMenuItems:function(e,t,n,a){var r=this;mstrmojo.vi.models.CustomVisDropZones.prototype.getUnitMenuItems.call(r,e,t,n,a),r.shouldShowDisplayFormsMenu(n)&&e.addEditorMenuItem(mstrmojo.desc(11908,"Display Attribute Forms"),r.id,function(){return r.getDisplayFormsMenu(n)})},transitionDropZones:function(e,t){return 1!==e.length||"trend"!==e[0].fromZone.toLowerCase()&&e[0].fromZone!==mstrmojo.descP("IMGKPI.","4","Trend")&&e[0].fromZone!==mstrmojo.descP("KPI.","4","Trend")&&e[0].fromZone!==mstrmojo.desc(15863,"Trend")?this._super(e,t):this._super([{},e[0]],t)}})})();