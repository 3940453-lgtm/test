!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var a=t();for(var n in a)("object"==typeof exports?exports:e)[n]=a[n]}}(self,()=>(()=>{"use strict";var e={d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{mstrComparisonKPI:()=>nt,mstrMultiMetricKPI:()=>nt}),mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var a={HORIZONTAL_ALIGN_OPTIONS:["align-left","align-center","align-right"],HORIZONTAL_ALIGN_STYLE:"toggle-button-radio _3item"},n="nameSelect",o="style";mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var r,l,i={POSITION_AND_SIZE_SECTION:"positionAndSizeSection",TITLEBAR_SHOW:"title_tbShw",TITLEBAR_FONTSTYLE:"title_fontStyle",TITLEBAR_TEXT_ALIGNMENT:"title_alh",TITLEBAR_FONT_COLOR:"title_fc",TITLEBAR_BACKGROUND_COLOR:"title_bc",TITLEBAR_BACKGROUND_OPACITY:"title_fill_opacity",TITLEBAR_FONT_SIZE:"title_fsz",TITLEBAR_FONT_FAMILY:"title_ff",TITLEBAR_TITLES_SHOW:"title_titleShw",TITLEBAR_TITLE_LINES:"title_lines",TITLEBAR_TITLE_INDEX:"title_index",CONTAINER_FILL_COLOR:"containerFill",CONTAINER_BORDER_OPACITY:"container_bo",CONTAINER_BORDER_STYLE:"container_borderStyle",CONTAINER_BORDER_COLOR:"container_borderColor",CONTAINER_RADIUS:"container_radius",CONTAINER_LEFT_POSITION:"container_left",CONTAINER_TOP_POSITION:"container_top",CONTAINER_HEIGHT:"container_height",CONTAINER_WIDTH:"container_width",CONTAINER_SHADOW_COLOR:"container_shadow_color",CONTAINER_SHADOW_OPACITY:"container_shadow_opacity",CONTAINER_SHADOW_SIZE:"container_shadow_size",CONTAINER_SHADOW_ANGLE:"container_shadow_angle",CONTAINER_SHADOW_DISTANCE:"container_shadow_distance",ENABLE_TITLE_BUTTON:"enableButton",BUTTON_RADIUS:"btnrd",BUTTON_SIZE:"btnsz",TRANSACTION_VISIBLE:"txnVisible",TRANSACTION_LABEL_TYPE:"txnLabelType",TRANSACTION_BUTTON_ALIAS:"txnButtonAlias",TRANSACTION_FONT_NAME:"txnFontName",TRANSACTION_FONT_STYLE:"txnFontStyle",TRANSACTION_FONT_COLOR:"txnFontColor",TRANSACTION_BUTTON_FILL_COLOR:"txnButtonFillColor",TRANSACTION_BUTTON_BORDER_COLOR:"txnButtonBorderColor",TRANSACTION_BUTTON_FILL_OPACITY:"txnButtonFillOpacity",TRANSACTION_BUTTON_BORDER_STYLE:"txnButtonBorderStyle",EXPORT_VISIBLE:"exportVisible",EXPORT_LABEL_TYPE:"exportLabelType",EXPORT_BUTTON_ALIAS:"exportButtonAlias",EXPORT_OPTIONS:"exportOptions",EXPORT_FONT_NAME:"exportFontName",EXPORT_FONT_STYLE:"exportFontStyle",EXPORT_FONT_COLOR:"exportFontColor",EXPORT_BUTTON_FILL_COLOR:"exportButtonFillColor",EXPORT_BUTTON_BORDER_COLOR:"exportButtonBorderColor",EXPORT_BUTTON_FILL_OPACITY:"exportButtonFillOpacity",EXPORT_BUTTON_BORDER_STYLE:"exportButtonBorderStyle",MAXIMIZE_VISIBLE:"maximizeVisible",MAXIMIZE_FONT_COLOR:"maximizeFontColor",MAXIMIZE_BUTTON_FILL_COLOR:"maximizeButtonFillColor",MAXIMIZE_BUTTON_BORDER_COLOR:"maximizeButtonBorderColor",MAXIMIZE_BUTTON_FILL_OPACITY:"maximizeButtonFillOpacity",MAXIMIZE_BUTTON_BORDER_STYLE:"maximizeButtonBorderStyle",CONTEXTMENU_VISIBLE:"contextMenuVisible",CONTEXTMENU_FONT_COLOR:"contextMenuFontColor",CONTEXTMENU_BUTTON_FILL_COLOR:"contextMenuButtonFillColor",CONTEXTMENU_BUTTON_BORDER_COLOR:"contextMenuButtonBorderColor",CONTEXTMENU_BUTTON_FILL_OPACITY:"contextMenuButtonFillOpacity",CONTEXTMENU_BUTTON_BORDER_STYLE:"contextMenuButtonBorderStyle",FONT_CONFIG:"fontConfig"},E="fontLayout",s="FontColor";mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var N=function(){return{tagName:"FontConfig",key:i.FONT_CONFIG,keyIDs:{fontName:i.TITLEBAR_FONT_FAMILY,fontStyle:i.TITLEBAR_FONTSTYLE,fontSize:i.TITLEBAR_FONT_SIZE,fontColor:i.TITLEBAR_FONT_COLOR,textAlignment:i.TITLEBAR_TEXT_ALIGNMENT},displayOptions:[n,o,"sizeAndColor","horizontalAlign"],horizontalAlignmentOptions:a.HORIZONTAL_ALIGN_OPTIONS,textAlignmentStyle:a.HORIZONTAL_ALIGN_STYLE}},T=function(){var e,t,a={tagName:"VerticalLayout",className:"container-radius-section",children:[{tagName:"Text",text:{desc:14447,name:"Radius"}},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-2vs1-stretch",children:[{tagName:"Slider",className:"new-style-slider",min:0,max:40,value:0,key:i.CONTAINER_RADIUS},{tagName:"InputNumber",className:"radius-input",format:"",min:0,max:40,value:0,showStepper:!1,key:i.CONTAINER_RADIUS}]}]};return null!==(e=mstrApp)&&void 0!==e&&null!==(t=e.supportFeature)&&void 0!==t&&t.call(e,mstrmojo.vi.enums.EnumFeatures.SUPPORT_RADIUS_AND_SPACING)?a:null},c=function(){var e,t,a={tagName:"VerticalLayout",className:"container-radius-section",children:[{tagName:"Text",text:{desc:29150,name:"Shadow"}},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-1vs2-stretch",children:[{tagName:"Text",text:{desc:13601,name:"Fill"}},{tagName:"ColorPickerWithOpacity",keyIDs:{color:i.CONTAINER_SHADOW_COLOR,opacity:i.CONTAINER_SHADOW_OPACITY},format:"%",min:0,max:100}]},{tagName:"Text",text:{desc:4906,name:"Blur"}},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-2vs1-stretch",children:[{tagName:"Slider",className:"new-style-slider",min:0,max:40,value:0,key:i.CONTAINER_SHADOW_SIZE},{tagName:"InputNumber",className:"shadow-input",format:"",min:0,max:40,value:0,showStepper:!1,key:i.CONTAINER_SHADOW_SIZE}]},{tagName:"Text",text:{desc:13325,name:"Distance"}},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-2vs1-stretch",children:[{tagName:"Slider",className:"new-style-slider",min:0,max:30,value:0,key:i.CONTAINER_SHADOW_DISTANCE},{tagName:"InputNumber",className:"shadow-input",format:"",min:0,max:30,value:0,showStepper:!1,key:i.CONTAINER_SHADOW_DISTANCE}]},{tagName:"Text",text:{desc:14294,name:"Angle"}},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-2vs1-stretch",children:[{tagName:"Slider",className:"new-style-slider",min:0,max:359,value:0,key:i.CONTAINER_SHADOW_ANGLE},{tagName:"InputNumber",className:"shadow-input",format:"Â°",min:0,max:359,value:0,showStepper:!1,key:i.CONTAINER_SHADOW_ANGLE}]}]};return null!==(e=mstrApp)&&void 0!==e&&null!==(t=e.supportFeature)&&void 0!==t&&t.call(e,mstrmojo.vi.enums.EnumFeatures.SUPPORT_CONTAINER_SHADOW)?a:null},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{tagName:"FontConfig",keyIDs:{fontLayout:"".concat(e.propPrefix).concat(E),fontName:"".concat(e.propPrefix).concat("FontName"),fontStyle:"".concat(e.propPrefix).concat("FontStyle"),fontColor:"".concat(e.propPrefix).concat(s)},fontColorStyle:"horizontal-flex-space-between _2item-1vs2-stretch",displayOptions:[n,o,"color"]}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{tagName:"HorizontalLayout",key:e.buttonTitle,className:"horizontal-flex-space-between title-button-layout no-bottom-margin ".concat("txn"===e.propPrefix?"txn-button":""),children:[{tagName:"Text",text:e.buttonTitle},{tagName:"ToggleIconButton",key:"".concat(e.propPrefix).concat("Visible"),icon:"button-invisible",alterIcon:"button-visible",func:{type:"disable",targets:["".concat(e.propPrefix,"-button-popover")]}},{tagName:"ToggleIconButton",key:"".concat(e.propPrefix,"-button-popover"),icon:"format",alterIcon:"format-highlight",popoverConfig:{placement:"rightTop",overlayClassName:"action-btn-popover",overlayInnerStyle:{width:184},offsetX:6,offsetY:0,content:[{tagName:"VerticalLayout",className:"".concat(e.propPrefix,"-button-popover-content"),children:[{tagName:"Text",className:"section-header-text",text:e.popoverTitle},{tagName:"Select",className:"title-button-label-type",key:"".concat(e.propPrefix).concat("LabelType"),options:[{desc:29037,name:"Text only",value:0},{desc:9867,name:"Icon only",value:1},{desc:28927,name:"Icon and text",value:2}],funcs:[{type:"hide",targets:["".concat(e.propPrefix,"-button-alias"),"".concat(e.propPrefix).concat(E)],valueMap:e.iconOnly?function(e){return!1}:function(e){return"1"===e}},{type:"hide",targets:["".concat(e.propPrefix,"IconColorSetting")],valueMap:e.iconOnly?function(e){return!1}:function(e){return"1"!==e}}]},{tagName:"Select",className:"export-button-options",key:"".concat(e.propPrefix).concat("Options"),options:[{desc:28928,name:"All options",value:0},{desc:5212,name:"Export to PDF",value:1},{desc:5213,name:"Export to Excel",value:2},{desc:28929,name:"Export to Data",value:3}]},{tagName:"HorizontalLayout",key:"".concat(e.propPrefix,"-button-alias"),className:"horizontal-flex-space-between _2item-stretch button-alias",children:[{tagName:"Text",text:{desc:11916,name:"Alias"}},{tagName:"Input",key:"".concat(e.propPrefix).concat("ButtonAlias"),applyChangeOnFocusOut:!0}]},_(e),{tagName:"HorizontalLayout",key:"".concat(e.propPrefix,"IconColorSetting"),className:"horizontal-flex-space-between _2item-1vs2-stretch",children:[{tagName:"Text",text:{desc:7809,name:"Icon"}},{tagName:"ColorPicker",key:"".concat(e.propPrefix).concat(s)}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-1vs2-stretch",children:[{tagName:"Text",text:{desc:13601,name:"Fill"}},{tagName:"ColorPickerWithOpacity",keyIDs:{color:"".concat(e.propPrefix).concat("ButtonFillColor"),opacity:"".concat(e.propPrefix).concat("ButtonFillOpacity")},format:"%",min:0,max:100}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _3item-stretch",children:[{tagName:"Text",text:{desc:18345,name:"Border"}},{tagName:"Select",key:"".concat(e.propPrefix).concat("ButtonBorderStyle"),ariaLabel:{desc:18345,name:"Border"},innerClassName:"lines",showOptionTooltip:!1,options:[{desc:2057,name:"None",value:"none"},{desc:19532,name:"1 point dotted",value:"1pt dotted"},{desc:19530,name:"1 point dashed",value:"1pt dashed"},{desc:19531,name:"1 point solid",value:"1pt solid"},{desc:19533,name:"2 point solid",value:"2pt solid"}],icons:["none","dot","dash","solid","solid-thick"]},{tagName:"ColorPicker",key:"".concat(e.propPrefix).concat("ButtonBorderColor")}]}]}]}}]}},u=function(){var e,t,a={tagName:"VerticalLayout",className:"title-button-section",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between no-bottom-margin",children:[{tagName:"Text",text:{desc:28920,name:"Title buttons"}},{tagName:"Switch",key:i.ENABLE_TITLE_BUTTON,func:{type:"hide",targets:["titleButtonContent"]}}]},{tagName:"VerticalLayout",key:"titleButtonContent",children:[{tagName:"Text",text:{desc:28921,name:"Button radius"}},{tagName:"Radio",key:i.BUTTON_RADIUS,className:"toggle-button-radio _4item",innerClassName:"rectangle-icons",useIcons:!0,useButtons:!0,horizontal:!0,useTooltips:!0,options:[{name:"no-radius",ariaLabel:{desc:19516,name:"No Radius"},value:0},{name:"small-radius",ariaLabel:{desc:19519,name:"Small Radius"},value:10},{name:"medium-radius",ariaLabel:{desc:19517,name:"Medium Radius"},value:30},{name:"large-radius",ariaLabel:{desc:19526,name:"Large Radius"},value:50}]},{tagName:"Text",text:{desc:28922,name:"Button size"}},{tagName:"Radio",key:i.BUTTON_SIZE,useButtons:!0,horizontal:!0,useIcons:!0,useTooltips:!0,className:"toggle-button-radio _3item title-button-size",innerClassName:"title-button-size-icons",options:[{name:"small",ariaLabel:{desc:11446,name:"Small"},value:0},{name:"medium",ariaLabel:{desc:2263,name:"Medium"},value:1},{name:"large",ariaLabel:{desc:11447,name:"Large"},value:2}]},m({buttonTitle:{desc:246,name:"Export"},popoverTitle:{desc:28924,name:"Export Button"},propPrefix:"export"}),m({buttonTitle:{desc:4541,name:"Maximize"},popoverTitle:{desc:28925,name:"Maximize Button"},propPrefix:"maximize",iconOnly:!0}),m({buttonTitle:{desc:28926,name:"Context menu"},popoverTitle:{desc:25843,name:"Context Menu"},propPrefix:"contextMenu",iconOnly:!0})]}]};return null!==(e=mstrApp)&&void 0!==e&&null!==(t=e.supportFeature)&&void 0!==t&&t.call(e,mstrmojo.vi.enums.EnumFeatures.SUPPORT_SUBTITLE_AND_TITLE_BUTTONS)?a:null},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{tagName:"BorderAndColorFillConfig",keyIDs:{fillColor:i.CONTAINER_FILL_COLOR,fillOpacity:i.CONTAINER_BORDER_OPACITY,borderStyle:i.CONTAINER_BORDER_STYLE,borderColor:i.CONTAINER_BORDER_COLOR},useFillGradient:e.useFillGradient}},I={tagName:"PositionSizeConfig",min:0,max:100,format:"%",keyIDs:{section:i.POSITION_AND_SIZE_SECTION,leftPosition:i.CONTAINER_LEFT_POSITION,topPosition:i.CONTAINER_TOP_POSITION,width:i.CONTAINER_WIDTH,height:i.CONTAINER_HEIGHT}},R={tagName:"VerticalLayout",className:"title-and-container-layout",key:"graphFont",children:[{tagName:"VerticalLayout",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between title-bar-container",children:[{tagName:"Text",className:"section-header-text title-bar-text",text:{desc:7806,name:"Title Bar"}},{tagName:"Switch",key:i.TITLEBAR_SHOW,func:{type:"hide",targets:["titleFontContent"]}}]},{tagName:"VerticalLayout",key:"titleFontContent",children:[N(),{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _3item-stretch",children:[{tagName:"Text",text:{desc:13601,name:"Fill"}},{tagName:"ColorPicker",key:i.TITLEBAR_BACKGROUND_COLOR},{tagName:"InputNumber",key:i.TITLEBAR_BACKGROUND_OPACITY,format:"%",min:0,max:100,value:100}]}]}]},O(),T(),c(),I].filter(function(e){return!!e})};function C(){return{tagName:"VerticalLayout",key:"fontContent",children:[N()]}}var A={tagName:"VerticalLayout",className:"title-and-container-layout",key:"graphFont",children:[{tagName:"VerticalLayout",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between title-bar-container",children:[{tagName:"Text",className:"section-header-text title-bar-text",text:{desc:7806,name:"Title Bar"}},{tagName:"Switch",key:i.TITLEBAR_SHOW,func:{type:"hide",targets:["fillAndTitlesContent"]}}]},{tagName:"VerticalLayout",key:"fillAndTitlesContent",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _3item-stretch",children:[{tagName:"Text",text:{desc:13601,name:"Fill"}},{tagName:"ColorPicker",key:i.TITLEBAR_BACKGROUND_COLOR},{tagName:"InputNumber",key:i.TITLEBAR_BACKGROUND_OPACITY,format:"%",min:0,max:100,value:100}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between title-bar-container",children:[{tagName:"Text",text:{desc:3449,name:"Titles"}},{tagName:"Switch",key:i.TITLEBAR_TITLES_SHOW,func:{type:"hide",targets:["titleFontContent"]}}]},{tagName:"VerticalLayout",key:"titleFontContent",children:[{tagName:"Radio",key:i.TITLEBAR_TITLE_LINES,className:"toggle-button-radio _2item title-font-content",horizontal:!0,useButtons:!0,options:[{desc:28908,name:"1 Line",value:1},{desc:28909,name:"2 Lines",value:2}]},{tagName:"SegmentControlDropdownMenu",className:"title-font-content",key:i.TITLEBAR_TITLE_INDEX,ariaLabel:{desc:28944,name:"Title index"},optionDisplayNames:[{desc:28910,name:"Top line"},{desc:28911,name:"Bottom line"}],func:{type:"query",targets:[i.TITLEBAR_FONT_FAMILY,i.TITLEBAR_FONTSTYLE,i.TITLEBAR_FONT_SIZE,i.TITLEBAR_FONT_COLOR,i.TITLEBAR_TEXT_ALIGNMENT]},children:[C(),C()]}].filter(function(e){return!!e})},u()].filter(function(e){return!!e})}]},O(),T(),c(),I].filter(function(e){return!!e})},d=null!==(r=mstrApp)&&void 0!==r&&null!==(l=r.supportFeature)&&void 0!==l&&l.call(r,mstrmojo.vi.enums.EnumFeatures.SUPPORT_SUBTITLE_AND_TITLE_BUTTONS)?A:R;[{tagName:"VerticalLayout",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between title-bar-container",children:[{tagName:"Text",className:"section-header-text title-bar-text",text:{desc:7806,name:"Title Bar"}},{tagName:"Switch",key:i.TITLEBAR_SHOW,func:{type:"hide",targets:["titleFontContent"]}}]},{tagName:"VerticalLayout",children:[N(),{tagName:"Text",text:{desc:3905,name:"Background"}},{tagName:"HorizontalLayout",className:"background-color-container",children:[{tagName:"ColorPicker",key:i.TITLEBAR_BACKGROUND_COLOR},{tagName:"InputNumber",format:"%",min:0,max:100,value:100}]},u()].filter(function(e){return!!e})}]},O(),T(),c(),I].filter(function(e){return!!e}),[O(),T(),c(),I].filter(function(e){return!!e}),mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});const L={CARD_STYLES:{LIGHT:{AREA:"#FFFFFF",TREND:"#D2D2D2",TREND_OPACITY:"40",FONT:"#35383A"},NIGHT:{AREA:"#313855",TREND:"#539CAE",TREND_OPACITY:"100",FONT:"#FFFFFF"},DESERT:{AREA:"#606060",TREND:"#FFD333",TREND_OPACITY:"100",FONT:"#FFFFFF"},OCEAN:{AREA:"#5181D7",TREND:"#83C8F4",TREND_OPACITY:"100",FONT:"#FFFFFF"}},TREND_INDICATOR_VALUE_TYPE:{INCREASE:"#83C962",DECREASE:"#DB6657",CONSTANT:"#606060"},SLIDER_CONTROL_INDICATORS:{LIGHT:"#FFFFFF",NIGHT:"#4D4D4D"},TREND_TOOLTIP_MARKER:"#CA3D40"};function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach(function(t){y(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function y(e,t,a){return(t=function(e){var t=function(e){if("object"!=S(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=S(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var D={TEXT_CONTENT_TYPE:{ALL:"all",LABEL:"label",PRIMARY_VALUE:"primaryValue",SECONDARY_VALUE:"secondaryValue",INDICATOR:"indicator"},TREND_SHAPE:{AREA:"area",BAR:"bar",LINE:"line"},AXIS_SCALE:{GLOBAL:"global",SYNCED_METRIC:"synced",SYNCED_ALL:"syncedAll"},CARD_ALIGNMENT:{LEFT:"left",MIDDLE:"middle",RIGHT:"right"},TREND_INDICATOR_SHAPE:{BADGE:"badge",ARROW:"arrow"},TREND_INDICATOR_VALUE_TYPE:{PERCENT:"percentValue",NUMERIC:"numericValue"},SELECTED_REFERENCE_LINE_SHAPE:{DOTTED_LINE_TYPE:"1pt dotted",DASHED_LINE_TYPE:"1pt dashed",THIN_LINE_TYPE:"1pt solid",THICK_LINE_TYPE:"2pt solid"},REFERENCE_LINE_DEFAULT_VALUES:{font:{fontFamily:"Open Sans",style:[!1,!1,!1,!1],size:9,color:"#35383A"},line:{shape:"1pt dashed",color:"#4D4D4D"}},LAYOUT_TYPES:{GRID:0,STACKED:1,HORIZONTAL:2,VERTICAL:3},TEXT_SIZE_TYPE:{UNIFIED:0,FIT_TO_CONTAINER:1,FIXED:2},FIRST_CARD_INDEX:1},g={fontFamily:"Open Sans",fontStyle:[!1,!1,!1,!1],fontSteps:0,fontSize:""},P={HIDEABLE_SECTION_TEMPLATE:{name:"hideableSectionTemplate",defaultValue:null},CARD_STYLE:{name:"cardStyle",defaultValue:0},HIDEABLE_SECTION_LAYOUT:{name:"hideableSectionLayout",defaultValue:null},LAYOUT_TYPE:{name:"layoutType",defaultValue:D.LAYOUT_TYPES.GRID},GRID_LAYOUT_PROPERTIES:{name:"gridLayoutProperties",defaultValue:null},GRID_COLUMN_COUNT:{name:"gridColumnCount",defaultValue:4},GRID_FIX_CARD_HEIGHT:{name:"gridFixCardHeight",defaultValue:null},GRID_FIX_CARD_HEIGHT_ENABLED:{name:"gridFixCardHeightEnabled",defaultValue:!1},STACKED_LAYOUT_PROPERTIES:{name:"stackedLayoutProperties",defaultValue:null},STACKED_AUTO_PLAY:{name:"stackedAutoPlay",defaultValue:!0},SHOW_METRIC_NAME:{name:"showMetricName",defaultValue:null},SECONDARY_VALUE_LAYOUT:{name:"secondaryValueLayout",defaultValue:null},SECONDARY_METRIC_NAME:{name:"secondaryMetricName",defaultValue:""},TREND_INDICATOR_LAYOUT:{name:"trendIndicatorLayout",defaultValue:null},TREND_INDICATOR_ENABLED:{name:"trendIndicatorEnabled",defaultValue:!0},TREND_INDICATOR_ENABLED_LABEL:{name:"trendIndicatorEnabledLabel",defaultValue:""},COMPARISON_INDICATOR_ENABLED:{name:"comparisonIndicatorEnabled",defaultValue:!0},COMPARISON_INDICATOR_ENABLED_LABEL:{name:"comparisonIndicatorEnabledLabel",defaultValue:""},TREND_INDICATOR_VALUE_TYPE:{name:"trendIndicatorValueType",defaultValue:D.TREND_INDICATOR_VALUE_TYPE.PERCENT},ENTIRE_CHART_SECTION:{name:"entireChartSection",defaultValue:null},TEXT_SIZE_TYPE:{name:"textSizeType",defaultValue:D.TEXT_SIZE_TYPE.UNIFIED},SHAPE_SECTION:{name:"shapeSection",defaultValue:null},SHAPE_TYPE:{name:"shapeType",defaultValue:0},SHAPE_TYPE_COMPARISON:{name:"shapeTypeComparison",defaultValue:0},SHAPE_TYPE_COMPARISON_NO_TREND:{name:"shapeTypeComparisonNoTrend",defaultValue:0},BACKGROUND_SHAPE_AREA_SECTION:{name:"backgroundShapeAreaSection",defaultValue:null},THRESHOLDS_SECTION:{name:"colorThresholdsSection",defaultValue:{thresholds:[]}},TEXT_CONTENT_TYPE:{name:"textContentType",defaultValue:D.TEXT_CONTENT_TYPE.ALL},TEXT_CONTENT_TYPE_COMPARISON:{name:"textContentTypeComparison",defaultValue:D.TEXT_CONTENT_TYPE.ALL},FONT_FAMILY:{name:"fontFamily",defaultValue:g.fontFamily},FONT_STYLE:{name:"fontStyle",defaultValue:[!1,!1,!1,!1]},FONT_STEPS:{name:"fontSteps",defaultValue:0},FONT_SIZE:{name:"fontSize",defaultValue:""},FONT_COLOR:{name:"fontColor",defaultValue:L.CARD_STYLES.LIGHT.FONT},TEXT_ALL_FONT_OPTIONS:{name:"allFontOptions",defaultValue:f(f({},g),{},{fontColor:"INDETERMINATE"})},TEXT_LABEL_FONT_OPTIONS:{name:"labelFontOptions",defaultValue:f(f({},g),{},{fontColor:L.CARD_STYLES.LIGHT.FONT})},TEXT_PRIMARY_VALUE_FONT_OPTIONS:{name:"primaryValueFontOptions",defaultValue:f(f({},g),{},{fontColor:L.CARD_STYLES.LIGHT.FONT})},TEXT_SECONDARY_VALUE_FONT_OPTIONS:{name:"secondaryValueFontOptions",defaultValue:f(f({},g),{},{fontStyle:[!0,!0,!1,!1],fontColor:L.CARD_STYLES.LIGHT.FONT})},TEXT_INDICATOR_FONT_OPTIONS:{name:"indicatorFontOptions",defaultValue:f(f({},g),{},{fontColor:L.CARD_STYLES.NIGHT.FONT})},AREA_FILL_COLOR:{name:"areaFillColor",defaultValue:L.CARD_STYLES.LIGHT.AREA},AREA_FILL_OPACITY:{name:"areaFillOpacity",defaultValue:100},TREND_FILL_COLOR:{name:"trendFillColor",defaultValue:L.CARD_STYLES.LIGHT.TREND},TREND_FILL_OPACITY:{name:"trendFillOpacity",defaultValue:L.CARD_STYLES.LIGHT.TREND_OPACITY},TREND_INCREASE_BACKGROUND_COLOR:{name:"trendIncreaseBackgroundColor",defaultValue:L.TREND_INDICATOR_VALUE_TYPE.INCREASE},TREND_DECREASE_BACKGROUND_COLOR:{name:"trendDecreaseBackgroundColor",defaultValue:L.TREND_INDICATOR_VALUE_TYPE.DECREASE},HIDEABLE_SECTION_TREND_SHAPE:{name:"hideableSectionTrendShape",defaultValue:null},TREND_SHAPE:{name:"trendShape",defaultValue:D.TREND_SHAPE.AREA},AXIS_SCALE:{name:"axisScale",defaultValue:D.AXIS_SCALE.GLOBAL},AXIS_SCALE_COMPARISON:{name:"axisScaleComparison",defaultValue:D.AXIS_SCALE.GLOBAL},EMPTY_VIZ_WARNING_MESSAGE:{name:"emptyVizWarningMessage",defaultValue:null},VIZ_FIRST_TAB_SECTION:{name:"vizFirstTabSection",defaultValue:null},VIZ_SECOND_TAB_SECTION:{name:"vizSecondTabSection",defaultValue:null},CARD_ALIGNMENT:{name:"cardAlignment",defaultValue:""},TREND_INDICATOR_SHAPE_LAYOUT:{name:"trendIndicatorShapeLayout",defaultValue:""},TREND_INDICATOR_SHAPE:{name:"trendIndicatorShape",defaultValue:D.TREND_INDICATOR_SHAPE.BADGE},TREND_CONSTANT_BACKGROUND_COLOR:{name:"trendConstantBackgroundColor",defaultValue:L.TREND_INDICATOR_VALUE_TYPE.CONSTANT},DOSSIER_FONT:{name:"dossierFont",defaultValue:""},HIDEABLE_SECTION_REFERENCE_LINES:{name:"hideableSectionReferenceLines",defaultValue:null},SELECTED_REFERENCE_LINE:{name:"selectedReferenceLine",defaultValue:""},REFERENCE_LINE_CONSTANT_VALUE:{name:"referenceLineConstantValue",defaultValue:""},REFERENCE_LINE_LABEL:{name:"referenceLineLabel",defaultValue:""},CREATED_REFERENCE_LINES:{name:"createdReferenceLines",defaultValue:{}},REFERENCE_LINE_CONSTANT_VALUE_WARNING:{name:"referenceLineConstantValueWarning",defaultValue:null},REFERENCE_LINES_SECTION:{name:"referenceLinesSection",defaultValue:null},TEXT_AND_FORM_DROPDOWN_WITH_REFERENCE_LINES:{name:"textAndFormDropdownWithReferenceLines",defaultValue:0},TEXT_AND_FORM_DROPDOWN_WITHOUT_REFERENCE_LINES:{name:"textAndFormDropdownWithoutReferenceLines",defaultValue:0},SELECTED_REFERENCE_LINE_TEXT_AND_FORM:{name:"selectedReferenceLineTextAndForm",defaultValue:""},SELECTED_REFERENCE_LINE_FONT_NAME:{name:"selectedReferenceLineFontName",defaultValue:D.REFERENCE_LINE_DEFAULT_VALUES.font.fontFamily},SELECTED_REFERENCE_LINE_FONT_STYLE:{name:"selectedReferenceLineFontStyle",defaultValue:D.REFERENCE_LINE_DEFAULT_VALUES.font.style},SELECTED_REFERENCE_LINE_FONT_SIZE:{name:"selectedReferenceLineFontSize",defaultValue:D.REFERENCE_LINE_DEFAULT_VALUES.font.size},SELECTED_REFERENCE_LINE_FONT_COLOR:{name:"selectedReferenceLineFontColor",defaultValue:D.REFERENCE_LINE_DEFAULT_VALUES.font.color},SELECTED_REFERENCE_LINE_COLOR:{name:"selectedReferenceLineColor",defaultValue:D.REFERENCE_LINE_DEFAULT_VALUES.line.color},SELECTED_REFERENCE_LINE_SHAPE:{name:"selectedReferenceLineShape",defaultValue:D.REFERENCE_LINE_DEFAULT_VALUES.line.shape},ACTIVE_CARD_INDEX:{name:"activeCardIndex",defaultValue:D.FIRST_CARD_INDEX},SECONDARY_METRIC_NAME_LABEL:{name:"secondaryMetricNameLabel",defaultValue:null},SECONDARY_METRIC_NAME_LABEL_COMPARISON:{name:"secondaryMetricNameLabelComparison",defaultValue:null},TREND_INCREASE_BACKGROUND_COLOR_LABEL:{name:"trendIncreaseBackgroundColorLabel",defaultValue:null},TREND_INCREASE_BACKGROUND_COLOR_LABEL_COMPARISON:{name:"trendIncreaseBackgroundColorLabelComparison",defaultValue:null},TREND_DECREASE_BACKGROUND_COLOR_LABEL:{name:"trendDecreaseBackgroundColorLabel",defaultValue:null},TREND_DECREASE_BACKGROUND_COLOR_LABEL_COMPARISON:{name:"trendDecreaseBackgroundColorLabelComparison",defaultValue:null}};function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var F={};Object.entries(P).forEach(function(e){var t,a,n=(a=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,o,r,l,i=[],E=!0,s=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;E=!1}else for(;!(E=(n=r.call(a)).done)&&(i.push(n.value),i.length!==t);E=!0);}catch(e){s=!0,o=e}finally{try{if(!E&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(s)throw o}}return i}}(t,a)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?b(e,t):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],r=n[1].name;F[o]=r}),mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var v=[{title:{desc:8970,name:"Expand All"},itemIndex:"expand"},{title:{desc:8971,name:"Collapse All"},itemIndex:"collapse"}],h={type:"set",targets:[F.HIDEABLE_SECTION_TEMPLATE,F.HIDEABLE_SECTION_LAYOUT,F.HIDEABLE_SECTION_TREND_SHAPE,F.HIDEABLE_SECTION_REFERENCE_LINES]};mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});const x={tagName:"HideableLayout",title:{desc:1280,name:"Template"},key:F.HIDEABLE_SECTION_TEMPLATE,func:h,contextMenuItems:v,children:[{tagName:"ButtonList",key:F.CARD_STYLE,buttonType:"color",title:{desc:1400,name:"Style"},useTooltips:!0,className:"multimetrickpi-card-style-list",options:[{name:"theme-light",ariaLabel:{desc:8959,name:"Light"}},{name:"theme-night",ariaLabel:{desc:15866,name:"Night"}},{name:"theme-desert",ariaLabel:{desc:9237,name:"Desert"}},{name:"theme-ocean",ariaLabel:{desc:15867,name:"Ocean"}}],ariaLabel:{desc:19215,name:"Density map colors"}},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"Text",text:mstrmojo.descP("KPI.","23","Align")},{tagName:"Radio",horizontal:!0,key:F.CARD_ALIGNMENT,className:"toggle-button-radio _3item multimetrickpi-card-alignment",innerClassName:"multimetrickpi-card-alignment-icons",options:[{name:D.CARD_ALIGNMENT.LEFT,value:D.CARD_ALIGNMENT.LEFT},{name:D.CARD_ALIGNMENT.MIDDLE,value:D.CARD_ALIGNMENT.MIDDLE},{name:D.CARD_ALIGNMENT.RIGHT,value:D.CARD_ALIGNMENT.RIGHT}],useButtons:!0,useIcons:!0}]},{tagName:"Divider"}]};mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var B={tagName:"VerticalLayout",children:[{tagName:"VerticalLayout",children:[{tagName:"Text",text:mstrmojo.descP("KPI.","24","Axis scale")},{tagName:"Select",key:F.AXIS_SCALE,options:[{name:mstrmojo.descP("KPI.","25","By each card"),value:D.AXIS_SCALE.GLOBAL},{name:mstrmojo.descP("KPI.","26","Synchronize by metric"),value:D.AXIS_SCALE.SYNCED_METRIC},{name:mstrmojo.descP("KPI.","27","Synchronize all metrics"),value:D.AXIS_SCALE.SYNCED_ALL}]},{tagName:"Select",key:F.AXIS_SCALE_COMPARISON,options:[{name:mstrmojo.descP("KPI.","25","By each card"),value:D.AXIS_SCALE.GLOBAL},{name:mstrmojo.descP("KPI.","26","Synchronize by metric"),value:D.AXIS_SCALE.SYNCED_METRIC}]}]}]},Y={tagName:"VerticalLayout",children:[{tagName:"Select",className:"multimetrickpi-trend-shape-dropdown",innerClassName:"multimetrickpi-trend-shape-icons",key:F.TREND_SHAPE,options:[{name:mstrmojo.descP("KPI.","28","Area"),value:D.TREND_SHAPE.AREA},{name:mstrmojo.descP("KPI.","29","Bar"),value:D.TREND_SHAPE.BAR},{name:mstrmojo.descP("KPI.","30","Line"),value:D.TREND_SHAPE.LINE}],icons:["area","bar","line"]}]};const V={tagName:"HideableLayout",title:mstrmojo.descP("KPI.","42","Trend Shape"),key:F.HIDEABLE_SECTION_TREND_SHAPE,func:h,contextMenuItems:v,children:[Y,B,{tagName:"Divider"}]};mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var H={tagName:"VerticalLayout",key:F.GRID_LAYOUT_PROPERTIES,children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"Text",text:{desc:6052,name:"Column"}},{tagName:"InputNumber",key:F.GRID_COLUMN_COUNT,showStepper:!0,min:1}]},{tagName:"Checkbox",key:F.GRID_FIX_CARD_HEIGHT_ENABLED,text:{desc:16027,name:"Fix card height"}},{tagName:"InputNumber",key:F.GRID_FIX_CARD_HEIGHT,className:"multimetrickpi-fix-card-height-input",format:"px",min:1}]},M={tagName:"VerticalLayout",key:F.STACKED_LAYOUT_PROPERTIES,children:[{tagName:"Checkbox",key:F.STACKED_AUTO_PLAY,text:{desc:15869,name:"Auto play"}}]},k=[{tagName:"Checkbox",key:F.SHOW_METRIC_NAME,text:{desc:15915,name:"Show metric name"}},{tagName:"VerticalLayout",key:F.SECONDARY_VALUE_LAYOUT,children:[{tagName:"Text",key:F.SECONDARY_METRIC_NAME_LABEL,text:{desc:15872,name:"Previous value label"}},{tagName:"Text",key:F.SECONDARY_METRIC_NAME_LABEL_COMPARISON,text:mstrmojo.descP("KPI.","35","Comparison value label")},{tagName:"Input",key:F.SECONDARY_METRIC_NAME,applyChangeOnFocusOut:!0}]},{tagName:"VerticalLayout",key:F.TREND_INDICATOR_LAYOUT,children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between",children:[{tagName:"Text",text:mstrmojo.descP("KPI.","37","Trend Indicator"),key:F.TREND_INDICATOR_ENABLED_LABEL},{tagName:"Text",text:mstrmojo.descP("KPI.","38","Comparison Indicator"),key:F.COMPARISON_INDICATOR_ENABLED_LABEL},{tagName:"Switch",key:F.TREND_INDICATOR_ENABLED},{tagName:"Switch",key:F.COMPARISON_INDICATOR_ENABLED}]},{tagName:"HorizontalLayout",key:F.TREND_INDICATOR_SHAPE_LAYOUT,className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"Text",text:mstrmojo.descP("KPI.","16","Display")},{tagName:"Select",key:F.TREND_INDICATOR_SHAPE,className:"multimetrickpi-trend-indicator-shape",options:[{name:mstrmojo.descP("KPI.","17","Badge"),value:D.TREND_INDICATOR_SHAPE.BADGE},{name:mstrmojo.descP("KPI.","18","Arrow"),value:D.TREND_INDICATOR_SHAPE.ARROW}]}]},{tagName:"Radio",key:F.TREND_INDICATOR_VALUE_TYPE,horizontal:!0,className:"toggle-button-radio _2item",options:[{name:"%",value:D.TREND_INDICATOR_VALUE_TYPE.PERCENT},{name:"123",value:D.TREND_INDICATOR_VALUE_TYPE.NUMERIC}],useButtons:!0}]}];const j={tagName:"HideableLayout",title:{desc:3437,name:"Layout"},key:F.HIDEABLE_SECTION_LAYOUT,func:h,contextMenuItems:v,children:[{tagName:"SegmentControlDropdownMenu",key:F.LAYOUT_TYPE,optionDisplayNames:[{desc:3478,name:"Grid"},{desc:12145,name:"Stacked"},{desc:12286,name:"Horizontal"},{desc:2069,name:"Vertical"}],children:[H,M]}].concat(k,[{tagName:"Divider"}])};mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var U={METRICS:0,BREAK_BY:1,TREND:2},w={METRICS:0,COMPARE_WITH:1,BREAK_BY:2,TREND:3},K=function(e){return 0===e?U:w};mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var z={LIGHT:0,NIGHT:1,DESERT:2,OCEAN:3};mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={}),mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={}),mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var X="properties",W=[X],Z=function(e){"object"===G(e)?Object.values(e).forEach(function(e){Z(e)}):Array.isArray(e)?e.forEach(function(e){Z(e)}):W.push(e)};Z(F),mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var J=function(e,t){return e.zonesModel.getDropZoneObjectsByIndex(t).length>0},q=function(e){var t,a=null===(t=e.controller.model)||void 0===t?void 0:t.defmts.find(function(e){return"Text"===e.n});return(null==a?void 0:a.props.FormattingFont.Name)||e.getProperty(P.FONT_FAMILY.name)};function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach(function(t){ae(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function ae(e,t,a){return(t=function(e){var t=function(e){if("object"!=$(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=$(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var ne={tagName:"VerticalLayout",key:F.EMPTY_VIZ_WARNING_MESSAGE,children:[{tagName:"Text",text:{desc:19565,name:"Add objects to the container to start formatting."}}]},oe=function(e,t){var a=t[F.TREND_SHAPE],n=function(e,a){return te(te({},t[e]),{},{fontColor:a})},o=F.AREA_FILL_COLOR,r=F.AREA_FILL_OPACITY,l=F.TREND_FILL_COLOR,i=F.TEXT_LABEL_FONT_OPTIONS,E=F.TEXT_PRIMARY_VALUE_FONT_OPTIONS,s=F.TEXT_SECONDARY_VALUE_FONT_OPTIONS,N=F.TEXT_INDICATOR_FONT_OPTIONS,T=F.TREND_FILL_OPACITY,c=F.CREATED_REFERENCE_LINES;return{0:ae(ae(ae(ae(ae(ae(ae(ae(ae({},o,L.CARD_STYLES.LIGHT.AREA),r,100),l,L.CARD_STYLES.LIGHT.TREND),i,n(i,L.CARD_STYLES.LIGHT.FONT)),E,n(E,L.CARD_STYLES.LIGHT.FONT)),s,n(s,L.CARD_STYLES.LIGHT.FONT)),N,n(N,L.CARD_STYLES.NIGHT.FONT)),T,a===D.TREND_SHAPE.LINE?100:L.CARD_STYLES.LIGHT.TREND_OPACITY),c,ie(t[c],L.CARD_STYLES.LIGHT.FONT)),1:ae(ae(ae(ae(ae(ae(ae(ae(ae({},o,L.CARD_STYLES.NIGHT.AREA),r,100),l,L.CARD_STYLES.NIGHT.TREND),i,n(i,L.CARD_STYLES.NIGHT.FONT)),E,n(E,L.CARD_STYLES.NIGHT.FONT)),s,n(s,L.CARD_STYLES.NIGHT.FONT)),N,n(N,L.CARD_STYLES.NIGHT.FONT)),T,L.CARD_STYLES.NIGHT.TREND_OPACITY),c,ie(t[c],L.CARD_STYLES.NIGHT.FONT)),2:ae(ae(ae(ae(ae(ae(ae(ae(ae({},o,L.CARD_STYLES.DESERT.AREA),r,100),l,L.CARD_STYLES.DESERT.TREND),i,n(i,L.CARD_STYLES.DESERT.FONT)),E,n(E,L.CARD_STYLES.DESERT.FONT)),s,n(s,L.CARD_STYLES.DESERT.FONT)),N,n(N,L.CARD_STYLES.DESERT.FONT)),T,L.CARD_STYLES.DESERT.TREND_OPACITY),c,ie(t[c],L.CARD_STYLES.DESERT.FONT)),3:ae(ae(ae(ae(ae(ae(ae(ae(ae({},o,L.CARD_STYLES.OCEAN.AREA),r,100),l,L.CARD_STYLES.OCEAN.TREND),i,n(i,L.CARD_STYLES.OCEAN.FONT)),E,n(E,L.CARD_STYLES.OCEAN.FONT)),s,n(s,L.CARD_STYLES.OCEAN.FONT)),N,n(N,L.CARD_STYLES.OCEAN.FONT)),T,L.CARD_STYLES.OCEAN.TREND_OPACITY),c,ie(t[c],L.CARD_STYLES.OCEAN.FONT))}[e]},re=function(e){try{return JSON.parse(e)}catch(t){return e}},le=function(e,t){var a=t[F.SELECTED_REFERENCE_LINE];if(!a){var n,o,r=null===(n=e.dataInterface.getColTitles().titles[0])||void 0===n?void 0:n.es.map(function(e){return{n:e.n,dssid:e.oid}});null!=r&&r.find(function(e){return e.dssid===a})&&!e.isComparisonKPI||(a=null==r||null===(o=r[0])||void 0===o?void 0:o.dssid)}return a},ie=function(e,t){var a=JSON.parse(JSON.stringify(e));return Object.keys(a).forEach(function(e){a[e].font.color=t,a[e].line.color=t}),a},Ee=function(e){var t=K(e.KPIType);return e.isComparisonKPI&&J(e,t.COMPARE_WITH)};mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});const se={tagName:"HideableLayout",title:mstrmojo.descP("KPI.","19","Reference Lines"),key:F.HIDEABLE_SECTION_REFERENCE_LINES,func:h,contextMenuItems:v,children:[{tagName:"Select",key:F.SELECTED_REFERENCE_LINE,options:[]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"Text",text:mstrmojo.descP("KPI.","20","Label")},{tagName:"Input",className:"multimetrickpi-reference-line-input",key:F.REFERENCE_LINE_LABEL,applyChangeOnFocusOut:!0}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"Text",text:mstrmojo.descP("KPI.","21","Value")},{tagName:"Input",key:F.REFERENCE_LINE_CONSTANT_VALUE,className:"multimetrickpi-reference-line-input",applyChangeOnFocusOut:!0}]},{tagName:"Text",text:mstrmojo.descP("KPI.","22","The value has to be a number"),key:F.REFERENCE_LINE_CONSTANT_VALUE_WARNING,className:"multimetrickpi-reference-line-value-warning"},{tagName:"Divider"}]};mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});const Ne={tagName:"VerticalLayout",children:[ne,{tagName:"VerticalLayout",key:F.VIZ_FIRST_TAB_SECTION,children:[x,V,j,se]}]};function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function ce(e,t,a){return(t=function(e){var t=function(e){if("object"!=Te(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=Te(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Te(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var _e="nameSelect",me="style",ue="sizeAndColor",Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={tagName:"VerticalLayout",className:"font-layout",children:[]},r=ce(ce(ce(ce(ce(ce(ce(ce({},"title",{tagName:"Text",className:"section-header-text",text:{desc:3433,name:"Font"}}),_e,{tagName:"FontSelect",key:e.fontName||"fontName",ariaLabel:{desc:2027,name:"Font"},className:"select-font-name",disabled:a.fontName}),me,{tagName:"MultiSelectBarLogic",key:e.fontStyle||"fontStyle",disabled:a.fontStyle,className:"dossier-font-style",checked:[!1,!1,!1,!1],innerClassName:"font-style-icons",options:["bold","italic","underline","underscore"]}),ue,{tagName:"HorizontalLayout",className:"size-and-color",children:[{tagName:"InputNumber",key:e.fontSize||"fontSize",disabled:a.fontSize,format:"pt",min:1,value:12,isValueString:n.isFontSizeString,showStepper:!0},{tagName:"ColorPicker",key:e.fontColor||"fontColor",disabled:a.fontColor}]}),"horizontalAlign",{tagName:"Radio",key:e.textAlignment||"textAlignment",className:e.textAlignmentStyle||"toggle-button-radio _4item",innerClassName:"font-style-icons",horizontal:!0,useIcons:!0,useButtons:!0,options:e.textAlignmentOptions||["align-left","align-center","align-right","justify"]}),"verticalAlign",{tagName:"Radio",key:e.verticalAlign||"verticalAlign",className:"toggle-button-radio _3item",innerClassName:"vertical-align-icons",horizontal:!0,useIcons:!0,useButtons:!0,options:["top","middle","bottom"]}),"rotation",{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"Text",text:{desc:12283,name:"Rotation"}},{tagName:"Select",key:e.rotation||"rotation",ariaLabel:{desc:12283,name:"Rotation"},className:"select-font-name",options:a.NGM_ROTATION?[{desc:2066,name:"Horizontal",value:0},{desc:2069,name:"Vertical",value:270}]:[{desc:4604,name:"Auto"},{desc:2066,name:"Horizontal"},{desc:2069,name:"Vertical"},{desc:2056,name:"Custom"}]}]}),"wrapText",{tagName:"Checkbox",key:e.wrapText||"wrapText",text:{desc:19360,name:"Wrap texts"}});return t.length>0&&Object.keys(r).forEach(function(e){return t.includes(e)||delete r[e]}),Object.keys(r).forEach(function(e){return o.children.push(r[e])}),o};mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var Ie={tagName:"Select",key:F.TEXT_CONTENT_TYPE,ariaLabel:{desc:19529,name:"Text Content"},options:[{desc:2058,name:"All",value:D.TEXT_CONTENT_TYPE.ALL},{desc:8263,name:"Label",value:D.TEXT_CONTENT_TYPE.LABEL},{desc:16260,name:"Primary Value",value:D.TEXT_CONTENT_TYPE.PRIMARY_VALUE},{desc:16261,name:"Previous Value",value:D.TEXT_CONTENT_TYPE.SECONDARY_VALUE},{desc:16262,name:"Trend Identity",value:D.TEXT_CONTENT_TYPE.INDICATOR}]},Re={tagName:"Select",key:F.TEXT_CONTENT_TYPE_COMPARISON,ariaLabel:{desc:19529,name:"Text Content"},options:[{desc:2058,name:"All",value:D.TEXT_CONTENT_TYPE.ALL},{desc:8263,name:"Label",value:D.TEXT_CONTENT_TYPE.LABEL},{desc:16260,name:"Primary Value",value:D.TEXT_CONTENT_TYPE.PRIMARY_VALUE},{name:mstrmojo.descP("KPI.","32","Comparison Value"),value:D.TEXT_CONTENT_TYPE.SECONDARY_VALUE},{name:mstrmojo.descP("KPI.","38","Comparison Indicator"),value:D.TEXT_CONTENT_TYPE.INDICATOR}]},Ce={tagName:"VerticalLayout",children:[Ie,Re,Oe({fontName:F.FONT_FAMILY,fontStyle:F.FONT_STYLE},[_e,me]),{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"FontSizer",key:F.FONT_STEPS,stepSize:1,defaultValue:0,minValue:-34,showResetIcon:!0},{tagName:"ColorPicker",key:F.FONT_COLOR}]}]},Ae=Ce,de=Ce,Le={tagName:"VerticalLayout",children:[Ie,Re,Oe({fontName:F.FONT_FAMILY,fontStyle:F.FONT_STYLE,fontSize:F.FONT_SIZE,fontColor:F.FONT_COLOR},[_e,me,ue])]},Se={tagName:"HorizontalLayout",className:"horizontal-flex-space-between _3item-stretch",children:[{tagName:"Text",text:{desc:9738,name:"Area"}},{tagName:"ColorPicker",key:F.AREA_FILL_COLOR},{tagName:"InputNumber",key:F.AREA_FILL_OPACITY,value:100,min:0,max:100,format:"%"}]},pe={tagName:"VerticalLayout",children:[Se,{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _3item-stretch",children:[{tagName:"Text",text:{desc:15863,name:"Trend"}},{tagName:"ColorPicker",key:F.TREND_FILL_COLOR},{tagName:"InputNumber",key:F.TREND_FILL_OPACITY,value:100,min:0,max:100,format:"%"}]}]},fe={tagName:"VerticalLayout",children:[{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",key:F.TREND_INCREASE_BACKGROUND_COLOR_LABEL,children:[{tagName:"Text",text:{desc:8314,name:"Increase"}},{tagName:"ColorPicker",key:F.TREND_INCREASE_BACKGROUND_COLOR,allowResetDefault:!0}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",key:F.TREND_INCREASE_BACKGROUND_COLOR_LABEL_COMPARISON,children:[{tagName:"Text",text:mstrmojo.descP("KPI.","33","Positive")},{tagName:"ColorPicker",key:F.TREND_INCREASE_BACKGROUND_COLOR,allowResetDefault:!0}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",key:F.TREND_DECREASE_BACKGROUND_COLOR_LABEL,children:[{tagName:"Text",text:{desc:8315,name:"Decrease"}},{tagName:"ColorPicker",key:F.TREND_DECREASE_BACKGROUND_COLOR,allowResetDefault:!0}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",key:F.TREND_DECREASE_BACKGROUND_COLOR_LABEL_COMPARISON,children:[{tagName:"Text",text:mstrmojo.descP("KPI.","34","Negative")},{tagName:"ColorPicker",key:F.TREND_DECREASE_BACKGROUND_COLOR,allowResetDefault:!0}]},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch",children:[{tagName:"Text",text:mstrmojo.descP("KPI.","13","Constant")},{tagName:"ColorPicker",key:F.TREND_CONSTANT_BACKGROUND_COLOR,allowResetDefault:!0}]}]};const ye={tagName:"VerticalLayout",key:F.ENTIRE_CHART_SECTION,children:[{tagName:"VerticalLayout",children:[{tagName:"Text",className:"section-header-text",text:{desc:3433,name:"Font"}},{tagName:"Text",text:{desc:16258,name:"Text size"}},{tagName:"SegmentControlDropdownMenu",key:F.TEXT_SIZE_TYPE,needUpdateChildren:!0,optionDisplayNames:[{desc:16296,name:"Unified"},{desc:12058,name:"Fit to Container"},{desc:2050,name:"Fixed"}],children:[Ae,de,Le]}]},{tagName:"VerticalLayout",children:[{tagName:"Text",className:"section-header-text",text:{desc:2923,name:"Shape"}},{tagName:"VerticalLayout",key:F.SHAPE_SECTION,children:[{tagName:"SegmentControlDropdownMenu",key:F.SHAPE_TYPE,needUpdateChildren:!0,optionDisplayNames:[{desc:3905,name:"Background"},{desc:15870,name:"Trend Indicator"}],children:[pe,fe]},{tagName:"SegmentControlDropdownMenu",key:F.SHAPE_TYPE_COMPARISON,needUpdateChildren:!0,optionDisplayNames:[{desc:3905,name:"Background"},mstrmojo.descP("KPI.","38","Comparison Indicator")],children:[pe,fe]},{tagName:"SegmentControlDropdownMenu",key:F.SHAPE_TYPE_COMPARISON_NO_TREND,needUpdateChildren:!0,optionDisplayNames:[{desc:3905,name:"Background"},mstrmojo.descP("KPI.","38","Comparison Indicator")],children:[Se,fe]},{tagName:"VerticalLayout",key:F.BACKGROUND_SHAPE_AREA_SECTION,children:[Se]}]}]},{tagName:"ThresholdList",key:F.THRESHOLDS_SECTION,title:{desc:3647,name:"Thresholds"},defaultColorHexValue:"#35383A",isAdvancedThreshold:!0,thresholdListStrings:{threshold:{desc:19528,name:"Threshold"},from:{desc:9305,name:"From"},to:{desc:15877,name:"To"},color:{desc:6242,name:"Color"},invalidInput:{desc:13819,name:"Invalid input"},trendIndicator:{desc:15870,name:"Trend Indicator"},fromErrorMessage:{desc:15875,name:"Value should be less than"},toErrorMessage:{desc:15876,name:"Value should be greater than"},label:{desc:8263,name:"Label"},primaryValue:{desc:16260,name:"Primary Value"},previousValue:{desc:16261,name:"Previous Value"},trendIdentity:{desc:16262,name:"Trend Identity"},shape:{desc:2923,name:"Shape"},text:{desc:1013,name:"Text"},comparisonValue:{desc:27036,name:"Comparison Value"},comparisonIndicator:{desc:27037,name:"Comparison Indicator"},trendShape:{desc:27038,name:"Trend Shape"},allTexts:{desc:27039,name:"All Texts"},backgroundArea:{desc:27040,name:"Background Area"},baseOnValue:{desc:27041,name:"Base on value"},baseOnRank:{desc:27042,name:"Base on rank"},baseOnIncreaseDecrease:{desc:27043,name:"Base on increase / decrease"},highest:{desc:27044,name:"Highest"},lowest:{desc:27045,name:"Lowest"},rank:{desc:27046,name:"Rank"}}}]};mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});const De={tagName:"VerticalLayout",key:F.REFERENCE_LINES_SECTION,children:[{tagName:"Select",key:F.SELECTED_REFERENCE_LINE_TEXT_AND_FORM,options:[]},{tagName:"Text",className:"section-header-text",text:mstrmojo.descP("KPI.","14","Font")},{tagName:"FontConfig",keyIDs:{fontName:F.SELECTED_REFERENCE_LINE_FONT_NAME,fontStyle:F.SELECTED_REFERENCE_LINE_FONT_STYLE,fontSize:F.SELECTED_REFERENCE_LINE_FONT_SIZE,fontColor:F.SELECTED_REFERENCE_LINE_FONT_COLOR},displayOptions:["nameSelect","style","sizeAndColor"]},{tagName:"Text",className:"section-header-text",text:mstrmojo.descP("KPI.","15","Line")},{tagName:"HorizontalLayout",className:"horizontal-flex-space-between _2item-stretch color-by ",children:[{tagName:"Select",key:F.SELECTED_REFERENCE_LINE_SHAPE,innerClassName:"lines",options:[{name:"1pt dotted",value:D.SELECTED_REFERENCE_LINE_SHAPE.DOTTED_LINE_TYPE},{name:"1pt dashed",value:D.SELECTED_REFERENCE_LINE_SHAPE.DASHED_LINE_TYPE},{name:"1pt solid",value:D.SELECTED_REFERENCE_LINE_SHAPE.THIN_LINE_TYPE},{name:"2pt solid",value:D.SELECTED_REFERENCE_LINE_SHAPE.THICK_LINE_TYPE}],icons:["dot","dash","solid","solid-thick"]},{tagName:"ColorPicker",key:F.SELECTED_REFERENCE_LINE_COLOR}]}]};mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});const ge={tagName:"VerticalLayout",children:[ne,{tagName:"SegmentControlDropdownMenu",optionDisplayNames:[mstrmojo.descP("KPI.","31","Entire Chart"),mstrmojo.descP("KPI.","19","Reference Lines")],key:F.TEXT_AND_FORM_DROPDOWN_WITH_REFERENCE_LINES,children:[ye,De]},{tagName:"SegmentControlDropdownMenu",optionDisplayNames:[mstrmojo.descP("KPI.","31","Entire Chart")],key:F.TEXT_AND_FORM_DROPDOWN_WITHOUT_REFERENCE_LINES,children:[ye]}]};mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var Pe=function(e,t,a,n){var o=[{act:"setWidgetString",nodeKey:e.k,skey:t,wdgs:a}];n&&(o[0].objectId=n,o[0].objectType=4),be(e,o)},be=function(e,t){var a={taskId:"mojoRWManipulation",params:JSON.stringify({actions:t,style:{params:{treesToRender:2},name:"RWIVEMojoStyle"}}),nodeKey:e.k,suppressData:!0,messageId:mstrApp.getMsgID(),styleName:"RWIVEMojoStyle",rwb:mstrApp.rootCtrl.docCtrl.model.bs};mstrApp.serverRequest(a)};function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function ve(e,t,a){return(t=function(e){var t=function(e){if("object"!=Fe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=Fe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var he="cardLabels",xe="cardPrimaryValues",Be="cardSecondaryValues",Ye="cardIndicators",Ve=(ve(ve(ve(ve({},he,"labelFontOptions"),xe,"primaryValueFontOptions"),Be,"secondaryValueFontOptions"),Ye,"indicatorFontOptions"),{labelFontOptions:he,primaryValueFontOptions:xe,secondaryValueFontOptions:Be,indicatorFontOptions:Ye});function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(a),!0).forEach(function(t){je(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function je(e,t,a){return(t=function(e){var t=function(e){if("object"!=He(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=He(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==He(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ue(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return we(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?we(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){i=!0,r=e},f:function(){try{l||null==a.return||a.return()}finally{if(i)throw r}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var Ke=[F.TEXT_ALL_FONT_OPTIONS,F.TEXT_LABEL_FONT_OPTIONS,F.TEXT_PRIMARY_VALUE_FONT_OPTIONS,F.TEXT_SECONDARY_VALUE_FONT_OPTIONS,F.TEXT_INDICATOR_FONT_OPTIONS],ze=function(e,t,a){var n=t.prop,o=t.value;a[e][n]=o},Ge=function(e,t,a){var n=t.prop,o=t.value,r=a[e][F.FONT_STEPS]+o;ze(e,{prop:n,value:r},a)},Xe=function(e){return"".concat(e,"FontOptions")},We=function(e,t,a){var n=e.prop,o=e.value,r=Ke.filter(function(e){return e!==F.TEXT_ALL_FONT_OPTIONS});if(n!==F.FONT_STYLE)Ze(t,r,n)?ze(F.TEXT_ALL_FONT_OPTIONS,{prop:n,value:o},t):ze(F.TEXT_ALL_FONT_OPTIONS,{prop:n,value:a},t);else{var l=Je(r,t);ze(F.TEXT_ALL_FONT_OPTIONS,{prop:F.FONT_STYLE,value:l},t)}},Ze=function(e,t,a){var n,o=[],r=Ue(t);try{for(r.s();!(n=r.n()).done;){var l=e[n.value];o.push(l[a])}}catch(e){r.e(e)}finally{r.f()}return 1===new Set(o).size},Je=function(e,t){var a,n=[!0,!0,!0,!0],o=Ue(e);try{for(o.s();!(a=o.n()).done;)for(var r=t[a.value].fontStyle,l=0;l<4;l++)r[l]||(n[l]=!1)}catch(e){o.e(e)}finally{o.f()}return n};function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(a),!0).forEach(function(t){et(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function et(e,t,a){return(t=function(e){var t=function(e){if("object"!=qe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=qe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});function tt(e){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tt(e)}function at(e,t,a){return(t=function(e){var t=function(e){if("object"!=tt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=tt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==tt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});mstrmojo.plugins.ComparisonKPI||(mstrmojo.plugins.ComparisonKPI={});var nt={config:{tagName:"SegmentControl",key:"tabSelector",options:[{icon:"multi-metric-kpi",ariaLabel:{desc:19962,name:"Visualization Options"}},{icon:"text-format",ariaLabel:{desc:19961,name:"Text and Form"}},{icon:"title-container",ariaLabel:{desc:12049,name:"Title and Container"}}],children:[Ne,ge,d]},properties:W,apply:function(e,t,a){if(!(W.indexOf(t)<0)){var n=JSON.parse(e.getProperty(X)),o=Ee(e),r=[F.FONT_STEPS];if(n[t]!==a||r.includes(t)){var l={callback:function(){}},i=!0;switch(function(e,t){var a=q(e),n=t[F.DOSSIER_FONT];if(n||(t[F.DOSSIER_FONT]=a),n!==a){for(var o=0,r=Ke;o<r.length;o++){var l=r[o];ze(l,{prop:F.FONT_FAMILY,value:a},t)}t[F.DOSSIER_FONT]=a}}(e,n),function(e,t){if(e.componentsUnifiedFontSizesInPt)for(var a=0,n=Ke;a<n.length;a++){var o=n[a];if(o!==F.TEXT_ALL_FONT_OPTIONS){if(""!==t[o].fontSize)break;var r=Ve[o],l=e.componentsUnifiedFontSizesInPt[r];ze(o,{prop:F.FONT_SIZE,value:l},t)}}}(e,n),t){case F.THRESHOLDS_SECTION:n=Qe(Qe({},n),{},et({},F.THRESHOLDS_SECTION,{thresholds:a.thresholds})),e.savePropertyAndUpdateWidgetAsync(X,JSON.stringify(n),l),i=!1;break;case F.CARD_STYLE:var E=oe(a,n);n=Qe(Qe({},n),E);break;case F.FONT_STYLE:case F.FONT_FAMILY:case F.FONT_SIZE:case F.FONT_COLOR:case F.FONT_STEPS:!function(e,t,a){var n=t.prop,o=t.value;if(e===D.TEXT_CONTENT_TYPE.ALL)for(var r=0,l=Ke;r<l.length;r++){var i=l[r];n===F.FONT_STEPS&&0!==o?Ge(i,{prop:n,value:o},a):ze(i,{prop:n,value:o},a)}else{var E=Xe(e);n===F.FONT_STEPS&&0!==o?Ge(E,{prop:n,value:o},a):ze(E,{prop:n,value:o},a),n===F.FONT_FAMILY?We({prop:n,value:o},a,"?"):n===F.FONT_COLOR?We({prop:n,value:o},a,"INDETERMINATE"):n===F.FONT_STYLE&&We({prop:n,value:o},a)}}(n[o?F.TEXT_CONTENT_TYPE_COMPARISON:F.TEXT_CONTENT_TYPE],{prop:t,value:a},n),t===F.FONT_STYLE&&(n[t]=a);break;case F.TEXT_SIZE_TYPE:a!==n[F.TEXT_SIZE_TYPE]&&function(e){for(var t=0,a=Ke;t<a.length;t++){var n=a[t],o=e[n];e[n]=ke(ke({},o),{},{fontSteps:0,fontSize:""})}}(n);break;case F.REFERENCE_LINE_CONSTANT_VALUE:case F.REFERENCE_LINE_LABEL:var s=t===F.REFERENCE_LINE_CONSTANT_VALUE?{modified:"value",remained:"label"}:{modified:"label",remained:"value"},N=le(e,n),T=n[F.CREATED_REFERENCE_LINES],c=T[N];if(c)c[s.modified]=a,a||c[s.remained]||delete T[N];else{var _=(R=parseInt(n[F.CARD_STYLE]),C=Object.entries(z).find(function(e){var t,a,n=(a=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,o,r,l,i=[],E=!0,s=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;E=!1}else for(;!(E=(n=r.call(a)).done)&&(i.push(n.value),i.length!==t);E=!0);}catch(e){s=!0,o=e}finally{try{if(!E&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(s)throw o}}return i}}(t,a)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Q(e,t):void 0}}(t,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=(n[0],n[1]);return R===o})[0],L.CARD_STYLES[C].FONT);T[N]=et(et(et(et({},s.remained,""),s.modified,a),"font",{fontFamily:D.REFERENCE_LINE_DEFAULT_VALUES.font.fontFamily,style:D.REFERENCE_LINE_DEFAULT_VALUES.font.style,size:D.REFERENCE_LINE_DEFAULT_VALUES.font.size,color:_}),"line",{shape:D.REFERENCE_LINE_DEFAULT_VALUES.line.shape,color:_})}e.labelsEditState[N]=!0,e.isWSLocalMode||t!==F.REFERENCE_LINE_LABEL||Pe(e,"referenceLineLabel",a,N),n[F.CREATED_REFERENCE_LINES]=T;break;case F.SELECTED_REFERENCE_LINE_FONT_NAME:case F.SELECTED_REFERENCE_LINE_FONT_STYLE:case F.SELECTED_REFERENCE_LINE_FONT_SIZE:case F.SELECTED_REFERENCE_LINE_FONT_COLOR:case F.SELECTED_REFERENCE_LINE_COLOR:case F.SELECTED_REFERENCE_LINE_SHAPE:var m=n[F.SELECTED_REFERENCE_LINE_TEXT_AND_FORM],u=n[F.CREATED_REFERENCE_LINES],O=u[m]||Object.values(u)[0];switch(t){case F.SELECTED_REFERENCE_LINE_FONT_NAME:O.font.fontFamily=a;break;case F.SELECTED_REFERENCE_LINE_FONT_STYLE:O.font.style=a;break;case F.SELECTED_REFERENCE_LINE_FONT_SIZE:O.font.size=a;break;case F.SELECTED_REFERENCE_LINE_FONT_COLOR:O.font.color=a;break;case F.SELECTED_REFERENCE_LINE_COLOR:O.line.color=a;break;case F.SELECTED_REFERENCE_LINE_SHAPE:O.line.shape=a}n=Qe(Qe({},n),{},et({},F.CREATED_REFERENCE_LINES,u));break;case F.TREND_SHAPE:var I=parseInt(n[F.CARD_STYLE]);n[t]=a,n=Qe(Qe({},n),{},et({},F.TREND_FILL_OPACITY,parseInt(oe(I,n)[F.TREND_FILL_OPACITY]))),e.animationDuration=1500;break;case F.GRID_FIX_CARD_HEIGHT_ENABLED:n[F.GRID_FIX_CARD_HEIGHT]=e.gridFixCardHeight;break;case F.STACKED_AUTO_PLAY:e.activeCardIndex=e.activeCardIndex||n[F.ACTIVE_CARD_INDEX],n[F.ACTIVE_CARD_INDEX]=a?D.FIRST_CARD_INDEX:e.activeCardIndex;break;case F.AXIS_SCALE:case F.AXIS_SCALE_COMPARISON:case F.GRID_COLUMN_COUNT:case F.LAYOUT_TYPE:e.animationDuration=1500;break;case F.SECONDARY_METRIC_NAME:if(e.secondaryMetricName===a)return;e.labelsEditState[t]=!0,e.isWSLocalMode||Pe(e,"previousValueLabel",a)}i&&(n=Qe(Qe({},n),{},et({},t,a)),e.savePropertyAndUpdateWidgetAsync(X,JSON.stringify(n),l)),e.plot(n)}}var R,C},query:function(e,t){if(Object.values(F).indexOf(t)<0)return{};var a;try{a=JSON.parse(e.getProperty(X))}catch(e){return}var n=a[t],o=K(e.KPIType),r=J(e,o.METRICS),l=function(e,t){return e.zonesModel.getDropZoneObjectsByIndex(t).length}(e,o.METRICS)>1,i=J(e,o.BREAK_BY),E=J(e,o.TREND),s=e.isComparisonKPI,N=e.isRealTime,T=Ee(e);switch(t){case F.EMPTY_VIZ_WARNING_MESSAGE:return{visible:!r};case F.VIZ_FIRST_TAB_SECTION:case F.VIZ_SECOND_TAB_SECTION:return{visible:r};case F.SHAPE_TYPE:return{visible:E&&!T};case F.SHAPE_TYPE_COMPARISON:return{visible:E&&T};case F.SHAPE_TYPE_COMPARISON_NO_TREND:return{visible:!E&&T};case F.BACKGROUND_SHAPE_AREA_SECTION:return{visible:!E&&!T};case F.SECONDARY_VALUE_LAYOUT:return{visible:!N&&E||T};case F.TREND_INDICATOR_LAYOUT:return{visible:E||T};case F.HIDEABLE_SECTION_TREND_SHAPE:case F.HIDEABLE_SECTION_REFERENCE_LINES:return{visible:E};case F.GRID_FIX_CARD_HEIGHT:return{value:n||e.gridFixCardHeight,visible:a[F.GRID_FIX_CARD_HEIGHT_ENABLED]};case F.LAYOUT_TYPE:return{value:n,visible:i||l};case F.TREND_INDICATOR_SHAPE:case F.TREND_INDICATOR_VALUE_TYPE:return{value:n,enable:T?a[F.COMPARISON_INDICATOR_ENABLED]:a[F.TREND_INDICATOR_ENABLED]};case F.FONT_STYLE:case F.FONT_FAMILY:case F.FONT_SIZE:case F.FONT_COLOR:case F.FONT_STEPS:if(t===F.FONT_COLOR&&T&&a[F.TEXT_CONTENT_TYPE_COMPARISON]===D.TEXT_CONTENT_TYPE.INDICATOR)return{visible:!1};if(t===F.FONT_FAMILY){var c=q(e);if(c!==a[F.DOSSIER_FONT])return{value:c}}var _=a[T?F.TEXT_CONTENT_TYPE_COMPARISON:F.TEXT_CONTENT_TYPE],m=Xe(_),u=Ve[m],O=a[m],I=a[F.TEXT_SIZE_TYPE];if(t===F.FONT_SIZE&&I===D.TEXT_SIZE_TYPE.FIXED&&_!==D.TEXT_CONTENT_TYPE.ALL&&""===O[t]&&e.componentsUnifiedFontSizesInPt)return{value:e.componentsUnifiedFontSizesInPt[u]};var R=e.components[u];return t===F.FONT_STEPS&&null!=R&&R.length&&!R.some(function(e){return parseInt(e.style.fontSize)>0})?{value:-34}:{value:re(O[t]),visible:!0};case F.SELECTED_REFERENCE_LINE:var C,A,d=e.dataInterface.getColTitles(),L=d.titles.length?null===(C=d.titles[0])||void 0===C?void 0:C.es.map(function(e){return{n:e.n,dssid:e.oid}}):[];return{value:{value:(null==L?void 0:L.find(function(e){return e.dssid===n}))&&!s?n:null==L||null===(A=L[0])||void 0===A?void 0:A.dssid,items:s?[null==L?void 0:L[0]]:L}};case F.REFERENCE_LINE_CONSTANT_VALUE_WARNING:case F.REFERENCE_LINE_LABEL:case F.REFERENCE_LINE_CONSTANT_VALUE:var S=le(e,a),p=a[F.CREATED_REFERENCE_LINES][S];return at(at(at({},F.REFERENCE_LINE_CONSTANT_VALUE_WARNING,{visible:!(null==p||!p.value||!isNaN(p.value))}),F.REFERENCE_LINE_LABEL,{value:(null==p?void 0:p.label)||""}),F.REFERENCE_LINE_CONSTANT_VALUE,{value:(null==p?void 0:p.value)||""})[t];case F.TEXT_AND_FORM_DROPDOWN_WITH_REFERENCE_LINES:case F.TEXT_AND_FORM_DROPDOWN_WITHOUT_REFERENCE_LINES:var f=a[F.CREATED_REFERENCE_LINES],y=!!Object.keys(f).length;return at(at({},F.TEXT_AND_FORM_DROPDOWN_WITH_REFERENCE_LINES,{value:n,visible:r&&y&&E}),F.TEXT_AND_FORM_DROPDOWN_WITHOUT_REFERENCE_LINES,{value:n,visible:r&&(!y||!E)})[t];case F.SELECTED_REFERENCE_LINE_TEXT_AND_FORM:var g,P,b=e.dataInterface.getColTitles(),v=b.titles.length?null===(g=b.titles[0])||void 0===g?void 0:g.es.map(function(e){return{n:e.n,dssid:e.oid}}):[],h=a[F.CREATED_REFERENCE_LINES],x=null==v?void 0:v.filter(function(e){return Object.keys(h).includes(e.dssid)});return{value:{value:(null==x?void 0:x.find(function(e){return e.dssid===n}))&&!s?n:null==x||null===(P=x[0])||void 0===P?void 0:P.dssid,items:s?[null==x?void 0:x[0]]:x}};case F.SELECTED_REFERENCE_LINE_FONT_NAME:case F.SELECTED_REFERENCE_LINE_FONT_STYLE:case F.SELECTED_REFERENCE_LINE_FONT_SIZE:case F.SELECTED_REFERENCE_LINE_FONT_COLOR:case F.SELECTED_REFERENCE_LINE_COLOR:case F.SELECTED_REFERENCE_LINE_SHAPE:var B=a[F.SELECTED_REFERENCE_LINE_TEXT_AND_FORM],Y=a[F.CREATED_REFERENCE_LINES],V=Y[B]&&!s?Y[B]:Object.values(Y)[0];return at(at(at(at(at(at({},F.SELECTED_REFERENCE_LINE_FONT_NAME,{value:null==V?void 0:V.font.fontFamily,enable:null==V?void 0:V.label}),F.SELECTED_REFERENCE_LINE_FONT_STYLE,{value:null==V?void 0:V.font.style,enable:null==V?void 0:V.label}),F.SELECTED_REFERENCE_LINE_FONT_SIZE,{value:null==V?void 0:V.font.size,enable:null==V?void 0:V.label}),F.SELECTED_REFERENCE_LINE_FONT_COLOR,{value:null==V?void 0:V.font.color,enable:null==V?void 0:V.label}),F.SELECTED_REFERENCE_LINE_COLOR,{value:null==V?void 0:V.line.color,enable:null==V?void 0:V.value}),F.SELECTED_REFERENCE_LINE_SHAPE,{value:null==V?void 0:V.line.shape,enable:null==V?void 0:V.value})[t];case F.SHOW_METRIC_NAME:return{value:null!==n?n:e.showMetricName};case F.CARD_ALIGNMENT:return{value:n||e.cardAlignment};case F.SECONDARY_METRIC_NAME:return N&&!T?{disabled:!0}:{value:n||e.secondaryMetricName};case F.SECONDARY_METRIC_NAME_LABEL:case F.TREND_INCREASE_BACKGROUND_COLOR_LABEL:case F.TREND_DECREASE_BACKGROUND_COLOR_LABEL:case F.TEXT_CONTENT_TYPE:case F.TREND_INDICATOR_ENABLED:case F.TREND_INDICATOR_ENABLED_LABEL:case F.TREND_INDICATOR_SHAPE_LAYOUT:return{value:n,visible:!T};case F.SECONDARY_METRIC_NAME_LABEL_COMPARISON:case F.TREND_INCREASE_BACKGROUND_COLOR_LABEL_COMPARISON:case F.TREND_DECREASE_BACKGROUND_COLOR_LABEL_COMPARISON:case F.TEXT_CONTENT_TYPE_COMPARISON:case F.COMPARISON_INDICATOR_ENABLED:case F.COMPARISON_INDICATOR_ENABLED_LABEL:return{value:n,visible:T};case F.AXIS_SCALE:return{value:n,visible:!s};case F.AXIS_SCALE_COMPARISON:return{value:n,visible:s};case F.THRESHOLDS_SECTION:return{value:{thresholds:n,isComparisonMetricAdded:T,isTrendAttributeAdded:E}};default:return{value:n}}}};return t})());