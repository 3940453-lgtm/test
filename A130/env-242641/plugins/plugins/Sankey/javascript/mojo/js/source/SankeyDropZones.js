!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=22)}({22:function(e,t){mstrmojo.plugins.Sankey||(mstrmojo.plugins.Sankey={}),mstrmojo.requiresCls("mstrmojo.vi.models.CustomVisDropZones"),mstrmojo.requiresDescsWPrefix("Sankey.",0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66);var o=mstrmojo.vi.models.CustomVisDropZones.ENUM_ALLOW_DROP_TYPE,r=mstrmojo.descP("Sankey.","43","Levels"),n=mstrmojo.descP("Sankey.","44","Metric"),s=mstrmojo.descP("Sankey.","45","Tooltip");mstrmojo.plugins.Sankey.SankeyDropZones=mstrmojo.declare(mstrmojo.vi.models.CustomVisDropZones,null,{scriptClass:"mstrmojo.plugins.Sankey.SankeyDropZones",cssClass:"sankey-dropzones",getCustomDropZones:function(){return[{name:r,title:mstrmojo.descP("Sankey.","46","Drag attributes here"),allowObjectType:o.ATTRIBUTE,minCapacity:2},{name:n,title:mstrmojo.descP("Sankey.","47","Drag metric here"),maxCapacity:1,allowObjectType:o.METRIC},{name:s,isAdditionalInfo:!0,title:mstrmojo.descP("Sankey.","48","Drag metrics here"),allowObjectType:o.METRIC}]},getActionsForObjectsDropped:function(e,t){var o=[],r=this;return this.getDropZoneName(e)===s?mstrmojo.array.forEach(t,(function(e){r.isObjectInZone(e,n)&&r.getRemoveDropZoneObjectsActions(o,n,e)})):this.getDropZoneName(e)===n&&mstrmojo.array.forEach(t,(function(e){r.isObjectInZone(e,s)&&r.getRemoveDropZoneObjectsActions(o,s,e)})),o},getActionsForObjectsRemoved:function(e,t){if(this.getDropZoneName(e)===r){var o,n=this.getHost(),s=JSON.parse(n.getProperty("cachedNodesOrder")),i=JSON.parse(n.getProperty("nodeWidthByLevelData")),a=n.dataInterface.getRowTitles().titles.map((function(e){return{n:e.n,dssid:e.id}}));t.forEach((function(e){var t=e.id;delete s[t],delete i[t],a=a.filter((function(e){return e.dssid!==t}))})),JSON.parse(n.getProperty("isReverseGraphEnabled"))&&a.reverse(),n.setProperty("nodeWidthSelectedLevel",null===(o=a[0])||void 0===o?void 0:o.dssid,{suppressData:!0}),n.setProperty("cachedNodesOrder",JSON.stringify(s),{suppressData:!0}),n.setProperty("nodeWidthByLevelData",JSON.stringify(i),{suppressData:!0})}return[]},getActionsForDoubleClick:function(e){var t=this._super(e);return this.isMetric(e)&&(4===t[0].zoneId?this.isObjectInZone(e,s)&&this.getRemoveDropZoneObjectsActions(t,s,e):5===t[0].zoneId&&(t=[],this.isZoneEmpty(n)||this.isObjectInZone(e,n)||this.getReplaceDropZoneObjectsActions(t,n,e,0))),t},customDropZonesTransition:function(e,t){this.transitionObjectsToZone(r,e);var o=t.filter((function(e){return"AdditionalMetrics"!==e.fromZone}));this.transitionObjectsToZone(n,o[0]);var i=t.findIndex((function(e){return e.did===o[0].did}));t.splice(i,1),this.transitionObjectsToZone(s,t)}})}});